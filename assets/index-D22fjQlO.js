(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=r(c);fetch(c.href,d)}})();var Eo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rf(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var mu={exports:{}},Ks={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function nb(){if(Up)return Ks;Up=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(o,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var h in c)h!=="key"&&(d[h]=c[h])}else d=c;return c=d.ref,{$$typeof:a,type:o,key:f,ref:c!==void 0?c:null,props:d}}return Ks.Fragment=i,Ks.jsx=r,Ks.jsxs=r,Ks}var Vp;function ib(){return Vp||(Vp=1,mu.exports=nb()),mu.exports}var w=ib(),pu={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function ab(){if(Ip)return Dt;Ip=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),T=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,C={};function _(M,B,at){this.props=M,this.context=B,this.refs=C,this.updater=at||z}_.prototype.isReactComponent={},_.prototype.setState=function(M,B){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,B,"setState")},_.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function k(){}k.prototype=_.prototype;function A(M,B,at){this.props=M,this.context=B,this.refs=C,this.updater=at||z}var O=A.prototype=new k;O.constructor=A,v(O,_.prototype),O.isPureReactComponent=!0;var D=Array.isArray;function F(){}var V={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function X(M,B,at){var nt=at.ref;return{$$typeof:a,type:M,key:B,ref:nt!==void 0?nt:null,props:at}}function st(M,B){return X(M.type,B,M.props)}function ft(M){return typeof M=="object"&&M!==null&&M.$$typeof===a}function L(M){var B={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(at){return B[at]})}var tt=/\/+/g;function E(M,B){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):B.toString(36)}function et(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(F,F):(M.status="pending",M.then(function(B){M.status==="pending"&&(M.status="fulfilled",M.value=B)},function(B){M.status==="pending"&&(M.status="rejected",M.reason=B)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,B,at,nt,lt){var kt=typeof M;(kt==="undefined"||kt==="boolean")&&(M=null);var zt=!1;if(M===null)zt=!0;else switch(kt){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(M.$$typeof){case a:case i:zt=!0;break;case g:return zt=M._init,G(zt(M._payload),B,at,nt,lt)}}if(zt)return lt=lt(M),zt=nt===""?"."+E(M,0):nt,D(lt)?(at="",zt!=null&&(at=zt.replace(tt,"$&/")+"/"),G(lt,B,at,"",function(gt){return gt})):lt!=null&&(ft(lt)&&(lt=st(lt,at+(lt.key==null||M&&M.key===lt.key?"":(""+lt.key).replace(tt,"$&/")+"/")+zt)),B.push(lt)),1;zt=0;var vt=nt===""?".":nt+":";if(D(M))for(var Tt=0;Tt<M.length;Tt++)nt=M[Tt],kt=vt+E(nt,Tt),zt+=G(nt,B,at,kt,lt);else if(Tt=S(M),typeof Tt=="function")for(M=Tt.call(M),Tt=0;!(nt=M.next()).done;)nt=nt.value,kt=vt+E(nt,Tt++),zt+=G(nt,B,at,kt,lt);else if(kt==="object"){if(typeof M.then=="function")return G(et(M),B,at,nt,lt);throw B=String(M),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return zt}function Z(M,B,at){if(M==null)return M;var nt=[],lt=0;return G(M,nt,"","",function(kt){return B.call(at,kt,lt++)}),nt}function ht(M){if(M._status===-1){var B=M._result;B=B(),B.then(function(at){(M._status===0||M._status===-1)&&(M._status=1,M._result=at)},function(at){(M._status===0||M._status===-1)&&(M._status=2,M._result=at)}),M._status===-1&&(M._status=0,M._result=B)}if(M._status===1)return M._result.default;throw M._result}var rt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},xt={map:Z,forEach:function(M,B,at){Z(M,function(){B.apply(this,arguments)},at)},count:function(M){var B=0;return Z(M,function(){B++}),B},toArray:function(M){return Z(M,function(B){return B})||[]},only:function(M){if(!ft(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Dt.Activity=y,Dt.Children=xt,Dt.Component=_,Dt.Fragment=r,Dt.Profiler=c,Dt.PureComponent=A,Dt.StrictMode=o,Dt.Suspense=m,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return V.H.useMemoCache(M)}},Dt.cache=function(M){return function(){return M.apply(null,arguments)}},Dt.cacheSignal=function(){return null},Dt.cloneElement=function(M,B,at){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var nt=v({},M.props),lt=M.key;if(B!=null)for(kt in B.key!==void 0&&(lt=""+B.key),B)!q.call(B,kt)||kt==="key"||kt==="__self"||kt==="__source"||kt==="ref"&&B.ref===void 0||(nt[kt]=B[kt]);var kt=arguments.length-2;if(kt===1)nt.children=at;else if(1<kt){for(var zt=Array(kt),vt=0;vt<kt;vt++)zt[vt]=arguments[vt+2];nt.children=zt}return X(M.type,lt,nt)},Dt.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:d,_context:M},M},Dt.createElement=function(M,B,at){var nt,lt={},kt=null;if(B!=null)for(nt in B.key!==void 0&&(kt=""+B.key),B)q.call(B,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(lt[nt]=B[nt]);var zt=arguments.length-2;if(zt===1)lt.children=at;else if(1<zt){for(var vt=Array(zt),Tt=0;Tt<zt;Tt++)vt[Tt]=arguments[Tt+2];lt.children=vt}if(M&&M.defaultProps)for(nt in zt=M.defaultProps,zt)lt[nt]===void 0&&(lt[nt]=zt[nt]);return X(M,kt,lt)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(M){return{$$typeof:h,render:M}},Dt.isValidElement=ft,Dt.lazy=function(M){return{$$typeof:g,_payload:{_status:-1,_result:M},_init:ht}},Dt.memo=function(M,B){return{$$typeof:p,type:M,compare:B===void 0?null:B}},Dt.startTransition=function(M){var B=V.T,at={};V.T=at;try{var nt=M(),lt=V.S;lt!==null&&lt(at,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(F,rt)}catch(kt){rt(kt)}finally{B!==null&&at.types!==null&&(B.types=at.types),V.T=B}},Dt.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Dt.use=function(M){return V.H.use(M)},Dt.useActionState=function(M,B,at){return V.H.useActionState(M,B,at)},Dt.useCallback=function(M,B){return V.H.useCallback(M,B)},Dt.useContext=function(M){return V.H.useContext(M)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(M,B){return V.H.useDeferredValue(M,B)},Dt.useEffect=function(M,B){return V.H.useEffect(M,B)},Dt.useEffectEvent=function(M){return V.H.useEffectEvent(M)},Dt.useId=function(){return V.H.useId()},Dt.useImperativeHandle=function(M,B,at){return V.H.useImperativeHandle(M,B,at)},Dt.useInsertionEffect=function(M,B){return V.H.useInsertionEffect(M,B)},Dt.useLayoutEffect=function(M,B){return V.H.useLayoutEffect(M,B)},Dt.useMemo=function(M,B){return V.H.useMemo(M,B)},Dt.useOptimistic=function(M,B){return V.H.useOptimistic(M,B)},Dt.useReducer=function(M,B,at){return V.H.useReducer(M,B,at)},Dt.useRef=function(M){return V.H.useRef(M)},Dt.useState=function(M){return V.H.useState(M)},Dt.useSyncExternalStore=function(M,B,at){return V.H.useSyncExternalStore(M,B,at)},Dt.useTransition=function(){return V.H.useTransition()},Dt.version="19.2.3",Dt}var Fp;function of(){return Fp||(Fp=1,pu.exports=ab()),pu.exports}var I=of();const Yo=rf(I);var gu={exports:{}},Qs={},yu={exports:{}},vu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function sb(){return Hp||(Hp=1,(function(a){function i(G,Z){var ht=G.length;G.push(Z);t:for(;0<ht;){var rt=ht-1>>>1,xt=G[rt];if(0<c(xt,Z))G[rt]=Z,G[ht]=xt,ht=rt;else break t}}function r(G){return G.length===0?null:G[0]}function o(G){if(G.length===0)return null;var Z=G[0],ht=G.pop();if(ht!==Z){G[0]=ht;t:for(var rt=0,xt=G.length,M=xt>>>1;rt<M;){var B=2*(rt+1)-1,at=G[B],nt=B+1,lt=G[nt];if(0>c(at,ht))nt<xt&&0>c(lt,at)?(G[rt]=lt,G[nt]=ht,rt=nt):(G[rt]=at,G[B]=ht,rt=B);else if(nt<xt&&0>c(lt,ht))G[rt]=lt,G[nt]=ht,rt=nt;else break t}}return Z}function c(G,Z){var ht=G.sortIndex-Z.sortIndex;return ht!==0?ht:G.id-Z.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;a.unstable_now=function(){return d.now()}}else{var f=Date,h=f.now();a.unstable_now=function(){return f.now()-h}}var m=[],p=[],g=1,y=null,T=3,S=!1,z=!1,v=!1,C=!1,_=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function O(G){for(var Z=r(p);Z!==null;){if(Z.callback===null)o(p);else if(Z.startTime<=G)o(p),Z.sortIndex=Z.expirationTime,i(m,Z);else break;Z=r(p)}}function D(G){if(v=!1,O(G),!z)if(r(m)!==null)z=!0,F||(F=!0,L());else{var Z=r(p);Z!==null&&et(D,Z.startTime-G)}}var F=!1,V=-1,q=5,X=-1;function st(){return C?!0:!(a.unstable_now()-X<q)}function ft(){if(C=!1,F){var G=a.unstable_now();X=G;var Z=!0;try{t:{z=!1,v&&(v=!1,k(V),V=-1),S=!0;var ht=T;try{e:{for(O(G),y=r(m);y!==null&&!(y.expirationTime>G&&st());){var rt=y.callback;if(typeof rt=="function"){y.callback=null,T=y.priorityLevel;var xt=rt(y.expirationTime<=G);if(G=a.unstable_now(),typeof xt=="function"){y.callback=xt,O(G),Z=!0;break e}y===r(m)&&o(m),O(G)}else o(m);y=r(m)}if(y!==null)Z=!0;else{var M=r(p);M!==null&&et(D,M.startTime-G),Z=!1}}break t}finally{y=null,T=ht,S=!1}Z=void 0}}finally{Z?L():F=!1}}}var L;if(typeof A=="function")L=function(){A(ft)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,E=tt.port2;tt.port1.onmessage=ft,L=function(){E.postMessage(null)}}else L=function(){_(ft,0)};function et(G,Z){V=_(function(){G(a.unstable_now())},Z)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return T},a.unstable_next=function(G){switch(T){case 1:case 2:case 3:var Z=3;break;default:Z=T}var ht=T;T=Z;try{return G()}finally{T=ht}},a.unstable_requestPaint=function(){C=!0},a.unstable_runWithPriority=function(G,Z){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ht=T;T=G;try{return Z()}finally{T=ht}},a.unstable_scheduleCallback=function(G,Z,ht){var rt=a.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?rt+ht:rt):ht=rt,G){case 1:var xt=-1;break;case 2:xt=250;break;case 5:xt=1073741823;break;case 4:xt=1e4;break;default:xt=5e3}return xt=ht+xt,G={id:g++,callback:Z,priorityLevel:G,startTime:ht,expirationTime:xt,sortIndex:-1},ht>rt?(G.sortIndex=ht,i(p,G),r(m)===null&&G===r(p)&&(v?(k(V),V=-1):v=!0,et(D,ht-rt))):(G.sortIndex=xt,i(m,G),z||S||(z=!0,F||(F=!0,L()))),G},a.unstable_shouldYield=st,a.unstable_wrapCallback=function(G){var Z=T;return function(){var ht=T;T=Z;try{return G.apply(this,arguments)}finally{T=ht}}}})(vu)),vu}var Pp;function rb(){return Pp||(Pp=1,yu.exports=sb()),yu.exports}var bu={exports:{}},ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function ob(){if(qp)return ke;qp=1;var a=of();function i(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(i(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(m,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:y==null?null:""+y,children:m,containerInfo:p,implementation:g}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,ke.createPortal=function(m,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(i(299));return d(m,p,null,g)},ke.flushSync=function(m){var p=f.T,g=o.p;try{if(f.T=null,o.p=2,m)return m()}finally{f.T=p,o.p=g,o.d.f()}},ke.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(m,p))},ke.prefetchDNS=function(m){typeof m=="string"&&o.d.D(m)},ke.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?o.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:T,fetchPriority:S}):g==="script"&&o.d.X(m,{crossOrigin:y,integrity:T,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ke.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);o.d.M(m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(m)},ke.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin);o.d.L(m,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ke.preloadModule=function(m,p){if(typeof m=="string")if(p){var g=h(p.as,p.crossOrigin);o.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(m)},ke.requestFormReset=function(m){o.d.r(m)},ke.unstable_batchedUpdates=function(m,p){return m(p)},ke.useFormState=function(m,p,g){return f.H.useFormState(m,p,g)},ke.useFormStatus=function(){return f.H.useHostTransitionStatus()},ke.version="19.2.3",ke}var Gp;function d0(){if(Gp)return bu.exports;Gp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),bu.exports=ob(),bu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function lb(){if(Yp)return Qs;Yp=1;var a=rb(),i=of(),r=d0();function o(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function f(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function h(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function m(t){if(d(t)!==t)throw Error(o(188))}function p(t){var e=t.alternate;if(!e){if(e=d(t),e===null)throw Error(o(188));return e!==t?null:t}for(var n=t,s=e;;){var l=n.return;if(l===null)break;var u=l.alternate;if(u===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===u.child){for(u=l.child;u;){if(u===n)return m(l),t;if(u===s)return m(l),e;u=u.sibling}throw Error(o(188))}if(n.return!==s.return)n=l,s=u;else{for(var b=!1,j=l.child;j;){if(j===n){b=!0,n=l,s=u;break}if(j===s){b=!0,s=l,n=u;break}j=j.sibling}if(!b){for(j=u.child;j;){if(j===n){b=!0,n=u,s=l;break}if(j===s){b=!0,s=u,n=l;break}j=j.sibling}if(!b)throw Error(o(189))}}if(n.alternate!==s)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?t:e}function g(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=g(t),e!==null)return e;t=t.sibling}return null}var y=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),st=Symbol.for("react.memo_cache_sentinel"),ft=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=ft&&t[ft]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Symbol.for("react.client.reference");function E(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===tt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case v:return"Fragment";case _:return"Profiler";case C:return"StrictMode";case D:return"Suspense";case F:return"SuspenseList";case X:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case A:return t.displayName||"Context";case k:return(t._context.displayName||"Context")+".Consumer";case O:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return e=t.displayName||null,e!==null?e:E(t.type)||"Memo";case q:e=t._payload,t=t._init;try{return E(t(e))}catch{}}return null}var et=Array.isArray,G=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},rt=[],xt=-1;function M(t){return{current:t}}function B(t){0>xt||(t.current=rt[xt],rt[xt]=null,xt--)}function at(t,e){xt++,rt[xt]=t.current,t.current=e}var nt=M(null),lt=M(null),kt=M(null),zt=M(null);function vt(t,e){switch(at(kt,e),at(lt,t),at(nt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?op(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=op(e),t=lp(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}B(nt),at(nt,t)}function Tt(){B(nt),B(lt),B(kt)}function gt(t){t.memoizedState!==null&&at(zt,t);var e=nt.current,n=lp(e,t.type);e!==n&&(at(lt,t),at(nt,n))}function _t(t){lt.current===t&&(B(nt),B(lt)),zt.current===t&&(B(zt),Gs._currentValue=ht)}var wt,Ct;function x(t){if(wt===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wt=e&&e[1]||"",Ct=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wt+t+Ct}var Q=!1;function U(t,e){if(!t||Q)return"";Q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var pt=function(){throw Error()};if(Object.defineProperty(pt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pt,[])}catch(ot){var it=ot}Reflect.construct(t,[],pt)}else{try{pt.call()}catch(ot){it=ot}t.call(pt.prototype)}}else{try{throw Error()}catch(ot){it=ot}(pt=t())&&typeof pt.catch=="function"&&pt.catch(function(){})}}catch(ot){if(ot&&it&&typeof ot.stack=="string")return[ot.stack,it.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),b=u[0],j=u[1];if(b&&j){var P=b.split(`
`),J=j.split(`
`);for(l=s=0;s<P.length&&!P[s].includes("DetermineComponentFrameRoot");)s++;for(;l<J.length&&!J[l].includes("DetermineComponentFrameRoot");)l++;if(s===P.length||l===J.length)for(s=P.length-1,l=J.length-1;1<=s&&0<=l&&P[s]!==J[l];)l--;for(;1<=s&&0<=l;s--,l--)if(P[s]!==J[l]){if(s!==1||l!==1)do if(s--,l--,0>l||P[s]!==J[l]){var ct=`
`+P[s].replace(" at new "," at ");return t.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",t.displayName)),ct}while(1<=s&&0<=l);break}}}finally{Q=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?x(n):""}function N(t,e){switch(t.tag){case 26:case 27:case 5:return x(t.type);case 16:return x("Lazy");case 13:return t.child!==e&&e!==null?x("Suspense Fallback"):x("Suspense");case 19:return x("SuspenseList");case 0:case 15:return U(t.type,!1);case 11:return U(t.type.render,!1);case 1:return U(t.type,!0);case 31:return x("Activity");default:return""}}function R(t){try{var e="",n=null;do e+=N(t,n),n=t,t=t.return;while(t);return e}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var H=Object.prototype.hasOwnProperty,ut=a.unstable_scheduleCallback,mt=a.unstable_cancelCallback,$=a.unstable_shouldYield,yt=a.unstable_requestPaint,St=a.unstable_now,bt=a.unstable_getCurrentPriorityLevel,Et=a.unstable_ImmediatePriority,qt=a.unstable_UserBlockingPriority,Lt=a.unstable_NormalPriority,De=a.unstable_LowPriority,$n=a.unstable_IdlePriority,We=a.log,Ri=a.unstable_setDisableYieldValue,Jt=null,ge=null;function Je(t){if(typeof We=="function"&&Ri(t),ge&&typeof ge.setStrictMode=="function")try{ge.setStrictMode(Jt,t)}catch{}}var ae=Math.clz32?Math.clz32:el,hr=Math.log,tl=Math.LN2;function el(t){return t>>>=0,t===0?32:31-(hr(t)/tl|0)|0}var la=256,Di=262144,xn=4194304;function tn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mr(t,e,n){var s=t.pendingLanes;if(s===0)return 0;var l=0,u=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var j=s&134217727;return j!==0?(s=j&~u,s!==0?l=tn(s):(b&=j,b!==0?l=tn(b):n||(n=j&~t,n!==0&&(l=tn(n))))):(j=s&~u,j!==0?l=tn(j):b!==0?l=tn(b):n||(n=s&~t,n!==0&&(l=tn(n)))),l===0?0:e!==0&&e!==l&&(e&u)===0&&(u=l&-l,n=e&-e,u>=n||u===32&&(n&4194048)!==0)?e:l}function as(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Py(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hf(){var t=xn;return xn<<=1,(xn&62914560)===0&&(xn=4194304),t}function nl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ss(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qy(t,e,n,s,l,u){var b=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var j=t.entanglements,P=t.expirationTimes,J=t.hiddenUpdates;for(n=b&~n;0<n;){var ct=31-ae(n),pt=1<<ct;j[ct]=0,P[ct]=-1;var it=J[ct];if(it!==null)for(J[ct]=null,ct=0;ct<it.length;ct++){var ot=it[ct];ot!==null&&(ot.lane&=-536870913)}n&=~pt}s!==0&&Pf(t,s,0),u!==0&&l===0&&t.tag!==0&&(t.suspendedLanes|=u&~(b&~e))}function Pf(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-ae(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|n&261930}function qf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-ae(n),l=1<<s;l&e|t[s]&e&&(t[s]|=e),n&=~l}}function Gf(t,e){var n=e&-e;return n=(n&42)!==0?1:il(n),(n&(t.suspendedLanes|e))!==0?0:n}function il(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function al(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Yf(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:Mp(t.type))}function Zf(t,e){var n=Z.p;try{return Z.p=t,e()}finally{Z.p=n}}var Wn=Math.random().toString(36).slice(2),xe="__reactFiber$"+Wn,Oe="__reactProps$"+Wn,ca="__reactContainer$"+Wn,sl="__reactEvents$"+Wn,Gy="__reactListeners$"+Wn,Yy="__reactHandles$"+Wn,Xf="__reactResources$"+Wn,rs="__reactMarker$"+Wn;function rl(t){delete t[xe],delete t[Oe],delete t[sl],delete t[Gy],delete t[Yy]}function ua(t){var e=t[xe];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ca]||n[xe]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=pp(t);t!==null;){if(n=t[xe])return n;t=pp(t)}return e}t=n,n=t.parentNode}return null}function fa(t){if(t=t[xe]||t[ca]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function os(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(o(33))}function da(t){var e=t[Xf];return e||(e=t[Xf]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ye(t){t[rs]=!0}var Kf=new Set,Qf={};function Oi(t,e){ha(t,e),ha(t+"Capture",e)}function ha(t,e){for(Qf[t]=e,t=0;t<e.length;t++)Kf.add(e[t])}var Zy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$f={},Wf={};function Xy(t){return H.call(Wf,t)?!0:H.call($f,t)?!1:Zy.test(t)?Wf[t]=!0:($f[t]=!0,!1)}function pr(t,e,n){if(Xy(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function gr(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function An(t,e,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+s)}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ky(t,e,n){var s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var l=s.get,u=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return l.call(this)},set:function(b){n=""+b,u.call(this,b)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(b){n=""+b},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ol(t){if(!t._valueTracker){var e=Jf(t)?"checked":"value";t._valueTracker=Ky(t,e,""+t[e])}}function td(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=Jf(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function yr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Qy=/[\n"\\]/g;function nn(t){return t.replace(Qy,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function ll(t,e,n,s,l,u,b,j){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),e!=null?b==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+en(e)):t.value!==""+en(e)&&(t.value=""+en(e)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),e!=null?cl(t,b,en(e)):n!=null?cl(t,b,en(n)):s!=null&&t.removeAttribute("value"),l==null&&u!=null&&(t.defaultChecked=!!u),l!=null&&(t.checked=l&&typeof l!="function"&&typeof l!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?t.name=""+en(j):t.removeAttribute("name")}function ed(t,e,n,s,l,u,b,j){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(t.type=u),e!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||e!=null)){ol(t);return}n=n!=null?""+en(n):"",e=e!=null?""+en(e):n,j||e===t.value||(t.value=e),t.defaultValue=e}s=s??l,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=j?t.checked:!!s,t.defaultChecked=!!s,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),ol(t)}function cl(t,e,n){e==="number"&&yr(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function ma(t,e,n,s){if(t=t.options,e){e={};for(var l=0;l<n.length;l++)e["$"+n[l]]=!0;for(n=0;n<t.length;n++)l=e.hasOwnProperty("$"+t[n].value),t[n].selected!==l&&(t[n].selected=l),l&&s&&(t[n].defaultSelected=!0)}else{for(n=""+en(n),e=null,l=0;l<t.length;l++){if(t[l].value===n){t[l].selected=!0,s&&(t[l].defaultSelected=!0);return}e!==null||t[l].disabled||(e=t[l])}e!==null&&(e.selected=!0)}}function nd(t,e,n){if(e!=null&&(e=""+en(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+en(n):""}function id(t,e,n,s){if(e==null){if(s!=null){if(n!=null)throw Error(o(92));if(et(s)){if(1<s.length)throw Error(o(93));s=s[0]}n=s}n==null&&(n=""),e=n}n=en(e),t.defaultValue=n,s=t.textContent,s===n&&s!==""&&s!==null&&(t.value=s),ol(t)}function pa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $y=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ad(t,e,n){var s=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,n):typeof n!="number"||n===0||$y.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function sd(t,e,n){if(e!=null&&typeof e!="object")throw Error(o(62));if(t=t.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var l in e)s=e[l],e.hasOwnProperty(l)&&n[l]!==s&&ad(t,l,s)}else for(var u in e)e.hasOwnProperty(u)&&ad(t,u,e[u])}function ul(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vr(t){return Jy.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function En(){}var fl=null;function dl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ga=null,ya=null;function rd(t){var e=fa(t);if(e&&(t=e.stateNode)){var n=t[Oe]||null;t:switch(t=e.stateNode,e.type){case"input":if(ll(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+nn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var l=s[Oe]||null;if(!l)throw Error(o(90));ll(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(e=0;e<n.length;e++)s=n[e],s.form===t.form&&td(s)}break t;case"textarea":nd(t,n.value,n.defaultValue);break t;case"select":e=n.value,e!=null&&ma(t,!!n.multiple,e,!1)}}}var hl=!1;function od(t,e,n){if(hl)return t(e,n);hl=!0;try{var s=t(e);return s}finally{if(hl=!1,(ga!==null||ya!==null)&&(so(),ga&&(e=ga,t=ya,ya=ga=null,rd(e),t)))for(e=0;e<t.length;e++)rd(t[e])}}function ls(t,e){var n=t.stateNode;if(n===null)return null;var s=n[Oe]||null;if(s===null)return null;n=s[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break t;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(o(231,e,typeof n));return n}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ml=!1;if(zn)try{var cs={};Object.defineProperty(cs,"passive",{get:function(){ml=!0}}),window.addEventListener("test",cs,cs),window.removeEventListener("test",cs,cs)}catch{ml=!1}var Jn=null,pl=null,br=null;function ld(){if(br)return br;var t,e=pl,n=e.length,s,l="value"in Jn?Jn.value:Jn.textContent,u=l.length;for(t=0;t<n&&e[t]===l[t];t++);var b=n-t;for(s=1;s<=b&&e[n-s]===l[u-s];s++);return br=l.slice(t,1<s?1-s:void 0)}function xr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sr(){return!0}function cd(){return!1}function Be(t){function e(n,s,l,u,b){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=u,this.target=b,this.currentTarget=null;for(var j in t)t.hasOwnProperty(j)&&(n=t[j],this[j]=n?n(u):u[j]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Sr:cd,this.isPropagationStopped=cd,this}return y(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),e}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wr=Be(Bi),us=y({},Bi,{view:0,detail:0}),tv=Be(us),gl,yl,fs,Tr=y({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fs&&(fs&&t.type==="mousemove"?(gl=t.screenX-fs.screenX,yl=t.screenY-fs.screenY):yl=gl=0,fs=t),gl)},movementY:function(t){return"movementY"in t?t.movementY:yl}}),ud=Be(Tr),ev=y({},Tr,{dataTransfer:0}),nv=Be(ev),iv=y({},us,{relatedTarget:0}),vl=Be(iv),av=y({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),sv=Be(av),rv=y({},Bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ov=Be(rv),lv=y({},Bi,{data:0}),fd=Be(lv),cv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fv[t])?!!e[t]:!1}function bl(){return dv}var hv=y({},us,{key:function(t){if(t.key){var e=cv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bl,charCode:function(t){return t.type==="keypress"?xr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mv=Be(hv),pv=y({},Tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dd=Be(pv),gv=y({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bl}),yv=Be(gv),vv=y({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),bv=Be(vv),xv=y({},Tr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Sv=Be(xv),wv=y({},Bi,{newState:0,oldState:0}),Tv=Be(wv),_v=[9,13,27,32],xl=zn&&"CompositionEvent"in window,ds=null;zn&&"documentMode"in document&&(ds=document.documentMode);var Cv=zn&&"TextEvent"in window&&!ds,hd=zn&&(!xl||ds&&8<ds&&11>=ds),md=" ",pd=!1;function gd(t,e){switch(t){case"keyup":return _v.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var va=!1;function kv(t,e){switch(t){case"compositionend":return yd(e);case"keypress":return e.which!==32?null:(pd=!0,md);case"textInput":return t=e.data,t===md&&pd?null:t;default:return null}}function Av(t,e){if(va)return t==="compositionend"||!xl&&gd(t,e)?(t=ld(),br=pl=Jn=null,va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hd&&e.locale!=="ko"?null:e.data;default:return null}}var Ev={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ev[t.type]:e==="textarea"}function bd(t,e,n,s){ga?ya?ya.push(s):ya=[s]:ga=s,e=ho(e,"onChange"),0<e.length&&(n=new wr("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var hs=null,ms=null;function zv(t){ep(t,0)}function _r(t){var e=os(t);if(td(e))return t}function xd(t,e){if(t==="change")return e}var Sd=!1;if(zn){var Sl;if(zn){var wl="oninput"in document;if(!wl){var wd=document.createElement("div");wd.setAttribute("oninput","return;"),wl=typeof wd.oninput=="function"}Sl=wl}else Sl=!1;Sd=Sl&&(!document.documentMode||9<document.documentMode)}function Td(){hs&&(hs.detachEvent("onpropertychange",_d),ms=hs=null)}function _d(t){if(t.propertyName==="value"&&_r(ms)){var e=[];bd(e,ms,t,dl(t)),od(zv,e)}}function jv(t,e,n){t==="focusin"?(Td(),hs=e,ms=n,hs.attachEvent("onpropertychange",_d)):t==="focusout"&&Td()}function Mv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _r(ms)}function Nv(t,e){if(t==="click")return _r(e)}function Rv(t,e){if(t==="input"||t==="change")return _r(e)}function Dv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qe=typeof Object.is=="function"?Object.is:Dv;function ps(t,e){if(qe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!H.call(e,l)||!qe(t[l],e[l]))return!1}return!0}function Cd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kd(t,e){var n=Cd(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Cd(n)}}function Ad(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ad(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ed(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=yr(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yr(t.document)}return e}function Tl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Ov=zn&&"documentMode"in document&&11>=document.documentMode,ba=null,_l=null,gs=null,Cl=!1;function zd(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cl||ba==null||ba!==yr(s)||(s=ba,"selectionStart"in s&&Tl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),gs&&ps(gs,s)||(gs=s,s=ho(_l,"onSelect"),0<s.length&&(e=new wr("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=ba)))}function Li(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xa={animationend:Li("Animation","AnimationEnd"),animationiteration:Li("Animation","AnimationIteration"),animationstart:Li("Animation","AnimationStart"),transitionrun:Li("Transition","TransitionRun"),transitionstart:Li("Transition","TransitionStart"),transitioncancel:Li("Transition","TransitionCancel"),transitionend:Li("Transition","TransitionEnd")},kl={},jd={};zn&&(jd=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Ui(t){if(kl[t])return kl[t];if(!xa[t])return t;var e=xa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jd)return kl[t]=e[n];return t}var Md=Ui("animationend"),Nd=Ui("animationiteration"),Rd=Ui("animationstart"),Bv=Ui("transitionrun"),Lv=Ui("transitionstart"),Uv=Ui("transitioncancel"),Dd=Ui("transitionend"),Od=new Map,Al="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Al.push("scrollEnd");function pn(t,e){Od.set(t,e),Oi(e,[t])}var Cr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},an=[],Sa=0,El=0;function kr(){for(var t=Sa,e=El=Sa=0;e<t;){var n=an[e];an[e++]=null;var s=an[e];an[e++]=null;var l=an[e];an[e++]=null;var u=an[e];if(an[e++]=null,s!==null&&l!==null){var b=s.pending;b===null?l.next=l:(l.next=b.next,b.next=l),s.pending=l}u!==0&&Bd(n,l,u)}}function Ar(t,e,n,s){an[Sa++]=t,an[Sa++]=e,an[Sa++]=n,an[Sa++]=s,El|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function zl(t,e,n,s){return Ar(t,e,n,s),Er(t)}function Vi(t,e){return Ar(t,null,null,e),Er(t)}function Bd(t,e,n){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n);for(var l=!1,u=t.return;u!==null;)u.childLanes|=n,s=u.alternate,s!==null&&(s.childLanes|=n),u.tag===22&&(t=u.stateNode,t===null||t._visibility&1||(l=!0)),t=u,u=u.return;return t.tag===3?(u=t.stateNode,l&&e!==null&&(l=31-ae(n),t=u.hiddenUpdates,s=t[l],s===null?t[l]=[e]:s.push(e),e.lane=n|536870912),u):null}function Er(t){if(50<Us)throw Us=0,Uc=null,Error(o(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var wa={};function Vv(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(t,e,n,s){return new Vv(t,e,n,s)}function jl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jn(t,e){var n=t.alternate;return n===null?(n=Ge(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Ld(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function zr(t,e,n,s,l,u){var b=0;if(s=t,typeof t=="function")jl(t)&&(b=1);else if(typeof t=="string")b=q1(t,n,nt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case X:return t=Ge(31,n,e,l),t.elementType=X,t.lanes=u,t;case v:return Ii(n.children,l,u,e);case C:b=8,l|=24;break;case _:return t=Ge(12,n,e,l|2),t.elementType=_,t.lanes=u,t;case D:return t=Ge(13,n,e,l),t.elementType=D,t.lanes=u,t;case F:return t=Ge(19,n,e,l),t.elementType=F,t.lanes=u,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:b=10;break t;case k:b=9;break t;case O:b=11;break t;case V:b=14;break t;case q:b=16,s=null;break t}b=29,n=Error(o(130,t===null?"null":typeof t,"")),s=null}return e=Ge(b,n,e,l),e.elementType=t,e.type=s,e.lanes=u,e}function Ii(t,e,n,s){return t=Ge(7,t,s,e),t.lanes=n,t}function Ml(t,e,n){return t=Ge(6,t,null,e),t.lanes=n,t}function Ud(t){var e=Ge(18,null,null,0);return e.stateNode=t,e}function Nl(t,e,n){return e=Ge(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Vd=new WeakMap;function sn(t,e){if(typeof t=="object"&&t!==null){var n=Vd.get(t);return n!==void 0?n:(e={value:t,source:e,stack:R(e)},Vd.set(t,e),e)}return{value:t,source:e,stack:R(e)}}var Ta=[],_a=0,jr=null,ys=0,rn=[],on=0,ti=null,Sn=1,wn="";function Mn(t,e){Ta[_a++]=ys,Ta[_a++]=jr,jr=t,ys=e}function Id(t,e,n){rn[on++]=Sn,rn[on++]=wn,rn[on++]=ti,ti=t;var s=Sn;t=wn;var l=32-ae(s)-1;s&=~(1<<l),n+=1;var u=32-ae(e)+l;if(30<u){var b=l-l%5;u=(s&(1<<b)-1).toString(32),s>>=b,l-=b,Sn=1<<32-ae(e)+l|n<<l|s,wn=u+t}else Sn=1<<u|n<<l|s,wn=t}function Rl(t){t.return!==null&&(Mn(t,1),Id(t,1,0))}function Dl(t){for(;t===jr;)jr=Ta[--_a],Ta[_a]=null,ys=Ta[--_a],Ta[_a]=null;for(;t===ti;)ti=rn[--on],rn[on]=null,wn=rn[--on],rn[on]=null,Sn=rn[--on],rn[on]=null}function Fd(t,e){rn[on++]=Sn,rn[on++]=wn,rn[on++]=ti,Sn=e.id,wn=e.overflow,ti=t}var Se=null,ee=null,Pt=!1,ei=null,ln=!1,Ol=Error(o(519));function ni(t){var e=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vs(sn(e,t)),Ol}function Hd(t){var e=t.stateNode,n=t.type,s=t.memoizedProps;switch(e[xe]=t,e[Oe]=s,n){case"dialog":Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":case"embed":Vt("load",e);break;case"video":case"audio":for(n=0;n<Is.length;n++)Vt(Is[n],e);break;case"source":Vt("error",e);break;case"img":case"image":case"link":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"input":Vt("invalid",e),ed(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Vt("invalid",e);break;case"textarea":Vt("invalid",e),id(e,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||s.suppressHydrationWarning===!0||sp(e.textContent,n)?(s.popover!=null&&(Vt("beforetoggle",e),Vt("toggle",e)),s.onScroll!=null&&Vt("scroll",e),s.onScrollEnd!=null&&Vt("scrollend",e),s.onClick!=null&&(e.onclick=En),e=!0):e=!1,e||ni(t,!0)}function Pd(t){for(Se=t.return;Se;)switch(Se.tag){case 5:case 31:case 13:ln=!1;return;case 27:case 3:ln=!0;return;default:Se=Se.return}}function Ca(t){if(t!==Se)return!1;if(!Pt)return Pd(t),Pt=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Jc(t.type,t.memoizedProps)),n=!n),n&&ee&&ni(t),Pd(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));ee=mp(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));ee=mp(t)}else e===27?(e=ee,gi(t.type)?(t=au,au=null,ee=t):ee=e):ee=Se?un(t.stateNode.nextSibling):null;return!0}function Fi(){ee=Se=null,Pt=!1}function Bl(){var t=ei;return t!==null&&(Ie===null?Ie=t:Ie.push.apply(Ie,t),ei=null),t}function vs(t){ei===null?ei=[t]:ei.push(t)}var Ll=M(null),Hi=null,Nn=null;function ii(t,e,n){at(Ll,e._currentValue),e._currentValue=n}function Rn(t){t._currentValue=Ll.current,B(Ll)}function Ul(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Vl(t,e,n,s){var l=t.child;for(l!==null&&(l.return=t);l!==null;){var u=l.dependencies;if(u!==null){var b=l.child;u=u.firstContext;t:for(;u!==null;){var j=u;u=l;for(var P=0;P<e.length;P++)if(j.context===e[P]){u.lanes|=n,j=u.alternate,j!==null&&(j.lanes|=n),Ul(u.return,n,t),s||(b=null);break t}u=j.next}}else if(l.tag===18){if(b=l.return,b===null)throw Error(o(341));b.lanes|=n,u=b.alternate,u!==null&&(u.lanes|=n),Ul(b,n,t),b=null}else b=l.child;if(b!==null)b.return=l;else for(b=l;b!==null;){if(b===t){b=null;break}if(l=b.sibling,l!==null){l.return=b.return,b=l;break}b=b.return}l=b}}function ka(t,e,n,s){t=null;for(var l=e,u=!1;l!==null;){if(!u){if((l.flags&524288)!==0)u=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var b=l.alternate;if(b===null)throw Error(o(387));if(b=b.memoizedProps,b!==null){var j=l.type;qe(l.pendingProps.value,b.value)||(t!==null?t.push(j):t=[j])}}else if(l===zt.current){if(b=l.alternate,b===null)throw Error(o(387));b.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(t!==null?t.push(Gs):t=[Gs])}l=l.return}t!==null&&Vl(e,t,n,s),e.flags|=262144}function Mr(t){for(t=t.firstContext;t!==null;){if(!qe(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Pi(t){Hi=t,Nn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function we(t){return qd(Hi,t)}function Nr(t,e){return Hi===null&&Pi(t),qd(t,e)}function qd(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Nn===null){if(t===null)throw Error(o(308));Nn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Nn=Nn.next=e;return n}var Iv=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},Fv=a.unstable_scheduleCallback,Hv=a.unstable_NormalPriority,fe={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Il(){return{controller:new Iv,data:new Map,refCount:0}}function bs(t){t.refCount--,t.refCount===0&&Fv(Hv,function(){t.controller.abort()})}var xs=null,Fl=0,Aa=0,Ea=null;function Pv(t,e){if(xs===null){var n=xs=[];Fl=0,Aa=qc(),Ea={status:"pending",value:void 0,then:function(s){n.push(s)}}}return Fl++,e.then(Gd,Gd),e}function Gd(){if(--Fl===0&&xs!==null){Ea!==null&&(Ea.status="fulfilled");var t=xs;xs=null,Aa=0,Ea=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function qv(t,e){var n=[],s={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var l=0;l<n.length;l++)(0,n[l])(e)},function(l){for(s.status="rejected",s.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),s}var Yd=G.S;G.S=function(t,e){zm=St(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&Pv(t,e),Yd!==null&&Yd(t,e)};var qi=M(null);function Hl(){var t=qi.current;return t!==null?t:te.pooledCache}function Rr(t,e){e===null?at(qi,qi.current):at(qi,e.pool)}function Zd(){var t=Hl();return t===null?null:{parent:fe._currentValue,pool:t}}var za=Error(o(460)),Pl=Error(o(474)),Dr=Error(o(542)),Or={then:function(){}};function Xd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Kd(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(En,En),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,$d(t),t;default:if(typeof e.status=="string")e.then(En,En);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var l=e;l.status="fulfilled",l.value=s}},function(s){if(e.status==="pending"){var l=e;l.status="rejected",l.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,$d(t),t}throw Yi=e,za}}function Gi(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Yi=n,za):n}}var Yi=null;function Qd(){if(Yi===null)throw Error(o(459));var t=Yi;return Yi=null,t}function $d(t){if(t===za||t===Dr)throw Error(o(483))}var ja=null,Ss=0;function Br(t){var e=Ss;return Ss+=1,ja===null&&(ja=[]),Kd(ja,t,e)}function ws(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Lr(t,e){throw e.$$typeof===T?Error(o(525)):(t=Object.prototype.toString.call(e),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Wd(t){function e(K,Y){if(t){var W=K.deletions;W===null?(K.deletions=[Y],K.flags|=16):W.push(Y)}}function n(K,Y){if(!t)return null;for(;Y!==null;)e(K,Y),Y=Y.sibling;return null}function s(K){for(var Y=new Map;K!==null;)K.key!==null?Y.set(K.key,K):Y.set(K.index,K),K=K.sibling;return Y}function l(K,Y){return K=jn(K,Y),K.index=0,K.sibling=null,K}function u(K,Y,W){return K.index=W,t?(W=K.alternate,W!==null?(W=W.index,W<Y?(K.flags|=67108866,Y):W):(K.flags|=67108866,Y)):(K.flags|=1048576,Y)}function b(K){return t&&K.alternate===null&&(K.flags|=67108866),K}function j(K,Y,W,dt){return Y===null||Y.tag!==6?(Y=Ml(W,K.mode,dt),Y.return=K,Y):(Y=l(Y,W),Y.return=K,Y)}function P(K,Y,W,dt){var Mt=W.type;return Mt===v?ct(K,Y,W.props.children,dt,W.key):Y!==null&&(Y.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===q&&Gi(Mt)===Y.type)?(Y=l(Y,W.props),ws(Y,W),Y.return=K,Y):(Y=zr(W.type,W.key,W.props,null,K.mode,dt),ws(Y,W),Y.return=K,Y)}function J(K,Y,W,dt){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==W.containerInfo||Y.stateNode.implementation!==W.implementation?(Y=Nl(W,K.mode,dt),Y.return=K,Y):(Y=l(Y,W.children||[]),Y.return=K,Y)}function ct(K,Y,W,dt,Mt){return Y===null||Y.tag!==7?(Y=Ii(W,K.mode,dt,Mt),Y.return=K,Y):(Y=l(Y,W),Y.return=K,Y)}function pt(K,Y,W){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Ml(""+Y,K.mode,W),Y.return=K,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return W=zr(Y.type,Y.key,Y.props,null,K.mode,W),ws(W,Y),W.return=K,W;case z:return Y=Nl(Y,K.mode,W),Y.return=K,Y;case q:return Y=Gi(Y),pt(K,Y,W)}if(et(Y)||L(Y))return Y=Ii(Y,K.mode,W,null),Y.return=K,Y;if(typeof Y.then=="function")return pt(K,Br(Y),W);if(Y.$$typeof===A)return pt(K,Nr(K,Y),W);Lr(K,Y)}return null}function it(K,Y,W,dt){var Mt=Y!==null?Y.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Mt!==null?null:j(K,Y,""+W,dt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case S:return W.key===Mt?P(K,Y,W,dt):null;case z:return W.key===Mt?J(K,Y,W,dt):null;case q:return W=Gi(W),it(K,Y,W,dt)}if(et(W)||L(W))return Mt!==null?null:ct(K,Y,W,dt,null);if(typeof W.then=="function")return it(K,Y,Br(W),dt);if(W.$$typeof===A)return it(K,Y,Nr(K,W),dt);Lr(K,W)}return null}function ot(K,Y,W,dt,Mt){if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return K=K.get(W)||null,j(Y,K,""+dt,Mt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case S:return K=K.get(dt.key===null?W:dt.key)||null,P(Y,K,dt,Mt);case z:return K=K.get(dt.key===null?W:dt.key)||null,J(Y,K,dt,Mt);case q:return dt=Gi(dt),ot(K,Y,W,dt,Mt)}if(et(dt)||L(dt))return K=K.get(W)||null,ct(Y,K,dt,Mt,null);if(typeof dt.then=="function")return ot(K,Y,W,Br(dt),Mt);if(dt.$$typeof===A)return ot(K,Y,W,Nr(Y,dt),Mt);Lr(Y,dt)}return null}function At(K,Y,W,dt){for(var Mt=null,Gt=null,jt=Y,Bt=Y=0,Ht=null;jt!==null&&Bt<W.length;Bt++){jt.index>Bt?(Ht=jt,jt=null):Ht=jt.sibling;var Yt=it(K,jt,W[Bt],dt);if(Yt===null){jt===null&&(jt=Ht);break}t&&jt&&Yt.alternate===null&&e(K,jt),Y=u(Yt,Y,Bt),Gt===null?Mt=Yt:Gt.sibling=Yt,Gt=Yt,jt=Ht}if(Bt===W.length)return n(K,jt),Pt&&Mn(K,Bt),Mt;if(jt===null){for(;Bt<W.length;Bt++)jt=pt(K,W[Bt],dt),jt!==null&&(Y=u(jt,Y,Bt),Gt===null?Mt=jt:Gt.sibling=jt,Gt=jt);return Pt&&Mn(K,Bt),Mt}for(jt=s(jt);Bt<W.length;Bt++)Ht=ot(jt,K,Bt,W[Bt],dt),Ht!==null&&(t&&Ht.alternate!==null&&jt.delete(Ht.key===null?Bt:Ht.key),Y=u(Ht,Y,Bt),Gt===null?Mt=Ht:Gt.sibling=Ht,Gt=Ht);return t&&jt.forEach(function(Si){return e(K,Si)}),Pt&&Mn(K,Bt),Mt}function Nt(K,Y,W,dt){if(W==null)throw Error(o(151));for(var Mt=null,Gt=null,jt=Y,Bt=Y=0,Ht=null,Yt=W.next();jt!==null&&!Yt.done;Bt++,Yt=W.next()){jt.index>Bt?(Ht=jt,jt=null):Ht=jt.sibling;var Si=it(K,jt,Yt.value,dt);if(Si===null){jt===null&&(jt=Ht);break}t&&jt&&Si.alternate===null&&e(K,jt),Y=u(Si,Y,Bt),Gt===null?Mt=Si:Gt.sibling=Si,Gt=Si,jt=Ht}if(Yt.done)return n(K,jt),Pt&&Mn(K,Bt),Mt;if(jt===null){for(;!Yt.done;Bt++,Yt=W.next())Yt=pt(K,Yt.value,dt),Yt!==null&&(Y=u(Yt,Y,Bt),Gt===null?Mt=Yt:Gt.sibling=Yt,Gt=Yt);return Pt&&Mn(K,Bt),Mt}for(jt=s(jt);!Yt.done;Bt++,Yt=W.next())Yt=ot(jt,K,Bt,Yt.value,dt),Yt!==null&&(t&&Yt.alternate!==null&&jt.delete(Yt.key===null?Bt:Yt.key),Y=u(Yt,Y,Bt),Gt===null?Mt=Yt:Gt.sibling=Yt,Gt=Yt);return t&&jt.forEach(function(eb){return e(K,eb)}),Pt&&Mn(K,Bt),Mt}function Wt(K,Y,W,dt){if(typeof W=="object"&&W!==null&&W.type===v&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case S:t:{for(var Mt=W.key;Y!==null;){if(Y.key===Mt){if(Mt=W.type,Mt===v){if(Y.tag===7){n(K,Y.sibling),dt=l(Y,W.props.children),dt.return=K,K=dt;break t}}else if(Y.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===q&&Gi(Mt)===Y.type){n(K,Y.sibling),dt=l(Y,W.props),ws(dt,W),dt.return=K,K=dt;break t}n(K,Y);break}else e(K,Y);Y=Y.sibling}W.type===v?(dt=Ii(W.props.children,K.mode,dt,W.key),dt.return=K,K=dt):(dt=zr(W.type,W.key,W.props,null,K.mode,dt),ws(dt,W),dt.return=K,K=dt)}return b(K);case z:t:{for(Mt=W.key;Y!==null;){if(Y.key===Mt)if(Y.tag===4&&Y.stateNode.containerInfo===W.containerInfo&&Y.stateNode.implementation===W.implementation){n(K,Y.sibling),dt=l(Y,W.children||[]),dt.return=K,K=dt;break t}else{n(K,Y);break}else e(K,Y);Y=Y.sibling}dt=Nl(W,K.mode,dt),dt.return=K,K=dt}return b(K);case q:return W=Gi(W),Wt(K,Y,W,dt)}if(et(W))return At(K,Y,W,dt);if(L(W)){if(Mt=L(W),typeof Mt!="function")throw Error(o(150));return W=Mt.call(W),Nt(K,Y,W,dt)}if(typeof W.then=="function")return Wt(K,Y,Br(W),dt);if(W.$$typeof===A)return Wt(K,Y,Nr(K,W),dt);Lr(K,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,Y!==null&&Y.tag===6?(n(K,Y.sibling),dt=l(Y,W),dt.return=K,K=dt):(n(K,Y),dt=Ml(W,K.mode,dt),dt.return=K,K=dt),b(K)):n(K,Y)}return function(K,Y,W,dt){try{Ss=0;var Mt=Wt(K,Y,W,dt);return ja=null,Mt}catch(jt){if(jt===za||jt===Dr)throw jt;var Gt=Ge(29,jt,null,K.mode);return Gt.lanes=dt,Gt.return=K,Gt}finally{}}}var Zi=Wd(!0),Jd=Wd(!1),ai=!1;function ql(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gl(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function si(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ri(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,(Zt&2)!==0){var l=s.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),s.pending=e,e=Er(t),Bd(t,null,n),e}return Ar(t,s,e,n),Er(t)}function Ts(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,qf(t,n)}}function Yl(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var b={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?l=u=b:u=u.next=b,n=n.next}while(n!==null);u===null?l=u=e:u=u.next=e}else l=u=e;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Zl=!1;function _s(){if(Zl){var t=Ea;if(t!==null)throw t}}function Cs(t,e,n,s){Zl=!1;var l=t.updateQueue;ai=!1;var u=l.firstBaseUpdate,b=l.lastBaseUpdate,j=l.shared.pending;if(j!==null){l.shared.pending=null;var P=j,J=P.next;P.next=null,b===null?u=J:b.next=J,b=P;var ct=t.alternate;ct!==null&&(ct=ct.updateQueue,j=ct.lastBaseUpdate,j!==b&&(j===null?ct.firstBaseUpdate=J:j.next=J,ct.lastBaseUpdate=P))}if(u!==null){var pt=l.baseState;b=0,ct=J=P=null,j=u;do{var it=j.lane&-536870913,ot=it!==j.lane;if(ot?(Ft&it)===it:(s&it)===it){it!==0&&it===Aa&&(Zl=!0),ct!==null&&(ct=ct.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});t:{var At=t,Nt=j;it=e;var Wt=n;switch(Nt.tag){case 1:if(At=Nt.payload,typeof At=="function"){pt=At.call(Wt,pt,it);break t}pt=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=Nt.payload,it=typeof At=="function"?At.call(Wt,pt,it):At,it==null)break t;pt=y({},pt,it);break t;case 2:ai=!0}}it=j.callback,it!==null&&(t.flags|=64,ot&&(t.flags|=8192),ot=l.callbacks,ot===null?l.callbacks=[it]:ot.push(it))}else ot={lane:it,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ct===null?(J=ct=ot,P=pt):ct=ct.next=ot,b|=it;if(j=j.next,j===null){if(j=l.shared.pending,j===null)break;ot=j,j=ot.next,ot.next=null,l.lastBaseUpdate=ot,l.shared.pending=null}}while(!0);ct===null&&(P=pt),l.baseState=P,l.firstBaseUpdate=J,l.lastBaseUpdate=ct,u===null&&(l.shared.lanes=0),fi|=b,t.lanes=b,t.memoizedState=pt}}function th(t,e){if(typeof t!="function")throw Error(o(191,t));t.call(e)}function eh(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)th(n[t],e)}var Ma=M(null),Ur=M(0);function nh(t,e){t=Hn,at(Ur,t),at(Ma,e),Hn=t|e.baseLanes}function Xl(){at(Ur,Hn),at(Ma,Ma.current)}function Kl(){Hn=Ur.current,B(Ma),B(Ur)}var Ye=M(null),cn=null;function oi(t){var e=t.alternate;at(le,le.current&1),at(Ye,t),cn===null&&(e===null||Ma.current!==null||e.memoizedState!==null)&&(cn=t)}function Ql(t){at(le,le.current),at(Ye,t),cn===null&&(cn=t)}function ih(t){t.tag===22?(at(le,le.current),at(Ye,t),cn===null&&(cn=t)):li()}function li(){at(le,le.current),at(Ye,Ye.current)}function Ze(t){B(Ye),cn===t&&(cn=null),B(le)}var le=M(0);function Vr(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||nu(n)||iu(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dn=0,Ot=null,Qt=null,de=null,Ir=!1,Na=!1,Xi=!1,Fr=0,ks=0,Ra=null,Gv=0;function re(){throw Error(o(321))}function $l(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qe(t[n],e[n]))return!1;return!0}function Wl(t,e,n,s,l,u){return Dn=u,Ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,G.H=t===null||t.memoizedState===null?Ih:hc,Xi=!1,u=n(s,l),Xi=!1,Na&&(u=sh(e,n,s,l)),ah(t),u}function ah(t){G.H=zs;var e=Qt!==null&&Qt.next!==null;if(Dn=0,de=Qt=Ot=null,Ir=!1,ks=0,Ra=null,e)throw Error(o(300));t===null||he||(t=t.dependencies,t!==null&&Mr(t)&&(he=!0))}function sh(t,e,n,s){Ot=t;var l=0;do{if(Na&&(Ra=null),ks=0,Na=!1,25<=l)throw Error(o(301));if(l+=1,de=Qt=null,t.updateQueue!=null){var u=t.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}G.H=Fh,u=e(n,s)}while(Na);return u}function Yv(){var t=G.H,e=t.useState()[0];return e=typeof e.then=="function"?As(e):e,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(Ot.flags|=1024),e}function Jl(){var t=Fr!==0;return Fr=0,t}function tc(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function ec(t){if(Ir){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ir=!1}Dn=0,de=Qt=Ot=null,Na=!1,ks=Fr=0,Ra=null}function Me(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Ot.memoizedState=de=t:de=de.next=t,de}function ce(){if(Qt===null){var t=Ot.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var e=de===null?Ot.memoizedState:de.next;if(e!==null)de=e,Qt=t;else{if(t===null)throw Ot.alternate===null?Error(o(467)):Error(o(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},de===null?Ot.memoizedState=de=t:de=de.next=t}return de}function Hr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function As(t){var e=ks;return ks+=1,Ra===null&&(Ra=[]),t=Kd(Ra,t,e),e=Ot,(de===null?e.memoizedState:de.next)===null&&(e=e.alternate,G.H=e===null||e.memoizedState===null?Ih:hc),t}function Pr(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return As(t);if(t.$$typeof===A)return we(t)}throw Error(o(438,String(t)))}function nc(t){var e=null,n=Ot.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var s=Ot.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(l){return l.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Hr(),Ot.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),s=0;s<t;s++)n[s]=st;return e.index++,n}function On(t,e){return typeof e=="function"?e(t):e}function qr(t){var e=ce();return ic(e,Qt,t)}function ic(t,e,n){var s=t.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=n;var l=t.baseQueue,u=s.pending;if(u!==null){if(l!==null){var b=l.next;l.next=u.next,u.next=b}e.baseQueue=l=u,s.pending=null}if(u=t.baseState,l===null)t.memoizedState=u;else{e=l.next;var j=b=null,P=null,J=e,ct=!1;do{var pt=J.lane&-536870913;if(pt!==J.lane?(Ft&pt)===pt:(Dn&pt)===pt){var it=J.revertLane;if(it===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),pt===Aa&&(ct=!0);else if((Dn&it)===it){J=J.next,it===Aa&&(ct=!0);continue}else pt={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},P===null?(j=P=pt,b=u):P=P.next=pt,Ot.lanes|=it,fi|=it;pt=J.action,Xi&&n(u,pt),u=J.hasEagerState?J.eagerState:n(u,pt)}else it={lane:pt,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},P===null?(j=P=it,b=u):P=P.next=it,Ot.lanes|=pt,fi|=pt;J=J.next}while(J!==null&&J!==e);if(P===null?b=u:P.next=j,!qe(u,t.memoizedState)&&(he=!0,ct&&(n=Ea,n!==null)))throw n;t.memoizedState=u,t.baseState=b,t.baseQueue=P,s.lastRenderedState=u}return l===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function ac(t){var e=ce(),n=e.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=t;var s=n.dispatch,l=n.pending,u=e.memoizedState;if(l!==null){n.pending=null;var b=l=l.next;do u=t(u,b.action),b=b.next;while(b!==l);qe(u,e.memoizedState)||(he=!0),e.memoizedState=u,e.baseQueue===null&&(e.baseState=u),n.lastRenderedState=u}return[u,s]}function rh(t,e,n){var s=Ot,l=ce(),u=Pt;if(u){if(n===void 0)throw Error(o(407));n=n()}else n=e();var b=!qe((Qt||l).memoizedState,n);if(b&&(l.memoizedState=n,he=!0),l=l.queue,oc(ch.bind(null,s,l,t),[t]),l.getSnapshot!==e||b||de!==null&&de.memoizedState.tag&1){if(s.flags|=2048,Da(9,{destroy:void 0},lh.bind(null,s,l,n,e),null),te===null)throw Error(o(349));u||(Dn&127)!==0||oh(s,e,n)}return n}function oh(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ot.updateQueue,e===null?(e=Hr(),Ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lh(t,e,n,s){e.value=n,e.getSnapshot=s,uh(e)&&fh(t)}function ch(t,e,n){return n(function(){uh(e)&&fh(t)})}function uh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qe(t,n)}catch{return!0}}function fh(t){var e=Vi(t,2);e!==null&&Fe(e,t,2)}function sc(t){var e=Me();if(typeof t=="function"){var n=t;if(t=n(),Xi){Je(!0);try{n()}finally{Je(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:t},e}function dh(t,e,n,s){return t.baseState=n,ic(t,Qt,typeof s=="function"?s:On)}function Zv(t,e,n,s,l){if(Zr(t))throw Error(o(485));if(t=e.action,t!==null){var u={payload:l,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){u.listeners.push(b)}};G.T!==null?n(!0):u.isTransition=!1,s(u),n=e.pending,n===null?(u.next=e.pending=u,hh(e,u)):(u.next=n.next,e.pending=n.next=u)}}function hh(t,e){var n=e.action,s=e.payload,l=t.state;if(e.isTransition){var u=G.T,b={};G.T=b;try{var j=n(l,s),P=G.S;P!==null&&P(b,j),mh(t,e,j)}catch(J){rc(t,e,J)}finally{u!==null&&b.types!==null&&(u.types=b.types),G.T=u}}else try{u=n(l,s),mh(t,e,u)}catch(J){rc(t,e,J)}}function mh(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){ph(t,e,s)},function(s){return rc(t,e,s)}):ph(t,e,n)}function ph(t,e,n){e.status="fulfilled",e.value=n,gh(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,hh(t,n)))}function rc(t,e,n){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=n,gh(e),e=e.next;while(e!==s)}t.action=null}function gh(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function yh(t,e){return e}function vh(t,e){if(Pt){var n=te.formState;if(n!==null){t:{var s=Ot;if(Pt){if(ee){e:{for(var l=ee,u=ln;l.nodeType!==8;){if(!u){l=null;break e}if(l=un(l.nextSibling),l===null){l=null;break e}}u=l.data,l=u==="F!"||u==="F"?l:null}if(l){ee=un(l.nextSibling),s=l.data==="F!";break t}}ni(s)}s=!1}s&&(e=n[0])}}return n=Me(),n.memoizedState=n.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yh,lastRenderedState:e},n.queue=s,n=Lh.bind(null,Ot,s),s.dispatch=n,s=sc(!1),u=dc.bind(null,Ot,!1,s.queue),s=Me(),l={state:e,dispatch:null,action:t,pending:null},s.queue=l,n=Zv.bind(null,Ot,l,u,n),l.dispatch=n,s.memoizedState=t,[e,n,!1]}function bh(t){var e=ce();return xh(e,Qt,t)}function xh(t,e,n){if(e=ic(t,e,yh)[0],t=qr(On)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=As(e)}catch(b){throw b===za?Dr:b}else s=e;e=ce();var l=e.queue,u=l.dispatch;return n!==e.memoizedState&&(Ot.flags|=2048,Da(9,{destroy:void 0},Xv.bind(null,l,n),null)),[s,u,t]}function Xv(t,e){t.action=e}function Sh(t){var e=ce(),n=Qt;if(n!==null)return xh(e,n,t);ce(),e=e.memoizedState,n=ce();var s=n.queue.dispatch;return n.memoizedState=t,[e,s,!1]}function Da(t,e,n,s){return t={tag:t,create:n,deps:s,inst:e,next:null},e=Ot.updateQueue,e===null&&(e=Hr(),Ot.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t),t}function wh(){return ce().memoizedState}function Gr(t,e,n,s){var l=Me();Ot.flags|=t,l.memoizedState=Da(1|e,{destroy:void 0},n,s===void 0?null:s)}function Yr(t,e,n,s){var l=ce();s=s===void 0?null:s;var u=l.memoizedState.inst;Qt!==null&&s!==null&&$l(s,Qt.memoizedState.deps)?l.memoizedState=Da(e,u,n,s):(Ot.flags|=t,l.memoizedState=Da(1|e,u,n,s))}function Th(t,e){Gr(8390656,8,t,e)}function oc(t,e){Yr(2048,8,t,e)}function Kv(t){Ot.flags|=4;var e=Ot.updateQueue;if(e===null)e=Hr(),Ot.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function _h(t){var e=ce().memoizedState;return Kv({ref:e,nextImpl:t}),function(){if((Zt&2)!==0)throw Error(o(440));return e.impl.apply(void 0,arguments)}}function Ch(t,e){return Yr(4,2,t,e)}function kh(t,e){return Yr(4,4,t,e)}function Ah(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Eh(t,e,n){n=n!=null?n.concat([t]):null,Yr(4,4,Ah.bind(null,e,t),n)}function lc(){}function zh(t,e){var n=ce();e=e===void 0?null:e;var s=n.memoizedState;return e!==null&&$l(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function jh(t,e){var n=ce();e=e===void 0?null:e;var s=n.memoizedState;if(e!==null&&$l(e,s[1]))return s[0];if(s=t(),Xi){Je(!0);try{t()}finally{Je(!1)}}return n.memoizedState=[s,e],s}function cc(t,e,n){return n===void 0||(Dn&1073741824)!==0&&(Ft&261930)===0?t.memoizedState=e:(t.memoizedState=n,t=Mm(),Ot.lanes|=t,fi|=t,n)}function Mh(t,e,n,s){return qe(n,e)?n:Ma.current!==null?(t=cc(t,n,s),qe(t,e)||(he=!0),t):(Dn&42)===0||(Dn&1073741824)!==0&&(Ft&261930)===0?(he=!0,t.memoizedState=n):(t=Mm(),Ot.lanes|=t,fi|=t,e)}function Nh(t,e,n,s,l){var u=Z.p;Z.p=u!==0&&8>u?u:8;var b=G.T,j={};G.T=j,dc(t,!1,e,n);try{var P=l(),J=G.S;if(J!==null&&J(j,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ct=qv(P,s);Es(t,e,ct,Qe(t))}else Es(t,e,s,Qe(t))}catch(pt){Es(t,e,{then:function(){},status:"rejected",reason:pt},Qe())}finally{Z.p=u,b!==null&&j.types!==null&&(b.types=j.types),G.T=b}}function Qv(){}function uc(t,e,n,s){if(t.tag!==5)throw Error(o(476));var l=Rh(t).queue;Nh(t,l,e,ht,n===null?Qv:function(){return Dh(t),n(s)})}function Rh(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:ht},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Dh(t){var e=Rh(t);e.next===null&&(e=t.alternate.memoizedState),Es(t,e.next.queue,{},Qe())}function fc(){return we(Gs)}function Oh(){return ce().memoizedState}function Bh(){return ce().memoizedState}function $v(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Qe();t=si(n);var s=ri(e,t,n);s!==null&&(Fe(s,e,n),Ts(s,e,n)),e={cache:Il()},t.payload=e;return}e=e.return}}function Wv(t,e,n){var s=Qe();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Zr(t)?Uh(e,n):(n=zl(t,e,n,s),n!==null&&(Fe(n,t,s),Vh(n,e,s)))}function Lh(t,e,n){var s=Qe();Es(t,e,n,s)}function Es(t,e,n,s){var l={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zr(t))Uh(e,l);else{var u=t.alternate;if(t.lanes===0&&(u===null||u.lanes===0)&&(u=e.lastRenderedReducer,u!==null))try{var b=e.lastRenderedState,j=u(b,n);if(l.hasEagerState=!0,l.eagerState=j,qe(j,b))return Ar(t,e,l,0),te===null&&kr(),!1}catch{}finally{}if(n=zl(t,e,l,s),n!==null)return Fe(n,t,s),Vh(n,e,s),!0}return!1}function dc(t,e,n,s){if(s={lane:2,revertLane:qc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Zr(t)){if(e)throw Error(o(479))}else e=zl(t,n,s,2),e!==null&&Fe(e,t,2)}function Zr(t){var e=t.alternate;return t===Ot||e!==null&&e===Ot}function Uh(t,e){Na=Ir=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Vh(t,e,n){if((n&4194048)!==0){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,qf(t,n)}}var zs={readContext:we,use:Pr,useCallback:re,useContext:re,useEffect:re,useImperativeHandle:re,useLayoutEffect:re,useInsertionEffect:re,useMemo:re,useReducer:re,useRef:re,useState:re,useDebugValue:re,useDeferredValue:re,useTransition:re,useSyncExternalStore:re,useId:re,useHostTransitionStatus:re,useFormState:re,useActionState:re,useOptimistic:re,useMemoCache:re,useCacheRefresh:re};zs.useEffectEvent=re;var Ih={readContext:we,use:Pr,useCallback:function(t,e){return Me().memoizedState=[t,e===void 0?null:e],t},useContext:we,useEffect:Th,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Gr(4194308,4,Ah.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Gr(4194308,4,t,e)},useInsertionEffect:function(t,e){Gr(4,2,t,e)},useMemo:function(t,e){var n=Me();e=e===void 0?null:e;var s=t();if(Xi){Je(!0);try{t()}finally{Je(!1)}}return n.memoizedState=[s,e],s},useReducer:function(t,e,n){var s=Me();if(n!==void 0){var l=n(e);if(Xi){Je(!0);try{n(e)}finally{Je(!1)}}}else l=e;return s.memoizedState=s.baseState=l,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:l},s.queue=t,t=t.dispatch=Wv.bind(null,Ot,t),[s.memoizedState,t]},useRef:function(t){var e=Me();return t={current:t},e.memoizedState=t},useState:function(t){t=sc(t);var e=t.queue,n=Lh.bind(null,Ot,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:lc,useDeferredValue:function(t,e){var n=Me();return cc(n,t,e)},useTransition:function(){var t=sc(!1);return t=Nh.bind(null,Ot,t.queue,!0,!1),Me().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var s=Ot,l=Me();if(Pt){if(n===void 0)throw Error(o(407));n=n()}else{if(n=e(),te===null)throw Error(o(349));(Ft&127)!==0||oh(s,e,n)}l.memoizedState=n;var u={value:n,getSnapshot:e};return l.queue=u,Th(ch.bind(null,s,u,t),[t]),s.flags|=2048,Da(9,{destroy:void 0},lh.bind(null,s,u,n,e),null),n},useId:function(){var t=Me(),e=te.identifierPrefix;if(Pt){var n=wn,s=Sn;n=(s&~(1<<32-ae(s)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Fr++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=Gv++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:fc,useFormState:vh,useActionState:vh,useOptimistic:function(t){var e=Me();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=dc.bind(null,Ot,!0,n),n.dispatch=e,[t,e]},useMemoCache:nc,useCacheRefresh:function(){return Me().memoizedState=$v.bind(null,Ot)},useEffectEvent:function(t){var e=Me(),n={impl:t};return e.memoizedState=n,function(){if((Zt&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},hc={readContext:we,use:Pr,useCallback:zh,useContext:we,useEffect:oc,useImperativeHandle:Eh,useInsertionEffect:Ch,useLayoutEffect:kh,useMemo:jh,useReducer:qr,useRef:wh,useState:function(){return qr(On)},useDebugValue:lc,useDeferredValue:function(t,e){var n=ce();return Mh(n,Qt.memoizedState,t,e)},useTransition:function(){var t=qr(On)[0],e=ce().memoizedState;return[typeof t=="boolean"?t:As(t),e]},useSyncExternalStore:rh,useId:Oh,useHostTransitionStatus:fc,useFormState:bh,useActionState:bh,useOptimistic:function(t,e){var n=ce();return dh(n,Qt,t,e)},useMemoCache:nc,useCacheRefresh:Bh};hc.useEffectEvent=_h;var Fh={readContext:we,use:Pr,useCallback:zh,useContext:we,useEffect:oc,useImperativeHandle:Eh,useInsertionEffect:Ch,useLayoutEffect:kh,useMemo:jh,useReducer:ac,useRef:wh,useState:function(){return ac(On)},useDebugValue:lc,useDeferredValue:function(t,e){var n=ce();return Qt===null?cc(n,t,e):Mh(n,Qt.memoizedState,t,e)},useTransition:function(){var t=ac(On)[0],e=ce().memoizedState;return[typeof t=="boolean"?t:As(t),e]},useSyncExternalStore:rh,useId:Oh,useHostTransitionStatus:fc,useFormState:Sh,useActionState:Sh,useOptimistic:function(t,e){var n=ce();return Qt!==null?dh(n,Qt,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:nc,useCacheRefresh:Bh};Fh.useEffectEvent=_h;function mc(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:y({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var pc={enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Qe(),l=si(s);l.payload=e,n!=null&&(l.callback=n),e=ri(t,l,s),e!==null&&(Fe(e,t,s),Ts(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Qe(),l=si(s);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=ri(t,l,s),e!==null&&(Fe(e,t,s),Ts(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qe(),s=si(n);s.tag=2,e!=null&&(s.callback=e),e=ri(t,s,n),e!==null&&(Fe(e,t,n),Ts(e,t,n))}};function Hh(t,e,n,s,l,u,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,u,b):e.prototype&&e.prototype.isPureReactComponent?!ps(n,s)||!ps(l,u):!0}function Ph(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&pc.enqueueReplaceState(e,e.state,null)}function Ki(t,e){var n=e;if("ref"in e){n={};for(var s in e)s!=="ref"&&(n[s]=e[s])}if(t=t.defaultProps){n===e&&(n=y({},n));for(var l in t)n[l]===void 0&&(n[l]=t[l])}return n}function qh(t){Cr(t)}function Gh(t){console.error(t)}function Yh(t){Cr(t)}function Xr(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function Zh(t,e,n){try{var s=t.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function gc(t,e,n){return n=si(n),n.tag=3,n.payload={element:null},n.callback=function(){Xr(t,e)},n}function Xh(t){return t=si(t),t.tag=3,t}function Kh(t,e,n,s){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var u=s.value;t.payload=function(){return l(u)},t.callback=function(){Zh(e,n,s)}}var b=n.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Zh(e,n,s),typeof l!="function"&&(di===null?di=new Set([this]):di.add(this));var j=s.stack;this.componentDidCatch(s.value,{componentStack:j!==null?j:""})})}function Jv(t,e,n,s,l){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=n.alternate,e!==null&&ka(e,n,l,!0),n=Ye.current,n!==null){switch(n.tag){case 31:case 13:return cn===null?ro():n.alternate===null&&oe===0&&(oe=3),n.flags&=-257,n.flags|=65536,n.lanes=l,s===Or?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([s]):e.add(s),Fc(t,s,l)),!1;case 22:return n.flags|=65536,s===Or?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([s]):n.add(s)),Fc(t,s,l)),!1}throw Error(o(435,n.tag))}return Fc(t,s,l),ro(),!1}if(Pt)return e=Ye.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=l,s!==Ol&&(t=Error(o(422),{cause:s}),vs(sn(t,n)))):(s!==Ol&&(e=Error(o(423),{cause:s}),vs(sn(e,n))),t=t.current.alternate,t.flags|=65536,l&=-l,t.lanes|=l,s=sn(s,n),l=gc(t.stateNode,s,l),Yl(t,l),oe!==4&&(oe=2)),!1;var u=Error(o(520),{cause:s});if(u=sn(u,n),Ls===null?Ls=[u]:Ls.push(u),oe!==4&&(oe=2),e===null)return!0;s=sn(s,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=l&-l,n.lanes|=t,t=gc(n.stateNode,s,t),Yl(n,t),!1;case 1:if(e=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(di===null||!di.has(u))))return n.flags|=65536,l&=-l,n.lanes|=l,l=Xh(l),Kh(l,t,n,s),Yl(n,l),!1}n=n.return}while(n!==null);return!1}var yc=Error(o(461)),he=!1;function Te(t,e,n,s){e.child=t===null?Jd(e,null,n,s):Zi(e,t.child,n,s)}function Qh(t,e,n,s,l){n=n.render;var u=e.ref;if("ref"in s){var b={};for(var j in s)j!=="ref"&&(b[j]=s[j])}else b=s;return Pi(e),s=Wl(t,e,n,b,u,l),j=Jl(),t!==null&&!he?(tc(t,e,l),Bn(t,e,l)):(Pt&&j&&Rl(e),e.flags|=1,Te(t,e,s,l),e.child)}function $h(t,e,n,s,l){if(t===null){var u=n.type;return typeof u=="function"&&!jl(u)&&u.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=u,Wh(t,e,u,s,l)):(t=zr(n.type,null,s,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(u=t.child,!Cc(t,l)){var b=u.memoizedProps;if(n=n.compare,n=n!==null?n:ps,n(b,s)&&t.ref===e.ref)return Bn(t,e,l)}return e.flags|=1,t=jn(u,s),t.ref=e.ref,t.return=e,e.child=t}function Wh(t,e,n,s,l){if(t!==null){var u=t.memoizedProps;if(ps(u,s)&&t.ref===e.ref)if(he=!1,e.pendingProps=s=u,Cc(t,l))(t.flags&131072)!==0&&(he=!0);else return e.lanes=t.lanes,Bn(t,e,l)}return vc(t,e,n,s,l)}function Jh(t,e,n,s){var l=s.children,u=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((e.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,t!==null){for(s=e.child=t.child,l=0;s!==null;)l=l|s.lanes|s.childLanes,s=s.sibling;s=l&~u}else s=0,e.child=null;return tm(t,e,u,n,s)}if((n&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Rr(e,u!==null?u.cachePool:null),u!==null?nh(e,u):Xl(),ih(e);else return s=e.lanes=536870912,tm(t,e,u!==null?u.baseLanes|n:n,n,s)}else u!==null?(Rr(e,u.cachePool),nh(e,u),li(),e.memoizedState=null):(t!==null&&Rr(e,null),Xl(),li());return Te(t,e,l,n),e.child}function js(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function tm(t,e,n,s,l){var u=Hl();return u=u===null?null:{parent:fe._currentValue,pool:u},e.memoizedState={baseLanes:n,cachePool:u},t!==null&&Rr(e,null),Xl(),ih(e),t!==null&&ka(t,e,s,!0),e.childLanes=l,null}function Kr(t,e){return e=$r({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function em(t,e,n){return Zi(e,t.child,null,n),t=Kr(e,e.pendingProps),t.flags|=2,Ze(e),e.memoizedState=null,t}function t1(t,e,n){var s=e.pendingProps,l=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Pt){if(s.mode==="hidden")return t=Kr(e,s),e.lanes=536870912,js(null,t);if(Ql(e),(t=ee)?(t=hp(t,ln),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ti!==null?{id:Sn,overflow:wn}:null,retryLane:536870912,hydrationErrors:null},n=Ud(t),n.return=e,e.child=n,Se=e,ee=null)):t=null,t===null)throw ni(e);return e.lanes=536870912,null}return Kr(e,s)}var u=t.memoizedState;if(u!==null){var b=u.dehydrated;if(Ql(e),l)if(e.flags&256)e.flags&=-257,e=em(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(o(558));else if(he||ka(t,e,n,!1),l=(n&t.childLanes)!==0,he||l){if(s=te,s!==null&&(b=Gf(s,n),b!==0&&b!==u.retryLane))throw u.retryLane=b,Vi(t,b),Fe(s,t,b),yc;ro(),e=em(t,e,n)}else t=u.treeContext,ee=un(b.nextSibling),Se=e,Pt=!0,ei=null,ln=!1,t!==null&&Fd(e,t),e=Kr(e,s),e.flags|=4096;return e}return t=jn(t.child,{mode:s.mode,children:s.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Qr(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function vc(t,e,n,s,l){return Pi(e),n=Wl(t,e,n,s,void 0,l),s=Jl(),t!==null&&!he?(tc(t,e,l),Bn(t,e,l)):(Pt&&s&&Rl(e),e.flags|=1,Te(t,e,n,l),e.child)}function nm(t,e,n,s,l,u){return Pi(e),e.updateQueue=null,n=sh(e,s,n,l),ah(t),s=Jl(),t!==null&&!he?(tc(t,e,u),Bn(t,e,u)):(Pt&&s&&Rl(e),e.flags|=1,Te(t,e,n,u),e.child)}function im(t,e,n,s,l){if(Pi(e),e.stateNode===null){var u=wa,b=n.contextType;typeof b=="object"&&b!==null&&(u=we(b)),u=new n(s,u),e.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=pc,e.stateNode=u,u._reactInternals=e,u=e.stateNode,u.props=s,u.state=e.memoizedState,u.refs={},ql(e),b=n.contextType,u.context=typeof b=="object"&&b!==null?we(b):wa,u.state=e.memoizedState,b=n.getDerivedStateFromProps,typeof b=="function"&&(mc(e,n,b,s),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(b=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),b!==u.state&&pc.enqueueReplaceState(u,u.state,null),Cs(e,s,u,l),_s(),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){u=e.stateNode;var j=e.memoizedProps,P=Ki(n,j);u.props=P;var J=u.context,ct=n.contextType;b=wa,typeof ct=="object"&&ct!==null&&(b=we(ct));var pt=n.getDerivedStateFromProps;ct=typeof pt=="function"||typeof u.getSnapshotBeforeUpdate=="function",j=e.pendingProps!==j,ct||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(j||J!==b)&&Ph(e,u,s,b),ai=!1;var it=e.memoizedState;u.state=it,Cs(e,s,u,l),_s(),J=e.memoizedState,j||it!==J||ai?(typeof pt=="function"&&(mc(e,n,pt,s),J=e.memoizedState),(P=ai||Hh(e,n,P,s,it,J,b))?(ct||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=J),u.props=s,u.state=J,u.context=b,s=P):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{u=e.stateNode,Gl(t,e),b=e.memoizedProps,ct=Ki(n,b),u.props=ct,pt=e.pendingProps,it=u.context,J=n.contextType,P=wa,typeof J=="object"&&J!==null&&(P=we(J)),j=n.getDerivedStateFromProps,(J=typeof j=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(b!==pt||it!==P)&&Ph(e,u,s,P),ai=!1,it=e.memoizedState,u.state=it,Cs(e,s,u,l),_s();var ot=e.memoizedState;b!==pt||it!==ot||ai||t!==null&&t.dependencies!==null&&Mr(t.dependencies)?(typeof j=="function"&&(mc(e,n,j,s),ot=e.memoizedState),(ct=ai||Hh(e,n,ct,s,it,ot,P)||t!==null&&t.dependencies!==null&&Mr(t.dependencies))?(J||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,ot,P),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,ot,P)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||b===t.memoizedProps&&it===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&it===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=ot),u.props=s,u.state=ot,u.context=P,s=ct):(typeof u.componentDidUpdate!="function"||b===t.memoizedProps&&it===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&it===t.memoizedState||(e.flags|=1024),s=!1)}return u=s,Qr(t,e),s=(e.flags&128)!==0,u||s?(u=e.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:u.render(),e.flags|=1,t!==null&&s?(e.child=Zi(e,t.child,null,l),e.child=Zi(e,null,n,l)):Te(t,e,n,l),e.memoizedState=u.state,t=e.child):t=Bn(t,e,l),t}function am(t,e,n,s){return Fi(),e.flags|=256,Te(t,e,n,s),e.child}var bc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xc(t){return{baseLanes:t,cachePool:Zd()}}function Sc(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Ke),t}function sm(t,e,n){var s=e.pendingProps,l=!1,u=(e.flags&128)!==0,b;if((b=u)||(b=t!==null&&t.memoizedState===null?!1:(le.current&2)!==0),b&&(l=!0,e.flags&=-129),b=(e.flags&32)!==0,e.flags&=-33,t===null){if(Pt){if(l?oi(e):li(),(t=ee)?(t=hp(t,ln),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ti!==null?{id:Sn,overflow:wn}:null,retryLane:536870912,hydrationErrors:null},n=Ud(t),n.return=e,e.child=n,Se=e,ee=null)):t=null,t===null)throw ni(e);return iu(t)?e.lanes=32:e.lanes=536870912,null}var j=s.children;return s=s.fallback,l?(li(),l=e.mode,j=$r({mode:"hidden",children:j},l),s=Ii(s,l,n,null),j.return=e,s.return=e,j.sibling=s,e.child=j,s=e.child,s.memoizedState=xc(n),s.childLanes=Sc(t,b,n),e.memoizedState=bc,js(null,s)):(oi(e),wc(e,j))}var P=t.memoizedState;if(P!==null&&(j=P.dehydrated,j!==null)){if(u)e.flags&256?(oi(e),e.flags&=-257,e=Tc(t,e,n)):e.memoizedState!==null?(li(),e.child=t.child,e.flags|=128,e=null):(li(),j=s.fallback,l=e.mode,s=$r({mode:"visible",children:s.children},l),j=Ii(j,l,n,null),j.flags|=2,s.return=e,j.return=e,s.sibling=j,e.child=s,Zi(e,t.child,null,n),s=e.child,s.memoizedState=xc(n),s.childLanes=Sc(t,b,n),e.memoizedState=bc,e=js(null,s));else if(oi(e),iu(j)){if(b=j.nextSibling&&j.nextSibling.dataset,b)var J=b.dgst;b=J,s=Error(o(419)),s.stack="",s.digest=b,vs({value:s,source:null,stack:null}),e=Tc(t,e,n)}else if(he||ka(t,e,n,!1),b=(n&t.childLanes)!==0,he||b){if(b=te,b!==null&&(s=Gf(b,n),s!==0&&s!==P.retryLane))throw P.retryLane=s,Vi(t,s),Fe(b,t,s),yc;nu(j)||ro(),e=Tc(t,e,n)}else nu(j)?(e.flags|=192,e.child=t.child,e=null):(t=P.treeContext,ee=un(j.nextSibling),Se=e,Pt=!0,ei=null,ln=!1,t!==null&&Fd(e,t),e=wc(e,s.children),e.flags|=4096);return e}return l?(li(),j=s.fallback,l=e.mode,P=t.child,J=P.sibling,s=jn(P,{mode:"hidden",children:s.children}),s.subtreeFlags=P.subtreeFlags&65011712,J!==null?j=jn(J,j):(j=Ii(j,l,n,null),j.flags|=2),j.return=e,s.return=e,s.sibling=j,e.child=s,js(null,s),s=e.child,j=t.child.memoizedState,j===null?j=xc(n):(l=j.cachePool,l!==null?(P=fe._currentValue,l=l.parent!==P?{parent:P,pool:P}:l):l=Zd(),j={baseLanes:j.baseLanes|n,cachePool:l}),s.memoizedState=j,s.childLanes=Sc(t,b,n),e.memoizedState=bc,js(t.child,s)):(oi(e),n=t.child,t=n.sibling,n=jn(n,{mode:"visible",children:s.children}),n.return=e,n.sibling=null,t!==null&&(b=e.deletions,b===null?(e.deletions=[t],e.flags|=16):b.push(t)),e.child=n,e.memoizedState=null,n)}function wc(t,e){return e=$r({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function $r(t,e){return t=Ge(22,t,null,e),t.lanes=0,t}function Tc(t,e,n){return Zi(e,t.child,null,n),t=wc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rm(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Ul(t.return,e,n)}function _c(t,e,n,s,l,u){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l,treeForkCount:u}:(b.isBackwards=e,b.rendering=null,b.renderingStartTime=0,b.last=s,b.tail=n,b.tailMode=l,b.treeForkCount=u)}function om(t,e,n){var s=e.pendingProps,l=s.revealOrder,u=s.tail;s=s.children;var b=le.current,j=(b&2)!==0;if(j?(b=b&1|2,e.flags|=128):b&=1,at(le,b),Te(t,e,s,n),s=Pt?ys:0,!j&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rm(t,n,e);else if(t.tag===19)rm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(l){case"forwards":for(n=e.child,l=null;n!==null;)t=n.alternate,t!==null&&Vr(t)===null&&(l=n),n=n.sibling;n=l,n===null?(l=e.child,e.child=null):(l=n.sibling,n.sibling=null),_c(e,!1,l,n,u,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&Vr(t)===null){e.child=l;break}t=l.sibling,l.sibling=n,n=l,l=t}_c(e,!0,n,null,u,s);break;case"together":_c(e,!1,null,null,void 0,s);break;default:e.memoizedState=null}return e.child}function Bn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fi|=e.lanes,(n&e.childLanes)===0)if(t!==null){if(ka(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(o(153));if(e.child!==null){for(t=e.child,n=jn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=jn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Cc(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Mr(t)))}function e1(t,e,n){switch(e.tag){case 3:vt(e,e.stateNode.containerInfo),ii(e,fe,t.memoizedState.cache),Fi();break;case 27:case 5:gt(e);break;case 4:vt(e,e.stateNode.containerInfo);break;case 10:ii(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Ql(e),null;break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(oi(e),e.flags|=128,null):(n&e.child.childLanes)!==0?sm(t,e,n):(oi(e),t=Bn(t,e,n),t!==null?t.sibling:null);oi(e);break;case 19:var l=(t.flags&128)!==0;if(s=(n&e.childLanes)!==0,s||(ka(t,e,n,!1),s=(n&e.childLanes)!==0),l){if(s)return om(t,e,n);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),at(le,le.current),s)break;return null;case 22:return e.lanes=0,Jh(t,e,n,e.pendingProps);case 24:ii(e,fe,t.memoizedState.cache)}return Bn(t,e,n)}function lm(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)he=!0;else{if(!Cc(t,n)&&(e.flags&128)===0)return he=!1,e1(t,e,n);he=(t.flags&131072)!==0}else he=!1,Pt&&(e.flags&1048576)!==0&&Id(e,ys,e.index);switch(e.lanes=0,e.tag){case 16:t:{var s=e.pendingProps;if(t=Gi(e.elementType),e.type=t,typeof t=="function")jl(t)?(s=Ki(t,s),e.tag=1,e=im(null,e,t,s,n)):(e.tag=0,e=vc(null,e,t,s,n));else{if(t!=null){var l=t.$$typeof;if(l===O){e.tag=11,e=Qh(null,e,t,s,n);break t}else if(l===V){e.tag=14,e=$h(null,e,t,s,n);break t}}throw e=E(t)||t,Error(o(306,e,""))}}return e;case 0:return vc(t,e,e.type,e.pendingProps,n);case 1:return s=e.type,l=Ki(s,e.pendingProps),im(t,e,s,l,n);case 3:t:{if(vt(e,e.stateNode.containerInfo),t===null)throw Error(o(387));s=e.pendingProps;var u=e.memoizedState;l=u.element,Gl(t,e),Cs(e,s,null,n);var b=e.memoizedState;if(s=b.cache,ii(e,fe,s),s!==u.cache&&Vl(e,[fe],n,!0),_s(),s=b.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:b.cache},e.updateQueue.baseState=u,e.memoizedState=u,e.flags&256){e=am(t,e,s,n);break t}else if(s!==l){l=sn(Error(o(424)),e),vs(l),e=am(t,e,s,n);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ee=un(t.firstChild),Se=e,Pt=!0,ei=null,ln=!0,n=Jd(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Fi(),s===l){e=Bn(t,e,n);break t}Te(t,e,s,n)}e=e.child}return e;case 26:return Qr(t,e),t===null?(n=bp(e.type,null,e.pendingProps,null))?e.memoizedState=n:Pt||(n=e.type,t=e.pendingProps,s=mo(kt.current).createElement(n),s[xe]=e,s[Oe]=t,_e(s,n,t),ye(s),e.stateNode=s):e.memoizedState=bp(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return gt(e),t===null&&Pt&&(s=e.stateNode=gp(e.type,e.pendingProps,kt.current),Se=e,ln=!0,l=ee,gi(e.type)?(au=l,ee=un(s.firstChild)):ee=l),Te(t,e,e.pendingProps.children,n),Qr(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Pt&&((l=s=ee)&&(s=M1(s,e.type,e.pendingProps,ln),s!==null?(e.stateNode=s,Se=e,ee=un(s.firstChild),ln=!1,l=!0):l=!1),l||ni(e)),gt(e),l=e.type,u=e.pendingProps,b=t!==null?t.memoizedProps:null,s=u.children,Jc(l,u)?s=null:b!==null&&Jc(l,b)&&(e.flags|=32),e.memoizedState!==null&&(l=Wl(t,e,Yv,null,null,n),Gs._currentValue=l),Qr(t,e),Te(t,e,s,n),e.child;case 6:return t===null&&Pt&&((t=n=ee)&&(n=N1(n,e.pendingProps,ln),n!==null?(e.stateNode=n,Se=e,ee=null,t=!0):t=!1),t||ni(e)),null;case 13:return sm(t,e,n);case 4:return vt(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Zi(e,null,s,n):Te(t,e,s,n),e.child;case 11:return Qh(t,e,e.type,e.pendingProps,n);case 7:return Te(t,e,e.pendingProps,n),e.child;case 8:return Te(t,e,e.pendingProps.children,n),e.child;case 12:return Te(t,e,e.pendingProps.children,n),e.child;case 10:return s=e.pendingProps,ii(e,e.type,s.value),Te(t,e,s.children,n),e.child;case 9:return l=e.type._context,s=e.pendingProps.children,Pi(e),l=we(l),s=s(l),e.flags|=1,Te(t,e,s,n),e.child;case 14:return $h(t,e,e.type,e.pendingProps,n);case 15:return Wh(t,e,e.type,e.pendingProps,n);case 19:return om(t,e,n);case 31:return t1(t,e,n);case 22:return Jh(t,e,n,e.pendingProps);case 24:return Pi(e),s=we(fe),t===null?(l=Hl(),l===null&&(l=te,u=Il(),l.pooledCache=u,u.refCount++,u!==null&&(l.pooledCacheLanes|=n),l=u),e.memoizedState={parent:s,cache:l},ql(e),ii(e,fe,l)):((t.lanes&n)!==0&&(Gl(t,e),Cs(e,null,null,n),_s()),l=t.memoizedState,u=e.memoizedState,l.parent!==s?(l={parent:s,cache:s},e.memoizedState=l,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=l),ii(e,fe,s)):(s=u.cache,ii(e,fe,s),s!==l.cache&&Vl(e,[fe],n,!0))),Te(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(o(156,e.tag))}function Ln(t){t.flags|=4}function kc(t,e,n,s,l){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(l&335544128)===l)if(t.stateNode.complete)t.flags|=8192;else if(Om())t.flags|=8192;else throw Yi=Or,Pl}else t.flags&=-16777217}function cm(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!_p(e))if(Om())t.flags|=8192;else throw Yi=Or,Pl}function Wr(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Hf():536870912,t.lanes|=e,Ua|=e)}function Ms(t,e){if(!Pt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function ne(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var l=t.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&65011712,s|=l.flags&65011712,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function n1(t,e,n){var s=e.pendingProps;switch(Dl(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(e),null;case 1:return ne(e),null;case 3:return n=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),Rn(fe),Tt(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ca(e)?Ln(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Bl())),ne(e),null;case 26:var l=e.type,u=e.memoizedState;return t===null?(Ln(e),u!==null?(ne(e),cm(e,u)):(ne(e),kc(e,l,null,s,n))):u?u!==t.memoizedState?(Ln(e),ne(e),cm(e,u)):(ne(e),e.flags&=-16777217):(t=t.memoizedProps,t!==s&&Ln(e),ne(e),kc(e,l,t,s,n)),null;case 27:if(_t(e),n=kt.current,l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Ln(e);else{if(!s){if(e.stateNode===null)throw Error(o(166));return ne(e),null}t=nt.current,Ca(e)?Hd(e):(t=gp(l,s,n),e.stateNode=t,Ln(e))}return ne(e),null;case 5:if(_t(e),l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Ln(e);else{if(!s){if(e.stateNode===null)throw Error(o(166));return ne(e),null}if(u=nt.current,Ca(e))Hd(e);else{var b=mo(kt.current);switch(u){case 1:u=b.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:u=b.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":u=b.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":u=b.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":u=b.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?b.createElement("select",{is:s.is}):b.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?b.createElement(l,{is:s.is}):b.createElement(l)}}u[xe]=e,u[Oe]=s;t:for(b=e.child;b!==null;){if(b.tag===5||b.tag===6)u.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===e)break t;for(;b.sibling===null;){if(b.return===null||b.return===e)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}e.stateNode=u;t:switch(_e(u,l,s),l){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&Ln(e)}}return ne(e),kc(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&Ln(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(o(166));if(t=kt.current,Ca(e)){if(t=e.stateNode,n=e.memoizedProps,s=null,l=Se,l!==null)switch(l.tag){case 27:case 5:s=l.memoizedProps}t[xe]=e,t=!!(t.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||sp(t.nodeValue,n)),t||ni(e,!0)}else t=mo(t).createTextNode(s),t[xe]=e,e.stateNode=t}return ne(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(s=Ca(e),n!==null){if(t===null){if(!s)throw Error(o(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[xe]=e}else Fi(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ne(e),t=!1}else n=Bl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Ze(e),e):(Ze(e),null);if((e.flags&128)!==0)throw Error(o(558))}return ne(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(l=Ca(e),s!==null&&s.dehydrated!==null){if(t===null){if(!l)throw Error(o(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(o(317));l[xe]=e}else Fi(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ne(e),l=!1}else l=Bl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),l=!0;if(!l)return e.flags&256?(Ze(e),e):(Ze(e),null)}return Ze(e),(e.flags&128)!==0?(e.lanes=n,e):(n=s!==null,t=t!==null&&t.memoizedState!==null,n&&(s=e.child,l=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(l=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Wr(e,e.updateQueue),ne(e),null);case 4:return Tt(),t===null&&Xc(e.stateNode.containerInfo),ne(e),null;case 10:return Rn(e.type),ne(e),null;case 19:if(B(le),s=e.memoizedState,s===null)return ne(e),null;if(l=(e.flags&128)!==0,u=s.rendering,u===null)if(l)Ms(s,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(u=Vr(t),u!==null){for(e.flags|=128,Ms(s,!1),t=u.updateQueue,e.updateQueue=t,Wr(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Ld(n,t),n=n.sibling;return at(le,le.current&1|2),Pt&&Mn(e,s.treeForkCount),e.child}t=t.sibling}s.tail!==null&&St()>io&&(e.flags|=128,l=!0,Ms(s,!1),e.lanes=4194304)}else{if(!l)if(t=Vr(u),t!==null){if(e.flags|=128,l=!0,t=t.updateQueue,e.updateQueue=t,Wr(e,t),Ms(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!Pt)return ne(e),null}else 2*St()-s.renderingStartTime>io&&n!==536870912&&(e.flags|=128,l=!0,Ms(s,!1),e.lanes=4194304);s.isBackwards?(u.sibling=e.child,e.child=u):(t=s.last,t!==null?t.sibling=u:e.child=u,s.last=u)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=St(),t.sibling=null,n=le.current,at(le,l?n&1|2:n&1),Pt&&Mn(e,s.treeForkCount),t):(ne(e),null);case 22:case 23:return Ze(e),Kl(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?(n&536870912)!==0&&(e.flags&128)===0&&(ne(e),e.subtreeFlags&6&&(e.flags|=8192)):ne(e),n=e.updateQueue,n!==null&&Wr(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==n&&(e.flags|=2048),t!==null&&B(qi),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Rn(fe),ne(e),null;case 25:return null;case 30:return null}throw Error(o(156,e.tag))}function i1(t,e){switch(Dl(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rn(fe),Tt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return _t(e),null;case 31:if(e.memoizedState!==null){if(Ze(e),e.alternate===null)throw Error(o(340));Fi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Ze(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(o(340));Fi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return B(le),null;case 4:return Tt(),null;case 10:return Rn(e.type),null;case 22:case 23:return Ze(e),Kl(),t!==null&&B(qi),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Rn(fe),null;case 25:return null;default:return null}}function um(t,e){switch(Dl(e),e.tag){case 3:Rn(fe),Tt();break;case 26:case 27:case 5:_t(e);break;case 4:Tt();break;case 31:e.memoizedState!==null&&Ze(e);break;case 13:Ze(e);break;case 19:B(le);break;case 10:Rn(e.type);break;case 22:case 23:Ze(e),Kl(),t!==null&&B(qi);break;case 24:Rn(fe)}}function Ns(t,e){try{var n=e.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var l=s.next;n=l;do{if((n.tag&t)===t){s=void 0;var u=n.create,b=n.inst;s=u(),b.destroy=s}n=n.next}while(n!==l)}}catch(j){Kt(e,e.return,j)}}function ci(t,e,n){try{var s=e.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var u=l.next;s=u;do{if((s.tag&t)===t){var b=s.inst,j=b.destroy;if(j!==void 0){b.destroy=void 0,l=e;var P=n,J=j;try{J()}catch(ct){Kt(l,P,ct)}}}s=s.next}while(s!==u)}}catch(ct){Kt(e,e.return,ct)}}function fm(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{eh(e,n)}catch(s){Kt(t,t.return,s)}}}function dm(t,e,n){n.props=Ki(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(s){Kt(t,e,s)}}function Rs(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof n=="function"?t.refCleanup=n(s):n.current=s}}catch(l){Kt(t,e,l)}}function Tn(t,e){var n=t.ref,s=t.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(l){Kt(t,e,l)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){Kt(t,e,l)}else n.current=null}function hm(t){var e=t.type,n=t.memoizedProps,s=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break t;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(l){Kt(t,t.return,l)}}function Ac(t,e,n){try{var s=t.stateNode;C1(s,t.type,n,e),s[Oe]=e}catch(l){Kt(t,t.return,l)}}function mm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&gi(t.type)||t.tag===4}function Ec(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||mm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&gi(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zc(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=En));else if(s!==4&&(s===27&&gi(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(zc(t,e,n),t=t.sibling;t!==null;)zc(t,e,n),t=t.sibling}function Jr(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(s===27&&gi(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Jr(t,e,n),t=t.sibling;t!==null;)Jr(t,e,n),t=t.sibling}function pm(t){var e=t.stateNode,n=t.memoizedProps;try{for(var s=t.type,l=e.attributes;l.length;)e.removeAttributeNode(l[0]);_e(e,s,n),e[xe]=t,e[Oe]=n}catch(u){Kt(t,t.return,u)}}var Un=!1,me=!1,jc=!1,gm=typeof WeakSet=="function"?WeakSet:Set,ve=null;function a1(t,e){if(t=t.containerInfo,$c=So,t=Ed(t),Tl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break t}var b=0,j=-1,P=-1,J=0,ct=0,pt=t,it=null;e:for(;;){for(var ot;pt!==n||l!==0&&pt.nodeType!==3||(j=b+l),pt!==u||s!==0&&pt.nodeType!==3||(P=b+s),pt.nodeType===3&&(b+=pt.nodeValue.length),(ot=pt.firstChild)!==null;)it=pt,pt=ot;for(;;){if(pt===t)break e;if(it===n&&++J===l&&(j=b),it===u&&++ct===s&&(P=b),(ot=pt.nextSibling)!==null)break;pt=it,it=pt.parentNode}pt=ot}n=j===-1||P===-1?null:{start:j,end:P}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wc={focusedElem:t,selectionRange:n},So=!1,ve=e;ve!==null;)if(e=ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ve=t;else for(;ve!==null;){switch(e=ve,u=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)l=t[n],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&u!==null){t=void 0,n=e,l=u.memoizedProps,u=u.memoizedState,s=n.stateNode;try{var At=Ki(n.type,l);t=s.getSnapshotBeforeUpdate(At,u),s.__reactInternalSnapshotBeforeUpdate=t}catch(Nt){Kt(n,n.return,Nt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)eu(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":eu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=e.sibling,t!==null){t.return=e.return,ve=t;break}ve=e.return}}function ym(t,e,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:In(t,n),s&4&&Ns(5,n);break;case 1:if(In(t,n),s&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(b){Kt(n,n.return,b)}else{var l=Ki(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(l,e,t.__reactInternalSnapshotBeforeUpdate)}catch(b){Kt(n,n.return,b)}}s&64&&fm(n),s&512&&Rs(n,n.return);break;case 3:if(In(t,n),s&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{eh(t,e)}catch(b){Kt(n,n.return,b)}}break;case 27:e===null&&s&4&&pm(n);case 26:case 5:In(t,n),e===null&&s&4&&hm(n),s&512&&Rs(n,n.return);break;case 12:In(t,n);break;case 31:In(t,n),s&4&&xm(t,n);break;case 13:In(t,n),s&4&&Sm(t,n),s&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=h1.bind(null,n),R1(t,n))));break;case 22:if(s=n.memoizedState!==null||Un,!s){e=e!==null&&e.memoizedState!==null||me,l=Un;var u=me;Un=s,(me=e)&&!u?Fn(t,n,(n.subtreeFlags&8772)!==0):In(t,n),Un=l,me=u}break;case 30:break;default:In(t,n)}}function vm(t){var e=t.alternate;e!==null&&(t.alternate=null,vm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&rl(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ie=null,Le=!1;function Vn(t,e,n){for(n=n.child;n!==null;)bm(t,e,n),n=n.sibling}function bm(t,e,n){if(ge&&typeof ge.onCommitFiberUnmount=="function")try{ge.onCommitFiberUnmount(Jt,n)}catch{}switch(n.tag){case 26:me||Tn(n,e),Vn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:me||Tn(n,e);var s=ie,l=Le;gi(n.type)&&(ie=n.stateNode,Le=!1),Vn(t,e,n),Hs(n.stateNode),ie=s,Le=l;break;case 5:me||Tn(n,e);case 6:if(s=ie,l=Le,ie=null,Vn(t,e,n),ie=s,Le=l,ie!==null)if(Le)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(n.stateNode)}catch(u){Kt(n,e,u)}else try{ie.removeChild(n.stateNode)}catch(u){Kt(n,e,u)}break;case 18:ie!==null&&(Le?(t=ie,fp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Ya(t)):fp(ie,n.stateNode));break;case 4:s=ie,l=Le,ie=n.stateNode.containerInfo,Le=!0,Vn(t,e,n),ie=s,Le=l;break;case 0:case 11:case 14:case 15:ci(2,n,e),me||ci(4,n,e),Vn(t,e,n);break;case 1:me||(Tn(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"&&dm(n,e,s)),Vn(t,e,n);break;case 21:Vn(t,e,n);break;case 22:me=(s=me)||n.memoizedState!==null,Vn(t,e,n),me=s;break;default:Vn(t,e,n)}}function xm(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ya(t)}catch(n){Kt(e,e.return,n)}}}function Sm(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ya(t)}catch(n){Kt(e,e.return,n)}}function s1(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new gm),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new gm),e;default:throw Error(o(435,t.tag))}}function to(t,e){var n=s1(t);e.forEach(function(s){if(!n.has(s)){n.add(s);var l=m1.bind(null,t,s);s.then(l,l)}})}function Ue(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s],u=t,b=e,j=b;t:for(;j!==null;){switch(j.tag){case 27:if(gi(j.type)){ie=j.stateNode,Le=!1;break t}break;case 5:ie=j.stateNode,Le=!1;break t;case 3:case 4:ie=j.stateNode.containerInfo,Le=!0;break t}j=j.return}if(ie===null)throw Error(o(160));bm(u,b,l),ie=null,Le=!1,u=l.alternate,u!==null&&(u.return=null),l.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)wm(e,t),e=e.sibling}var gn=null;function wm(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ue(e,t),Ve(t),s&4&&(ci(3,t,t.return),Ns(3,t),ci(5,t,t.return));break;case 1:Ue(e,t),Ve(t),s&512&&(me||n===null||Tn(n,n.return)),s&64&&Un&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var l=gn;if(Ue(e,t),Ve(t),s&512&&(me||n===null||Tn(n,n.return)),s&4){var u=n!==null?n.memoizedState:null;if(s=t.memoizedState,n===null)if(s===null)if(t.stateNode===null){t:{s=t.type,n=t.memoizedProps,l=l.ownerDocument||l;e:switch(s){case"title":u=l.getElementsByTagName("title")[0],(!u||u[rs]||u[xe]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=l.createElement(s),l.head.insertBefore(u,l.querySelector("head > title"))),_e(u,s,n),u[xe]=t,ye(u),s=u;break t;case"link":var b=wp("link","href",l).get(s+(n.href||""));if(b){for(var j=0;j<b.length;j++)if(u=b[j],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){b.splice(j,1);break e}}u=l.createElement(s),_e(u,s,n),l.head.appendChild(u);break;case"meta":if(b=wp("meta","content",l).get(s+(n.content||""))){for(j=0;j<b.length;j++)if(u=b[j],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){b.splice(j,1);break e}}u=l.createElement(s),_e(u,s,n),l.head.appendChild(u);break;default:throw Error(o(468,s))}u[xe]=t,ye(u),s=u}t.stateNode=s}else Tp(l,t.type,t.stateNode);else t.stateNode=Sp(l,s,t.memoizedProps);else u!==s?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,s===null?Tp(l,t.type,t.stateNode):Sp(l,s,t.memoizedProps)):s===null&&t.stateNode!==null&&Ac(t,t.memoizedProps,n.memoizedProps)}break;case 27:Ue(e,t),Ve(t),s&512&&(me||n===null||Tn(n,n.return)),n!==null&&s&4&&Ac(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Ue(e,t),Ve(t),s&512&&(me||n===null||Tn(n,n.return)),t.flags&32){l=t.stateNode;try{pa(l,"")}catch(At){Kt(t,t.return,At)}}s&4&&t.stateNode!=null&&(l=t.memoizedProps,Ac(t,l,n!==null?n.memoizedProps:l)),s&1024&&(jc=!0);break;case 6:if(Ue(e,t),Ve(t),s&4){if(t.stateNode===null)throw Error(o(162));s=t.memoizedProps,n=t.stateNode;try{n.nodeValue=s}catch(At){Kt(t,t.return,At)}}break;case 3:if(yo=null,l=gn,gn=po(e.containerInfo),Ue(e,t),gn=l,Ve(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Ya(e.containerInfo)}catch(At){Kt(t,t.return,At)}jc&&(jc=!1,Tm(t));break;case 4:s=gn,gn=po(t.stateNode.containerInfo),Ue(e,t),Ve(t),gn=s;break;case 12:Ue(e,t),Ve(t);break;case 31:Ue(e,t),Ve(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,to(t,s)));break;case 13:Ue(e,t),Ve(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(no=St()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,to(t,s)));break;case 22:l=t.memoizedState!==null;var P=n!==null&&n.memoizedState!==null,J=Un,ct=me;if(Un=J||l,me=ct||P,Ue(e,t),me=ct,Un=J,Ve(t),s&8192)t:for(e=t.stateNode,e._visibility=l?e._visibility&-2:e._visibility|1,l&&(n===null||P||Un||me||Qi(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){P=n=e;try{if(u=P.stateNode,l)b=u.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{j=P.stateNode;var pt=P.memoizedProps.style,it=pt!=null&&pt.hasOwnProperty("display")?pt.display:null;j.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(At){Kt(P,P.return,At)}}}else if(e.tag===6){if(n===null){P=e;try{P.stateNode.nodeValue=l?"":P.memoizedProps}catch(At){Kt(P,P.return,At)}}}else if(e.tag===18){if(n===null){P=e;try{var ot=P.stateNode;l?dp(ot,!0):dp(P.stateNode,!1)}catch(At){Kt(P,P.return,At)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,to(t,n))));break;case 19:Ue(e,t),Ve(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,to(t,s)));break;case 30:break;case 21:break;default:Ue(e,t),Ve(t)}}function Ve(t){var e=t.flags;if(e&2){try{for(var n,s=t.return;s!==null;){if(mm(s)){n=s;break}s=s.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var l=n.stateNode,u=Ec(t);Jr(t,u,l);break;case 5:var b=n.stateNode;n.flags&32&&(pa(b,""),n.flags&=-33);var j=Ec(t);Jr(t,j,b);break;case 3:case 4:var P=n.stateNode.containerInfo,J=Ec(t);zc(t,J,P);break;default:throw Error(o(161))}}catch(ct){Kt(t,t.return,ct)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Tm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Tm(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function In(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)ym(t,e.alternate,e),e=e.sibling}function Qi(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ci(4,e,e.return),Qi(e);break;case 1:Tn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&dm(e,e.return,n),Qi(e);break;case 27:Hs(e.stateNode);case 26:case 5:Tn(e,e.return),Qi(e);break;case 22:e.memoizedState===null&&Qi(e);break;case 30:Qi(e);break;default:Qi(e)}t=t.sibling}}function Fn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,l=t,u=e,b=u.flags;switch(u.tag){case 0:case 11:case 15:Fn(l,u,n),Ns(4,u);break;case 1:if(Fn(l,u,n),s=u,l=s.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(J){Kt(s,s.return,J)}if(s=u,l=s.updateQueue,l!==null){var j=s.stateNode;try{var P=l.shared.hiddenCallbacks;if(P!==null)for(l.shared.hiddenCallbacks=null,l=0;l<P.length;l++)th(P[l],j)}catch(J){Kt(s,s.return,J)}}n&&b&64&&fm(u),Rs(u,u.return);break;case 27:pm(u);case 26:case 5:Fn(l,u,n),n&&s===null&&b&4&&hm(u),Rs(u,u.return);break;case 12:Fn(l,u,n);break;case 31:Fn(l,u,n),n&&b&4&&xm(l,u);break;case 13:Fn(l,u,n),n&&b&4&&Sm(l,u);break;case 22:u.memoizedState===null&&Fn(l,u,n),Rs(u,u.return);break;case 30:break;default:Fn(l,u,n)}e=e.sibling}}function Mc(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&bs(n))}function Nc(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&bs(t))}function yn(t,e,n,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_m(t,e,n,s),e=e.sibling}function _m(t,e,n,s){var l=e.flags;switch(e.tag){case 0:case 11:case 15:yn(t,e,n,s),l&2048&&Ns(9,e);break;case 1:yn(t,e,n,s);break;case 3:yn(t,e,n,s),l&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&bs(t)));break;case 12:if(l&2048){yn(t,e,n,s),t=e.stateNode;try{var u=e.memoizedProps,b=u.id,j=u.onPostCommit;typeof j=="function"&&j(b,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(P){Kt(e,e.return,P)}}else yn(t,e,n,s);break;case 31:yn(t,e,n,s);break;case 13:yn(t,e,n,s);break;case 23:break;case 22:u=e.stateNode,b=e.alternate,e.memoizedState!==null?u._visibility&2?yn(t,e,n,s):Ds(t,e):u._visibility&2?yn(t,e,n,s):(u._visibility|=2,Oa(t,e,n,s,(e.subtreeFlags&10256)!==0||!1)),l&2048&&Mc(b,e);break;case 24:yn(t,e,n,s),l&2048&&Nc(e.alternate,e);break;default:yn(t,e,n,s)}}function Oa(t,e,n,s,l){for(l=l&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var u=t,b=e,j=n,P=s,J=b.flags;switch(b.tag){case 0:case 11:case 15:Oa(u,b,j,P,l),Ns(8,b);break;case 23:break;case 22:var ct=b.stateNode;b.memoizedState!==null?ct._visibility&2?Oa(u,b,j,P,l):Ds(u,b):(ct._visibility|=2,Oa(u,b,j,P,l)),l&&J&2048&&Mc(b.alternate,b);break;case 24:Oa(u,b,j,P,l),l&&J&2048&&Nc(b.alternate,b);break;default:Oa(u,b,j,P,l)}e=e.sibling}}function Ds(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,s=e,l=s.flags;switch(s.tag){case 22:Ds(n,s),l&2048&&Mc(s.alternate,s);break;case 24:Ds(n,s),l&2048&&Nc(s.alternate,s);break;default:Ds(n,s)}e=e.sibling}}var Os=8192;function Ba(t,e,n){if(t.subtreeFlags&Os)for(t=t.child;t!==null;)Cm(t,e,n),t=t.sibling}function Cm(t,e,n){switch(t.tag){case 26:Ba(t,e,n),t.flags&Os&&t.memoizedState!==null&&G1(n,gn,t.memoizedState,t.memoizedProps);break;case 5:Ba(t,e,n);break;case 3:case 4:var s=gn;gn=po(t.stateNode.containerInfo),Ba(t,e,n),gn=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=Os,Os=16777216,Ba(t,e,n),Os=s):Ba(t,e,n));break;default:Ba(t,e,n)}}function km(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Bs(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];ve=s,Em(s,t)}km(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Am(t),t=t.sibling}function Am(t){switch(t.tag){case 0:case 11:case 15:Bs(t),t.flags&2048&&ci(9,t,t.return);break;case 3:Bs(t);break;case 12:Bs(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,eo(t)):Bs(t);break;default:Bs(t)}}function eo(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];ve=s,Em(s,t)}km(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ci(8,e,e.return),eo(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,eo(e));break;default:eo(e)}t=t.sibling}}function Em(t,e){for(;ve!==null;){var n=ve;switch(n.tag){case 0:case 11:case 15:ci(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:bs(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,ve=s;else t:for(n=t;ve!==null;){s=ve;var l=s.sibling,u=s.return;if(vm(s),s===n){ve=null;break t}if(l!==null){l.return=u,ve=l;break t}ve=u}}}var r1={getCacheForType:function(t){var e=we(fe),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return we(fe).controller.signal}},o1=typeof WeakMap=="function"?WeakMap:Map,Zt=0,te=null,Ut=null,Ft=0,Xt=0,Xe=null,ui=!1,La=!1,Rc=!1,Hn=0,oe=0,fi=0,$i=0,Dc=0,Ke=0,Ua=0,Ls=null,Ie=null,Oc=!1,no=0,zm=0,io=1/0,ao=null,di=null,pe=0,hi=null,Va=null,Pn=0,Bc=0,Lc=null,jm=null,Us=0,Uc=null;function Qe(){return(Zt&2)!==0&&Ft!==0?Ft&-Ft:G.T!==null?qc():Yf()}function Mm(){if(Ke===0)if((Ft&536870912)===0||Pt){var t=Di;Di<<=1,(Di&3932160)===0&&(Di=262144),Ke=t}else Ke=536870912;return t=Ye.current,t!==null&&(t.flags|=32),Ke}function Fe(t,e,n){(t===te&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)&&(Ia(t,0),mi(t,Ft,Ke,!1)),ss(t,n),((Zt&2)===0||t!==te)&&(t===te&&((Zt&2)===0&&($i|=n),oe===4&&mi(t,Ft,Ke,!1)),_n(t))}function Nm(t,e,n){if((Zt&6)!==0)throw Error(o(327));var s=!n&&(e&127)===0&&(e&t.expiredLanes)===0||as(t,e),l=s?u1(t,e):Ic(t,e,!0),u=s;do{if(l===0){La&&!s&&mi(t,e,0,!1);break}else{if(n=t.current.alternate,u&&!l1(n)){l=Ic(t,e,!1),u=!1;continue}if(l===2){if(u=e,t.errorRecoveryDisabledLanes&u)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){e=b;t:{var j=t;l=Ls;var P=j.current.memoizedState.isDehydrated;if(P&&(Ia(j,b).flags|=256),b=Ic(j,b,!1),b!==2){if(Rc&&!P){j.errorRecoveryDisabledLanes|=u,$i|=u,l=4;break t}u=Ie,Ie=l,u!==null&&(Ie===null?Ie=u:Ie.push.apply(Ie,u))}l=b}if(u=!1,l!==2)continue}}if(l===1){Ia(t,0),mi(t,e,0,!0);break}t:{switch(s=t,u=l,u){case 0:case 1:throw Error(o(345));case 4:if((e&4194048)!==e)break;case 6:mi(s,e,Ke,!ui);break t;case 2:Ie=null;break;case 3:case 5:break;default:throw Error(o(329))}if((e&62914560)===e&&(l=no+300-St(),10<l)){if(mi(s,e,Ke,!ui),mr(s,0,!0)!==0)break t;Pn=e,s.timeoutHandle=cp(Rm.bind(null,s,n,Ie,ao,Oc,e,Ke,$i,Ua,ui,u,"Throttled",-0,0),l);break t}Rm(s,n,Ie,ao,Oc,e,Ke,$i,Ua,ui,u,null,-0,0)}}break}while(!0);_n(t)}function Rm(t,e,n,s,l,u,b,j,P,J,ct,pt,it,ot){if(t.timeoutHandle=-1,pt=e.subtreeFlags,pt&8192||(pt&16785408)===16785408){pt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:En},Cm(e,u,pt);var At=(u&62914560)===u?no-St():(u&4194048)===u?zm-St():0;if(At=Y1(pt,At),At!==null){Pn=u,t.cancelPendingCommit=At(Fm.bind(null,t,e,u,n,s,l,b,j,P,ct,pt,null,it,ot)),mi(t,u,b,!J);return}}Fm(t,e,u,n,s,l,b,j,P)}function l1(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var l=n[s],u=l.getSnapshot;l=l.value;try{if(!qe(u(),l))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mi(t,e,n,s){e&=~Dc,e&=~$i,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var l=e;0<l;){var u=31-ae(l),b=1<<u;s[u]=-1,l&=~b}n!==0&&Pf(t,n,e)}function so(){return(Zt&6)===0?(Vs(0),!1):!0}function Vc(){if(Ut!==null){if(Xt===0)var t=Ut.return;else t=Ut,Nn=Hi=null,ec(t),ja=null,Ss=0,t=Ut;for(;t!==null;)um(t.alternate,t),t=t.return;Ut=null}}function Ia(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,E1(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Pn=0,Vc(),te=t,Ut=n=jn(t.current,null),Ft=e,Xt=0,Xe=null,ui=!1,La=as(t,e),Rc=!1,Ua=Ke=Dc=$i=fi=oe=0,Ie=Ls=null,Oc=!1,(e&8)!==0&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var l=31-ae(s),u=1<<l;e|=t[l],s&=~u}return Hn=e,kr(),n}function Dm(t,e){Ot=null,G.H=zs,e===za||e===Dr?(e=Qd(),Xt=3):e===Pl?(e=Qd(),Xt=4):Xt=e===yc?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Xe=e,Ut===null&&(oe=1,Xr(t,sn(e,t.current)))}function Om(){var t=Ye.current;return t===null?!0:(Ft&4194048)===Ft?cn===null:(Ft&62914560)===Ft||(Ft&536870912)!==0?t===cn:!1}function Bm(){var t=G.H;return G.H=zs,t===null?zs:t}function Lm(){var t=G.A;return G.A=r1,t}function ro(){oe=4,ui||(Ft&4194048)!==Ft&&Ye.current!==null||(La=!0),(fi&134217727)===0&&($i&134217727)===0||te===null||mi(te,Ft,Ke,!1)}function Ic(t,e,n){var s=Zt;Zt|=2;var l=Bm(),u=Lm();(te!==t||Ft!==e)&&(ao=null,Ia(t,e)),e=!1;var b=oe;t:do try{if(Xt!==0&&Ut!==null){var j=Ut,P=Xe;switch(Xt){case 8:Vc(),b=6;break t;case 3:case 2:case 9:case 6:Ye.current===null&&(e=!0);var J=Xt;if(Xt=0,Xe=null,Fa(t,j,P,J),n&&La){b=0;break t}break;default:J=Xt,Xt=0,Xe=null,Fa(t,j,P,J)}}c1(),b=oe;break}catch(ct){Dm(t,ct)}while(!0);return e&&t.shellSuspendCounter++,Nn=Hi=null,Zt=s,G.H=l,G.A=u,Ut===null&&(te=null,Ft=0,kr()),b}function c1(){for(;Ut!==null;)Um(Ut)}function u1(t,e){var n=Zt;Zt|=2;var s=Bm(),l=Lm();te!==t||Ft!==e?(ao=null,io=St()+500,Ia(t,e)):La=as(t,e);t:do try{if(Xt!==0&&Ut!==null){e=Ut;var u=Xe;e:switch(Xt){case 1:Xt=0,Xe=null,Fa(t,e,u,1);break;case 2:case 9:if(Xd(u)){Xt=0,Xe=null,Vm(e);break}e=function(){Xt!==2&&Xt!==9||te!==t||(Xt=7),_n(t)},u.then(e,e);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Xd(u)?(Xt=0,Xe=null,Vm(e)):(Xt=0,Xe=null,Fa(t,e,u,7));break;case 5:var b=null;switch(Ut.tag){case 26:b=Ut.memoizedState;case 5:case 27:var j=Ut;if(b?_p(b):j.stateNode.complete){Xt=0,Xe=null;var P=j.sibling;if(P!==null)Ut=P;else{var J=j.return;J!==null?(Ut=J,oo(J)):Ut=null}break e}}Xt=0,Xe=null,Fa(t,e,u,5);break;case 6:Xt=0,Xe=null,Fa(t,e,u,6);break;case 8:Vc(),oe=6;break t;default:throw Error(o(462))}}f1();break}catch(ct){Dm(t,ct)}while(!0);return Nn=Hi=null,G.H=s,G.A=l,Zt=n,Ut!==null?0:(te=null,Ft=0,kr(),oe)}function f1(){for(;Ut!==null&&!$();)Um(Ut)}function Um(t){var e=lm(t.alternate,t,Hn);t.memoizedProps=t.pendingProps,e===null?oo(t):Ut=e}function Vm(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=nm(n,e,e.pendingProps,e.type,void 0,Ft);break;case 11:e=nm(n,e,e.pendingProps,e.type.render,e.ref,Ft);break;case 5:ec(e);default:um(n,e),e=Ut=Ld(e,Hn),e=lm(n,e,Hn)}t.memoizedProps=t.pendingProps,e===null?oo(t):Ut=e}function Fa(t,e,n,s){Nn=Hi=null,ec(e),ja=null,Ss=0;var l=e.return;try{if(Jv(t,l,e,n,Ft)){oe=1,Xr(t,sn(n,t.current)),Ut=null;return}}catch(u){if(l!==null)throw Ut=l,u;oe=1,Xr(t,sn(n,t.current)),Ut=null;return}e.flags&32768?(Pt||s===1?t=!0:La||(Ft&536870912)!==0?t=!1:(ui=t=!0,(s===2||s===9||s===3||s===6)&&(s=Ye.current,s!==null&&s.tag===13&&(s.flags|=16384))),Im(e,t)):oo(e)}function oo(t){var e=t;do{if((e.flags&32768)!==0){Im(e,ui);return}t=e.return;var n=n1(e.alternate,e,Hn);if(n!==null){Ut=n;return}if(e=e.sibling,e!==null){Ut=e;return}Ut=e=t}while(e!==null);oe===0&&(oe=5)}function Im(t,e){do{var n=i1(t.alternate,t);if(n!==null){n.flags&=32767,Ut=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Ut=t;return}Ut=t=n}while(t!==null);oe=6,Ut=null}function Fm(t,e,n,s,l,u,b,j,P){t.cancelPendingCommit=null;do lo();while(pe!==0);if((Zt&6)!==0)throw Error(o(327));if(e!==null){if(e===t.current)throw Error(o(177));if(u=e.lanes|e.childLanes,u|=El,qy(t,n,u,b,j,P),t===te&&(Ut=te=null,Ft=0),Va=e,hi=t,Pn=n,Bc=u,Lc=l,jm=s,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,p1(Lt,function(){return Ym(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||s){s=G.T,G.T=null,l=Z.p,Z.p=2,b=Zt,Zt|=4;try{a1(t,e,n)}finally{Zt=b,Z.p=l,G.T=s}}pe=1,Hm(),Pm(),qm()}}function Hm(){if(pe===1){pe=0;var t=hi,e=Va,n=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||n){n=G.T,G.T=null;var s=Z.p;Z.p=2;var l=Zt;Zt|=4;try{wm(e,t);var u=Wc,b=Ed(t.containerInfo),j=u.focusedElem,P=u.selectionRange;if(b!==j&&j&&j.ownerDocument&&Ad(j.ownerDocument.documentElement,j)){if(P!==null&&Tl(j)){var J=P.start,ct=P.end;if(ct===void 0&&(ct=J),"selectionStart"in j)j.selectionStart=J,j.selectionEnd=Math.min(ct,j.value.length);else{var pt=j.ownerDocument||document,it=pt&&pt.defaultView||window;if(it.getSelection){var ot=it.getSelection(),At=j.textContent.length,Nt=Math.min(P.start,At),Wt=P.end===void 0?Nt:Math.min(P.end,At);!ot.extend&&Nt>Wt&&(b=Wt,Wt=Nt,Nt=b);var K=kd(j,Nt),Y=kd(j,Wt);if(K&&Y&&(ot.rangeCount!==1||ot.anchorNode!==K.node||ot.anchorOffset!==K.offset||ot.focusNode!==Y.node||ot.focusOffset!==Y.offset)){var W=pt.createRange();W.setStart(K.node,K.offset),ot.removeAllRanges(),Nt>Wt?(ot.addRange(W),ot.extend(Y.node,Y.offset)):(W.setEnd(Y.node,Y.offset),ot.addRange(W))}}}}for(pt=[],ot=j;ot=ot.parentNode;)ot.nodeType===1&&pt.push({element:ot,left:ot.scrollLeft,top:ot.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<pt.length;j++){var dt=pt[j];dt.element.scrollLeft=dt.left,dt.element.scrollTop=dt.top}}So=!!$c,Wc=$c=null}finally{Zt=l,Z.p=s,G.T=n}}t.current=e,pe=2}}function Pm(){if(pe===2){pe=0;var t=hi,e=Va,n=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||n){n=G.T,G.T=null;var s=Z.p;Z.p=2;var l=Zt;Zt|=4;try{ym(t,e.alternate,e)}finally{Zt=l,Z.p=s,G.T=n}}pe=3}}function qm(){if(pe===4||pe===3){pe=0,yt();var t=hi,e=Va,n=Pn,s=jm;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?pe=5:(pe=0,Va=hi=null,Gm(t,t.pendingLanes));var l=t.pendingLanes;if(l===0&&(di=null),al(n),e=e.stateNode,ge&&typeof ge.onCommitFiberRoot=="function")try{ge.onCommitFiberRoot(Jt,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=G.T,l=Z.p,Z.p=2,G.T=null;try{for(var u=t.onRecoverableError,b=0;b<s.length;b++){var j=s[b];u(j.value,{componentStack:j.stack})}}finally{G.T=e,Z.p=l}}(Pn&3)!==0&&lo(),_n(t),l=t.pendingLanes,(n&261930)!==0&&(l&42)!==0?t===Uc?Us++:(Us=0,Uc=t):Us=0,Vs(0)}}function Gm(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,bs(e)))}function lo(){return Hm(),Pm(),qm(),Ym()}function Ym(){if(pe!==5)return!1;var t=hi,e=Bc;Bc=0;var n=al(Pn),s=G.T,l=Z.p;try{Z.p=32>n?32:n,G.T=null,n=Lc,Lc=null;var u=hi,b=Pn;if(pe=0,Va=hi=null,Pn=0,(Zt&6)!==0)throw Error(o(331));var j=Zt;if(Zt|=4,Am(u.current),_m(u,u.current,b,n),Zt=j,Vs(0,!1),ge&&typeof ge.onPostCommitFiberRoot=="function")try{ge.onPostCommitFiberRoot(Jt,u)}catch{}return!0}finally{Z.p=l,G.T=s,Gm(t,e)}}function Zm(t,e,n){e=sn(n,e),e=gc(t.stateNode,e,2),t=ri(t,e,2),t!==null&&(ss(t,2),_n(t))}function Kt(t,e,n){if(t.tag===3)Zm(t,t,n);else for(;e!==null;){if(e.tag===3){Zm(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(di===null||!di.has(s))){t=sn(n,t),n=Xh(2),s=ri(e,n,2),s!==null&&(Kh(n,s,e,t),ss(s,2),_n(s));break}}e=e.return}}function Fc(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new o1;var l=new Set;s.set(e,l)}else l=s.get(e),l===void 0&&(l=new Set,s.set(e,l));l.has(n)||(Rc=!0,l.add(n),t=d1.bind(null,t,e,n),e.then(t,t))}function d1(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,te===t&&(Ft&n)===n&&(oe===4||oe===3&&(Ft&62914560)===Ft&&300>St()-no?(Zt&2)===0&&Ia(t,0):Dc|=n,Ua===Ft&&(Ua=0)),_n(t)}function Xm(t,e){e===0&&(e=Hf()),t=Vi(t,e),t!==null&&(ss(t,e),_n(t))}function h1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Xm(t,n)}function m1(t,e){var n=0;switch(t.tag){case 31:case 13:var s=t.stateNode,l=t.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(o(314))}s!==null&&s.delete(e),Xm(t,n)}function p1(t,e){return ut(t,e)}var co=null,Ha=null,Hc=!1,uo=!1,Pc=!1,pi=0;function _n(t){t!==Ha&&t.next===null&&(Ha===null?co=Ha=t:Ha=Ha.next=t),uo=!0,Hc||(Hc=!0,y1())}function Vs(t,e){if(!Pc&&uo){Pc=!0;do for(var n=!1,s=co;s!==null;){if(t!==0){var l=s.pendingLanes;if(l===0)var u=0;else{var b=s.suspendedLanes,j=s.pingedLanes;u=(1<<31-ae(42|t)+1)-1,u&=l&~(b&~j),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,Wm(s,u))}else u=Ft,u=mr(s,s===te?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||as(s,u)||(n=!0,Wm(s,u));s=s.next}while(n);Pc=!1}}function g1(){Km()}function Km(){uo=Hc=!1;var t=0;pi!==0&&A1()&&(t=pi);for(var e=St(),n=null,s=co;s!==null;){var l=s.next,u=Qm(s,e);u===0?(s.next=null,n===null?co=l:n.next=l,l===null&&(Ha=n)):(n=s,(t!==0||(u&3)!==0)&&(uo=!0)),s=l}pe!==0&&pe!==5||Vs(t),pi!==0&&(pi=0)}function Qm(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,l=t.expirationTimes,u=t.pendingLanes&-62914561;0<u;){var b=31-ae(u),j=1<<b,P=l[b];P===-1?((j&n)===0||(j&s)!==0)&&(l[b]=Py(j,e)):P<=e&&(t.expiredLanes|=j),u&=~j}if(e=te,n=Ft,n=mr(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,n===0||t===e&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&mt(s),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||as(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(s!==null&&mt(s),al(n)){case 2:case 8:n=qt;break;case 32:n=Lt;break;case 268435456:n=$n;break;default:n=Lt}return s=$m.bind(null,t),n=ut(n,s),t.callbackPriority=e,t.callbackNode=n,e}return s!==null&&s!==null&&mt(s),t.callbackPriority=2,t.callbackNode=null,2}function $m(t,e){if(pe!==0&&pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(lo()&&t.callbackNode!==n)return null;var s=Ft;return s=mr(t,t===te?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(Nm(t,s,e),Qm(t,St()),t.callbackNode!=null&&t.callbackNode===n?$m.bind(null,t):null)}function Wm(t,e){if(lo())return null;Nm(t,e,!0)}function y1(){z1(function(){(Zt&6)!==0?ut(Et,g1):Km()})}function qc(){if(pi===0){var t=Aa;t===0&&(t=la,la<<=1,(la&261888)===0&&(la=256)),pi=t}return pi}function Jm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:vr(""+t)}function tp(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function v1(t,e,n,s,l){if(e==="submit"&&n&&n.stateNode===l){var u=Jm((l[Oe]||null).action),b=s.submitter;b&&(e=(e=b[Oe]||null)?Jm(e.formAction):b.getAttribute("formAction"),e!==null&&(u=e,b=null));var j=new wr("action","action",null,s,l);t.push({event:j,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(pi!==0){var P=b?tp(l,b):new FormData(l);uc(n,{pending:!0,data:P,method:l.method,action:u},null,P)}}else typeof u=="function"&&(j.preventDefault(),P=b?tp(l,b):new FormData(l),uc(n,{pending:!0,data:P,method:l.method,action:u},u,P))},currentTarget:l}]})}}for(var Gc=0;Gc<Al.length;Gc++){var Yc=Al[Gc],b1=Yc.toLowerCase(),x1=Yc[0].toUpperCase()+Yc.slice(1);pn(b1,"on"+x1)}pn(Md,"onAnimationEnd"),pn(Nd,"onAnimationIteration"),pn(Rd,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(Bv,"onTransitionRun"),pn(Lv,"onTransitionStart"),pn(Uv,"onTransitionCancel"),pn(Dd,"onTransitionEnd"),ha("onMouseEnter",["mouseout","mouseover"]),ha("onMouseLeave",["mouseout","mouseover"]),ha("onPointerEnter",["pointerout","pointerover"]),ha("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Is));function ep(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],l=s.event;s=s.listeners;t:{var u=void 0;if(e)for(var b=s.length-1;0<=b;b--){var j=s[b],P=j.instance,J=j.currentTarget;if(j=j.listener,P!==u&&l.isPropagationStopped())break t;u=j,l.currentTarget=J;try{u(l)}catch(ct){Cr(ct)}l.currentTarget=null,u=P}else for(b=0;b<s.length;b++){if(j=s[b],P=j.instance,J=j.currentTarget,j=j.listener,P!==u&&l.isPropagationStopped())break t;u=j,l.currentTarget=J;try{u(l)}catch(ct){Cr(ct)}l.currentTarget=null,u=P}}}}function Vt(t,e){var n=e[sl];n===void 0&&(n=e[sl]=new Set);var s=t+"__bubble";n.has(s)||(np(e,t,2,!1),n.add(s))}function Zc(t,e,n){var s=0;e&&(s|=4),np(n,t,s,e)}var fo="_reactListening"+Math.random().toString(36).slice(2);function Xc(t){if(!t[fo]){t[fo]=!0,Kf.forEach(function(n){n!=="selectionchange"&&(S1.has(n)||Zc(n,!1,t),Zc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fo]||(e[fo]=!0,Zc("selectionchange",!1,e))}}function np(t,e,n,s){switch(Mp(e)){case 2:var l=K1;break;case 8:l=Q1;break;default:l=cu}n=l.bind(null,e,n,t),l=void 0,!ml||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),s?l!==void 0?t.addEventListener(e,n,{capture:!0,passive:l}):t.addEventListener(e,n,!0):l!==void 0?t.addEventListener(e,n,{passive:l}):t.addEventListener(e,n,!1)}function Kc(t,e,n,s,l){var u=s;if((e&1)===0&&(e&2)===0&&s!==null)t:for(;;){if(s===null)return;var b=s.tag;if(b===3||b===4){var j=s.stateNode.containerInfo;if(j===l)break;if(b===4)for(b=s.return;b!==null;){var P=b.tag;if((P===3||P===4)&&b.stateNode.containerInfo===l)return;b=b.return}for(;j!==null;){if(b=ua(j),b===null)return;if(P=b.tag,P===5||P===6||P===26||P===27){s=u=b;continue t}j=j.parentNode}}s=s.return}od(function(){var J=u,ct=dl(n),pt=[];t:{var it=Od.get(t);if(it!==void 0){var ot=wr,At=t;switch(t){case"keypress":if(xr(n)===0)break t;case"keydown":case"keyup":ot=mv;break;case"focusin":At="focus",ot=vl;break;case"focusout":At="blur",ot=vl;break;case"beforeblur":case"afterblur":ot=vl;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ot=ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ot=nv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ot=yv;break;case Md:case Nd:case Rd:ot=sv;break;case Dd:ot=bv;break;case"scroll":case"scrollend":ot=tv;break;case"wheel":ot=Sv;break;case"copy":case"cut":case"paste":ot=ov;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ot=dd;break;case"toggle":case"beforetoggle":ot=Tv}var Nt=(e&4)!==0,Wt=!Nt&&(t==="scroll"||t==="scrollend"),K=Nt?it!==null?it+"Capture":null:it;Nt=[];for(var Y=J,W;Y!==null;){var dt=Y;if(W=dt.stateNode,dt=dt.tag,dt!==5&&dt!==26&&dt!==27||W===null||K===null||(dt=ls(Y,K),dt!=null&&Nt.push(Fs(Y,dt,W))),Wt)break;Y=Y.return}0<Nt.length&&(it=new ot(it,At,null,n,ct),pt.push({event:it,listeners:Nt}))}}if((e&7)===0){t:{if(it=t==="mouseover"||t==="pointerover",ot=t==="mouseout"||t==="pointerout",it&&n!==fl&&(At=n.relatedTarget||n.fromElement)&&(ua(At)||At[ca]))break t;if((ot||it)&&(it=ct.window===ct?ct:(it=ct.ownerDocument)?it.defaultView||it.parentWindow:window,ot?(At=n.relatedTarget||n.toElement,ot=J,At=At?ua(At):null,At!==null&&(Wt=d(At),Nt=At.tag,At!==Wt||Nt!==5&&Nt!==27&&Nt!==6)&&(At=null)):(ot=null,At=J),ot!==At)){if(Nt=ud,dt="onMouseLeave",K="onMouseEnter",Y="mouse",(t==="pointerout"||t==="pointerover")&&(Nt=dd,dt="onPointerLeave",K="onPointerEnter",Y="pointer"),Wt=ot==null?it:os(ot),W=At==null?it:os(At),it=new Nt(dt,Y+"leave",ot,n,ct),it.target=Wt,it.relatedTarget=W,dt=null,ua(ct)===J&&(Nt=new Nt(K,Y+"enter",At,n,ct),Nt.target=W,Nt.relatedTarget=Wt,dt=Nt),Wt=dt,ot&&At)e:{for(Nt=w1,K=ot,Y=At,W=0,dt=K;dt;dt=Nt(dt))W++;dt=0;for(var Mt=Y;Mt;Mt=Nt(Mt))dt++;for(;0<W-dt;)K=Nt(K),W--;for(;0<dt-W;)Y=Nt(Y),dt--;for(;W--;){if(K===Y||Y!==null&&K===Y.alternate){Nt=K;break e}K=Nt(K),Y=Nt(Y)}Nt=null}else Nt=null;ot!==null&&ip(pt,it,ot,Nt,!1),At!==null&&Wt!==null&&ip(pt,Wt,At,Nt,!0)}}t:{if(it=J?os(J):window,ot=it.nodeName&&it.nodeName.toLowerCase(),ot==="select"||ot==="input"&&it.type==="file")var Gt=xd;else if(vd(it))if(Sd)Gt=Rv;else{Gt=Mv;var jt=jv}else ot=it.nodeName,!ot||ot.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?J&&ul(J.elementType)&&(Gt=xd):Gt=Nv;if(Gt&&(Gt=Gt(t,J))){bd(pt,Gt,n,ct);break t}jt&&jt(t,it,J),t==="focusout"&&J&&it.type==="number"&&J.memoizedProps.value!=null&&cl(it,"number",it.value)}switch(jt=J?os(J):window,t){case"focusin":(vd(jt)||jt.contentEditable==="true")&&(ba=jt,_l=J,gs=null);break;case"focusout":gs=_l=ba=null;break;case"mousedown":Cl=!0;break;case"contextmenu":case"mouseup":case"dragend":Cl=!1,zd(pt,n,ct);break;case"selectionchange":if(Ov)break;case"keydown":case"keyup":zd(pt,n,ct)}var Bt;if(xl)t:{switch(t){case"compositionstart":var Ht="onCompositionStart";break t;case"compositionend":Ht="onCompositionEnd";break t;case"compositionupdate":Ht="onCompositionUpdate";break t}Ht=void 0}else va?gd(t,n)&&(Ht="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(Ht="onCompositionStart");Ht&&(hd&&n.locale!=="ko"&&(va||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&va&&(Bt=ld()):(Jn=ct,pl="value"in Jn?Jn.value:Jn.textContent,va=!0)),jt=ho(J,Ht),0<jt.length&&(Ht=new fd(Ht,t,null,n,ct),pt.push({event:Ht,listeners:jt}),Bt?Ht.data=Bt:(Bt=yd(n),Bt!==null&&(Ht.data=Bt)))),(Bt=Cv?kv(t,n):Av(t,n))&&(Ht=ho(J,"onBeforeInput"),0<Ht.length&&(jt=new fd("onBeforeInput","beforeinput",null,n,ct),pt.push({event:jt,listeners:Ht}),jt.data=Bt)),v1(pt,t,J,n,ct)}ep(pt,e)})}function Fs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ho(t,e){for(var n=e+"Capture",s=[];t!==null;){var l=t,u=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||u===null||(l=ls(t,n),l!=null&&s.unshift(Fs(t,l,u)),l=ls(t,e),l!=null&&s.push(Fs(t,l,u))),t.tag===3)return s;t=t.return}return[]}function w1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ip(t,e,n,s,l){for(var u=e._reactName,b=[];n!==null&&n!==s;){var j=n,P=j.alternate,J=j.stateNode;if(j=j.tag,P!==null&&P===s)break;j!==5&&j!==26&&j!==27||J===null||(P=J,l?(J=ls(n,u),J!=null&&b.unshift(Fs(n,J,P))):l||(J=ls(n,u),J!=null&&b.push(Fs(n,J,P)))),n=n.return}b.length!==0&&t.push({event:e,listeners:b})}var T1=/\r\n?/g,_1=/\u0000|\uFFFD/g;function ap(t){return(typeof t=="string"?t:""+t).replace(T1,`
`).replace(_1,"")}function sp(t,e){return e=ap(e),ap(t)===e}function $t(t,e,n,s,l,u){switch(n){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||pa(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&pa(t,""+s);break;case"className":gr(t,"class",s);break;case"tabIndex":gr(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":gr(t,n,s);break;case"style":sd(t,s,u);break;case"data":if(e!=="object"){gr(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=vr(""+s),t.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(e!=="input"&&$t(t,e,"name",l.name,l,null),$t(t,e,"formEncType",l.formEncType,l,null),$t(t,e,"formMethod",l.formMethod,l,null),$t(t,e,"formTarget",l.formTarget,l,null)):($t(t,e,"encType",l.encType,l,null),$t(t,e,"method",l.method,l,null),$t(t,e,"target",l.target,l,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=vr(""+s),t.setAttribute(n,s);break;case"onClick":s!=null&&(t.onclick=En);break;case"onScroll":s!=null&&Vt("scroll",t);break;case"onScrollEnd":s!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(n=s.__html,n!=null){if(l.children!=null)throw Error(o(60));t.innerHTML=n}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}n=vr(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""+s):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":s===!0?t.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,s):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(n,s):t.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(n):t.setAttribute(n,s);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),pr(t,"popover",s);break;case"xlinkActuate":An(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":An(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":An(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":An(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":An(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":An(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":An(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":An(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":An(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":pr(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Wy.get(n)||n,pr(t,n,s))}}function Qc(t,e,n,s,l,u){switch(n){case"style":sd(t,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(n=s.__html,n!=null){if(l.children!=null)throw Error(o(60));t.innerHTML=n}}break;case"children":typeof s=="string"?pa(t,s):(typeof s=="number"||typeof s=="bigint")&&pa(t,""+s);break;case"onScroll":s!=null&&Vt("scroll",t);break;case"onScrollEnd":s!=null&&Vt("scrollend",t);break;case"onClick":s!=null&&(t.onclick=En);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qf.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),e=n.slice(2,l?n.length-7:void 0),u=t[Oe]||null,u=u!=null?u[n]:null,typeof u=="function"&&t.removeEventListener(e,u,l),typeof s=="function")){typeof u!="function"&&u!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,s,l);break t}n in t?t[n]=s:s===!0?t.setAttribute(n,""):pr(t,n,s)}}}function _e(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var s=!1,l=!1,u;for(u in n)if(n.hasOwnProperty(u)){var b=n[u];if(b!=null)switch(u){case"src":s=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,e));default:$t(t,e,u,b,n,null)}}l&&$t(t,e,"srcSet",n.srcSet,n,null),s&&$t(t,e,"src",n.src,n,null);return;case"input":Vt("invalid",t);var j=u=b=l=null,P=null,J=null;for(s in n)if(n.hasOwnProperty(s)){var ct=n[s];if(ct!=null)switch(s){case"name":l=ct;break;case"type":b=ct;break;case"checked":P=ct;break;case"defaultChecked":J=ct;break;case"value":u=ct;break;case"defaultValue":j=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(o(137,e));break;default:$t(t,e,s,ct,n,null)}}ed(t,u,j,P,J,b,l,!1);return;case"select":Vt("invalid",t),s=b=u=null;for(l in n)if(n.hasOwnProperty(l)&&(j=n[l],j!=null))switch(l){case"value":u=j;break;case"defaultValue":b=j;break;case"multiple":s=j;default:$t(t,e,l,j,n,null)}e=u,n=b,t.multiple=!!s,e!=null?ma(t,!!s,e,!1):n!=null&&ma(t,!!s,n,!0);return;case"textarea":Vt("invalid",t),u=l=s=null;for(b in n)if(n.hasOwnProperty(b)&&(j=n[b],j!=null))switch(b){case"value":s=j;break;case"defaultValue":l=j;break;case"children":u=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(o(91));break;default:$t(t,e,b,j,n,null)}id(t,s,l,u);return;case"option":for(P in n)if(n.hasOwnProperty(P)&&(s=n[P],s!=null))switch(P){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:$t(t,e,P,s,n,null)}return;case"dialog":Vt("beforetoggle",t),Vt("toggle",t),Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(s=0;s<Is.length;s++)Vt(Is[s],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in n)if(n.hasOwnProperty(J)&&(s=n[J],s!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,e));default:$t(t,e,J,s,n,null)}return;default:if(ul(e)){for(ct in n)n.hasOwnProperty(ct)&&(s=n[ct],s!==void 0&&Qc(t,e,ct,s,n,void 0));return}}for(j in n)n.hasOwnProperty(j)&&(s=n[j],s!=null&&$t(t,e,j,s,n,null))}function C1(t,e,n,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,u=null,b=null,j=null,P=null,J=null,ct=null;for(ot in n){var pt=n[ot];if(n.hasOwnProperty(ot)&&pt!=null)switch(ot){case"checked":break;case"value":break;case"defaultValue":P=pt;default:s.hasOwnProperty(ot)||$t(t,e,ot,null,s,pt)}}for(var it in s){var ot=s[it];if(pt=n[it],s.hasOwnProperty(it)&&(ot!=null||pt!=null))switch(it){case"type":u=ot;break;case"name":l=ot;break;case"checked":J=ot;break;case"defaultChecked":ct=ot;break;case"value":b=ot;break;case"defaultValue":j=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(o(137,e));break;default:ot!==pt&&$t(t,e,it,ot,s,pt)}}ll(t,b,j,P,J,ct,u,l);return;case"select":ot=b=j=it=null;for(u in n)if(P=n[u],n.hasOwnProperty(u)&&P!=null)switch(u){case"value":break;case"multiple":ot=P;default:s.hasOwnProperty(u)||$t(t,e,u,null,s,P)}for(l in s)if(u=s[l],P=n[l],s.hasOwnProperty(l)&&(u!=null||P!=null))switch(l){case"value":it=u;break;case"defaultValue":j=u;break;case"multiple":b=u;default:u!==P&&$t(t,e,l,u,s,P)}e=j,n=b,s=ot,it!=null?ma(t,!!n,it,!1):!!s!=!!n&&(e!=null?ma(t,!!n,e,!0):ma(t,!!n,n?[]:"",!1));return;case"textarea":ot=it=null;for(j in n)if(l=n[j],n.hasOwnProperty(j)&&l!=null&&!s.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:$t(t,e,j,null,s,l)}for(b in s)if(l=s[b],u=n[b],s.hasOwnProperty(b)&&(l!=null||u!=null))switch(b){case"value":it=l;break;case"defaultValue":ot=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(o(91));break;default:l!==u&&$t(t,e,b,l,s,u)}nd(t,it,ot);return;case"option":for(var At in n)if(it=n[At],n.hasOwnProperty(At)&&it!=null&&!s.hasOwnProperty(At))switch(At){case"selected":t.selected=!1;break;default:$t(t,e,At,null,s,it)}for(P in s)if(it=s[P],ot=n[P],s.hasOwnProperty(P)&&it!==ot&&(it!=null||ot!=null))switch(P){case"selected":t.selected=it&&typeof it!="function"&&typeof it!="symbol";break;default:$t(t,e,P,it,s,ot)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Nt in n)it=n[Nt],n.hasOwnProperty(Nt)&&it!=null&&!s.hasOwnProperty(Nt)&&$t(t,e,Nt,null,s,it);for(J in s)if(it=s[J],ot=n[J],s.hasOwnProperty(J)&&it!==ot&&(it!=null||ot!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(o(137,e));break;default:$t(t,e,J,it,s,ot)}return;default:if(ul(e)){for(var Wt in n)it=n[Wt],n.hasOwnProperty(Wt)&&it!==void 0&&!s.hasOwnProperty(Wt)&&Qc(t,e,Wt,void 0,s,it);for(ct in s)it=s[ct],ot=n[ct],!s.hasOwnProperty(ct)||it===ot||it===void 0&&ot===void 0||Qc(t,e,ct,it,s,ot);return}}for(var K in n)it=n[K],n.hasOwnProperty(K)&&it!=null&&!s.hasOwnProperty(K)&&$t(t,e,K,null,s,it);for(pt in s)it=s[pt],ot=n[pt],!s.hasOwnProperty(pt)||it===ot||it==null&&ot==null||$t(t,e,pt,it,s,ot)}function rp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function k1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var l=n[s],u=l.transferSize,b=l.initiatorType,j=l.duration;if(u&&j&&rp(b)){for(b=0,j=l.responseEnd,s+=1;s<n.length;s++){var P=n[s],J=P.startTime;if(J>j)break;var ct=P.transferSize,pt=P.initiatorType;ct&&rp(pt)&&(P=P.responseEnd,b+=ct*(P<j?1:(j-J)/(P-J)))}if(--s,e+=8*(u+b)/(l.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var $c=null,Wc=null;function mo(t){return t.nodeType===9?t:t.ownerDocument}function op(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lp(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Jc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tu=null;function A1(){var t=window.event;return t&&t.type==="popstate"?t===tu?!1:(tu=t,!0):(tu=null,!1)}var cp=typeof setTimeout=="function"?setTimeout:void 0,E1=typeof clearTimeout=="function"?clearTimeout:void 0,up=typeof Promise=="function"?Promise:void 0,z1=typeof queueMicrotask=="function"?queueMicrotask:typeof up<"u"?function(t){return up.resolve(null).then(t).catch(j1)}:cp;function j1(t){setTimeout(function(){throw t})}function gi(t){return t==="head"}function fp(t,e){var n=e,s=0;do{var l=n.nextSibling;if(t.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"||n==="/&"){if(s===0){t.removeChild(l),Ya(e);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")Hs(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Hs(n);for(var u=n.firstChild;u;){var b=u.nextSibling,j=u.nodeName;u[rs]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=b}}else n==="body"&&Hs(t.ownerDocument.body);n=l}while(n);Ya(e)}function dp(t,e){var n=t;t=0;do{var s=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=s}while(n)}function eu(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":eu(n),rl(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function M1(t,e,n,s){for(;t.nodeType===1;){var l=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[rs])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(u=t.getAttribute("rel"),u==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(u!==l.rel||t.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||t.getAttribute("title")!==(l.title==null?null:l.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(u=t.getAttribute("src"),(u!==(l.src==null?null:l.src)||t.getAttribute("type")!==(l.type==null?null:l.type)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&u&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var u=l.name==null?null:""+l.name;if(l.type==="hidden"&&t.getAttribute("name")===u)return t}else return t;if(t=un(t.nextSibling),t===null)break}return null}function N1(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=un(t.nextSibling),t===null))return null;return t}function hp(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=un(t.nextSibling),t===null))return null;return t}function nu(t){return t.data==="$?"||t.data==="$~"}function iu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function R1(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var s=function(){e(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function un(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var au=null;function mp(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return un(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function pp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function gp(t,e,n){switch(e=mo(n),t){case"html":if(t=e.documentElement,!t)throw Error(o(452));return t;case"head":if(t=e.head,!t)throw Error(o(453));return t;case"body":if(t=e.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function Hs(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);rl(t)}var fn=new Map,yp=new Set;function po(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qn=Z.d;Z.d={f:D1,r:O1,D:B1,C:L1,L:U1,m:V1,X:F1,S:I1,M:H1};function D1(){var t=qn.f(),e=so();return t||e}function O1(t){var e=fa(t);e!==null&&e.tag===5&&e.type==="form"?Dh(e):qn.r(t)}var Pa=typeof document>"u"?null:document;function vp(t,e,n){var s=Pa;if(s&&typeof e=="string"&&e){var l=nn(e);l='link[rel="'+t+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),yp.has(l)||(yp.add(l),t={rel:t,crossOrigin:n,href:e},s.querySelector(l)===null&&(e=s.createElement("link"),_e(e,"link",t),ye(e),s.head.appendChild(e)))}}function B1(t){qn.D(t),vp("dns-prefetch",t,null)}function L1(t,e){qn.C(t,e),vp("preconnect",t,e)}function U1(t,e,n){qn.L(t,e,n);var s=Pa;if(s&&t&&e){var l='link[rel="preload"][as="'+nn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+nn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+nn(n.imageSizes)+'"]')):l+='[href="'+nn(t)+'"]';var u=l;switch(e){case"style":u=qa(t);break;case"script":u=Ga(t)}fn.has(u)||(t=y({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),fn.set(u,t),s.querySelector(l)!==null||e==="style"&&s.querySelector(Ps(u))||e==="script"&&s.querySelector(qs(u))||(e=s.createElement("link"),_e(e,"link",t),ye(e),s.head.appendChild(e)))}}function V1(t,e){qn.m(t,e);var n=Pa;if(n&&t){var s=e&&typeof e.as=="string"?e.as:"script",l='link[rel="modulepreload"][as="'+nn(s)+'"][href="'+nn(t)+'"]',u=l;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Ga(t)}if(!fn.has(u)&&(t=y({rel:"modulepreload",href:t},e),fn.set(u,t),n.querySelector(l)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(qs(u)))return}s=n.createElement("link"),_e(s,"link",t),ye(s),n.head.appendChild(s)}}}function I1(t,e,n){qn.S(t,e,n);var s=Pa;if(s&&t){var l=da(s).hoistableStyles,u=qa(t);e=e||"default";var b=l.get(u);if(!b){var j={loading:0,preload:null};if(b=s.querySelector(Ps(u)))j.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":e},n),(n=fn.get(u))&&su(t,n);var P=b=s.createElement("link");ye(P),_e(P,"link",t),P._p=new Promise(function(J,ct){P.onload=J,P.onerror=ct}),P.addEventListener("load",function(){j.loading|=1}),P.addEventListener("error",function(){j.loading|=2}),j.loading|=4,go(b,e,s)}b={type:"stylesheet",instance:b,count:1,state:j},l.set(u,b)}}}function F1(t,e){qn.X(t,e);var n=Pa;if(n&&t){var s=da(n).hoistableScripts,l=Ga(t),u=s.get(l);u||(u=n.querySelector(qs(l)),u||(t=y({src:t,async:!0},e),(e=fn.get(l))&&ru(t,e),u=n.createElement("script"),ye(u),_e(u,"link",t),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(l,u))}}function H1(t,e){qn.M(t,e);var n=Pa;if(n&&t){var s=da(n).hoistableScripts,l=Ga(t),u=s.get(l);u||(u=n.querySelector(qs(l)),u||(t=y({src:t,async:!0,type:"module"},e),(e=fn.get(l))&&ru(t,e),u=n.createElement("script"),ye(u),_e(u,"link",t),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(l,u))}}function bp(t,e,n,s){var l=(l=kt.current)?po(l):null;if(!l)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=qa(n.href),n=da(l).hoistableStyles,s=n.get(e),s||(s={type:"style",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=qa(n.href);var u=da(l).hoistableStyles,b=u.get(t);if(b||(l=l.ownerDocument||l,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(t,b),(u=l.querySelector(Ps(t)))&&!u._p&&(b.instance=u,b.state.loading=5),fn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},fn.set(t,n),u||P1(l,t,n,b.state))),e&&s===null)throw Error(o(528,""));return b}if(e&&s!==null)throw Error(o(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Ga(n),n=da(l).hoistableScripts,s=n.get(e),s||(s={type:"script",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function qa(t){return'href="'+nn(t)+'"'}function Ps(t){return'link[rel="stylesheet"]['+t+"]"}function xp(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function P1(t,e,n,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),_e(e,"link",n),ye(e),t.head.appendChild(e))}function Ga(t){return'[src="'+nn(t)+'"]'}function qs(t){return"script[async]"+t}function Sp(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+nn(n.href)+'"]');if(s)return e.instance=s,ye(s),s;var l=y({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),ye(s),_e(s,"style",l),go(s,n.precedence,t),e.instance=s;case"stylesheet":l=qa(n.href);var u=t.querySelector(Ps(l));if(u)return e.state.loading|=4,e.instance=u,ye(u),u;s=xp(n),(l=fn.get(l))&&su(s,l),u=(t.ownerDocument||t).createElement("link"),ye(u);var b=u;return b._p=new Promise(function(j,P){b.onload=j,b.onerror=P}),_e(u,"link",s),e.state.loading|=4,go(u,n.precedence,t),e.instance=u;case"script":return u=Ga(n.src),(l=t.querySelector(qs(u)))?(e.instance=l,ye(l),l):(s=n,(l=fn.get(u))&&(s=y({},n),ru(s,l)),t=t.ownerDocument||t,l=t.createElement("script"),ye(l),_e(l,"link",s),t.head.appendChild(l),e.instance=l);case"void":return null;default:throw Error(o(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(s=e.instance,e.state.loading|=4,go(s,n.precedence,t));return e.instance}function go(t,e,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=s.length?s[s.length-1]:null,u=l,b=0;b<s.length;b++){var j=s[b];if(j.dataset.precedence===e)u=j;else if(u!==l)break}u?u.parentNode.insertBefore(t,u.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function su(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function ru(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var yo=null;function wp(t,e,n){if(yo===null){var s=new Map,l=yo=new Map;l.set(n,s)}else l=yo,s=l.get(n),s||(s=new Map,l.set(n,s));if(s.has(t))return s;for(s.set(t,null),n=n.getElementsByTagName(t),l=0;l<n.length;l++){var u=n[l];if(!(u[rs]||u[xe]||t==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var b=u.getAttribute(e)||"";b=t+b;var j=s.get(b);j?j.push(u):s.set(b,[u])}}return s}function Tp(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function q1(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function _p(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function G1(t,e,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var l=qa(s.href),u=e.querySelector(Ps(l));if(u){e=u._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=vo.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=u,ye(u);return}u=e.ownerDocument||e,s=xp(s),(l=fn.get(l))&&su(s,l),u=u.createElement("link"),ye(u);var b=u;b._p=new Promise(function(j,P){b.onload=j,b.onerror=P}),_e(u,"link",s),n.instance=u}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(t.count++,n=vo.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var ou=0;function Y1(t,e){return t.stylesheets&&t.count===0&&xo(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var s=setTimeout(function(){if(t.stylesheets&&xo(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4+e);0<t.imgBytes&&ou===0&&(ou=62500*k1());var l=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&xo(t,t.stylesheets),t.unsuspend)){var u=t.unsuspend;t.unsuspend=null,u()}},(t.imgBytes>ou?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s),clearTimeout(l)}}:null}function vo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bo=null;function xo(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bo=new Map,e.forEach(Z1,t),bo=null,vo.call(t))}function Z1(t,e){if(!(e.state.loading&4)){var n=bo.get(t);if(n)var s=n.get(null);else{n=new Map,bo.set(t,n);for(var l=t.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<l.length;u++){var b=l[u];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(n.set(b.dataset.precedence,b),s=b)}s&&n.set(null,s)}l=e.instance,b=l.getAttribute("data-precedence"),u=n.get(b)||s,u===s&&n.set(null,l),n.set(b,l),this.count++,s=vo.bind(this),l.addEventListener("load",s),l.addEventListener("error",s),u?u.parentNode.insertBefore(l,u.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(l,t.firstChild)),e.state.loading|=4}}var Gs={$$typeof:A,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function X1(t,e,n,s,l,u,b,j,P){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nl(0),this.hiddenUpdates=nl(null),this.identifierPrefix=s,this.onUncaughtError=l,this.onCaughtError=u,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Cp(t,e,n,s,l,u,b,j,P,J,ct,pt){return t=new X1(t,e,n,b,P,J,ct,pt,j),e=1,u===!0&&(e|=24),u=Ge(3,null,null,e),t.current=u,u.stateNode=t,e=Il(),e.refCount++,t.pooledCache=e,e.refCount++,u.memoizedState={element:s,isDehydrated:n,cache:e},ql(u),t}function kp(t){return t?(t=wa,t):wa}function Ap(t,e,n,s,l,u){l=kp(l),s.context===null?s.context=l:s.pendingContext=l,s=si(e),s.payload={element:n},u=u===void 0?null:u,u!==null&&(s.callback=u),n=ri(t,s,e),n!==null&&(Fe(n,t,e),Ts(n,t,e))}function Ep(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lu(t,e){Ep(t,e),(t=t.alternate)&&Ep(t,e)}function zp(t){if(t.tag===13||t.tag===31){var e=Vi(t,67108864);e!==null&&Fe(e,t,67108864),lu(t,67108864)}}function jp(t){if(t.tag===13||t.tag===31){var e=Qe();e=il(e);var n=Vi(t,e);n!==null&&Fe(n,t,e),lu(t,e)}}var So=!0;function K1(t,e,n,s){var l=G.T;G.T=null;var u=Z.p;try{Z.p=2,cu(t,e,n,s)}finally{Z.p=u,G.T=l}}function Q1(t,e,n,s){var l=G.T;G.T=null;var u=Z.p;try{Z.p=8,cu(t,e,n,s)}finally{Z.p=u,G.T=l}}function cu(t,e,n,s){if(So){var l=uu(s);if(l===null)Kc(t,e,s,wo,n),Np(t,s);else if(W1(l,t,e,n,s))s.stopPropagation();else if(Np(t,s),e&4&&-1<$1.indexOf(t)){for(;l!==null;){var u=fa(l);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var b=tn(u.pendingLanes);if(b!==0){var j=u;for(j.pendingLanes|=2,j.entangledLanes|=2;b;){var P=1<<31-ae(b);j.entanglements[1]|=P,b&=~P}_n(u),(Zt&6)===0&&(io=St()+500,Vs(0))}}break;case 31:case 13:j=Vi(u,2),j!==null&&Fe(j,u,2),so(),lu(u,2)}if(u=uu(s),u===null&&Kc(t,e,s,wo,n),u===l)break;l=u}l!==null&&s.stopPropagation()}else Kc(t,e,s,null,n)}}function uu(t){return t=dl(t),fu(t)}var wo=null;function fu(t){if(wo=null,t=ua(t),t!==null){var e=d(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=f(e),t!==null)return t;t=null}else if(n===31){if(t=h(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return wo=t,null}function Mp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case Et:return 2;case qt:return 8;case Lt:case De:return 32;case $n:return 268435456;default:return 32}default:return 32}}var du=!1,yi=null,vi=null,bi=null,Ys=new Map,Zs=new Map,xi=[],$1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Np(t,e){switch(t){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":Ys.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zs.delete(e.pointerId)}}function Xs(t,e,n,s,l,u){return t===null||t.nativeEvent!==u?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:u,targetContainers:[l]},e!==null&&(e=fa(e),e!==null&&zp(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),t)}function W1(t,e,n,s,l){switch(e){case"focusin":return yi=Xs(yi,t,e,n,s,l),!0;case"dragenter":return vi=Xs(vi,t,e,n,s,l),!0;case"mouseover":return bi=Xs(bi,t,e,n,s,l),!0;case"pointerover":var u=l.pointerId;return Ys.set(u,Xs(Ys.get(u)||null,t,e,n,s,l)),!0;case"gotpointercapture":return u=l.pointerId,Zs.set(u,Xs(Zs.get(u)||null,t,e,n,s,l)),!0}return!1}function Rp(t){var e=ua(t.target);if(e!==null){var n=d(e);if(n!==null){if(e=n.tag,e===13){if(e=f(n),e!==null){t.blockedOn=e,Zf(t.priority,function(){jp(n)});return}}else if(e===31){if(e=h(n),e!==null){t.blockedOn=e,Zf(t.priority,function(){jp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function To(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=uu(t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);fl=s,n.target.dispatchEvent(s),fl=null}else return e=fa(n),e!==null&&zp(e),t.blockedOn=n,!1;e.shift()}return!0}function Dp(t,e,n){To(t)&&n.delete(e)}function J1(){du=!1,yi!==null&&To(yi)&&(yi=null),vi!==null&&To(vi)&&(vi=null),bi!==null&&To(bi)&&(bi=null),Ys.forEach(Dp),Zs.forEach(Dp)}function _o(t,e){t.blockedOn===e&&(t.blockedOn=null,du||(du=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,J1)))}var Co=null;function Op(t){Co!==t&&(Co=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Co===t&&(Co=null);for(var e=0;e<t.length;e+=3){var n=t[e],s=t[e+1],l=t[e+2];if(typeof s!="function"){if(fu(s||n)===null)continue;break}var u=fa(n);u!==null&&(t.splice(e,3),e-=3,uc(u,{pending:!0,data:l,method:n.method,action:s},s,l))}}))}function Ya(t){function e(P){return _o(P,t)}yi!==null&&_o(yi,t),vi!==null&&_o(vi,t),bi!==null&&_o(bi,t),Ys.forEach(e),Zs.forEach(e);for(var n=0;n<xi.length;n++){var s=xi[n];s.blockedOn===t&&(s.blockedOn=null)}for(;0<xi.length&&(n=xi[0],n.blockedOn===null);)Rp(n),n.blockedOn===null&&xi.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var l=n[s],u=n[s+1],b=l[Oe]||null;if(typeof u=="function")b||Op(n);else if(b){var j=null;if(u&&u.hasAttribute("formAction")){if(l=u,b=u[Oe]||null)j=b.formAction;else if(fu(l)!==null)continue}else j=b.action;typeof j=="function"?n[s+1]=j:(n.splice(s,3),s-=3),Op(n)}}}function Bp(){function t(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(b){return l=b})},focusReset:"manual",scroll:"manual"})}function e(){l!==null&&(l(),l=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,l=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),l!==null&&(l(),l=null)}}}function hu(t){this._internalRoot=t}ko.prototype.render=hu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(o(409));var n=e.current,s=Qe();Ap(n,s,t,e,null,null)},ko.prototype.unmount=hu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ap(t.current,2,null,t,null,null),so(),e[ca]=null}};function ko(t){this._internalRoot=t}ko.prototype.unstable_scheduleHydration=function(t){if(t){var e=Yf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xi.length&&e!==0&&e<xi[n].priority;n++);xi.splice(n,0,t),n===0&&Rp(t)}};var Lp=i.version;if(Lp!=="19.2.3")throw Error(o(527,Lp,"19.2.3"));Z.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=p(e),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var tb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ao.isDisabled&&Ao.supportsFiber)try{Jt=Ao.inject(tb),ge=Ao}catch{}}return Qs.createRoot=function(t,e){if(!c(t))throw Error(o(299));var n=!1,s="",l=qh,u=Gh,b=Yh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(l=e.onUncaughtError),e.onCaughtError!==void 0&&(u=e.onCaughtError),e.onRecoverableError!==void 0&&(b=e.onRecoverableError)),e=Cp(t,1,!1,null,null,n,s,null,l,u,b,Bp),t[ca]=e.current,Xc(t),new hu(e)},Qs.hydrateRoot=function(t,e,n){if(!c(t))throw Error(o(299));var s=!1,l="",u=qh,b=Gh,j=Yh,P=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(b=n.onCaughtError),n.onRecoverableError!==void 0&&(j=n.onRecoverableError),n.formState!==void 0&&(P=n.formState)),e=Cp(t,1,!0,e,n??null,s,l,P,u,b,j,Bp),e.context=kp(null),n=e.current,s=Qe(),s=il(s),l=si(s),l.callback=null,ri(n,l,s),n=s,e.current.lanes=n,ss(e,n),_n(e),t[ca]=e.current,Xc(t),new ko(e)},Qs.version="19.2.3",Qs}var Zp;function cb(){if(Zp)return gu.exports;Zp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),gu.exports=lb(),gu.exports}var ub=cb();const fb=rf(ub);var db=d0();const lf=I.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"}),Zo=I.createContext({}),Xo=I.createContext(null),cf=typeof document<"u",uf=cf?I.useLayoutEffect:I.useEffect,h0=I.createContext({strict:!1}),ff=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),hb="framerAppearId",m0="data-"+ff(hb),mb={useManualTiming:!1};class Xp{constructor(){this.order=[],this.scheduled=new Set}add(i){if(!this.scheduled.has(i))return this.scheduled.add(i),this.order.push(i),!0}remove(i){const r=this.order.indexOf(i);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(i))}clear(){this.order.length=0,this.scheduled.clear()}}function pb(a){let i=new Xp,r=new Xp,o=0,c=!1,d=!1;const f=new WeakSet,h={schedule:(m,p=!1,g=!1)=>{const y=g&&c,T=y?i:r;return p&&f.add(m),T.add(m)&&y&&c&&(o=i.order.length),m},cancel:m=>{r.remove(m),f.delete(m)},process:m=>{if(c){d=!0;return}if(c=!0,[i,r]=[r,i],r.clear(),o=i.order.length,o)for(let p=0;p<o;p++){const g=i.order[p];f.has(g)&&(h.schedule(g),a()),g(m)}c=!1,d&&(d=!1,h.process(m))}};return h}const zo=["read","resolveKeyframes","update","preRender","render","postRender"],gb=40;function p0(a,i){let r=!1,o=!0;const c={delta:0,timestamp:0,isProcessing:!1},d=zo.reduce((y,T)=>(y[T]=pb(()=>r=!0),y),{}),f=y=>{d[y].process(c)},h=()=>{const y=performance.now();r=!1,c.delta=o?1e3/60:Math.max(Math.min(y-c.timestamp,gb),1),c.timestamp=y,c.isProcessing=!0,zo.forEach(f),c.isProcessing=!1,r&&i&&(o=!1,a(h))},m=()=>{r=!0,o=!0,c.isProcessing||a(h)};return{schedule:zo.reduce((y,T)=>{const S=d[T];return y[T]=(z,v=!1,C=!1)=>(r||m(),S.schedule(z,v,C)),y},{}),cancel:y=>zo.forEach(T=>d[T].cancel(y)),state:c,steps:d}}const{schedule:df}=p0(queueMicrotask,!1);function yb(a,i,r,o){const{visualElement:c}=I.useContext(Zo),d=I.useContext(h0),f=I.useContext(Xo),h=I.useContext(lf).reducedMotion,m=I.useRef();o=o||d.renderer,!m.current&&o&&(m.current=o(a,{visualState:i,parent:c,props:r,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:h}));const p=m.current;I.useInsertionEffect(()=>{p&&p.update(r,f)});const g=I.useRef(!!(r[m0]&&!window.HandoffComplete));return uf(()=>{p&&(df.postRender(p.render),g.current&&p.animationState&&p.animationState.animateChanges())}),I.useEffect(()=>{p&&(p.updateFeatures(),!g.current&&p.animationState&&p.animationState.animateChanges(),g.current&&(g.current=!1,window.HandoffComplete=!0))}),p}function Ka(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function vb(a,i,r){return I.useCallback(o=>{o&&a.mount&&a.mount(o),i&&(o?i.mount(o):i.unmount()),r&&(typeof r=="function"?r(o):Ka(r)&&(r.current=o))},[i])}function sr(a){return typeof a=="string"||Array.isArray(a)}function Ko(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}const hf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mf=["initial",...hf];function Qo(a){return Ko(a.animate)||mf.some(i=>sr(a[i]))}function g0(a){return!!(Qo(a)||a.variants)}function bb(a,i){if(Qo(a)){const{initial:r,animate:o}=a;return{initial:r===!1||sr(r)?r:void 0,animate:sr(o)?o:void 0}}return a.inherit!==!1?i:{}}function xb(a){const{initial:i,animate:r}=bb(a,I.useContext(Zo));return I.useMemo(()=>({initial:i,animate:r}),[Kp(i),Kp(r)])}function Kp(a){return Array.isArray(a)?a.join(" "):a}const Qp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rr={};for(const a in Qp)rr[a]={isEnabled:i=>Qp[a].some(r=>!!i[r])};function Sb(a){for(const i in a)rr[i]={...rr[i],...a[i]}}const pf=I.createContext({}),y0=I.createContext({}),wb=Symbol.for("motionComponentSymbol");function Tb({preloadedFeatures:a,createVisualElement:i,useRender:r,useVisualState:o,Component:c}){a&&Sb(a);function d(h,m){let p;const g={...I.useContext(lf),...h,layoutId:_b(h)},{isStatic:y}=g,T=xb(h),S=o(h,y);if(!y&&cf){T.visualElement=yb(c,S,g,i);const z=I.useContext(y0),v=I.useContext(h0).strict;T.visualElement&&(p=T.visualElement.loadFeatures(g,v,a,z))}return w.jsxs(Zo.Provider,{value:T,children:[p&&T.visualElement?w.jsx(p,{visualElement:T.visualElement,...g}):null,r(c,h,vb(S,T.visualElement,m),S,y,T.visualElement)]})}const f=I.forwardRef(d);return f[wb]=c,f}function _b({layoutId:a}){const i=I.useContext(pf).id;return i&&a!==void 0?i+"-"+a:a}function Cb(a){function i(o,c={}){return Tb(a(o,c))}if(typeof Proxy>"u")return i;const r=new Map;return new Proxy(i,{get:(o,c)=>(r.has(c)||r.set(c,i(c)),r.get(c))})}const kb=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gf(a){return typeof a!="string"||a.includes("-")?!1:!!(kb.indexOf(a)>-1||/[A-Z]/u.test(a))}const Bo={};function Ab(a){Object.assign(Bo,a)}const cr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],oa=new Set(cr);function v0(a,{layout:i,layoutId:r}){return oa.has(a)||a.startsWith("origin")||(i||r!==void 0)&&(!!Bo[a]||a==="opacity")}const ze=a=>!!(a&&a.getVelocity),Eb={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zb=cr.length;function jb(a,{enableHardwareAcceleration:i=!0,allowTransformNone:r=!0},o,c){let d="";for(let f=0;f<zb;f++){const h=cr[f];if(a[h]!==void 0){const m=Eb[h]||h;d+=`${m}(${a[h]}) `}}return i&&!a.z&&(d+="translateZ(0)"),d=d.trim(),c?d=c(a,o?"":d):r&&o&&(d="none"),d}const b0=a=>i=>typeof i=="string"&&i.startsWith(a),x0=b0("--"),Mb=b0("var(--"),yf=a=>Mb(a)?Nb.test(a.split("/*")[0].trim()):!1,Nb=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Rb=(a,i)=>i&&typeof a=="number"?i.transform(a):a,zi=(a,i,r)=>r>i?i:r<a?a:r,ns={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},tr={...ns,transform:a=>zi(0,1,a)},jo={...ns,default:1},er=a=>Math.round(a*1e5)/1e5,vf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,Db=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,Ob=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function ur(a){return typeof a=="string"}const fr=a=>({test:i=>ur(i)&&i.endsWith(a)&&i.split(" ").length===1,parse:parseFloat,transform:i=>`${i}${a}`}),Ti=fr("deg"),kn=fr("%"),Rt=fr("px"),Bb=fr("vh"),Lb=fr("vw"),$p={...kn,parse:a=>kn.parse(a)/100,transform:a=>kn.transform(a*100)},Wp={...ns,transform:Math.round},S0={borderWidth:Rt,borderTopWidth:Rt,borderRightWidth:Rt,borderBottomWidth:Rt,borderLeftWidth:Rt,borderRadius:Rt,radius:Rt,borderTopLeftRadius:Rt,borderTopRightRadius:Rt,borderBottomRightRadius:Rt,borderBottomLeftRadius:Rt,width:Rt,maxWidth:Rt,height:Rt,maxHeight:Rt,size:Rt,top:Rt,right:Rt,bottom:Rt,left:Rt,padding:Rt,paddingTop:Rt,paddingRight:Rt,paddingBottom:Rt,paddingLeft:Rt,margin:Rt,marginTop:Rt,marginRight:Rt,marginBottom:Rt,marginLeft:Rt,rotate:Ti,rotateX:Ti,rotateY:Ti,rotateZ:Ti,scale:jo,scaleX:jo,scaleY:jo,scaleZ:jo,skew:Ti,skewX:Ti,skewY:Ti,distance:Rt,translateX:Rt,translateY:Rt,translateZ:Rt,x:Rt,y:Rt,z:Rt,perspective:Rt,transformPerspective:Rt,opacity:tr,originX:$p,originY:$p,originZ:Rt,zIndex:Wp,backgroundPositionX:Rt,backgroundPositionY:Rt,fillOpacity:tr,strokeOpacity:tr,numOctaves:Wp};function bf(a,i,r,o){const{style:c,vars:d,transform:f,transformOrigin:h}=a;let m=!1,p=!1,g=!0;for(const y in i){const T=i[y];if(x0(y)){d[y]=T;continue}const S=S0[y],z=Rb(T,S);if(oa.has(y)){if(m=!0,f[y]=z,!g)continue;T!==(S.default||0)&&(g=!1)}else y.startsWith("origin")?(p=!0,h[y]=z):c[y]=z}if(i.transform||(m||o?c.transform=jb(a.transform,r,g,o):c.transform&&(c.transform="none")),p){const{originX:y="50%",originY:T="50%",originZ:S=0}=h;c.transformOrigin=`${y} ${T} ${S}`}}const xf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function w0(a,i,r){for(const o in i)!ze(i[o])&&!v0(o,r)&&(a[o]=i[o])}function Ub({transformTemplate:a},i,r){return I.useMemo(()=>{const o=xf();return bf(o,i,{enableHardwareAcceleration:!r},a),Object.assign({},o.vars,o.style)},[i])}function Vb(a,i,r){const o=a.style||{},c={};return w0(c,o,a),Object.assign(c,Ub(a,i,r)),c}function Ib(a,i,r){const o={},c=Vb(a,i,r);return a.drag&&a.dragListener!==!1&&(o.draggable=!1,c.userSelect=c.WebkitUserSelect=c.WebkitTouchCallout="none",c.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(o.tabIndex=0),o.style=c,o}const Fb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Lo(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||Fb.has(a)}let T0=a=>!Lo(a);function Hb(a){a&&(T0=i=>i.startsWith("on")?!Lo(i):a(i))}try{Hb(require("@emotion/is-prop-valid").default)}catch{}function Pb(a,i,r){const o={};for(const c in a)c==="values"&&typeof a.values=="object"||(T0(c)||r===!0&&Lo(c)||!i&&!Lo(c)||a.draggable&&c.startsWith("onDrag"))&&(o[c]=a[c]);return o}function Jp(a,i,r){return typeof a=="string"?a:Rt.transform(i+r*a)}function qb(a,i,r){const o=Jp(i,a.x,a.width),c=Jp(r,a.y,a.height);return`${o} ${c}`}const Gb={offset:"stroke-dashoffset",array:"stroke-dasharray"},Yb={offset:"strokeDashoffset",array:"strokeDasharray"};function Zb(a,i,r=1,o=0,c=!0){a.pathLength=1;const d=c?Gb:Yb;a[d.offset]=Rt.transform(-o);const f=Rt.transform(i),h=Rt.transform(r);a[d.array]=`${f} ${h}`}function Sf(a,{attrX:i,attrY:r,attrScale:o,originX:c,originY:d,pathLength:f,pathSpacing:h=1,pathOffset:m=0,...p},g,y,T){if(bf(a,p,g,T),y){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:S,style:z,dimensions:v}=a;S.transform&&(v&&(z.transform=S.transform),delete S.transform),v&&(c!==void 0||d!==void 0||z.transform)&&(z.transformOrigin=qb(v,c!==void 0?c:.5,d!==void 0?d:.5)),i!==void 0&&(S.x=i),r!==void 0&&(S.y=r),o!==void 0&&(S.scale=o),f!==void 0&&Zb(S,f,h,m,!1)}const _0=()=>({...xf(),attrs:{}}),wf=a=>typeof a=="string"&&a.toLowerCase()==="svg";function Xb(a,i,r,o){const c=I.useMemo(()=>{const d=_0();return Sf(d,i,{enableHardwareAcceleration:!1},wf(o),a.transformTemplate),{...d.attrs,style:{...d.style}}},[i]);if(a.style){const d={};w0(d,a.style,a),c.style={...d,...c.style}}return c}function Kb(a=!1){return(r,o,c,{latestValues:d},f)=>{const m=(gf(r)?Xb:Ib)(o,d,f,r),p=Pb(o,typeof r=="string",a),g=r!==I.Fragment?{...p,...m,ref:c}:{},{children:y}=o,T=I.useMemo(()=>ze(y)?y.get():y,[y]);return I.createElement(r,{...g,children:T})}}function C0(a,{style:i,vars:r},o,c){Object.assign(a.style,i,c&&c.getProjectionStyles(o));for(const d in r)a.style.setProperty(d,r[d])}const k0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function A0(a,i,r,o){C0(a,i,void 0,o);for(const c in i.attrs)a.setAttribute(k0.has(c)?c:ff(c),i.attrs[c])}function Tf(a,i,r){var o;const{style:c}=a,d={};for(const f in c)(ze(c[f])||i.style&&ze(i.style[f])||v0(f,a)||((o=r==null?void 0:r.getValue(f))===null||o===void 0?void 0:o.liveStyle)!==void 0)&&(d[f]=c[f]);return d}function E0(a,i,r){const o=Tf(a,i,r);for(const c in a)if(ze(a[c])||ze(i[c])){const d=cr.indexOf(c)!==-1?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c;o[d]=a[c]}return o}function _f(a,i,r,o={},c={}){return typeof i=="function"&&(i=i(r!==void 0?r:a.custom,o,c)),typeof i=="string"&&(i=a.variants&&a.variants[i]),typeof i=="function"&&(i=i(r!==void 0?r:a.custom,o,c)),i}function z0(a){const i=I.useRef(null);return i.current===null&&(i.current=a()),i.current}const Iu=a=>Array.isArray(a),Qb=a=>!!(a&&typeof a=="object"&&a.mix&&a.toValue),$b=a=>Iu(a)?a[a.length-1]||0:a;function Ro(a){const i=ze(a)?a.get():a;return Qb(i)?i.toValue():i}function Wb({scrapeMotionValuesFromProps:a,createRenderState:i,onMount:r},o,c,d){const f={latestValues:Jb(o,c,d,a),renderState:i()};return r&&(f.mount=h=>r(o,h,f)),f}const j0=a=>(i,r)=>{const o=I.useContext(Zo),c=I.useContext(Xo),d=()=>Wb(a,i,o,c);return r?d():z0(d)};function Jb(a,i,r,o){const c={},d=o(a,{});for(const T in d)c[T]=Ro(d[T]);let{initial:f,animate:h}=a;const m=Qo(a),p=g0(a);i&&p&&!m&&a.inherit!==!1&&(f===void 0&&(f=i.initial),h===void 0&&(h=i.animate));let g=r?r.initial===!1:!1;g=g||f===!1;const y=g?h:f;return y&&typeof y!="boolean"&&!Ko(y)&&(Array.isArray(y)?y:[y]).forEach(S=>{const z=_f(a,S);if(!z)return;const{transitionEnd:v,transition:C,..._}=z;for(const k in _){let A=_[k];if(Array.isArray(A)){const O=g?A.length-1:0;A=A[O]}A!==null&&(c[k]=A)}for(const k in v)c[k]=v[k]}),c}const je=a=>a,{schedule:be,cancel:ji,state:Ce,steps:xu}=p0(typeof requestAnimationFrame<"u"?requestAnimationFrame:je,!0),tx={useVisualState:j0({scrapeMotionValuesFromProps:E0,createRenderState:_0,onMount:(a,i,{renderState:r,latestValues:o})=>{be.read(()=>{try{r.dimensions=typeof i.getBBox=="function"?i.getBBox():i.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),be.render(()=>{Sf(r,o,{enableHardwareAcceleration:!1},wf(i.tagName),a.transformTemplate),A0(i,r)})}})},ex={useVisualState:j0({scrapeMotionValuesFromProps:Tf,createRenderState:xf})};function nx(a,{forwardMotionProps:i=!1},r,o){return{...gf(a)?tx:ex,preloadedFeatures:r,useRender:Kb(i),createVisualElement:o,Component:a}}function Gn(a,i,r,o={passive:!0}){return a.addEventListener(i,r,o),()=>a.removeEventListener(i,r)}const M0=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1;function $o(a,i="page"){return{point:{x:a[`${i}X`],y:a[`${i}Y`]}}}const ix=a=>i=>M0(i)&&a(i,$o(i));function Xn(a,i,r,o){return Gn(a,i,ix(r),o)}const ax=(a,i)=>r=>i(a(r)),Kn=(...a)=>a.reduce(ax);function N0(a){let i=null;return()=>{const r=()=>{i=null};return i===null?(i=a,r):!1}}const tg=N0("dragHorizontal"),eg=N0("dragVertical");function R0(a){let i=!1;if(a==="y")i=eg();else if(a==="x")i=tg();else{const r=tg(),o=eg();r&&o?i=()=>{r(),o()}:(r&&r(),o&&o())}return i}function D0(){const a=R0(!0);return a?(a(),!1):!0}class Ni{constructor(i){this.isMounted=!1,this.node=i}update(){}}function ng(a,i){const r=i?"pointerenter":"pointerleave",o=i?"onHoverStart":"onHoverEnd",c=(d,f)=>{if(d.pointerType==="touch"||D0())return;const h=a.getProps();a.animationState&&h.whileHover&&a.animationState.setActive("whileHover",i);const m=h[o];m&&m(d,f)};return Xn(a.current,r,c,{passive:!a.getProps()[o]})}class sx extends Ni{mount(){this.unmount=Kn(ng(this.node,!0),ng(this.node,!1))}unmount(){}}class rx extends Ni{constructor(){super(...arguments),this.isActive=!1}onFocus(){let i=!1;try{i=this.node.current.matches(":focus-visible")}catch{i=!0}!i||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kn(Gn(this.node.current,"focus",()=>this.onFocus()),Gn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const O0=(a,i)=>i?a===i?!0:O0(a,i.parentElement):!1;function Su(a,i){if(!i)return;const r=new PointerEvent("pointer"+a);i(r,$o(r))}class ox extends Ni{constructor(){super(...arguments),this.removeStartListeners=je,this.removeEndListeners=je,this.removeAccessibleListeners=je,this.startPointerPress=(i,r)=>{if(this.isPressing)return;this.removeEndListeners();const o=this.node.getProps(),d=Xn(window,"pointerup",(h,m)=>{if(!this.checkPressEnd())return;const{onTap:p,onTapCancel:g,globalTapTarget:y}=this.node.getProps();!y&&!O0(this.node.current,h.target)?g&&g(h,m):p&&p(h,m)},{passive:!(o.onTap||o.onPointerUp)}),f=Xn(window,"pointercancel",(h,m)=>this.cancelPress(h,m),{passive:!(o.onTapCancel||o.onPointerCancel)});this.removeEndListeners=Kn(d,f),this.startPress(i,r)},this.startAccessiblePress=()=>{const i=d=>{if(d.key!=="Enter"||this.isPressing)return;const f=h=>{h.key!=="Enter"||!this.checkPressEnd()||Su("up",(m,p)=>{const{onTap:g}=this.node.getProps();g&&g(m,p)})};this.removeEndListeners(),this.removeEndListeners=Gn(this.node.current,"keyup",f),Su("down",(h,m)=>{this.startPress(h,m)})},r=Gn(this.node.current,"keydown",i),o=()=>{this.isPressing&&Su("cancel",(d,f)=>this.cancelPress(d,f))},c=Gn(this.node.current,"blur",o);this.removeAccessibleListeners=Kn(r,c)}}startPress(i,r){this.isPressing=!0;const{onTapStart:o,whileTap:c}=this.node.getProps();c&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),o&&o(i,r)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!D0()}cancelPress(i,r){if(!this.checkPressEnd())return;const{onTapCancel:o}=this.node.getProps();o&&o(i,r)}mount(){const i=this.node.getProps(),r=Xn(i.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(i.onTapStart||i.onPointerStart)}),o=Gn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Kn(r,o)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Fu=new WeakMap,wu=new WeakMap,lx=a=>{const i=Fu.get(a.target);i&&i(a)},cx=a=>{a.forEach(lx)};function ux({root:a,...i}){const r=a||document;wu.has(r)||wu.set(r,{});const o=wu.get(r),c=JSON.stringify(i);return o[c]||(o[c]=new IntersectionObserver(cx,{root:a,...i})),o[c]}function fx(a,i,r){const o=ux(i);return Fu.set(a,r),o.observe(a),()=>{Fu.delete(a),o.unobserve(a)}}const dx={some:0,all:1};class hx extends Ni{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:i={}}=this.node.getProps(),{root:r,margin:o,amount:c="some",once:d}=i,f={root:r?r.current:void 0,rootMargin:o,threshold:typeof c=="number"?c:dx[c]},h=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,d&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),T=p?g:y;T&&T(m)};return fx(this.node.current,f,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:i,prevProps:r}=this.node;["amount","margin","root"].some(mx(i,r))&&this.startObserver()}unmount(){}}function mx({viewport:a={}},{viewport:i={}}={}){return r=>a[r]!==i[r]}const px={inView:{Feature:hx},tap:{Feature:ox},focus:{Feature:rx},hover:{Feature:sx}};function B0(a,i){if(!Array.isArray(i))return!1;const r=i.length;if(r!==a.length)return!1;for(let o=0;o<r;o++)if(i[o]!==a[o])return!1;return!0}function gx(a){const i={};return a.values.forEach((r,o)=>i[o]=r.get()),i}function yx(a){const i={};return a.values.forEach((r,o)=>i[o]=r.getVelocity()),i}function Wo(a,i,r){const o=a.getProps();return _f(o,i,r!==void 0?r:o.custom,gx(a),yx(a))}const Ai=a=>a*1e3,Qn=a=>a/1e3,vx={type:"spring",stiffness:500,damping:25,restSpeed:10},bx=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),xx={type:"keyframes",duration:.8},Sx={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wx=(a,{keyframes:i})=>i.length>2?xx:oa.has(a)?a.startsWith("scale")?bx(i[1]):vx:Sx;function Tx({when:a,delay:i,delayChildren:r,staggerChildren:o,staggerDirection:c,repeat:d,repeatType:f,repeatDelay:h,from:m,elapsed:p,...g}){return!!Object.keys(g).length}function Cf(a,i){return a[i]||a.default||a}const _x=a=>a!==null;function Jo(a,{repeat:i,repeatType:r="loop"},o){const c=a.filter(_x),d=i&&r!=="loop"&&i%2===1?0:c.length-1;return!d||o===void 0?c[d]:o}let Do;function Cx(){Do=void 0}const Ei={now:()=>(Do===void 0&&Ei.set(Ce.isProcessing||mb.useManualTiming?Ce.timestamp:performance.now()),Do),set:a=>{Do=a,queueMicrotask(Cx)}},L0=a=>/^0[^.\s]+$/u.test(a);function kx(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||L0(a):!0}let U0=je;const V0=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a),Ax=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ex(a){const i=Ax.exec(a);if(!i)return[,];const[,r,o,c]=i;return[`--${r??o}`,c]}function I0(a,i,r=1){const[o,c]=Ex(a);if(!o)return;const d=window.getComputedStyle(i).getPropertyValue(o);if(d){const f=d.trim();return V0(f)?parseFloat(f):f}return yf(c)?I0(c,i,r+1):c}const zx=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ig=a=>a===ns||a===Rt,ag=(a,i)=>parseFloat(a.split(", ")[i]),sg=(a,i)=>(r,{transform:o})=>{if(o==="none"||!o)return 0;const c=o.match(/^matrix3d\((.+)\)$/u);if(c)return ag(c[1],i);{const d=o.match(/^matrix\((.+)\)$/u);return d?ag(d[1],a):0}},jx=new Set(["x","y","z"]),Mx=cr.filter(a=>!jx.has(a));function Nx(a){const i=[];return Mx.forEach(r=>{const o=a.getValue(r);o!==void 0&&(i.push([r,o.get()]),o.set(r.startsWith("scale")?1:0))}),i}const es={width:({x:a},{paddingLeft:i="0",paddingRight:r="0"})=>a.max-a.min-parseFloat(i)-parseFloat(r),height:({y:a},{paddingTop:i="0",paddingBottom:r="0"})=>a.max-a.min-parseFloat(i)-parseFloat(r),top:(a,{top:i})=>parseFloat(i),left:(a,{left:i})=>parseFloat(i),bottom:({y:a},{top:i})=>parseFloat(i)+(a.max-a.min),right:({x:a},{left:i})=>parseFloat(i)+(a.max-a.min),x:sg(4,13),y:sg(5,14)};es.translateX=es.x;es.translateY=es.y;const F0=a=>i=>i.test(a),Rx={test:a=>a==="auto",parse:a=>a},H0=[ns,Rt,kn,Ti,Lb,Bb,Rx],rg=a=>H0.find(F0(a)),ra=new Set;let Hu=!1,Pu=!1;function P0(){if(Pu){const a=Array.from(ra).filter(o=>o.needsMeasurement),i=new Set(a.map(o=>o.element)),r=new Map;i.forEach(o=>{const c=Nx(o);c.length&&(r.set(o,c),o.render())}),a.forEach(o=>o.measureInitialState()),i.forEach(o=>{o.render();const c=r.get(o);c&&c.forEach(([d,f])=>{var h;(h=o.getValue(d))===null||h===void 0||h.set(f)})}),a.forEach(o=>o.measureEndState()),a.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}Pu=!1,Hu=!1,ra.forEach(a=>a.complete()),ra.clear()}function q0(){ra.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(Pu=!0)})}function Dx(){q0(),P0()}class kf{constructor(i,r,o,c,d,f=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...i],this.onComplete=r,this.name=o,this.motionValue=c,this.element=d,this.isAsync=f}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ra.add(this),Hu||(Hu=!0,be.read(q0),be.resolveKeyframes(P0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:i,name:r,element:o,motionValue:c}=this;for(let d=0;d<i.length;d++)if(i[d]===null)if(d===0){const f=c==null?void 0:c.get(),h=i[i.length-1];if(f!==void 0)i[0]=f;else if(o&&r){const m=o.readValue(r,h);m!=null&&(i[0]=m)}i[0]===void 0&&(i[0]=h),c&&f===void 0&&c.set(i[0])}else i[d]=i[d-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ra.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ra.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Af=(a,i)=>r=>!!(ur(r)&&Ob.test(r)&&r.startsWith(a)||i&&Object.prototype.hasOwnProperty.call(r,i)),G0=(a,i,r)=>o=>{if(!ur(o))return o;const[c,d,f,h]=o.match(vf);return{[a]:parseFloat(c),[i]:parseFloat(d),[r]:parseFloat(f),alpha:h!==void 0?parseFloat(h):1}},Ox=a=>zi(0,255,a),Tu={...ns,transform:a=>Math.round(Ox(a))},ia={test:Af("rgb","red"),parse:G0("red","green","blue"),transform:({red:a,green:i,blue:r,alpha:o=1})=>"rgba("+Tu.transform(a)+", "+Tu.transform(i)+", "+Tu.transform(r)+", "+er(tr.transform(o))+")"};function Bx(a){let i="",r="",o="",c="";return a.length>5?(i=a.substring(1,3),r=a.substring(3,5),o=a.substring(5,7),c=a.substring(7,9)):(i=a.substring(1,2),r=a.substring(2,3),o=a.substring(3,4),c=a.substring(4,5),i+=i,r+=r,o+=o,c+=c),{red:parseInt(i,16),green:parseInt(r,16),blue:parseInt(o,16),alpha:c?parseInt(c,16)/255:1}}const qu={test:Af("#"),parse:Bx,transform:ia.transform},Qa={test:Af("hsl","hue"),parse:G0("hue","saturation","lightness"),transform:({hue:a,saturation:i,lightness:r,alpha:o=1})=>"hsla("+Math.round(a)+", "+kn.transform(er(i))+", "+kn.transform(er(r))+", "+er(tr.transform(o))+")"},Ae={test:a=>ia.test(a)||qu.test(a)||Qa.test(a),parse:a=>ia.test(a)?ia.parse(a):Qa.test(a)?Qa.parse(a):qu.parse(a),transform:a=>ur(a)?a:a.hasOwnProperty("red")?ia.transform(a):Qa.transform(a)};function Lx(a){var i,r;return isNaN(a)&&ur(a)&&(((i=a.match(vf))===null||i===void 0?void 0:i.length)||0)+(((r=a.match(Db))===null||r===void 0?void 0:r.length)||0)>0}const Y0="number",Z0="color",Ux="var",Vx="var(",og="${}",Ix=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uo(a){const i=a.toString(),r=[],o={color:[],number:[],var:[]},c=[];let d=0;const h=i.replace(Ix,m=>(Ae.test(m)?(o.color.push(d),c.push(Z0),r.push(Ae.parse(m))):m.startsWith(Vx)?(o.var.push(d),c.push(Ux),r.push(m)):(o.number.push(d),c.push(Y0),r.push(parseFloat(m))),++d,og)).split(og);return{values:r,split:h,indexes:o,types:c}}function X0(a){return Uo(a).values}function K0(a){const{split:i,types:r}=Uo(a),o=i.length;return c=>{let d="";for(let f=0;f<o;f++)if(d+=i[f],c[f]!==void 0){const h=r[f];h===Y0?d+=er(c[f]):h===Z0?d+=Ae.transform(c[f]):d+=c[f]}return d}}const Fx=a=>typeof a=="number"?0:a;function Hx(a){const i=X0(a);return K0(a)(i.map(Fx))}const Mi={test:Lx,parse:X0,createTransformer:K0,getAnimatableNone:Hx},Px=new Set(["brightness","contrast","saturate","opacity"]);function qx(a){const[i,r]=a.slice(0,-1).split("(");if(i==="drop-shadow")return a;const[o]=r.match(vf)||[];if(!o)return a;const c=r.replace(o,"");let d=Px.has(i)?1:0;return o!==r&&(d*=100),i+"("+d+c+")"}const Gx=/\b([a-z-]*)\(.*?\)/gu,Gu={...Mi,getAnimatableNone:a=>{const i=a.match(Gx);return i?i.map(qx).join(" "):a}},Yx={...S0,color:Ae,backgroundColor:Ae,outlineColor:Ae,fill:Ae,stroke:Ae,borderColor:Ae,borderTopColor:Ae,borderRightColor:Ae,borderBottomColor:Ae,borderLeftColor:Ae,filter:Gu,WebkitFilter:Gu},Ef=a=>Yx[a];function Q0(a,i){let r=Ef(a);return r!==Gu&&(r=Mi),r.getAnimatableNone?r.getAnimatableNone(i):void 0}function Zx(a,i,r){let o=0,c;for(;o<a.length&&!c;)typeof a[o]=="string"&&a[o]!=="none"&&a[o]!=="0"&&(c=a[o]),o++;if(c&&r)for(const d of i)a[d]=Q0(r,c)}class $0 extends kf{constructor(i,r,o,c){super(i,r,o,c,c==null?void 0:c.owner,!0)}readKeyframes(){const{unresolvedKeyframes:i,element:r,name:o}=this;if(!r.current)return;super.readKeyframes();for(let m=0;m<i.length;m++){const p=i[m];if(typeof p=="string"&&yf(p)){const g=I0(p,r.current);g!==void 0&&(i[m]=g),m===i.length-1&&(this.finalKeyframe=p)}}if(!zx.has(o)||i.length!==2)return this.resolveNoneKeyframes();const[c,d]=i,f=rg(c),h=rg(d);if(f!==h)if(ig(f)&&ig(h))for(let m=0;m<i.length;m++){const p=i[m];typeof p=="string"&&(i[m]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:i,name:r}=this,o=[];for(let c=0;c<i.length;c++)kx(i[c])&&o.push(c);o.length&&Zx(i,o,r)}measureInitialState(){const{element:i,unresolvedKeyframes:r,name:o}=this;if(!i.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=es[o](i.measureViewportBox(),window.getComputedStyle(i.current)),r[0]=this.measuredOrigin;const c=r[r.length-1];c!==void 0&&i.getValue(o,c).jump(c,!1)}measureEndState(){var i;const{element:r,name:o,unresolvedKeyframes:c}=this;if(!r.current)return;const d=r.getValue(o);d&&d.jump(this.measuredOrigin,!1);const f=c.length-1,h=c[f];c[f]=es[o](r.measureViewportBox(),window.getComputedStyle(r.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((i=this.removedTransforms)===null||i===void 0)&&i.length&&this.removedTransforms.forEach(([m,p])=>{r.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function Xx(a){let i;return()=>(i===void 0&&(i=a()),i)}const lg=(a,i)=>i==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(Mi.test(a)||a==="0")&&!a.startsWith("url("));function Kx(a){const i=a[0];if(a.length===1)return!0;for(let r=0;r<a.length;r++)if(a[r]!==i)return!0}function Qx(a,i,r,o){const c=a[0];if(c===null)return!1;const d=a[a.length-1],f=lg(c,i),h=lg(d,i);return!f||!h?!1:Kx(a)||r==="spring"&&o}class W0{constructor({autoplay:i=!0,delay:r=0,type:o="keyframes",repeat:c=0,repeatDelay:d=0,repeatType:f="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:i,delay:r,type:o,repeat:c,repeatDelay:d,repeatType:f,...h},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Dx(),this._resolved}onKeyframesResolved(i,r){this.hasAttemptedResolve=!0;const{name:o,type:c,velocity:d,delay:f,onComplete:h,onUpdate:m,isGenerator:p}=this.options;if(!p&&!Qx(i,o,c,d))if(f)this.options.duration=0;else{m==null||m(Jo(i,this.options,r)),h==null||h(),this.resolveFinishedPromise();return}const g=this.initPlayback(i,r);g!==!1&&(this._resolved={keyframes:i,finalKeyframe:r,...g},this.onPostResolved())}onPostResolved(){}then(i,r){return this.currentFinishedPromise.then(i,r)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(i=>{this.resolveFinishedPromise=i})}}function J0(a,i){return i?a*(1e3/i):0}const $x=5;function ty(a,i,r){const o=Math.max(i-$x,0);return J0(r-a(o),i-o)}const _u=.001,Wx=.01,Jx=10,t2=.05,e2=1;function n2({duration:a=800,bounce:i=.25,velocity:r=0,mass:o=1}){let c,d,f=1-i;f=zi(t2,e2,f),a=zi(Wx,Jx,Qn(a)),f<1?(c=p=>{const g=p*f,y=g*a,T=g-r,S=Yu(p,f),z=Math.exp(-y);return _u-T/S*z},d=p=>{const y=p*f*a,T=y*r+r,S=Math.pow(f,2)*Math.pow(p,2)*a,z=Math.exp(-y),v=Yu(Math.pow(p,2),f);return(-c(p)+_u>0?-1:1)*((T-S)*z)/v}):(c=p=>{const g=Math.exp(-p*a),y=(p-r)*a+1;return-_u+g*y},d=p=>{const g=Math.exp(-p*a),y=(r-p)*(a*a);return g*y});const h=5/a,m=a2(c,d,h);if(a=Ai(a),isNaN(m))return{stiffness:100,damping:10,duration:a};{const p=Math.pow(m,2)*o;return{stiffness:p,damping:f*2*Math.sqrt(o*p),duration:a}}}const i2=12;function a2(a,i,r){let o=r;for(let c=1;c<i2;c++)o=o-a(o)/i(o);return o}function Yu(a,i){return a*Math.sqrt(1-i*i)}const s2=["duration","bounce"],r2=["stiffness","damping","mass"];function cg(a,i){return i.some(r=>a[r]!==void 0)}function o2(a){let i={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...a};if(!cg(a,r2)&&cg(a,s2)){const r=n2(a);i={...i,...r,mass:1},i.isResolvedFromDuration=!0}return i}function ey({keyframes:a,restDelta:i,restSpeed:r,...o}){const c=a[0],d=a[a.length-1],f={done:!1,value:c},{stiffness:h,damping:m,mass:p,duration:g,velocity:y,isResolvedFromDuration:T}=o2({...o,velocity:-Qn(o.velocity||0)}),S=y||0,z=m/(2*Math.sqrt(h*p)),v=d-c,C=Qn(Math.sqrt(h/p)),_=Math.abs(v)<5;r||(r=_?.01:2),i||(i=_?.005:.5);let k;if(z<1){const A=Yu(C,z);k=O=>{const D=Math.exp(-z*C*O);return d-D*((S+z*C*v)/A*Math.sin(A*O)+v*Math.cos(A*O))}}else if(z===1)k=A=>d-Math.exp(-C*A)*(v+(S+C*v)*A);else{const A=C*Math.sqrt(z*z-1);k=O=>{const D=Math.exp(-z*C*O),F=Math.min(A*O,300);return d-D*((S+z*C*v)*Math.sinh(F)+A*v*Math.cosh(F))/A}}return{calculatedDuration:T&&g||null,next:A=>{const O=k(A);if(T)f.done=A>=g;else{let D=S;A!==0&&(z<1?D=ty(k,A,O):D=0);const F=Math.abs(D)<=r,V=Math.abs(d-O)<=i;f.done=F&&V}return f.value=f.done?d:O,f}}}function ug({keyframes:a,velocity:i=0,power:r=.8,timeConstant:o=325,bounceDamping:c=10,bounceStiffness:d=500,modifyTarget:f,min:h,max:m,restDelta:p=.5,restSpeed:g}){const y=a[0],T={done:!1,value:y},S=q=>h!==void 0&&q<h||m!==void 0&&q>m,z=q=>h===void 0?m:m===void 0||Math.abs(h-q)<Math.abs(m-q)?h:m;let v=r*i;const C=y+v,_=f===void 0?C:f(C);_!==C&&(v=_-y);const k=q=>-v*Math.exp(-q/o),A=q=>_+k(q),O=q=>{const X=k(q),st=A(q);T.done=Math.abs(X)<=p,T.value=T.done?_:st};let D,F;const V=q=>{S(T.value)&&(D=q,F=ey({keyframes:[T.value,z(T.value)],velocity:ty(A,q,T.value),damping:c,stiffness:d,restDelta:p,restSpeed:g}))};return V(0),{calculatedDuration:null,next:q=>{let X=!1;return!F&&D===void 0&&(X=!0,O(q),V(q)),D!==void 0&&q>=D?F.next(q-D):(!X&&O(q),T)}}}const ny=(a,i,r)=>(((1-3*r+3*i)*a+(3*r-6*i))*a+3*i)*a,l2=1e-7,c2=12;function u2(a,i,r,o,c){let d,f,h=0;do f=i+(r-i)/2,d=ny(f,o,c)-a,d>0?r=f:i=f;while(Math.abs(d)>l2&&++h<c2);return f}function dr(a,i,r,o){if(a===i&&r===o)return je;const c=d=>u2(d,0,1,a,r);return d=>d===0||d===1?d:ny(c(d),i,o)}const f2=dr(.42,0,1,1),d2=dr(0,0,.58,1),iy=dr(.42,0,.58,1),h2=a=>Array.isArray(a)&&typeof a[0]!="number",ay=a=>i=>i<=.5?a(2*i)/2:(2-a(2*(1-i)))/2,sy=a=>i=>1-a(1-i),zf=a=>1-Math.sin(Math.acos(a)),ry=sy(zf),m2=ay(zf),oy=dr(.33,1.53,.69,.99),jf=sy(oy),p2=ay(jf),g2=a=>(a*=2)<1?.5*jf(a):.5*(2-Math.pow(2,-10*(a-1))),y2={linear:je,easeIn:f2,easeInOut:iy,easeOut:d2,circIn:zf,circInOut:m2,circOut:ry,backIn:jf,backInOut:p2,backOut:oy,anticipate:g2},fg=a=>{if(Array.isArray(a)){U0(a.length===4);const[i,r,o,c]=a;return dr(i,r,o,c)}else if(typeof a=="string")return y2[a];return a},or=(a,i,r)=>{const o=i-a;return o===0?1:(r-a)/o},se=(a,i,r)=>a+(i-a)*r;function Cu(a,i,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?a+(i-a)*6*r:r<1/2?i:r<2/3?a+(i-a)*(2/3-r)*6:a}function v2({hue:a,saturation:i,lightness:r,alpha:o}){a/=360,i/=100,r/=100;let c=0,d=0,f=0;if(!i)c=d=f=r;else{const h=r<.5?r*(1+i):r+i-r*i,m=2*r-h;c=Cu(m,h,a+1/3),d=Cu(m,h,a),f=Cu(m,h,a-1/3)}return{red:Math.round(c*255),green:Math.round(d*255),blue:Math.round(f*255),alpha:o}}const ku=(a,i,r)=>{const o=a*a,c=r*(i*i-o)+o;return c<0?0:Math.sqrt(c)},b2=[qu,ia,Qa],x2=a=>b2.find(i=>i.test(a));function dg(a){const i=x2(a);let r=i.parse(a);return i===Qa&&(r=v2(r)),r}const hg=(a,i)=>{const r=dg(a),o=dg(i),c={...r};return d=>(c.red=ku(r.red,o.red,d),c.green=ku(r.green,o.green,d),c.blue=ku(r.blue,o.blue,d),c.alpha=se(r.alpha,o.alpha,d),ia.transform(c))};function Zu(a,i){return r=>r>0?i:a}function S2(a,i){return r=>se(a,i,r)}function Mf(a){return typeof a=="number"?S2:typeof a=="string"?yf(a)?Zu:Ae.test(a)?hg:_2:Array.isArray(a)?ly:typeof a=="object"?Ae.test(a)?hg:w2:Zu}function ly(a,i){const r=[...a],o=r.length,c=a.map((d,f)=>Mf(d)(d,i[f]));return d=>{for(let f=0;f<o;f++)r[f]=c[f](d);return r}}function w2(a,i){const r={...a,...i},o={};for(const c in r)a[c]!==void 0&&i[c]!==void 0&&(o[c]=Mf(a[c])(a[c],i[c]));return c=>{for(const d in o)r[d]=o[d](c);return r}}function T2(a,i){var r;const o=[],c={color:0,var:0,number:0};for(let d=0;d<i.values.length;d++){const f=i.types[d],h=a.indexes[f][c[f]],m=(r=a.values[h])!==null&&r!==void 0?r:0;o[d]=m,c[f]++}return o}const _2=(a,i)=>{const r=Mi.createTransformer(i),o=Uo(a),c=Uo(i);return o.indexes.var.length===c.indexes.var.length&&o.indexes.color.length===c.indexes.color.length&&o.indexes.number.length>=c.indexes.number.length?Kn(ly(T2(o,c),c.values),r):Zu(a,i)};function cy(a,i,r){return typeof a=="number"&&typeof i=="number"&&typeof r=="number"?se(a,i,r):Mf(a)(a,i)}function C2(a,i,r){const o=[],c=r||cy,d=a.length-1;for(let f=0;f<d;f++){let h=c(a[f],a[f+1]);if(i){const m=Array.isArray(i)?i[f]||je:i;h=Kn(m,h)}o.push(h)}return o}function k2(a,i,{clamp:r=!0,ease:o,mixer:c}={}){const d=a.length;if(U0(d===i.length),d===1)return()=>i[0];if(d===2&&a[0]===a[1])return()=>i[1];a[0]>a[d-1]&&(a=[...a].reverse(),i=[...i].reverse());const f=C2(i,o,c),h=f.length,m=p=>{let g=0;if(h>1)for(;g<a.length-2&&!(p<a[g+1]);g++);const y=or(a[g],a[g+1],p);return f[g](y)};return r?p=>m(zi(a[0],a[d-1],p)):m}function A2(a,i){const r=a[a.length-1];for(let o=1;o<=i;o++){const c=or(0,i,o);a.push(se(r,1,c))}}function E2(a){const i=[0];return A2(i,a.length-1),i}function z2(a,i){return a.map(r=>r*i)}function j2(a,i){return a.map(()=>i||iy).splice(0,a.length-1)}function Vo({duration:a=300,keyframes:i,times:r,ease:o="easeInOut"}){const c=h2(o)?o.map(fg):fg(o),d={done:!1,value:i[0]},f=z2(r&&r.length===i.length?r:E2(i),a),h=k2(f,i,{ease:Array.isArray(c)?c:j2(i,c)});return{calculatedDuration:a,next:m=>(d.value=h(m),d.done=m>=a,d)}}const mg=2e4;function M2(a){let i=0;const r=50;let o=a.next(i);for(;!o.done&&i<mg;)i+=r,o=a.next(i);return i>=mg?1/0:i}const N2=a=>{const i=({timestamp:r})=>a(r);return{start:()=>be.update(i,!0),stop:()=>ji(i),now:()=>Ce.isProcessing?Ce.timestamp:Ei.now()}},R2={decay:ug,inertia:ug,tween:Vo,keyframes:Vo,spring:ey},D2=a=>a/100;class Nf extends W0{constructor({KeyframeResolver:i=kf,...r}){super(r),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:o,motionValue:c,keyframes:d}=this.options,f=(h,m)=>this.onKeyframesResolved(h,m);o&&c&&c.owner?this.resolver=c.owner.resolveKeyframes(d,f,o,c):this.resolver=new i(d,f,o,c),this.resolver.scheduleResolve()}initPlayback(i){const{type:r="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:d,velocity:f=0}=this.options,h=R2[r]||Vo;let m,p;h!==Vo&&typeof i[0]!="number"&&(m=Kn(D2,cy(i[0],i[1])),i=[0,100]);const g=h({...this.options,keyframes:i});d==="mirror"&&(p=h({...this.options,keyframes:[...i].reverse(),velocity:-f})),g.calculatedDuration===null&&(g.calculatedDuration=M2(g));const{calculatedDuration:y}=g,T=y+c,S=T*(o+1)-c;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:m,calculatedDuration:y,resolvedDuration:T,totalDuration:S}}onPostResolved(){const{autoplay:i=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!i?this.pause():this.state=this.pendingPlayState}tick(i,r=!1){const{resolved:o}=this;if(!o){const{keyframes:q}=this.options;return{done:!0,value:q[q.length-1]}}const{finalKeyframe:c,generator:d,mirroredGenerator:f,mapPercentToKeyframes:h,keyframes:m,calculatedDuration:p,totalDuration:g,resolvedDuration:y}=o;if(this.startTime===null)return d.next(0);const{delay:T,repeat:S,repeatType:z,repeatDelay:v,onUpdate:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,i):this.speed<0&&(this.startTime=Math.min(i-g/this.speed,this.startTime)),r?this.currentTime=i:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(i-this.startTime)*this.speed;const _=this.currentTime-T*(this.speed>=0?1:-1),k=this.speed>=0?_<0:_>g;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let A=this.currentTime,O=d;if(S){const q=Math.min(this.currentTime,g)/y;let X=Math.floor(q),st=q%1;!st&&q>=1&&(st=1),st===1&&X--,X=Math.min(X,S+1),!!(X%2)&&(z==="reverse"?(st=1-st,v&&(st-=v/y)):z==="mirror"&&(O=f)),A=zi(0,1,st)*y}const D=k?{done:!1,value:m[0]}:O.next(A);h&&(D.value=h(D.value));let{done:F}=D;!k&&p!==null&&(F=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return V&&c!==void 0&&(D.value=Jo(m,this.options,c)),C&&C(D.value),V&&this.finish(),D}get duration(){const{resolved:i}=this;return i?Qn(i.calculatedDuration):0}get time(){return Qn(this.currentTime)}set time(i){i=Ai(i),this.currentTime=i,this.holdTime!==null||this.speed===0?this.holdTime=i:this.driver&&(this.startTime=this.driver.now()-i/this.speed)}get speed(){return this.playbackSpeed}set speed(i){const r=this.playbackSpeed!==i;this.playbackSpeed=i,r&&(this.time=Qn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:i=N2,onPlay:r}=this.options;this.driver||(this.driver=i(c=>this.tick(c))),r&&r();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=o),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var i;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(i=this.currentTime)!==null&&i!==void 0?i:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:i}=this.options;i&&i()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(i){return this.startTime=0,this.tick(i,!0)}}const uy=a=>Array.isArray(a)&&typeof a[0]=="number";function fy(a){return!!(!a||typeof a=="string"&&a in Rf||uy(a)||Array.isArray(a)&&a.every(fy))}const Js=([a,i,r,o])=>`cubic-bezier(${a}, ${i}, ${r}, ${o})`,Rf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Js([0,.65,.55,1]),circOut:Js([.55,0,1,.45]),backIn:Js([.31,.01,.66,-.59]),backOut:Js([.33,1.53,.69,.99])};function O2(a){return dy(a)||Rf.easeOut}function dy(a){if(a)return uy(a)?Js(a):Array.isArray(a)?a.map(O2):Rf[a]}function B2(a,i,r,{delay:o=0,duration:c=300,repeat:d=0,repeatType:f="loop",ease:h,times:m}={}){const p={[i]:r};m&&(p.offset=m);const g=dy(h);return Array.isArray(g)&&(p.easing=g),a.animate(p,{delay:o,duration:c,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:d+1,direction:f==="reverse"?"alternate":"normal"})}const L2=Xx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),U2=new Set(["opacity","clipPath","filter","transform"]),Io=10,V2=2e4;function I2(a){return a.type==="spring"||a.name==="backgroundColor"||!fy(a.ease)}function F2(a,i){const r=new Nf({...i,keyframes:a,repeat:0,delay:0,isGenerator:!0});let o={done:!1,value:a[0]};const c=[];let d=0;for(;!o.done&&d<V2;)o=r.sample(d),c.push(o.value),d+=Io;return{times:void 0,keyframes:c,duration:d-Io,ease:"linear"}}class pg extends W0{constructor(i){super(i);const{name:r,motionValue:o,keyframes:c}=this.options;this.resolver=new $0(c,(d,f)=>this.onKeyframesResolved(d,f),r,o),this.resolver.scheduleResolve()}initPlayback(i,r){var o;let{duration:c=300,times:d,ease:f,type:h,motionValue:m,name:p}=this.options;if(!(!((o=m.owner)===null||o===void 0)&&o.current))return!1;if(I2(this.options)){const{onComplete:y,onUpdate:T,motionValue:S,...z}=this.options,v=F2(i,z);i=v.keyframes,i.length===1&&(i[1]=i[0]),c=v.duration,d=v.times,f=v.ease,h="keyframes"}const g=B2(m.owner.current,p,i,{...this.options,duration:c,times:d,ease:f});return g.startTime=Ei.now(),this.pendingTimeline?(g.timeline=this.pendingTimeline,this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:y}=this.options;m.set(Jo(i,this.options,r)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:c,times:d,type:h,ease:f,keyframes:i}}get duration(){const{resolved:i}=this;if(!i)return 0;const{duration:r}=i;return Qn(r)}get time(){const{resolved:i}=this;if(!i)return 0;const{animation:r}=i;return Qn(r.currentTime||0)}set time(i){const{resolved:r}=this;if(!r)return;const{animation:o}=r;o.currentTime=Ai(i)}get speed(){const{resolved:i}=this;if(!i)return 1;const{animation:r}=i;return r.playbackRate}set speed(i){const{resolved:r}=this;if(!r)return;const{animation:o}=r;o.playbackRate=i}get state(){const{resolved:i}=this;if(!i)return"idle";const{animation:r}=i;return r.playState}attachTimeline(i){if(!this._resolved)this.pendingTimeline=i;else{const{resolved:r}=this;if(!r)return je;const{animation:o}=r;o.timeline=i,o.onfinish=null}return je}play(){if(this.isStopped)return;const{resolved:i}=this;if(!i)return;const{animation:r}=i;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:i}=this;if(!i)return;const{animation:r}=i;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:i}=this;if(!i)return;const{animation:r,keyframes:o,duration:c,type:d,ease:f,times:h}=i;if(!(r.playState==="idle"||r.playState==="finished")){if(this.time){const{motionValue:m,onUpdate:p,onComplete:g,...y}=this.options,T=new Nf({...y,keyframes:o,duration:c,type:d,ease:f,times:h,isGenerator:!0}),S=Ai(this.time);m.setWithVelocity(T.sample(S-Io).value,T.sample(S).value,Io)}this.cancel()}}complete(){const{resolved:i}=this;i&&i.animation.finish()}cancel(){const{resolved:i}=this;i&&i.animation.cancel()}static supports(i){const{motionValue:r,name:o,repeatDelay:c,repeatType:d,damping:f,type:h}=i;return L2()&&o&&U2.has(o)&&r&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate&&!c&&d!=="mirror"&&f!==0&&h!=="inertia"}}const Df=(a,i,r,o={},c,d)=>f=>{const h=Cf(o,a)||{},m=h.delay||o.delay||0;let{elapsed:p=0}=o;p=p-Ai(m);let g={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:i.getVelocity(),...h,delay:-p,onUpdate:T=>{i.set(T),h.onUpdate&&h.onUpdate(T)},onComplete:()=>{f(),h.onComplete&&h.onComplete()},name:a,motionValue:i,element:d?void 0:c};Tx(h)||(g={...g,...wx(a,g)}),g.duration&&(g.duration=Ai(g.duration)),g.repeatDelay&&(g.repeatDelay=Ai(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),y&&!d&&i.get()!==void 0){const T=Jo(g.keyframes,h);if(T!==void 0){be.update(()=>{g.onUpdate(T),g.onComplete()});return}}return!d&&pg.supports(g)?new pg(g):new Nf(g)};function Fo(a){return!!(ze(a)&&a.add)}function Of(a,i){a.indexOf(i)===-1&&a.push(i)}function Bf(a,i){const r=a.indexOf(i);r>-1&&a.splice(r,1)}class Lf{constructor(){this.subscriptions=[]}add(i){return Of(this.subscriptions,i),()=>Bf(this.subscriptions,i)}notify(i,r,o){const c=this.subscriptions.length;if(c)if(c===1)this.subscriptions[0](i,r,o);else for(let d=0;d<c;d++){const f=this.subscriptions[d];f&&f(i,r,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gg=30,H2=a=>!isNaN(parseFloat(a));class P2{constructor(i,r={}){this.version="11.1.7",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(o,c=!0)=>{const d=Ei.now();this.updatedAt!==d&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),c&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(i),this.canTrackVelocity=H2(this.current),this.owner=r.owner}setCurrent(i){this.current=i,this.updatedAt=Ei.now()}setPrevFrameValue(i=this.current){this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt}onChange(i){return this.on("change",i)}on(i,r){this.events[i]||(this.events[i]=new Lf);const o=this.events[i].add(r);return i==="change"?()=>{o(),be.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const i in this.events)this.events[i].clear()}attach(i,r){this.passiveEffect=i,this.stopPassiveEffect=r}set(i,r=!0){!r||!this.passiveEffect?this.updateAndNotify(i,r):this.passiveEffect(i,this.updateAndNotify)}setWithVelocity(i,r,o){this.set(r),this.prev=void 0,this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt-o}jump(i,r=!0){this.updateAndNotify(i),this.prev=i,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const i=Ei.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||i-this.updatedAt>gg)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,gg);return J0(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(i){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=i(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lr(a,i){return new P2(a,i)}function q2(a,i,r){a.hasValue(i)?a.getValue(i).set(r):a.addValue(i,lr(r))}function G2(a,i){const r=Wo(a,i);let{transitionEnd:o={},transition:c={},...d}=r||{};d={...d,...o};for(const f in d){const h=$b(d[f]);q2(a,f,h)}}function Y2({protectedKeys:a,needsAnimating:i},r){const o=a.hasOwnProperty(r)&&i[r]!==!0;return i[r]=!1,o}function hy(a,i,{delay:r=0,transitionOverride:o,type:c}={}){var d;let{transition:f=a.getDefaultTransition(),transitionEnd:h,...m}=i;const p=a.getValue("willChange");o&&(f=o);const g=[],y=c&&a.animationState&&a.animationState.getState()[c];for(const T in m){const S=a.getValue(T,(d=a.latestValues[T])!==null&&d!==void 0?d:null),z=m[T];if(z===void 0||y&&Y2(y,T))continue;const v={delay:r,elapsed:0,...Cf(f||{},T)};let C=!1;if(window.HandoffAppearAnimations){const A=a.getProps()[m0];if(A){const O=window.HandoffAppearAnimations(A,T);O!==null&&(v.elapsed=O,C=!0)}}S.start(Df(T,S,z,a.shouldReduceMotion&&oa.has(T)?{type:!1}:v,a,C));const _=S.animation;_&&(Fo(p)&&(p.add(T),_.then(()=>p.remove(T))),g.push(_))}return h&&Promise.all(g).then(()=>{be.update(()=>{h&&G2(a,h)})}),g}function Xu(a,i,r={}){var o;const c=Wo(a,i,r.type==="exit"?(o=a.presenceContext)===null||o===void 0?void 0:o.custom:void 0);let{transition:d=a.getDefaultTransition()||{}}=c||{};r.transitionOverride&&(d=r.transitionOverride);const f=c?()=>Promise.all(hy(a,c,r)):()=>Promise.resolve(),h=a.variantChildren&&a.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:T}=d;return Z2(a,i,g+p,y,T,r)}:()=>Promise.resolve(),{when:m}=d;if(m){const[p,g]=m==="beforeChildren"?[f,h]:[h,f];return p().then(()=>g())}else return Promise.all([f(),h(r.delay)])}function Z2(a,i,r=0,o=0,c=1,d){const f=[],h=(a.variantChildren.size-1)*o,m=c===1?(p=0)=>p*o:(p=0)=>h-p*o;return Array.from(a.variantChildren).sort(X2).forEach((p,g)=>{p.notify("AnimationStart",i),f.push(Xu(p,i,{...d,delay:r+m(g)}).then(()=>p.notify("AnimationComplete",i)))}),Promise.all(f)}function X2(a,i){return a.sortNodePosition(i)}function K2(a,i,r={}){a.notify("AnimationStart",i);let o;if(Array.isArray(i)){const c=i.map(d=>Xu(a,d,r));o=Promise.all(c)}else if(typeof i=="string")o=Xu(a,i,r);else{const c=typeof i=="function"?Wo(a,i,r.custom):i;o=Promise.all(hy(a,c,r))}return o.then(()=>{be.postRender(()=>{a.notify("AnimationComplete",i)})})}const Q2=[...hf].reverse(),$2=hf.length;function W2(a){return i=>Promise.all(i.map(({animation:r,options:o})=>K2(a,r,o)))}function J2(a){let i=W2(a);const r=eS();let o=!0;const c=m=>(p,g)=>{var y;const T=Wo(a,g,m==="exit"?(y=a.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(T){const{transition:S,transitionEnd:z,...v}=T;p={...p,...v,...z}}return p};function d(m){i=m(a)}function f(m){const p=a.getProps(),g=a.getVariantContext(!0)||{},y=[],T=new Set;let S={},z=1/0;for(let C=0;C<$2;C++){const _=Q2[C],k=r[_],A=p[_]!==void 0?p[_]:g[_],O=sr(A),D=_===m?k.isActive:null;D===!1&&(z=C);let F=A===g[_]&&A!==p[_]&&O;if(F&&o&&a.manuallyAnimateOnMount&&(F=!1),k.protectedKeys={...S},!k.isActive&&D===null||!A&&!k.prevProp||Ko(A)||typeof A=="boolean")continue;let q=tS(k.prevProp,A)||_===m&&k.isActive&&!F&&O||C>z&&O,X=!1;const st=Array.isArray(A)?A:[A];let ft=st.reduce(c(_),{});D===!1&&(ft={});const{prevResolvedValues:L={}}=k,tt={...L,...ft},E=et=>{q=!0,T.has(et)&&(X=!0,T.delete(et)),k.needsAnimating[et]=!0;const G=a.getValue(et);G&&(G.liveStyle=!1)};for(const et in tt){const G=ft[et],Z=L[et];if(S.hasOwnProperty(et))continue;let ht=!1;Iu(G)&&Iu(Z)?ht=!B0(G,Z):ht=G!==Z,ht?G!=null?E(et):T.add(et):G!==void 0&&T.has(et)?E(et):k.protectedKeys[et]=!0}k.prevProp=A,k.prevResolvedValues=ft,k.isActive&&(S={...S,...ft}),o&&a.blockInitialAnimation&&(q=!1),q&&(!F||X)&&y.push(...st.map(et=>({animation:et,options:{type:_}})))}if(T.size){const C={};T.forEach(_=>{const k=a.getBaseTarget(_),A=a.getValue(_);A&&(A.liveStyle=!0),C[_]=k??null}),y.push({animation:C})}let v=!!y.length;return o&&(p.initial===!1||p.initial===p.animate)&&!a.manuallyAnimateOnMount&&(v=!1),o=!1,v?i(y):Promise.resolve()}function h(m,p){var g;if(r[m].isActive===p)return Promise.resolve();(g=a.variantChildren)===null||g===void 0||g.forEach(T=>{var S;return(S=T.animationState)===null||S===void 0?void 0:S.setActive(m,p)}),r[m].isActive=p;const y=f(m);for(const T in r)r[T].protectedKeys={};return y}return{animateChanges:f,setActive:h,setAnimateFunction:d,getState:()=>r}}function tS(a,i){return typeof i=="string"?i!==a:Array.isArray(i)?!B0(i,a):!1}function Wi(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function eS(){return{animate:Wi(!0),whileInView:Wi(),whileHover:Wi(),whileTap:Wi(),whileDrag:Wi(),whileFocus:Wi(),exit:Wi()}}class nS extends Ni{constructor(i){super(i),i.animationState||(i.animationState=J2(i))}updateAnimationControlsSubscription(){const{animate:i}=this.node.getProps();this.unmount(),Ko(i)&&(this.unmount=i.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:i}=this.node.getProps(),{animate:r}=this.node.prevProps||{};i!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let iS=0;class aS extends Ni{constructor(){super(...arguments),this.id=iS++}update(){if(!this.node.presenceContext)return;const{isPresent:i,onExitComplete:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||i===o)return;const c=this.node.animationState.setActive("exit",!i);r&&!i&&c.then(()=>r(this.id))}mount(){const{register:i}=this.node.presenceContext||{};i&&(this.unmount=i(this.id))}unmount(){}}const sS={animation:{Feature:nS},exit:{Feature:aS}},yg=(a,i)=>Math.abs(a-i);function rS(a,i){const r=yg(a.x,i.x),o=yg(a.y,i.y);return Math.sqrt(r**2+o**2)}class my{constructor(i,r,{transformPagePoint:o,contextWindow:c,dragSnapToOrigin:d=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Eu(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,S=rS(y.offset,{x:0,y:0})>=3;if(!T&&!S)return;const{point:z}=y,{timestamp:v}=Ce;this.history.push({...z,timestamp:v});const{onStart:C,onMove:_}=this.handlers;T||(C&&C(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,y)},this.handlePointerMove=(y,T)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Au(T,this.transformPagePoint),be.update(this.updatePoint,!0)},this.handlePointerUp=(y,T)=>{this.end();const{onEnd:S,onSessionEnd:z,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Eu(y.type==="pointercancel"?this.lastMoveEventInfo:Au(T,this.transformPagePoint),this.history);this.startEvent&&S&&S(y,C),z&&z(y,C)},!M0(i))return;this.dragSnapToOrigin=d,this.handlers=r,this.transformPagePoint=o,this.contextWindow=c||window;const f=$o(i),h=Au(f,this.transformPagePoint),{point:m}=h,{timestamp:p}=Ce;this.history=[{...m,timestamp:p}];const{onSessionStart:g}=r;g&&g(i,Eu(h,this.history)),this.removeListeners=Kn(Xn(this.contextWindow,"pointermove",this.handlePointerMove),Xn(this.contextWindow,"pointerup",this.handlePointerUp),Xn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(i){this.handlers=i}end(){this.removeListeners&&this.removeListeners(),ji(this.updatePoint)}}function Au(a,i){return i?{point:i(a.point)}:a}function vg(a,i){return{x:a.x-i.x,y:a.y-i.y}}function Eu({point:a},i){return{point:a,delta:vg(a,py(i)),offset:vg(a,oS(i)),velocity:lS(i,.1)}}function oS(a){return a[0]}function py(a){return a[a.length-1]}function lS(a,i){if(a.length<2)return{x:0,y:0};let r=a.length-1,o=null;const c=py(a);for(;r>=0&&(o=a[r],!(c.timestamp-o.timestamp>Ai(i)));)r--;if(!o)return{x:0,y:0};const d=Qn(c.timestamp-o.timestamp);if(d===0)return{x:0,y:0};const f={x:(c.x-o.x)/d,y:(c.y-o.y)/d};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function $e(a){return a.max-a.min}function Ku(a,i=0,r=.01){return Math.abs(a-i)<=r}function bg(a,i,r,o=.5){a.origin=o,a.originPoint=se(i.min,i.max,a.origin),a.scale=$e(r)/$e(i),(Ku(a.scale,1,1e-4)||isNaN(a.scale))&&(a.scale=1),a.translate=se(r.min,r.max,a.origin)-a.originPoint,(Ku(a.translate)||isNaN(a.translate))&&(a.translate=0)}function nr(a,i,r,o){bg(a.x,i.x,r.x,o?o.originX:void 0),bg(a.y,i.y,r.y,o?o.originY:void 0)}function xg(a,i,r){a.min=r.min+i.min,a.max=a.min+$e(i)}function cS(a,i,r){xg(a.x,i.x,r.x),xg(a.y,i.y,r.y)}function Sg(a,i,r){a.min=i.min-r.min,a.max=a.min+$e(i)}function ir(a,i,r){Sg(a.x,i.x,r.x),Sg(a.y,i.y,r.y)}function uS(a,{min:i,max:r},o){return i!==void 0&&a<i?a=o?se(i,a,o.min):Math.max(a,i):r!==void 0&&a>r&&(a=o?se(r,a,o.max):Math.min(a,r)),a}function wg(a,i,r){return{min:i!==void 0?a.min+i:void 0,max:r!==void 0?a.max+r-(a.max-a.min):void 0}}function fS(a,{top:i,left:r,bottom:o,right:c}){return{x:wg(a.x,r,c),y:wg(a.y,i,o)}}function Tg(a,i){let r=i.min-a.min,o=i.max-a.max;return i.max-i.min<a.max-a.min&&([r,o]=[o,r]),{min:r,max:o}}function dS(a,i){return{x:Tg(a.x,i.x),y:Tg(a.y,i.y)}}function hS(a,i){let r=.5;const o=$e(a),c=$e(i);return c>o?r=or(i.min,i.max-o,a.min):o>c&&(r=or(a.min,a.max-c,i.min)),zi(0,1,r)}function mS(a,i){const r={};return i.min!==void 0&&(r.min=i.min-a.min),i.max!==void 0&&(r.max=i.max-a.min),r}const Qu=.35;function pS(a=Qu){return a===!1?a=0:a===!0&&(a=Qu),{x:_g(a,"left","right"),y:_g(a,"top","bottom")}}function _g(a,i,r){return{min:Cg(a,i),max:Cg(a,r)}}function Cg(a,i){return typeof a=="number"?a:a[i]||0}const kg=()=>({translate:0,scale:1,origin:0,originPoint:0}),$a=()=>({x:kg(),y:kg()}),Ag=()=>({min:0,max:0}),ue=()=>({x:Ag(),y:Ag()});function hn(a){return[a("x"),a("y")]}function gy({top:a,left:i,right:r,bottom:o}){return{x:{min:i,max:r},y:{min:a,max:o}}}function gS({x:a,y:i}){return{top:i.min,right:a.max,bottom:i.max,left:a.min}}function yS(a,i){if(!i)return a;const r=i({x:a.left,y:a.top}),o=i({x:a.right,y:a.bottom});return{top:r.y,left:r.x,bottom:o.y,right:o.x}}function zu(a){return a===void 0||a===1}function $u({scale:a,scaleX:i,scaleY:r}){return!zu(a)||!zu(i)||!zu(r)}function Ji(a){return $u(a)||yy(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function yy(a){return Eg(a.x)||Eg(a.y)}function Eg(a){return a&&a!=="0%"}function Ho(a,i,r){const o=a-r,c=i*o;return r+c}function zg(a,i,r,o,c){return c!==void 0&&(a=Ho(a,c,o)),Ho(a,r,o)+i}function Wu(a,i=0,r=1,o,c){a.min=zg(a.min,i,r,o,c),a.max=zg(a.max,i,r,o,c)}function vy(a,{x:i,y:r}){Wu(a.x,i.translate,i.scale,i.originPoint),Wu(a.y,r.translate,r.scale,r.originPoint)}function vS(a,i,r,o=!1){const c=r.length;if(!c)return;i.x=i.y=1;let d,f;for(let h=0;h<c;h++){d=r[h],f=d.projectionDelta;const m=d.instance;m&&m.style&&m.style.display==="contents"||(o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Wa(a,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),f&&(i.x*=f.x.scale,i.y*=f.y.scale,vy(a,f)),o&&Ji(d.latestValues)&&Wa(a,d.latestValues))}i.x=jg(i.x),i.y=jg(i.y)}function jg(a){return Number.isInteger(a)||a>1.0000000000001||a<.999999999999?a:1}function Ci(a,i){a.min=a.min+i,a.max=a.max+i}function Mg(a,i,[r,o,c]){const d=i[c]!==void 0?i[c]:.5,f=se(a.min,a.max,d);Wu(a,i[r],i[o],f,i.scale)}const bS=["x","scaleX","originX"],xS=["y","scaleY","originY"];function Wa(a,i){Mg(a.x,i,bS),Mg(a.y,i,xS)}function by(a,i){return gy(yS(a.getBoundingClientRect(),i))}function SS(a,i,r){const o=by(a,r),{scroll:c}=i;return c&&(Ci(o.x,c.offset.x),Ci(o.y,c.offset.y)),o}const xy=({current:a})=>a?a.ownerDocument.defaultView:null,wS=new WeakMap;class TS{constructor(i){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ue(),this.visualElement=i}start(i,{snapToCursor:r=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor($o(g,"page").point)},d=(g,y)=>{const{drag:T,dragPropagation:S,onDragStart:z}=this.getProps();if(T&&!S&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=R0(T),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hn(C=>{let _=this.getAxisMotionValue(C).get()||0;if(kn.test(_)){const{projection:k}=this.visualElement;if(k&&k.layout){const A=k.layout.layoutBox[C];A&&(_=$e(A)*(parseFloat(_)/100))}}this.originPoint[C]=_}),z&&z(g,y);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},f=(g,y)=>{const{dragPropagation:T,dragDirectionLock:S,onDirectionLock:z,onDrag:v}=this.getProps();if(!T&&!this.openGlobalLock)return;const{offset:C}=y;if(S&&this.currentDirection===null){this.currentDirection=_S(C),this.currentDirection!==null&&z&&z(this.currentDirection);return}this.updateAxis("x",y.point,C),this.updateAxis("y",y.point,C),this.visualElement.render(),v&&v(g,y)},h=(g,y)=>this.stop(g,y),m=()=>hn(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new my(i,{onSessionStart:c,onStart:d,onMove:f,onSessionEnd:h,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:xy(this.visualElement)})}stop(i,r){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:c}=r;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&d(i,r)}cancel(){this.isDragging=!1;const{projection:i,animationState:r}=this.visualElement;i&&(i.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(i,r,o){const{drag:c}=this.getProps();if(!o||!Mo(i,c,this.currentDirection))return;const d=this.getAxisMotionValue(i);let f=this.originPoint[i]+o[i];this.constraints&&this.constraints[i]&&(f=uS(f,this.constraints[i],this.elastic[i])),d.set(f)}resolveConstraints(){var i;const{dragConstraints:r,dragElastic:o}=this.getProps(),c=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)===null||i===void 0?void 0:i.layout,d=this.constraints;r&&Ka(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&c?this.constraints=fS(c.layoutBox,r):this.constraints=!1,this.elastic=pS(o),d!==this.constraints&&c&&this.constraints&&!this.hasMutatedConstraints&&hn(f=>{this.constraints!==!1&&this.getAxisMotionValue(f)&&(this.constraints[f]=mS(c.layoutBox[f],this.constraints[f]))})}resolveRefConstraints(){const{dragConstraints:i,onMeasureDragConstraints:r}=this.getProps();if(!i||!Ka(i))return!1;const o=i.current,{projection:c}=this.visualElement;if(!c||!c.layout)return!1;const d=SS(o,c.root,this.visualElement.getTransformPagePoint());let f=dS(c.layout.layoutBox,d);if(r){const h=r(gS(f));this.hasMutatedConstraints=!!h,h&&(f=gy(h))}return f}startAnimation(i){const{drag:r,dragMomentum:o,dragElastic:c,dragTransition:d,dragSnapToOrigin:f,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},p=hn(g=>{if(!Mo(g,r,this.currentDirection))return;let y=m&&m[g]||{};f&&(y={min:0,max:0});const T=c?200:1e6,S=c?40:1e7,z={type:"inertia",velocity:o?i[g]:0,bounceStiffness:T,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...d,...y};return this.startAxisValueAnimation(g,z)});return Promise.all(p).then(h)}startAxisValueAnimation(i,r){const o=this.getAxisMotionValue(i);return o.start(Df(i,o,0,r,this.visualElement))}stopAnimation(){hn(i=>this.getAxisMotionValue(i).stop())}pauseAnimation(){hn(i=>{var r;return(r=this.getAxisMotionValue(i).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(i){var r;return(r=this.getAxisMotionValue(i).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(i){const r=`_drag${i.toUpperCase()}`,o=this.visualElement.getProps(),c=o[r];return c||this.visualElement.getValue(i,(o.initial?o.initial[i]:void 0)||0)}snapToCursor(i){hn(r=>{const{drag:o}=this.getProps();if(!Mo(r,o,this.currentDirection))return;const{projection:c}=this.visualElement,d=this.getAxisMotionValue(r);if(c&&c.layout){const{min:f,max:h}=c.layout.layoutBox[r];d.set(i[r]-se(f,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:i,dragConstraints:r}=this.getProps(),{projection:o}=this.visualElement;if(!Ka(r)||!o||!this.constraints)return;this.stopAnimation();const c={x:0,y:0};hn(f=>{const h=this.getAxisMotionValue(f);if(h&&this.constraints!==!1){const m=h.get();c[f]=hS({min:m,max:m},this.constraints[f])}});const{transformTemplate:d}=this.visualElement.getProps();this.visualElement.current.style.transform=d?d({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),hn(f=>{if(!Mo(f,i,null))return;const h=this.getAxisMotionValue(f),{min:m,max:p}=this.constraints[f];h.set(se(m,p,c[f]))})}addListeners(){if(!this.visualElement.current)return;wS.set(this.visualElement,this);const i=this.visualElement.current,r=Xn(i,"pointerdown",m=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(m)}),o=()=>{const{dragConstraints:m}=this.getProps();Ka(m)&&(this.constraints=this.resolveRefConstraints())},{projection:c}=this.visualElement,d=c.addEventListener("measure",o);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),o();const f=Gn(window,"resize",()=>this.scalePositionWithinConstraints()),h=c.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(hn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=m[g].translate,y.set(y.get()+m[g].translate))}),this.visualElement.render())}));return()=>{f(),r(),d(),h&&h()}}getProps(){const i=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:o=!1,dragPropagation:c=!1,dragConstraints:d=!1,dragElastic:f=Qu,dragMomentum:h=!0}=i;return{...i,drag:r,dragDirectionLock:o,dragPropagation:c,dragConstraints:d,dragElastic:f,dragMomentum:h}}}function Mo(a,i,r){return(i===!0||i===a)&&(r===null||r===a)}function _S(a,i=10){let r=null;return Math.abs(a.y)>i?r="y":Math.abs(a.x)>i&&(r="x"),r}class CS extends Ni{constructor(i){super(i),this.removeGroupControls=je,this.removeListeners=je,this.controls=new TS(i)}mount(){const{dragControls:i}=this.node.getProps();i&&(this.removeGroupControls=i.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||je}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ng=a=>(i,r)=>{a&&a(i,r)};class kS extends Ni{constructor(){super(...arguments),this.removePointerDownListener=je}onPointerDown(i){this.session=new my(i,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xy(this.node)})}createPanHandlers(){const{onPanSessionStart:i,onPanStart:r,onPan:o,onPanEnd:c}=this.node.getProps();return{onSessionStart:Ng(i),onStart:Ng(r),onMove:o,onEnd:(d,f)=>{delete this.session,c&&c(d,f)}}}mount(){this.removePointerDownListener=Xn(this.node.current,"pointerdown",i=>this.onPointerDown(i))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function AS(){const a=I.useContext(Xo);if(a===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=a,c=I.useId();return I.useEffect(()=>o(c),[]),!i&&r?[!1,()=>r&&r(c)]:[!0]}const Oo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Rg(a,i){return i.max===i.min?0:a/(i.max-i.min)*100}const $s={correct:(a,i)=>{if(!i.target)return a;if(typeof a=="string")if(Rt.test(a))a=parseFloat(a);else return a;const r=Rg(a,i.target.x),o=Rg(a,i.target.y);return`${r}% ${o}%`}},ES={correct:(a,{treeScale:i,projectionDelta:r})=>{const o=a,c=Mi.parse(a);if(c.length>5)return o;const d=Mi.createTransformer(a),f=typeof c[0]!="number"?1:0,h=r.x.scale*i.x,m=r.y.scale*i.y;c[0+f]/=h,c[1+f]/=m;const p=se(h,m,.5);return typeof c[2+f]=="number"&&(c[2+f]/=p),typeof c[3+f]=="number"&&(c[3+f]/=p),d(c)}};class zS extends I.Component{componentDidMount(){const{visualElement:i,layoutGroup:r,switchLayoutGroup:o,layoutId:c}=this.props,{projection:d}=i;Ab(jS),d&&(r.group&&r.group.add(d),o&&o.register&&c&&o.register(d),d.root.didUpdate(),d.addEventListener("animationComplete",()=>{this.safeToRemove()}),d.setOptions({...d.options,onExitComplete:()=>this.safeToRemove()})),Oo.hasEverUpdated=!0}getSnapshotBeforeUpdate(i){const{layoutDependency:r,visualElement:o,drag:c,isPresent:d}=this.props,f=o.projection;return f&&(f.isPresent=d,c||i.layoutDependency!==r||r===void 0?f.willUpdate():this.safeToRemove(),i.isPresent!==d&&(d?f.promote():f.relegate()||be.postRender(()=>{const h=f.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:i}=this.props.visualElement;i&&(i.root.didUpdate(),df.postRender(()=>{!i.currentAnimation&&i.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:i,layoutGroup:r,switchLayoutGroup:o}=this.props,{projection:c}=i;c&&(c.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(c),o&&o.deregister&&o.deregister(c))}safeToRemove(){const{safeToRemove:i}=this.props;i&&i()}render(){return null}}function Sy(a){const[i,r]=AS(),o=I.useContext(pf);return w.jsx(zS,{...a,layoutGroup:o,switchLayoutGroup:I.useContext(y0),isPresent:i,safeToRemove:r})}const jS={borderRadius:{...$s,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$s,borderTopRightRadius:$s,borderBottomLeftRadius:$s,borderBottomRightRadius:$s,boxShadow:ES},wy=["TopLeft","TopRight","BottomLeft","BottomRight"],MS=wy.length,Dg=a=>typeof a=="string"?parseFloat(a):a,Og=a=>typeof a=="number"||Rt.test(a);function NS(a,i,r,o,c,d){c?(a.opacity=se(0,r.opacity!==void 0?r.opacity:1,RS(o)),a.opacityExit=se(i.opacity!==void 0?i.opacity:1,0,DS(o))):d&&(a.opacity=se(i.opacity!==void 0?i.opacity:1,r.opacity!==void 0?r.opacity:1,o));for(let f=0;f<MS;f++){const h=`border${wy[f]}Radius`;let m=Bg(i,h),p=Bg(r,h);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||Og(m)===Og(p)?(a[h]=Math.max(se(Dg(m),Dg(p),o),0),(kn.test(p)||kn.test(m))&&(a[h]+="%")):a[h]=p}(i.rotate||r.rotate)&&(a.rotate=se(i.rotate||0,r.rotate||0,o))}function Bg(a,i){return a[i]!==void 0?a[i]:a.borderRadius}const RS=Ty(0,.5,ry),DS=Ty(.5,.95,je);function Ty(a,i,r){return o=>o<a?0:o>i?1:r(or(a,i,o))}function Lg(a,i){a.min=i.min,a.max=i.max}function dn(a,i){Lg(a.x,i.x),Lg(a.y,i.y)}function Ug(a,i,r,o,c){return a-=i,a=Ho(a,1/r,o),c!==void 0&&(a=Ho(a,1/c,o)),a}function OS(a,i=0,r=1,o=.5,c,d=a,f=a){if(kn.test(i)&&(i=parseFloat(i),i=se(f.min,f.max,i/100)-f.min),typeof i!="number")return;let h=se(d.min,d.max,o);a===d&&(h-=i),a.min=Ug(a.min,i,r,h,c),a.max=Ug(a.max,i,r,h,c)}function Vg(a,i,[r,o,c],d,f){OS(a,i[r],i[o],i[c],i.scale,d,f)}const BS=["x","scaleX","originX"],LS=["y","scaleY","originY"];function Ig(a,i,r,o){Vg(a.x,i,BS,r?r.x:void 0,o?o.x:void 0),Vg(a.y,i,LS,r?r.y:void 0,o?o.y:void 0)}function Fg(a){return a.translate===0&&a.scale===1}function _y(a){return Fg(a.x)&&Fg(a.y)}function US(a,i){return a.x.min===i.x.min&&a.x.max===i.x.max&&a.y.min===i.y.min&&a.y.max===i.y.max}function Cy(a,i){return Math.round(a.x.min)===Math.round(i.x.min)&&Math.round(a.x.max)===Math.round(i.x.max)&&Math.round(a.y.min)===Math.round(i.y.min)&&Math.round(a.y.max)===Math.round(i.y.max)}function Hg(a){return $e(a.x)/$e(a.y)}class VS{constructor(){this.members=[]}add(i){Of(this.members,i),i.scheduleRender()}remove(i){if(Bf(this.members,i),i===this.prevLead&&(this.prevLead=void 0),i===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(i){const r=this.members.findIndex(c=>i===c);if(r===0)return!1;let o;for(let c=r;c>=0;c--){const d=this.members[c];if(d.isPresent!==!1){o=d;break}}return o?(this.promote(o),!0):!1}promote(i,r){const o=this.lead;if(i!==o&&(this.prevLead=o,this.lead=i,i.show(),o)){o.instance&&o.scheduleRender(),i.scheduleRender(),i.resumeFrom=o,r&&(i.resumeFrom.preserveOpacity=!0),o.snapshot&&(i.snapshot=o.snapshot,i.snapshot.latestValues=o.animationValues||o.latestValues),i.root&&i.root.isUpdating&&(i.isLayoutDirty=!0);const{crossfade:c}=i.options;c===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(i=>{const{options:r,resumingFrom:o}=i;r.onExitComplete&&r.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(i=>{i.instance&&i.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Pg(a,i,r){let o="";const c=a.x.translate/i.x,d=a.y.translate/i.y,f=(r==null?void 0:r.z)||0;if((c||d||f)&&(o=`translate3d(${c}px, ${d}px, ${f}px) `),(i.x!==1||i.y!==1)&&(o+=`scale(${1/i.x}, ${1/i.y}) `),r){const{transformPerspective:p,rotate:g,rotateX:y,rotateY:T,skewX:S,skewY:z}=r;p&&(o=`perspective(${p}px) ${o}`),g&&(o+=`rotate(${g}deg) `),y&&(o+=`rotateX(${y}deg) `),T&&(o+=`rotateY(${T}deg) `),S&&(o+=`skewX(${S}deg) `),z&&(o+=`skewY(${z}deg) `)}const h=a.x.scale*i.x,m=a.y.scale*i.y;return(h!==1||m!==1)&&(o+=`scale(${h}, ${m})`),o||"none"}const IS=(a,i)=>a.depth-i.depth;class FS{constructor(){this.children=[],this.isDirty=!1}add(i){Of(this.children,i),this.isDirty=!0}remove(i){Bf(this.children,i),this.isDirty=!0}forEach(i){this.isDirty&&this.children.sort(IS),this.isDirty=!1,this.children.forEach(i)}}function HS(a,i){const r=Ei.now(),o=({timestamp:c})=>{const d=c-r;d>=i&&(ji(o),a(d-i))};return be.read(o,!0),()=>ji(o)}function PS(a){window.MotionDebug&&window.MotionDebug.record(a)}function qS(a){return a instanceof SVGElement&&a.tagName!=="svg"}function GS(a,i,r){const o=ze(a)?a:lr(a);return o.start(Df("",o,i,r)),o.animation}const ju=["","X","Y","Z"],YS={visibility:"hidden"},qg=1e3;let ZS=0;const ta={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Mu(a,i,r,o){const{latestValues:c}=i;c[a]&&(r[a]=c[a],i.setStaticValue(a,0),o&&(o[a]=0))}function ky({attachResizeListener:a,defaultParent:i,measureScroll:r,checkIsScrollRoot:o,resetTransform:c}){return class{constructor(f={},h=i==null?void 0:i()){this.id=ZS++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ta.totalNodes=ta.resolvedTargetDeltas=ta.recalculatedProjection=0,this.nodes.forEach(QS),this.nodes.forEach(ew),this.nodes.forEach(nw),this.nodes.forEach($S),PS(ta)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new FS)}addEventListener(f,h){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new Lf),this.eventHandlers.get(f).add(h)}notifyListeners(f,...h){const m=this.eventHandlers.get(f);m&&m.notify(...h)}hasListeners(f){return this.eventHandlers.has(f)}mount(f,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=qS(f),this.instance=f;const{layoutId:m,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||m)&&(this.isLayoutDirty=!0),a){let y;const T=()=>this.root.updateBlockedByResize=!1;a(f,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=HS(T,250),Oo.hasAnimatedSinceResize&&(Oo.hasAnimatedSinceResize=!1,this.nodes.forEach(Yg))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:T,hasRelativeTargetChanged:S,layout:z})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||g.getDefaultTransition()||ow,{onLayoutAnimationStart:C,onLayoutAnimationComplete:_}=g.getProps(),k=!this.targetLayout||!Cy(this.targetLayout,z)||S,A=!T&&S;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||A||T&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,A);const O={...Cf(v,"layout"),onPlay:C,onComplete:_};(g.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O)}else T||Yg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=z})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ji(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iw),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Gg);return}this.isUpdating||this.nodes.forEach(JS),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(tw),this.nodes.forEach(XS),this.nodes.forEach(KS),this.clearAllSnapshots();const h=Ei.now();Ce.delta=zi(0,1e3/60,h-Ce.timestamp),Ce.timestamp=h,Ce.isProcessing=!0,xu.update.process(Ce),xu.preRender.process(Ce),xu.render.process(Ce),Ce.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,df.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(WS),this.sharedNodes.forEach(aw)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ue(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let h=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(h=!1),h&&(this.scroll={animationId:this.root.animationId,phase:f,isRoot:o(this.instance),offset:r(this.instance)})}resetTransform(){if(!c)return;const f=this.isLayoutDirty||this.shouldResetTransform,h=this.projectionDelta&&!_y(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;f&&(h||Ji(this.latestValues)||g)&&(c(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return f&&(m=this.removeTransform(m)),lw(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:f}=this.options;if(!f)return ue();const h=f.measureViewportBox(),{scroll:m}=this.root;return m&&(Ci(h.x,m.offset.x),Ci(h.y,m.offset.y)),h}removeElementScroll(f){const h=ue();dn(h,f);for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:g,options:y}=p;if(p!==this.root&&g&&y.layoutScroll){if(g.isRoot){dn(h,f);const{scroll:T}=this.root;T&&(Ci(h.x,-T.offset.x),Ci(h.y,-T.offset.y))}Ci(h.x,g.offset.x),Ci(h.y,g.offset.y)}}return h}applyTransform(f,h=!1){const m=ue();dn(m,f);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Wa(m,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ji(g.latestValues)&&Wa(m,g.latestValues)}return Ji(this.latestValues)&&Wa(m,this.latestValues),m}removeTransform(f){const h=ue();dn(h,f);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Ji(p.latestValues))continue;$u(p.latestValues)&&p.updateSnapshot();const g=ue(),y=p.measurePageBox();dn(g,y),Ig(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Ji(this.latestValues)&&Ig(h,this.latestValues),h}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ce.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){var h;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(f||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:y,layoutId:T}=this.options;if(!(!this.layout||!(y||T))){if(this.resolvedRelativeTargetAt=Ce.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ue(),this.relativeTargetOrigin=ue(),ir(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ue(),this.targetWithTransforms=ue()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cS(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dn(this.target,this.layout.layoutBox),vy(this.target,this.targetDelta)):dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ue(),this.relativeTargetOrigin=ue(),ir(this.relativeTargetOrigin,this.target,S.target),dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ta.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||$u(this.parent.latestValues)||yy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var f;const h=this.getLead(),m=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Ce.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;dn(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,S=this.treeScale.y;vS(this.layoutCorrected,this.treeScale,this.path,m),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=ue());const{target:z}=h;if(!z){this.projectionTransform&&(this.projectionDelta=$a(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=$a(),this.projectionDeltaWithTransform=$a());const v=this.projectionTransform;nr(this.projectionDelta,this.layoutCorrected,z,this.latestValues),this.projectionTransform=Pg(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==T||this.treeScale.y!==S)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",z)),ta.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),f){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(f,h=!1){const m=this.snapshot,p=m?m.latestValues:{},g={...this.latestValues},y=$a();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const T=ue(),S=m?m.source:void 0,z=this.layout?this.layout.source:void 0,v=S!==z,C=this.getStack(),_=!C||C.members.length<=1,k=!!(v&&!_&&this.options.crossfade===!0&&!this.path.some(rw));this.animationProgress=0;let A;this.mixTargetDelta=O=>{const D=O/1e3;Zg(y.x,f.x,D),Zg(y.y,f.y,D),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ir(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sw(this.relativeTarget,this.relativeTargetOrigin,T,D),A&&US(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=ue()),dn(A,this.relativeTarget)),v&&(this.animationValues=g,NS(g,p,this.latestValues,D,k,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ji(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=be.update(()=>{Oo.hasAnimatedSinceResize=!0,this.currentAnimation=GS(0,qg,{...f,onUpdate:h=>{this.mixTargetDelta(h),f.onUpdate&&f.onUpdate(h)},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:h,target:m,layout:p,latestValues:g}=f;if(!(!h||!m||!p)){if(this!==f&&this.layout&&p&&Ay(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||ue();const y=$e(this.layout.layoutBox.x);m.x.min=f.target.x.min,m.x.max=m.x.min+y;const T=$e(this.layout.layoutBox.y);m.y.min=f.target.y.min,m.y.max=m.y.min+T}dn(h,m),Wa(h,g),nr(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(f,h){this.sharedNodes.has(f)||this.sharedNodes.set(f,new VS),this.sharedNodes.get(f).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){var f;const{layoutId:h}=this.options;return h?((f=this.getStack())===null||f===void 0?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:h}=this.options;return h?(f=this.getStack())===null||f===void 0?void 0:f.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:h,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),f&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let h=!1;const{latestValues:m}=f;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const p={};m.z&&Mu("z",f,p,this.animationValues);for(let g=0;g<ju.length;g++)Mu(`rotate${ju[g]}`,f,p,this.animationValues),Mu(`skew${ju[g]}`,f,p,this.animationValues);f.render();for(const g in p)f.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);f.scheduleRender()}getProjectionStyles(f){var h,m;if(!this.instance||this.isSVG)return;if(!this.isVisible)return YS;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Ro(f==null?void 0:f.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Ro(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!Ji(this.latestValues)&&(v.transform=g?g({},""):"none",this.hasProjected=!1),v}const T=y.animationValues||y.latestValues;this.applyTransformsToTarget(),p.transform=Pg(this.projectionDeltaWithTransform,this.treeScale,T),g&&(p.transform=g(T,p.transform));const{x:S,y:z}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${z.origin*100}% 0`,y.animationValues?p.opacity=y===this?(m=(h=T.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&m!==void 0?m:1:this.preserveOpacity?this.latestValues.opacity:T.opacityExit:p.opacity=y===this?T.opacity!==void 0?T.opacity:"":T.opacityExit!==void 0?T.opacityExit:0;for(const v in Bo){if(T[v]===void 0)continue;const{correct:C,applyTo:_}=Bo[v],k=p.transform==="none"?T[v]:C(T[v],y);if(_){const A=_.length;for(let O=0;O<A;O++)p[_[O]]=k}else p[v]=k}return this.options.layoutId&&(p.pointerEvents=y===this?Ro(f==null?void 0:f.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>{var h;return(h=f.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(Gg),this.root.sharedNodes.clear()}}}function XS(a){a.updateLayout()}function KS(a){var i;const r=((i=a.resumeFrom)===null||i===void 0?void 0:i.snapshot)||a.snapshot;if(a.isLead()&&a.layout&&r&&a.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:c}=a.layout,{animationType:d}=a.options,f=r.source!==a.layout.source;d==="size"?hn(y=>{const T=f?r.measuredBox[y]:r.layoutBox[y],S=$e(T);T.min=o[y].min,T.max=T.min+S}):Ay(d,r.layoutBox,o)&&hn(y=>{const T=f?r.measuredBox[y]:r.layoutBox[y],S=$e(o[y]);T.max=T.min+S,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[y].max=a.relativeTarget[y].min+S)});const h=$a();nr(h,o,r.layoutBox);const m=$a();f?nr(m,a.applyTransform(c,!0),r.measuredBox):nr(m,o,r.layoutBox);const p=!_y(h);let g=!1;if(!a.resumeFrom){const y=a.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:T,layout:S}=y;if(T&&S){const z=ue();ir(z,r.layoutBox,T.layoutBox);const v=ue();ir(v,o,S.layoutBox),Cy(z,v)||(g=!0),y.options.layoutRoot&&(a.relativeTarget=v,a.relativeTargetOrigin=z,a.relativeParent=y)}}}a.notifyListeners("didUpdate",{layout:o,snapshot:r,delta:m,layoutDelta:h,hasLayoutChanged:p,hasRelativeTargetChanged:g})}else if(a.isLead()){const{onExitComplete:o}=a.options;o&&o()}a.options.transition=void 0}function QS(a){ta.totalNodes++,a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function $S(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function WS(a){a.clearSnapshot()}function Gg(a){a.clearMeasurements()}function JS(a){a.isLayoutDirty=!1}function tw(a){const{visualElement:i}=a.options;i&&i.getProps().onBeforeLayoutMeasure&&i.notify("BeforeLayoutMeasure"),a.resetTransform()}function Yg(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function ew(a){a.resolveTargetDelta()}function nw(a){a.calcProjection()}function iw(a){a.resetSkewAndRotation()}function aw(a){a.removeLeadSnapshot()}function Zg(a,i,r){a.translate=se(i.translate,0,r),a.scale=se(i.scale,1,r),a.origin=i.origin,a.originPoint=i.originPoint}function Xg(a,i,r,o){a.min=se(i.min,r.min,o),a.max=se(i.max,r.max,o)}function sw(a,i,r,o){Xg(a.x,i.x,r.x,o),Xg(a.y,i.y,r.y,o)}function rw(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const ow={duration:.45,ease:[.4,0,.1,1]},Kg=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),Qg=Kg("applewebkit/")&&!Kg("chrome/")?Math.round:je;function $g(a){a.min=Qg(a.min),a.max=Qg(a.max)}function lw(a){$g(a.x),$g(a.y)}function Ay(a,i,r){return a==="position"||a==="preserve-aspect"&&!Ku(Hg(i),Hg(r),.2)}const cw=ky({attachResizeListener:(a,i)=>Gn(a,"resize",i),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Nu={current:void 0},Ey=ky({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!Nu.current){const a=new cw({});a.mount(window),a.setOptions({layoutScroll:!0}),Nu.current=a}return Nu.current},resetTransform:(a,i)=>{a.style.transform=i!==void 0?i:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),uw={pan:{Feature:kS},drag:{Feature:CS,ProjectionNode:Ey,MeasureLayout:Sy}},Ju={current:null},zy={current:!1};function fw(){if(zy.current=!0,!!cf)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),i=()=>Ju.current=a.matches;a.addListener(i),i()}else Ju.current=!1}function dw(a,i,r){const{willChange:o}=i;for(const c in i){const d=i[c],f=r[c];if(ze(d))a.addValue(c,d),Fo(o)&&o.add(c);else if(ze(f))a.addValue(c,lr(d,{owner:a})),Fo(o)&&o.remove(c);else if(f!==d)if(a.hasValue(c)){const h=a.getValue(c);h.liveStyle===!0?h.jump(d):h.hasAnimated||h.set(d)}else{const h=a.getStaticValue(c);a.addValue(c,lr(h!==void 0?h:d,{owner:a}))}}for(const c in r)i[c]===void 0&&a.removeValue(c);return i}const Wg=new WeakMap,hw=[...H0,Ae,Mi],mw=a=>hw.find(F0(a)),jy=Object.keys(rr),pw=jy.length,Jg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],gw=mf.length;function My(a){if(a)return a.options.allowProjection!==!1?a.projection:My(a.parent)}class yw{scrapeMotionValuesFromProps(i,r,o){return{}}constructor({parent:i,props:r,presenceContext:o,reducedMotionConfig:c,blockInitialAnimation:d,visualState:f},h={}){this.resolveKeyframes=(T,S,z,v)=>new this.KeyframeResolver(T,S,z,v,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=kf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>be.render(this.render,!1,!0);const{latestValues:m,renderState:p}=f;this.latestValues=m,this.baseTarget={...m},this.initialValues=r.initial?{...m}:{},this.renderState=p,this.parent=i,this.props=r,this.presenceContext=o,this.depth=i?i.depth+1:0,this.reducedMotionConfig=c,this.options=h,this.blockInitialAnimation=!!d,this.isControllingVariants=Qo(r),this.isVariantNode=g0(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(i&&i.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(r,{},this);for(const T in y){const S=y[T];m[T]!==void 0&&ze(S)&&(S.set(m[T],!1),Fo(g)&&g.add(T))}}mount(i){this.current=i,Wg.set(i,this),this.projection&&!this.projection.instance&&this.projection.mount(i),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,o)=>this.bindToMotionValue(o,r)),zy.current||fw(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ju.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){var i;Wg.delete(this.current),this.projection&&this.projection.unmount(),ji(this.notifyUpdate),ji(this.render),this.valueSubscriptions.forEach(r=>r()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const r in this.events)this.events[r].clear();for(const r in this.features)(i=this.features[r])===null||i===void 0||i.unmount();this.current=null}bindToMotionValue(i,r){const o=oa.has(i),c=r.on("change",f=>{this.latestValues[i]=f,this.props.onUpdate&&be.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0)}),d=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(i,()=>{c(),d(),r.owner&&r.stop()})}sortNodePosition(i){return!this.current||!this.sortInstanceNodePosition||this.type!==i.type?0:this.sortInstanceNodePosition(this.current,i.current)}loadFeatures({children:i,...r},o,c,d){let f,h;for(let m=0;m<pw;m++){const p=jy[m],{isEnabled:g,Feature:y,ProjectionNode:T,MeasureLayout:S}=rr[p];T&&(f=T),g(r)&&(!this.features[p]&&y&&(this.features[p]=new y(this)),S&&(h=S))}if((this.type==="html"||this.type==="svg")&&!this.projection&&f){this.projection=new f(this.latestValues,My(this.parent));const{layoutId:m,layout:p,drag:g,dragConstraints:y,layoutScroll:T,layoutRoot:S}=r;this.projection.setOptions({layoutId:m,layout:p,alwaysMeasureLayout:!!g||y&&Ka(y),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof p=="string"?p:"both",initialPromotionConfig:d,layoutScroll:T,layoutRoot:S})}return h}updateFeatures(){for(const i in this.features){const r=this.features[i];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ue()}getStaticValue(i){return this.latestValues[i]}setStaticValue(i,r){this.latestValues[i]=r}update(i,r){(i.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=i,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let o=0;o<Jg.length;o++){const c=Jg[o];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);const d="on"+c,f=i[d];f&&(this.propEventSubscriptions[c]=this.on(c,f))}this.prevMotionValues=dw(this,this.scrapeMotionValuesFromProps(i,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(i){return this.props.variants?this.props.variants[i]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(i=!1){if(i)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const o=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(o.initial=this.props.initial),o}const r={};for(let o=0;o<gw;o++){const c=mf[o],d=this.props[c];(sr(d)||d===!1)&&(r[c]=d)}return r}addVariantChild(i){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(i),()=>r.variantChildren.delete(i)}addValue(i,r){const o=this.values.get(i);r!==o&&(o&&this.removeValue(i),this.bindToMotionValue(i,r),this.values.set(i,r),this.latestValues[i]=r.get())}removeValue(i){this.values.delete(i);const r=this.valueSubscriptions.get(i);r&&(r(),this.valueSubscriptions.delete(i)),delete this.latestValues[i],this.removeValueFromRenderState(i,this.renderState)}hasValue(i){return this.values.has(i)}getValue(i,r){if(this.props.values&&this.props.values[i])return this.props.values[i];let o=this.values.get(i);return o===void 0&&r!==void 0&&(o=lr(r===null?void 0:r,{owner:this}),this.addValue(i,o)),o}readValue(i,r){var o;let c=this.latestValues[i]!==void 0||!this.current?this.latestValues[i]:(o=this.getBaseTargetFromProps(this.props,i))!==null&&o!==void 0?o:this.readValueFromInstance(this.current,i,this.options);return c!=null&&(typeof c=="string"&&(V0(c)||L0(c))?c=parseFloat(c):!mw(c)&&Mi.test(r)&&(c=Q0(i,r)),this.setBaseTarget(i,ze(c)?c.get():c)),ze(c)?c.get():c}setBaseTarget(i,r){this.baseTarget[i]=r}getBaseTarget(i){var r;const{initial:o}=this.props;let c;if(typeof o=="string"||typeof o=="object"){const f=_f(this.props,o,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);f&&(c=f[i])}if(o&&c!==void 0)return c;const d=this.getBaseTargetFromProps(this.props,i);return d!==void 0&&!ze(d)?d:this.initialValues[i]!==void 0&&c===void 0?void 0:this.baseTarget[i]}on(i,r){return this.events[i]||(this.events[i]=new Lf),this.events[i].add(r)}notify(i,...r){this.events[i]&&this.events[i].notify(...r)}}class Ny extends yw{constructor(){super(...arguments),this.KeyframeResolver=$0}sortInstanceNodePosition(i,r){return i.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(i,r){return i.style?i.style[r]:void 0}removeValueFromRenderState(i,{vars:r,style:o}){delete r[i],delete o[i]}}function vw(a){return window.getComputedStyle(a)}class bw extends Ny{constructor(){super(...arguments),this.type="html"}readValueFromInstance(i,r){if(oa.has(r)){const o=Ef(r);return o&&o.default||0}else{const o=vw(i),c=(x0(r)?o.getPropertyValue(r):o[r])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(i,{transformPagePoint:r}){return by(i,r)}build(i,r,o,c){bf(i,r,o,c.transformTemplate)}scrapeMotionValuesFromProps(i,r,o){return Tf(i,r,o)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:i}=this.props;ze(i)&&(this.childSubscription=i.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(i,r,o,c){C0(i,r,o,c)}}class xw extends Ny{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(i,r){return i[r]}readValueFromInstance(i,r){if(oa.has(r)){const o=Ef(r);return o&&o.default||0}return r=k0.has(r)?r:ff(r),i.getAttribute(r)}measureInstanceViewportBox(){return ue()}scrapeMotionValuesFromProps(i,r,o){return E0(i,r,o)}build(i,r,o,c){Sf(i,r,o,this.isSVGTag,c.transformTemplate)}renderInstance(i,r,o,c){A0(i,r,o,c)}mount(i){this.isSVGTag=wf(i.tagName),super.mount(i)}}const Sw=(a,i)=>gf(a)?new xw(i,{enableHardwareAcceleration:!1}):new bw(i,{allowProjection:a!==I.Fragment,enableHardwareAcceleration:!0}),ww={layout:{ProjectionNode:Ey,MeasureLayout:Sy}},Tw={...sS,...px,...uw,...ww},Yn=Cb((a,i)=>nx(a,i,Tw,Sw));function Ry(){const a=I.useRef(!1);return uf(()=>(a.current=!0,()=>{a.current=!1}),[]),a}function _w(){const a=Ry(),[i,r]=I.useState(0),o=I.useCallback(()=>{a.current&&r(i+1)},[i]);return[I.useCallback(()=>be.postRender(o),[o]),i]}class Cw extends I.Component{getSnapshotBeforeUpdate(i){const r=this.props.childRef.current;if(r&&i.isPresent&&!this.props.isPresent){const o=this.props.sizeRef.current;o.height=r.offsetHeight||0,o.width=r.offsetWidth||0,o.top=r.offsetTop,o.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function kw({children:a,isPresent:i}){const r=I.useId(),o=I.useRef(null),c=I.useRef({width:0,height:0,top:0,left:0}),{nonce:d}=I.useContext(lf);return I.useInsertionEffect(()=>{const{width:f,height:h,top:m,left:p}=c.current;if(i||!o.current||!f||!h)return;o.current.dataset.motionPopId=r;const g=document.createElement("style");return d&&(g.nonce=d),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${h}px !important;
            top: ${m}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[i]),w.jsx(Cw,{isPresent:i,childRef:o,sizeRef:c,children:I.cloneElement(a,{ref:o})})}const Ru=({children:a,initial:i,isPresent:r,onExitComplete:o,custom:c,presenceAffectsLayout:d,mode:f})=>{const h=z0(Aw),m=I.useId(),p=I.useMemo(()=>({id:m,initial:i,isPresent:r,custom:c,onExitComplete:g=>{h.set(g,!0);for(const y of h.values())if(!y)return;o&&o()},register:g=>(h.set(g,!1),()=>h.delete(g))}),d?[Math.random()]:[r]);return I.useMemo(()=>{h.forEach((g,y)=>h.set(y,!1))},[r]),I.useEffect(()=>{!r&&!h.size&&o&&o()},[r]),f==="popLayout"&&(a=w.jsx(kw,{isPresent:r,children:a})),w.jsx(Xo.Provider,{value:p,children:a})};function Aw(){return new Map}function Ew(a){return I.useEffect(()=>()=>a(),[])}const ea=a=>a.key||"";function zw(a,i){a.forEach(r=>{const o=ea(r);i.set(o,r)})}function jw(a){const i=[];return I.Children.forEach(a,r=>{I.isValidElement(r)&&i.push(r)}),i}const ki=({children:a,custom:i,initial:r=!0,onExitComplete:o,exitBeforeEnter:c,presenceAffectsLayout:d=!0,mode:f="sync"})=>{const h=I.useContext(pf).forceRender||_w()[0],m=Ry(),p=jw(a);let g=p;const y=I.useRef(new Map).current,T=I.useRef(g),S=I.useRef(new Map).current,z=I.useRef(!0);if(uf(()=>{z.current=!1,zw(p,S),T.current=g}),Ew(()=>{z.current=!0,S.clear(),y.clear()}),z.current)return w.jsx(w.Fragment,{children:g.map(k=>w.jsx(Ru,{isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:d,mode:f,children:k},ea(k)))});g=[...g];const v=T.current.map(ea),C=p.map(ea),_=v.length;for(let k=0;k<_;k++){const A=v[k];C.indexOf(A)===-1&&!y.has(A)&&y.set(A,void 0)}return f==="wait"&&y.size&&(g=[]),y.forEach((k,A)=>{if(C.indexOf(A)!==-1)return;const O=S.get(A);if(!O)return;const D=v.indexOf(A);let F=k;if(!F){const V=()=>{y.delete(A);const q=Array.from(S.keys()).filter(X=>!C.includes(X));if(q.forEach(X=>S.delete(X)),T.current=p.filter(X=>{const st=ea(X);return st===A||q.includes(st)}),!y.size){if(m.current===!1)return;h(),o&&o()}};F=w.jsx(Ru,{isPresent:!1,onExitComplete:V,custom:i,presenceAffectsLayout:d,mode:f,children:O},ea(O)),y.set(A,F)}g.splice(D,0,F)}),g=g.map(k=>{const A=k.key;return y.has(A)?k:w.jsx(Ru,{isPresent:!0,presenceAffectsLayout:d,mode:f,children:k},ea(k))}),w.jsx(w.Fragment,{children:y.size?g:g.map(k=>I.cloneElement(k))})},Mw=a=>!a||!/^#[0-9A-F]{6}$/i.test(a)?"#E25822":a,Ja=a=>a?(a.match(/([^\s]+)/g)||[]).length:0;/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rw=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,r,o)=>o?o.toUpperCase():r.toLowerCase()),t0=a=>{const i=Rw(a);return i.charAt(0).toUpperCase()+i.slice(1)},Dy=(...a)=>a.filter((i,r,o)=>!!i&&i.trim()!==""&&o.indexOf(i)===r).join(" ").trim(),Dw=a=>{for(const i in a)if(i.startsWith("aria-")||i==="role"||i==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ow={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=I.forwardRef(({color:a="currentColor",size:i=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:f,...h},m)=>I.createElement("svg",{ref:m,...Ow,width:i,height:i,stroke:a,strokeWidth:o?Number(r)*24/Number(i):r,className:Dy("lucide",c),...!d&&!Dw(h)&&{"aria-hidden":"true"},...h},[...f.map(([p,g])=>I.createElement(p,g)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=(a,i)=>{const r=I.forwardRef(({className:o,...c},d)=>I.createElement(Bw,{ref:d,iconNode:i,className:Dy(`lucide-${Nw(t0(a))}`,`lucide-${a}`,o),...c}));return r.displayName=t0(a),r};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Uw=It("arrow-left",Lw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Iw=It("book-marked",Vw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Oy=It("book-open",Fw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],Pw=It("bookmark-check",Hw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Po=It("check",qw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],tf=It("chevron-down",Gw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Zw=It("chevron-left",Yw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],e0=It("chevron-right",Xw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Qw=It("circle-alert",Kw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],By=It("circle-check-big",$w);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],Jw=It("cloud-download",Ww);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],ef=It("cloud",tT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],nT=It("download",eT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],aT=It("file-plus",iT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],rT=It("heart",sT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],lT=It("layout-grid",oT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1",key:"oynpb5"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z",key:"1qboyk"}]],uT=It("library-big",cT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],dT=It("library",fT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M11 19H3",key:"zflm78"}],["path",{d:"M21 16V5",key:"yxg4q8"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],mT=It("list-music",hT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],n0=It("loader-circle",pT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],yT=It("lock",gT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ly=It("minus",vT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],xT=It("palette",bT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],wT=It("pause",ST);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Uf=It("play",TT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vf=It("plus",_T);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],kT=It("refresh-cw",CT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ET=It("search",AT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jT=It("settings",zT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],NT=It("skip-back",MT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],If=It("sparkles",RT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],OT=It("square-check-big",DT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Uy=It("trash-2",BT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],UT=It("triangle-alert",LT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],ar=It("type",VT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ff=It("x",IT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],HT=It("zap",FT),Xa={Modern:{background:"#F2F2F7",surface:"#FFFFFF",primaryText:"#000000",secondaryText:"#8A8A8E",accent:"#E25822",dimmer:"rgba(255,255,255,0.85)",borderColor:"#E5E5EA"},Sepia:{background:"#F8F1E3",surface:"#FFFDF5",primaryText:"#5C4033",secondaryText:"#8C7356",accent:"#D45D48",dimmer:"rgba(248,241,227,0.9)",borderColor:"#E6DCC8"},Night:{background:"#000000",surface:"#1C1C1E",primaryText:"#F2F2F7",secondaryText:"#8E8E93",accent:"#E25822",dimmer:"rgba(0,0,0,0.8)",borderColor:"#2C2C2E"},OLED:{background:"#000000",surface:"#121212",primaryText:"#FFFFFF",secondaryText:"#888888",accent:"#E25822",dimmer:"rgba(0,0,0,0.9)",borderColor:"#333333"},System:{background:"#F2F2F7",surface:"#FFFFFF",primaryText:"#000000",secondaryText:"#8A8A8E",accent:"#E25822",dimmer:"rgba(255,255,255,0.9)",borderColor:"#E5E5EA"}};class aa{constructor(){this.listeners=new Set,this._mode="Modern";try{const i=localStorage.getItem("titan_theme_mode");i&&Object.keys(Xa).concat(["System"]).includes(i)&&(this._mode=i)}catch(i){console.warn("[TitanTheme] Failed to load theme preference",i)}}static getInstance(){return aa.instance||(aa.instance=new aa),aa.instance}get mode(){return this._mode}setMode(i){this._mode=i;try{localStorage.setItem("titan_theme_mode",i)}catch(r){console.warn("[TitanTheme] Failed to save theme preference",r)}this.notify()}get currentColors(){return this._mode==="System"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Xa.Night:Xa.Modern:Xa[this._mode]||Xa.Modern}subscribe(i){return this.listeners.add(i),()=>this.listeners.delete(i)}notify(){this.listeners.forEach(i=>i())}}const Re=()=>{const a=aa.getInstance(),[i,r]=I.useState(a.currentColors);return I.useEffect(()=>{const o=()=>r(a.currentColors);return a.subscribe(o)},[]),i};class Cn{constructor(){this.listeners=new Set,this.STORAGE_KEY="titan_reader_prefs_v15_true_book",this.config=this.loadFromStorage()}static getInstance(){return Cn.instance||(Cn.instance=new Cn),Cn.instance}getDefaultConfig(){return{id:"user-default",themeMode:"System",fontFamily:"New York",fontSize:18,lineHeight:1.35,paragraphSpacing:10,motionBlurIntensity:.05,showReflections:!1,rsvpSpeed:200,hasCustomSpeed:!1,rsvpChunkSize:1,isRSVPContextEnabled:!0,rsvpColorHighlight:"#FF3B30"}}loadFromStorage(){try{const i=localStorage.getItem(this.STORAGE_KEY);if(i){const r=JSON.parse(i),o={...this.getDefaultConfig(),...r};return o.hasCustomSpeed||(o.rsvpSpeed=200),o}}catch(i){console.warn("[TitanSettings] Failed to load config",i)}return this.getDefaultConfig()}saveToStorage(){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.config))}catch(i){console.warn("[TitanSettings] Failed to save config",i)}}getSettings(){return{...this.config}}updateSettings(i){this.config={...this.config,...i},this.saveToStorage(),this.notify()}subscribe(i){return this.listeners.add(i),()=>this.listeners.delete(i)}notify(){this.listeners.forEach(i=>i())}}const is=()=>{const a=Cn.getInstance(),[i,r]=I.useState(a.getSettings());return I.useEffect(()=>{const o=()=>r(a.getSettings());return a.subscribe(o)},[]),{settings:i,updateSettings:o=>a.updateSettings(o)}},PT=Yo.memo(({book:a})=>{const i=Mw(a.tintColorHex);return w.jsxs("div",{className:"w-full h-full flex items-center justify-center p-5 relative overflow-hidden",style:{backgroundColor:i},children:[w.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-40",children:[w.jsx("div",{className:"absolute w-32 h-32 bg-white rounded-full blur-3xl transform -translate-x-8 -translate-y-8 opacity-40"}),w.jsx("div",{className:"absolute w-24 h-24 bg-white rounded-full blur-2xl transform translate-x-6 translate-y-6 opacity-30"})]}),w.jsxs("div",{className:"relative z-10 text-center text-black w-full break-words px-2",children:[w.jsx("h3",{className:"font-serif font-bold text-base leading-tight mb-1.5 line-clamp-3 lowercase",children:a.title}),w.jsx("p",{className:"font-sans text-[9px] font-bold uppercase tracking-[0.15em] opacity-40",children:a.author})]})]})}),Du=Yo.memo(({book:a,onSelect:i,isEditing:r,isSelected:o,onToggleSelect:c,onLongPress:d})=>{const f=Re(),{settings:h}=is(),m=I.useRef(Math.random()*.2),p=I.useRef(Math.random()>.5?1:-1),g=I.useRef(null),y=I.useRef(!1),T=I.useRef(!1),S=I.useRef({x:0,y:0});I.useEffect(()=>()=>{g.current&&(clearTimeout(g.current),g.current=null)},[]);const z=D=>{y.current=!1,T.current=!1,S.current={x:D.clientX,y:D.clientY},g.current=window.setTimeout(()=>{d&&(y.current=!0,navigator.vibrate&&navigator.vibrate(20),d(a))},500)},v=D=>{Math.hypot(D.clientX-S.current.x,D.clientY-S.current.y)>10&&(T.current=!0,g.current&&(clearTimeout(g.current),g.current=null))},C=D=>{g.current&&(clearTimeout(g.current),g.current=null),!y.current&&!T.current&&(r?c==null||c(a):i(a)),y.current=!1,T.current=!1},_=D=>{g.current&&(clearTimeout(g.current),g.current=null),y.current=!1,T.current=!1};-1.5*p.current,1.5*p.current,-1.5*p.current,m.current;const k=Math.floor((a.bookmarkProgress||0)*100),A=I.useMemo(()=>{if(!a.chapters||a.chapters.length===0||a.isFinished)return null;const F=a.chapters.reduce((ft,L)=>ft+L.wordCount,0)*(1-(a.bookmarkProgress||0)),V=h.rsvpSpeed||250,q=Math.ceil(F/V);if(q<=1)return"< 1m";if(q<60)return`${q}m`;const X=Math.floor(q/60),st=q%60;return st===0?`${X}h`:`${X}h ${st}m`},[a,h.rsvpSpeed]),O=!a.isFinished&&(A!==null||k>0);return w.jsxs("div",{className:"group cursor-pointer relative touch-pan-y",onPointerDown:z,onPointerMove:v,onPointerUp:C,onPointerCancel:_,onContextMenu:D=>{D.preventDefault()},children:[w.jsxs("div",{className:"relative aspect-[2/3] w-full rounded-xl shadow-[0_4px_16px_rgba(0,0,0,0.08)] overflow-hidden z-10 will-change-transform active:scale-[0.97] hover:scale-[1.02] hover:-translate-y-0.5",style:{backgroundColor:f.surface,transform:r?"scale(0.94)":"scale(1.0)",transition:"transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.2s ease-out"},children:[a.coverUrl?w.jsx("img",{src:a.coverUrl,alt:`Cover of ${a.title}`,className:`w-full h-full object-cover transition-all duration-500 ${a.isFinished?"grayscale-[0.5] opacity-90":""}`,loading:"lazy",decoding:"async",style:{backgroundColor:f.borderColor}}):w.jsx(PT,{book:a}),!r&&w.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/10 opacity-0 group-hover:opacity-100 transition-opacity duration-200 backdrop-blur-[1px] z-20",children:w.jsx("div",{className:"w-12 h-12 rounded-full shadow-xl flex items-center justify-center transform translate-y-4 group-hover:translate-y-0 transition-transform duration-200",style:{backgroundColor:f.surface,color:f.accent},children:a.isFinished?w.jsx(By,{size:24,fill:"currentColor",stroke:"none"}):w.jsx(Oy,{size:20,fill:"currentColor"})})}),r&&w.jsx("div",{className:`absolute inset-0 bg-black/10 transition-opacity duration-200 z-30 ${o?"opacity-40":"opacity-0"}`}),a.isFinished&&w.jsx("div",{className:"absolute top-2 right-2 z-50",children:w.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center shadow-md border border-white/20",style:{backgroundColor:"#10b981",color:"#FFFFFF"},children:w.jsx(Po,{size:14,strokeWidth:4})})}),O&&w.jsx("div",{className:"absolute top-2 right-2 z-50",children:w.jsx("div",{className:"px-2 py-0.5 rounded-md flex items-center justify-center shadow-sm border border-white/20 backdrop-blur-sm",style:{backgroundColor:"rgba(0,0,0,0.7)",color:"#FFFFFF"},children:w.jsx("span",{className:"text-[10px] font-bold tabular-nums leading-none whitespace-nowrap",children:A?`${A} left`:`${k}%`})})}),k>0&&w.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1.5 bg-black/40 z-40",children:w.jsx("div",{className:"h-full",style:{width:`${Math.min(100,k)}%`,backgroundColor:a.isFinished?"#10b981":f.accent}})})]}),r&&w.jsx("div",{className:"absolute -top-1 -left-1 z-50 transition-transform duration-200",style:{transform:"scale(1)"},children:w.jsx("div",{className:"w-8 h-8 rounded-full border-[3px] shadow-sm flex items-center justify-center transition-all duration-200",style:{backgroundColor:o?f.accent:f.surface,borderColor:f.background,color:o?"#FFFFFF":"transparent"},children:o&&w.jsx(Po,{size:16,strokeWidth:4})})}),w.jsxs("div",{className:"mt-2.5 space-y-0.5",children:[w.jsx("h3",{className:"font-serif font-semibold text-sm leading-snug line-clamp-2",style:{color:f.primaryText},children:a.title}),w.jsx("p",{className:"font-sans text-xs opacity-60",style:{color:f.secondaryText},children:a.author})]})]})}),qT=({onImport:a,hasDeleted:i})=>{const r=Re();return w.jsxs("div",{onClick:a,className:"group flex flex-col items-center justify-center p-12 rounded-[40px] cursor-pointer transition-all duration-500 max-w-sm mx-auto mt-20 hover:scale-[0.98] active:scale-95",style:{backgroundColor:r.surface,border:`1px solid ${r.borderColor}`},children:[w.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mb-8 shadow-2xl group-hover:shadow-ember/20 transition-all duration-500",style:{backgroundColor:r.accent,color:"#FFFFFF"},children:i?w.jsx(If,{size:28,strokeWidth:2,className:"animate-pulse"}):w.jsx(aT,{size:28,strokeWidth:2})}),w.jsx("h2",{className:"text-3xl font-black mb-2 text-center lowercase tracking-tighter leading-none",style:{color:r.primaryText},children:i?"poof. gone.":"clean slate."}),w.jsx("p",{className:"text-[10px] uppercase font-black tracking-[0.2em] text-center mt-3 opacity-30 max-w-[180px]",style:{color:r.secondaryText},children:i?"all cleared out. plenty of room for new magic.":"nothing here yet. tap here to find a story."}),w.jsxs("div",{className:"mt-8 flex items-center gap-2 opacity-20",children:[w.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-current",style:{backgroundColor:r.primaryText}}),w.jsx("div",{className:"w-10 h-[1px] bg-current",style:{backgroundColor:r.primaryText}}),w.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-current",style:{backgroundColor:r.primaryText}})]})]})};function No(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ou={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var i0;function GT(){return i0||(i0=1,(function(a,i){(function(r){a.exports=r()})(function(){return(function r(o,c,d){function f(p,g){if(!c[p]){if(!o[p]){var y=typeof No=="function"&&No;if(!g&&y)return y(p,!0);if(h)return h(p,!0);var T=new Error("Cannot find module '"+p+"'");throw T.code="MODULE_NOT_FOUND",T}var S=c[p]={exports:{}};o[p][0].call(S.exports,function(z){var v=o[p][1][z];return f(v||z)},S,S.exports,r,o,c,d)}return c[p].exports}for(var h=typeof No=="function"&&No,m=0;m<d.length;m++)f(d[m]);return f})({1:[function(r,o,c){var d=r("./utils"),f=r("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.encode=function(m){for(var p,g,y,T,S,z,v,C=[],_=0,k=m.length,A=k,O=d.getTypeOf(m)!=="string";_<m.length;)A=k-_,y=O?(p=m[_++],g=_<k?m[_++]:0,_<k?m[_++]:0):(p=m.charCodeAt(_++),g=_<k?m.charCodeAt(_++):0,_<k?m.charCodeAt(_++):0),T=p>>2,S=(3&p)<<4|g>>4,z=1<A?(15&g)<<2|y>>6:64,v=2<A?63&y:64,C.push(h.charAt(T)+h.charAt(S)+h.charAt(z)+h.charAt(v));return C.join("")},c.decode=function(m){var p,g,y,T,S,z,v=0,C=0,_="data:";if(m.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");var k,A=3*(m=m.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(m.charAt(m.length-1)===h.charAt(64)&&A--,m.charAt(m.length-2)===h.charAt(64)&&A--,A%1!=0)throw new Error("Invalid base64 input, bad content length.");for(k=f.uint8array?new Uint8Array(0|A):new Array(0|A);v<m.length;)p=h.indexOf(m.charAt(v++))<<2|(T=h.indexOf(m.charAt(v++)))>>4,g=(15&T)<<4|(S=h.indexOf(m.charAt(v++)))>>2,y=(3&S)<<6|(z=h.indexOf(m.charAt(v++))),k[C++]=p,S!==64&&(k[C++]=g),z!==64&&(k[C++]=y);return k}},{"./support":30,"./utils":32}],2:[function(r,o,c){var d=r("./external"),f=r("./stream/DataWorker"),h=r("./stream/Crc32Probe"),m=r("./stream/DataLengthProbe");function p(g,y,T,S,z){this.compressedSize=g,this.uncompressedSize=y,this.crc32=T,this.compression=S,this.compressedContent=z}p.prototype={getContentWorker:function(){var g=new f(d.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new m("data_length")),y=this;return g.on("end",function(){if(this.streamInfo.data_length!==y.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),g},getCompressedWorker:function(){return new f(d.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(g,y,T){return g.pipe(new h).pipe(new m("uncompressedSize")).pipe(y.compressWorker(T)).pipe(new m("compressedSize")).withStreamInfo("compression",y)},o.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,o,c){var d=r("./stream/GenericWorker");c.STORE={magic:"\0\0",compressWorker:function(){return new d("STORE compression")},uncompressWorker:function(){return new d("STORE decompression")}},c.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,o,c){var d=r("./utils"),f=(function(){for(var h,m=[],p=0;p<256;p++){h=p;for(var g=0;g<8;g++)h=1&h?3988292384^h>>>1:h>>>1;m[p]=h}return m})();o.exports=function(h,m){return h!==void 0&&h.length?d.getTypeOf(h)!=="string"?(function(p,g,y,T){var S=f,z=T+y;p^=-1;for(var v=T;v<z;v++)p=p>>>8^S[255&(p^g[v])];return-1^p})(0|m,h,h.length,0):(function(p,g,y,T){var S=f,z=T+y;p^=-1;for(var v=T;v<z;v++)p=p>>>8^S[255&(p^g.charCodeAt(v))];return-1^p})(0|m,h,h.length,0):0}},{"./utils":32}],5:[function(r,o,c){c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!0,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],6:[function(r,o,c){var d=null;d=typeof Promise<"u"?Promise:r("lie"),o.exports={Promise:d}},{lie:37}],7:[function(r,o,c){var d=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",f=r("pako"),h=r("./utils"),m=r("./stream/GenericWorker"),p=d?"uint8array":"array";function g(y,T){m.call(this,"FlateWorker/"+y),this._pako=null,this._pakoAction=y,this._pakoOptions=T,this.meta={}}c.magic="\b\0",h.inherits(g,m),g.prototype.processChunk=function(y){this.meta=y.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(p,y.data),!1)},g.prototype.flush=function(){m.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},g.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this._pako=null},g.prototype._createPako=function(){this._pako=new f[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var y=this;this._pako.onData=function(T){y.push({data:T,meta:y.meta})}},c.compressWorker=function(y){return new g("Deflate",y)},c.uncompressWorker=function(){return new g("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,o,c){function d(S,z){var v,C="";for(v=0;v<z;v++)C+=String.fromCharCode(255&S),S>>>=8;return C}function f(S,z,v,C,_,k){var A,O,D=S.file,F=S.compression,V=k!==p.utf8encode,q=h.transformTo("string",k(D.name)),X=h.transformTo("string",p.utf8encode(D.name)),st=D.comment,ft=h.transformTo("string",k(st)),L=h.transformTo("string",p.utf8encode(st)),tt=X.length!==D.name.length,E=L.length!==st.length,et="",G="",Z="",ht=D.dir,rt=D.date,xt={crc32:0,compressedSize:0,uncompressedSize:0};z&&!v||(xt.crc32=S.crc32,xt.compressedSize=S.compressedSize,xt.uncompressedSize=S.uncompressedSize);var M=0;z&&(M|=8),V||!tt&&!E||(M|=2048);var B=0,at=0;ht&&(B|=16),_==="UNIX"?(at=798,B|=(function(lt,kt){var zt=lt;return lt||(zt=kt?16893:33204),(65535&zt)<<16})(D.unixPermissions,ht)):(at=20,B|=(function(lt){return 63&(lt||0)})(D.dosPermissions)),A=rt.getUTCHours(),A<<=6,A|=rt.getUTCMinutes(),A<<=5,A|=rt.getUTCSeconds()/2,O=rt.getUTCFullYear()-1980,O<<=4,O|=rt.getUTCMonth()+1,O<<=5,O|=rt.getUTCDate(),tt&&(G=d(1,1)+d(g(q),4)+X,et+="up"+d(G.length,2)+G),E&&(Z=d(1,1)+d(g(ft),4)+L,et+="uc"+d(Z.length,2)+Z);var nt="";return nt+=`
\0`,nt+=d(M,2),nt+=F.magic,nt+=d(A,2),nt+=d(O,2),nt+=d(xt.crc32,4),nt+=d(xt.compressedSize,4),nt+=d(xt.uncompressedSize,4),nt+=d(q.length,2),nt+=d(et.length,2),{fileRecord:y.LOCAL_FILE_HEADER+nt+q+et,dirRecord:y.CENTRAL_FILE_HEADER+d(at,2)+nt+d(ft.length,2)+"\0\0\0\0"+d(B,4)+d(C,4)+q+et+ft}}var h=r("../utils"),m=r("../stream/GenericWorker"),p=r("../utf8"),g=r("../crc32"),y=r("../signature");function T(S,z,v,C){m.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=z,this.zipPlatform=v,this.encodeFileName=C,this.streamFiles=S,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(T,m),T.prototype.push=function(S){var z=S.meta.percent||0,v=this.entriesCount,C=this._sources.length;this.accumulate?this.contentBuffer.push(S):(this.bytesWritten+=S.data.length,m.prototype.push.call(this,{data:S.data,meta:{currentFile:this.currentFile,percent:v?(z+100*(v-C-1))/v:100}}))},T.prototype.openedSource=function(S){this.currentSourceOffset=this.bytesWritten,this.currentFile=S.file.name;var z=this.streamFiles&&!S.file.dir;if(z){var v=f(S,z,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},T.prototype.closedSource=function(S){this.accumulate=!1;var z=this.streamFiles&&!S.file.dir,v=f(S,z,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),z)this.push({data:(function(C){return y.DATA_DESCRIPTOR+d(C.crc32,4)+d(C.compressedSize,4)+d(C.uncompressedSize,4)})(S),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},T.prototype.flush=function(){for(var S=this.bytesWritten,z=0;z<this.dirRecords.length;z++)this.push({data:this.dirRecords[z],meta:{percent:100}});var v=this.bytesWritten-S,C=(function(_,k,A,O,D){var F=h.transformTo("string",D(O));return y.CENTRAL_DIRECTORY_END+"\0\0\0\0"+d(_,2)+d(_,2)+d(k,4)+d(A,4)+d(F.length,2)+F})(this.dirRecords.length,v,S,this.zipComment,this.encodeFileName);this.push({data:C,meta:{percent:100}})},T.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},T.prototype.registerPrevious=function(S){this._sources.push(S);var z=this;return S.on("data",function(v){z.processChunk(v)}),S.on("end",function(){z.closedSource(z.previous.streamInfo),z._sources.length?z.prepareNextSource():z.end()}),S.on("error",function(v){z.error(v)}),this},T.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},T.prototype.error=function(S){var z=this._sources;if(!m.prototype.error.call(this,S))return!1;for(var v=0;v<z.length;v++)try{z[v].error(S)}catch{}return!0},T.prototype.lock=function(){m.prototype.lock.call(this);for(var S=this._sources,z=0;z<S.length;z++)S[z].lock()},o.exports=T},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,o,c){var d=r("../compressions"),f=r("./ZipFileWorker");c.generateWorker=function(h,m,p){var g=new f(m.streamFiles,p,m.platform,m.encodeFileName),y=0;try{h.forEach(function(T,S){y++;var z=(function(k,A){var O=k||A,D=d[O];if(!D)throw new Error(O+" is not a valid compression method !");return D})(S.options.compression,m.compression),v=S.options.compressionOptions||m.compressionOptions||{},C=S.dir,_=S.date;S._compressWorker(z,v).withStreamInfo("file",{name:T,dir:C,date:_,comment:S.comment||"",unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions}).pipe(g)}),g.entriesCount=y}catch(T){g.error(T)}return g}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,o,c){function d(){if(!(this instanceof d))return new d;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var f=new d;for(var h in this)typeof this[h]!="function"&&(f[h]=this[h]);return f}}(d.prototype=r("./object")).loadAsync=r("./load"),d.support=r("./support"),d.defaults=r("./defaults"),d.version="3.10.1",d.loadAsync=function(f,h){return new d().loadAsync(f,h)},d.external=r("./external"),o.exports=d},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,o,c){var d=r("./utils"),f=r("./external"),h=r("./utf8"),m=r("./zipEntries"),p=r("./stream/Crc32Probe"),g=r("./nodejsUtils");function y(T){return new f.Promise(function(S,z){var v=T.decompressed.getContentWorker().pipe(new p);v.on("error",function(C){z(C)}).on("end",function(){v.streamInfo.crc32!==T.decompressed.crc32?z(new Error("Corrupted zip : CRC32 mismatch")):S()}).resume()})}o.exports=function(T,S){var z=this;return S=d.extend(S||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),g.isNode&&g.isStream(T)?f.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):d.prepareContent("the loaded zip file",T,!0,S.optimizedBinaryString,S.base64).then(function(v){var C=new m(S);return C.load(v),C}).then(function(v){var C=[f.Promise.resolve(v)],_=v.files;if(S.checkCRC32)for(var k=0;k<_.length;k++)C.push(y(_[k]));return f.Promise.all(C)}).then(function(v){for(var C=v.shift(),_=C.files,k=0;k<_.length;k++){var A=_[k],O=A.fileNameStr,D=d.resolve(A.fileNameStr);z.file(D,A.decompressed,{binary:!0,optimizedBinaryString:!0,date:A.date,dir:A.dir,comment:A.fileCommentStr.length?A.fileCommentStr:null,unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions,createFolders:S.createFolders}),A.dir||(z.file(D).unsafeOriginalName=O)}return C.zipComment.length&&(z.comment=C.zipComment),z})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,o,c){var d=r("../utils"),f=r("../stream/GenericWorker");function h(m,p){f.call(this,"Nodejs stream input adapter for "+m),this._upstreamEnded=!1,this._bindStream(p)}d.inherits(h,f),h.prototype._bindStream=function(m){var p=this;(this._stream=m).pause(),m.on("data",function(g){p.push({data:g,meta:{percent:0}})}).on("error",function(g){p.isPaused?this.generatedError=g:p.error(g)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},h.prototype.pause=function(){return!!f.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,o,c){var d=r("readable-stream").Readable;function f(h,m,p){d.call(this,m),this._helper=h;var g=this;h.on("data",function(y,T){g.push(y)||g._helper.pause(),p&&p(T)}).on("error",function(y){g.emit("error",y)}).on("end",function(){g.push(null)})}r("../utils").inherits(f,d),f.prototype._read=function(){this._helper.resume()},o.exports=f},{"../utils":32,"readable-stream":16}],14:[function(r,o,c){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(d,f){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(d,f);if(typeof d=="number")throw new Error('The "data" argument must not be a number');return new Buffer(d,f)},allocBuffer:function(d){if(Buffer.alloc)return Buffer.alloc(d);var f=new Buffer(d);return f.fill(0),f},isBuffer:function(d){return Buffer.isBuffer(d)},isStream:function(d){return d&&typeof d.on=="function"&&typeof d.pause=="function"&&typeof d.resume=="function"}}},{}],15:[function(r,o,c){function d(D,F,V){var q,X=h.getTypeOf(F),st=h.extend(V||{},g);st.date=st.date||new Date,st.compression!==null&&(st.compression=st.compression.toUpperCase()),typeof st.unixPermissions=="string"&&(st.unixPermissions=parseInt(st.unixPermissions,8)),st.unixPermissions&&16384&st.unixPermissions&&(st.dir=!0),st.dosPermissions&&16&st.dosPermissions&&(st.dir=!0),st.dir&&(D=_(D)),st.createFolders&&(q=C(D))&&k.call(this,q,!0);var ft=X==="string"&&st.binary===!1&&st.base64===!1;V&&V.binary!==void 0||(st.binary=!ft),(F instanceof y&&F.uncompressedSize===0||st.dir||!F||F.length===0)&&(st.base64=!1,st.binary=!0,F="",st.compression="STORE",X="string");var L=null;L=F instanceof y||F instanceof m?F:z.isNode&&z.isStream(F)?new v(D,F):h.prepareContent(D,F,st.binary,st.optimizedBinaryString,st.base64);var tt=new T(D,L,st);this.files[D]=tt}var f=r("./utf8"),h=r("./utils"),m=r("./stream/GenericWorker"),p=r("./stream/StreamHelper"),g=r("./defaults"),y=r("./compressedObject"),T=r("./zipObject"),S=r("./generate"),z=r("./nodejsUtils"),v=r("./nodejs/NodejsStreamInputAdapter"),C=function(D){D.slice(-1)==="/"&&(D=D.substring(0,D.length-1));var F=D.lastIndexOf("/");return 0<F?D.substring(0,F):""},_=function(D){return D.slice(-1)!=="/"&&(D+="/"),D},k=function(D,F){return F=F!==void 0?F:g.createFolders,D=_(D),this.files[D]||d.call(this,D,null,{dir:!0,createFolders:F}),this.files[D]};function A(D){return Object.prototype.toString.call(D)==="[object RegExp]"}var O={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(D){var F,V,q;for(F in this.files)q=this.files[F],(V=F.slice(this.root.length,F.length))&&F.slice(0,this.root.length)===this.root&&D(V,q)},filter:function(D){var F=[];return this.forEach(function(V,q){D(V,q)&&F.push(q)}),F},file:function(D,F,V){if(arguments.length!==1)return D=this.root+D,d.call(this,D,F,V),this;if(A(D)){var q=D;return this.filter(function(st,ft){return!ft.dir&&q.test(st)})}var X=this.files[this.root+D];return X&&!X.dir?X:null},folder:function(D){if(!D)return this;if(A(D))return this.filter(function(X,st){return st.dir&&D.test(X)});var F=this.root+D,V=k.call(this,F),q=this.clone();return q.root=V.name,q},remove:function(D){D=this.root+D;var F=this.files[D];if(F||(D.slice(-1)!=="/"&&(D+="/"),F=this.files[D]),F&&!F.dir)delete this.files[D];else for(var V=this.filter(function(X,st){return st.name.slice(0,D.length)===D}),q=0;q<V.length;q++)delete this.files[V[q].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(D){var F,V={};try{if((V=h.extend(D||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:f.utf8encode})).type=V.type.toLowerCase(),V.compression=V.compression.toUpperCase(),V.type==="binarystring"&&(V.type="string"),!V.type)throw new Error("No output type specified.");h.checkSupport(V.type),V.platform!=="darwin"&&V.platform!=="freebsd"&&V.platform!=="linux"&&V.platform!=="sunos"||(V.platform="UNIX"),V.platform==="win32"&&(V.platform="DOS");var q=V.comment||this.comment||"";F=S.generateWorker(this,V,q)}catch(X){(F=new m("error")).error(X)}return new p(F,V.type||"string",V.mimeType)},generateAsync:function(D,F){return this.generateInternalStream(D).accumulate(F)},generateNodeStream:function(D,F){return(D=D||{}).type||(D.type="nodebuffer"),this.generateInternalStream(D).toNodejsStream(F)}};o.exports=O},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,o,c){o.exports=r("stream")},{stream:void 0}],17:[function(r,o,c){var d=r("./DataReader");function f(h){d.call(this,h);for(var m=0;m<this.data.length;m++)h[m]=255&h[m]}r("../utils").inherits(f,d),f.prototype.byteAt=function(h){return this.data[this.zero+h]},f.prototype.lastIndexOfSignature=function(h){for(var m=h.charCodeAt(0),p=h.charCodeAt(1),g=h.charCodeAt(2),y=h.charCodeAt(3),T=this.length-4;0<=T;--T)if(this.data[T]===m&&this.data[T+1]===p&&this.data[T+2]===g&&this.data[T+3]===y)return T-this.zero;return-1},f.prototype.readAndCheckSignature=function(h){var m=h.charCodeAt(0),p=h.charCodeAt(1),g=h.charCodeAt(2),y=h.charCodeAt(3),T=this.readData(4);return m===T[0]&&p===T[1]&&g===T[2]&&y===T[3]},f.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var m=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,m},o.exports=f},{"../utils":32,"./DataReader":18}],18:[function(r,o,c){var d=r("../utils");function f(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}f.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var m,p=0;for(this.checkOffset(h),m=this.index+h-1;m>=this.index;m--)p=(p<<8)+this.byteAt(m);return this.index+=h,p},readString:function(h){return d.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC(1980+(h>>25&127),(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(31&h)<<1))}},o.exports=f},{"../utils":32}],19:[function(r,o,c){var d=r("./Uint8ArrayReader");function f(h){d.call(this,h)}r("../utils").inherits(f,d),f.prototype.readData=function(h){this.checkOffset(h);var m=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,m},o.exports=f},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,o,c){var d=r("./DataReader");function f(h){d.call(this,h)}r("../utils").inherits(f,d),f.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},f.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},f.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},f.prototype.readData=function(h){this.checkOffset(h);var m=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,m},o.exports=f},{"../utils":32,"./DataReader":18}],21:[function(r,o,c){var d=r("./ArrayReader");function f(h){d.call(this,h)}r("../utils").inherits(f,d),f.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var m=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,m},o.exports=f},{"../utils":32,"./ArrayReader":17}],22:[function(r,o,c){var d=r("../utils"),f=r("../support"),h=r("./ArrayReader"),m=r("./StringReader"),p=r("./NodeBufferReader"),g=r("./Uint8ArrayReader");o.exports=function(y){var T=d.getTypeOf(y);return d.checkSupport(T),T!=="string"||f.uint8array?T==="nodebuffer"?new p(y):f.uint8array?new g(d.transformTo("uint8array",y)):new h(d.transformTo("array",y)):new m(y)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,o,c){c.LOCAL_FILE_HEADER="PK",c.CENTRAL_FILE_HEADER="PK",c.CENTRAL_DIRECTORY_END="PK",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",c.ZIP64_CENTRAL_DIRECTORY_END="PK",c.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,o,c){var d=r("./GenericWorker"),f=r("../utils");function h(m){d.call(this,"ConvertWorker to "+m),this.destType=m}f.inherits(h,d),h.prototype.processChunk=function(m){this.push({data:f.transformTo(this.destType,m.data),meta:m.meta})},o.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(r,o,c){var d=r("./GenericWorker"),f=r("../crc32");function h(){d.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(h,d),h.prototype.processChunk=function(m){this.streamInfo.crc32=f(m.data,this.streamInfo.crc32||0),this.push(m)},o.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,o,c){var d=r("../utils"),f=r("./GenericWorker");function h(m){f.call(this,"DataLengthProbe for "+m),this.propName=m,this.withStreamInfo(m,0)}d.inherits(h,f),h.prototype.processChunk=function(m){if(m){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+m.data.length}f.prototype.processChunk.call(this,m)},o.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(r,o,c){var d=r("../utils"),f=r("./GenericWorker");function h(m){f.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,m.then(function(g){p.dataIsReady=!0,p.data=g,p.max=g&&g.length||0,p.type=d.getTypeOf(g),p.isPaused||p._tickAndRepeat()},function(g){p.error(g)})}d.inherits(h,f),h.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,d.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(d.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var m=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":m=this.data.substring(this.index,p);break;case"uint8array":m=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":m=this.data.slice(this.index,p)}return this.index=p,this.push({data:m,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(r,o,c){function d(f){this.name=f||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}d.prototype={push:function(f){this.emit("data",f)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(f){this.emit("error",f)}return!0},error:function(f){return!this.isFinished&&(this.isPaused?this.generatedError=f:(this.isFinished=!0,this.emit("error",f),this.previous&&this.previous.error(f),this.cleanUp()),!0)},on:function(f,h){return this._listeners[f].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(f,h){if(this._listeners[f])for(var m=0;m<this._listeners[f].length;m++)this._listeners[f][m].call(this,h)},pipe:function(f){return f.registerPrevious(this)},registerPrevious:function(f){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=f.streamInfo,this.mergeStreamInfo(),this.previous=f;var h=this;return f.on("data",function(m){h.processChunk(m)}),f.on("end",function(){h.end()}),f.on("error",function(m){h.error(m)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var f=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),f=!0),this.previous&&this.previous.resume(),!f},flush:function(){},processChunk:function(f){this.push(f)},withStreamInfo:function(f,h){return this.extraStreamInfo[f]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var f in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,f)&&(this.streamInfo[f]=this.extraStreamInfo[f])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var f="Worker "+this.name;return this.previous?this.previous+" -> "+f:f}},o.exports=d},{}],29:[function(r,o,c){var d=r("../utils"),f=r("./ConvertWorker"),h=r("./GenericWorker"),m=r("../base64"),p=r("../support"),g=r("../external"),y=null;if(p.nodestream)try{y=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function T(z,v){return new g.Promise(function(C,_){var k=[],A=z._internalType,O=z._outputType,D=z._mimeType;z.on("data",function(F,V){k.push(F),v&&v(V)}).on("error",function(F){k=[],_(F)}).on("end",function(){try{var F=(function(V,q,X){switch(V){case"blob":return d.newBlob(d.transformTo("arraybuffer",q),X);case"base64":return m.encode(q);default:return d.transformTo(V,q)}})(O,(function(V,q){var X,st=0,ft=null,L=0;for(X=0;X<q.length;X++)L+=q[X].length;switch(V){case"string":return q.join("");case"array":return Array.prototype.concat.apply([],q);case"uint8array":for(ft=new Uint8Array(L),X=0;X<q.length;X++)ft.set(q[X],st),st+=q[X].length;return ft;case"nodebuffer":return Buffer.concat(q);default:throw new Error("concat : unsupported type '"+V+"'")}})(A,k),D);C(F)}catch(V){_(V)}k=[]}).resume()})}function S(z,v,C){var _=v;switch(v){case"blob":case"arraybuffer":_="uint8array";break;case"base64":_="string"}try{this._internalType=_,this._outputType=v,this._mimeType=C,d.checkSupport(_),this._worker=z.pipe(new f(_)),z.lock()}catch(k){this._worker=new h("error"),this._worker.error(k)}}S.prototype={accumulate:function(z){return T(this,z)},on:function(z,v){var C=this;return z==="data"?this._worker.on(z,function(_){v.call(C,_.data,_.meta)}):this._worker.on(z,function(){d.delay(v,arguments,C)}),this},resume:function(){return d.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(z){if(d.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new y(this,{objectMode:this._outputType!=="nodebuffer"},z)}},o.exports=S},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,o,c){if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",c.nodebuffer=typeof Buffer<"u",c.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")c.blob=!1;else{var d=new ArrayBuffer(0);try{c.blob=new Blob([d],{type:"application/zip"}).size===0}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);f.append(d),c.blob=f.getBlob("application/zip").size===0}catch{c.blob=!1}}}try{c.nodestream=!!r("readable-stream").Readable}catch{c.nodestream=!1}},{"readable-stream":16}],31:[function(r,o,c){for(var d=r("./utils"),f=r("./support"),h=r("./nodejsUtils"),m=r("./stream/GenericWorker"),p=new Array(256),g=0;g<256;g++)p[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;p[254]=p[254]=1;function y(){m.call(this,"utf-8 decode"),this.leftOver=null}function T(){m.call(this,"utf-8 encode")}c.utf8encode=function(S){return f.nodebuffer?h.newBufferFrom(S,"utf-8"):(function(z){var v,C,_,k,A,O=z.length,D=0;for(k=0;k<O;k++)(64512&(C=z.charCodeAt(k)))==55296&&k+1<O&&(64512&(_=z.charCodeAt(k+1)))==56320&&(C=65536+(C-55296<<10)+(_-56320),k++),D+=C<128?1:C<2048?2:C<65536?3:4;for(v=f.uint8array?new Uint8Array(D):new Array(D),k=A=0;A<D;k++)(64512&(C=z.charCodeAt(k)))==55296&&k+1<O&&(64512&(_=z.charCodeAt(k+1)))==56320&&(C=65536+(C-55296<<10)+(_-56320),k++),C<128?v[A++]=C:(C<2048?v[A++]=192|C>>>6:(C<65536?v[A++]=224|C>>>12:(v[A++]=240|C>>>18,v[A++]=128|C>>>12&63),v[A++]=128|C>>>6&63),v[A++]=128|63&C);return v})(S)},c.utf8decode=function(S){return f.nodebuffer?d.transformTo("nodebuffer",S).toString("utf-8"):(function(z){var v,C,_,k,A=z.length,O=new Array(2*A);for(v=C=0;v<A;)if((_=z[v++])<128)O[C++]=_;else if(4<(k=p[_]))O[C++]=65533,v+=k-1;else{for(_&=k===2?31:k===3?15:7;1<k&&v<A;)_=_<<6|63&z[v++],k--;1<k?O[C++]=65533:_<65536?O[C++]=_:(_-=65536,O[C++]=55296|_>>10&1023,O[C++]=56320|1023&_)}return O.length!==C&&(O.subarray?O=O.subarray(0,C):O.length=C),d.applyFromCharCode(O)})(S=d.transformTo(f.uint8array?"uint8array":"array",S))},d.inherits(y,m),y.prototype.processChunk=function(S){var z=d.transformTo(f.uint8array?"uint8array":"array",S.data);if(this.leftOver&&this.leftOver.length){if(f.uint8array){var v=z;(z=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),z.set(v,this.leftOver.length)}else z=this.leftOver.concat(z);this.leftOver=null}var C=(function(k,A){var O;for((A=A||k.length)>k.length&&(A=k.length),O=A-1;0<=O&&(192&k[O])==128;)O--;return O<0||O===0?A:O+p[k[O]]>A?O:A})(z),_=z;C!==z.length&&(f.uint8array?(_=z.subarray(0,C),this.leftOver=z.subarray(C,z.length)):(_=z.slice(0,C),this.leftOver=z.slice(C,z.length))),this.push({data:c.utf8decode(_),meta:S.meta})},y.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:c.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},c.Utf8DecodeWorker=y,d.inherits(T,m),T.prototype.processChunk=function(S){this.push({data:c.utf8encode(S.data),meta:S.meta})},c.Utf8EncodeWorker=T},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,o,c){var d=r("./support"),f=r("./base64"),h=r("./nodejsUtils"),m=r("./external");function p(v){return v}function g(v,C){for(var _=0;_<v.length;++_)C[_]=255&v.charCodeAt(_);return C}r("setimmediate"),c.newBlob=function(v,C){c.checkSupport("blob");try{return new Blob([v],{type:C})}catch{try{var _=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return _.append(v),_.getBlob(C)}catch{throw new Error("Bug : can't construct the Blob.")}}};var y={stringifyByChunk:function(v,C,_){var k=[],A=0,O=v.length;if(O<=_)return String.fromCharCode.apply(null,v);for(;A<O;)C==="array"||C==="nodebuffer"?k.push(String.fromCharCode.apply(null,v.slice(A,Math.min(A+_,O)))):k.push(String.fromCharCode.apply(null,v.subarray(A,Math.min(A+_,O)))),A+=_;return k.join("")},stringifyByChar:function(v){for(var C="",_=0;_<v.length;_++)C+=String.fromCharCode(v[_]);return C},applyCanBeUsed:{uint8array:(function(){try{return d.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return d.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch{return!1}})()}};function T(v){var C=65536,_=c.getTypeOf(v),k=!0;if(_==="uint8array"?k=y.applyCanBeUsed.uint8array:_==="nodebuffer"&&(k=y.applyCanBeUsed.nodebuffer),k)for(;1<C;)try{return y.stringifyByChunk(v,_,C)}catch{C=Math.floor(C/2)}return y.stringifyByChar(v)}function S(v,C){for(var _=0;_<v.length;_++)C[_]=v[_];return C}c.applyFromCharCode=T;var z={};z.string={string:p,array:function(v){return g(v,new Array(v.length))},arraybuffer:function(v){return z.string.uint8array(v).buffer},uint8array:function(v){return g(v,new Uint8Array(v.length))},nodebuffer:function(v){return g(v,h.allocBuffer(v.length))}},z.array={string:T,array:p,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return h.newBufferFrom(v)}},z.arraybuffer={string:function(v){return T(new Uint8Array(v))},array:function(v){return S(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:p,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return h.newBufferFrom(new Uint8Array(v))}},z.uint8array={string:T,array:function(v){return S(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:p,nodebuffer:function(v){return h.newBufferFrom(v)}},z.nodebuffer={string:T,array:function(v){return S(v,new Array(v.length))},arraybuffer:function(v){return z.nodebuffer.uint8array(v).buffer},uint8array:function(v){return S(v,new Uint8Array(v.length))},nodebuffer:p},c.transformTo=function(v,C){if(C=C||"",!v)return C;c.checkSupport(v);var _=c.getTypeOf(C);return z[_][v](C)},c.resolve=function(v){for(var C=v.split("/"),_=[],k=0;k<C.length;k++){var A=C[k];A==="."||A===""&&k!==0&&k!==C.length-1||(A===".."?_.pop():_.push(A))}return _.join("/")},c.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":d.nodebuffer&&h.isBuffer(v)?"nodebuffer":d.uint8array&&v instanceof Uint8Array?"uint8array":d.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},c.checkSupport=function(v){if(!d[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(v){var C,_,k="";for(_=0;_<(v||"").length;_++)k+="\\x"+((C=v.charCodeAt(_))<16?"0":"")+C.toString(16).toUpperCase();return k},c.delay=function(v,C,_){setImmediate(function(){v.apply(_||null,C||[])})},c.inherits=function(v,C){function _(){}_.prototype=C.prototype,v.prototype=new _},c.extend=function(){var v,C,_={};for(v=0;v<arguments.length;v++)for(C in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],C)&&_[C]===void 0&&(_[C]=arguments[v][C]);return _},c.prepareContent=function(v,C,_,k,A){return m.Promise.resolve(C).then(function(O){return d.blob&&(O instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(O))!==-1)&&typeof FileReader<"u"?new m.Promise(function(D,F){var V=new FileReader;V.onload=function(q){D(q.target.result)},V.onerror=function(q){F(q.target.error)},V.readAsArrayBuffer(O)}):O}).then(function(O){var D=c.getTypeOf(O);return D?(D==="arraybuffer"?O=c.transformTo("uint8array",O):D==="string"&&(A?O=f.decode(O):_&&k!==!0&&(O=(function(F){return g(F,d.uint8array?new Uint8Array(F.length):new Array(F.length))})(O))),O):m.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,o,c){var d=r("./reader/readerFor"),f=r("./utils"),h=r("./signature"),m=r("./zipEntry"),p=r("./support");function g(y){this.files=[],this.loadOptions=y}g.prototype={checkSignature:function(y){if(!this.reader.readAndCheckSignature(y)){this.reader.index-=4;var T=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+f.pretty(T)+", expected "+f.pretty(y)+")")}},isSignature:function(y,T){var S=this.reader.index;this.reader.setIndex(y);var z=this.reader.readString(4)===T;return this.reader.setIndex(S),z},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var y=this.reader.readData(this.zipCommentLength),T=p.uint8array?"uint8array":"array",S=f.transformTo(T,y);this.zipComment=this.loadOptions.decodeFileName(S)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var y,T,S,z=this.zip64EndOfCentralSize-44;0<z;)y=this.reader.readInt(2),T=this.reader.readInt(4),S=this.reader.readData(T),this.zip64ExtensibleData[y]={id:y,length:T,value:S}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var y,T;for(y=0;y<this.files.length;y++)T=this.files[y],this.reader.setIndex(T.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),T.readLocalPart(this.reader),T.handleUTF8(),T.processAttributes()},readCentralDir:function(){var y;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(y=new m({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(y);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var y=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(y<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(y);var T=y;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===f.MAX_VALUE_16BITS||this.diskWithCentralDirStart===f.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===f.MAX_VALUE_16BITS||this.centralDirRecords===f.MAX_VALUE_16BITS||this.centralDirSize===f.MAX_VALUE_32BITS||this.centralDirOffset===f.MAX_VALUE_32BITS){if(this.zip64=!0,(y=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(y),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var S=this.centralDirOffset+this.centralDirSize;this.zip64&&(S+=20,S+=12+this.zip64EndOfCentralSize);var z=T-S;if(0<z)this.isSignature(T,h.CENTRAL_FILE_HEADER)||(this.reader.zero=z);else if(z<0)throw new Error("Corrupted zip: missing "+Math.abs(z)+" bytes.")},prepareReader:function(y){this.reader=d(y)},load:function(y){this.prepareReader(y),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=g},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,o,c){var d=r("./reader/readerFor"),f=r("./utils"),h=r("./compressedObject"),m=r("./crc32"),p=r("./utf8"),g=r("./compressions"),y=r("./support");function T(S,z){this.options=S,this.loadOptions=z}T.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(S){var z,v;if(S.skip(22),this.fileNameLength=S.readInt(2),v=S.readInt(2),this.fileName=S.readData(this.fileNameLength),S.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((z=(function(C){for(var _ in g)if(Object.prototype.hasOwnProperty.call(g,_)&&g[_].magic===C)return g[_];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+f.pretty(this.compressionMethod)+" unknown (inner file : "+f.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,z,S.readData(this.compressedSize))},readCentralPart:function(S){this.versionMadeBy=S.readInt(2),S.skip(2),this.bitFlag=S.readInt(2),this.compressionMethod=S.readString(2),this.date=S.readDate(),this.crc32=S.readInt(4),this.compressedSize=S.readInt(4),this.uncompressedSize=S.readInt(4);var z=S.readInt(2);if(this.extraFieldsLength=S.readInt(2),this.fileCommentLength=S.readInt(2),this.diskNumberStart=S.readInt(2),this.internalFileAttributes=S.readInt(2),this.externalFileAttributes=S.readInt(4),this.localHeaderOffset=S.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");S.skip(z),this.readExtraFields(S),this.parseZIP64ExtraField(S),this.fileComment=S.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var S=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),S==0&&(this.dosPermissions=63&this.externalFileAttributes),S==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var S=d(this.extraFields[1].value);this.uncompressedSize===f.MAX_VALUE_32BITS&&(this.uncompressedSize=S.readInt(8)),this.compressedSize===f.MAX_VALUE_32BITS&&(this.compressedSize=S.readInt(8)),this.localHeaderOffset===f.MAX_VALUE_32BITS&&(this.localHeaderOffset=S.readInt(8)),this.diskNumberStart===f.MAX_VALUE_32BITS&&(this.diskNumberStart=S.readInt(4))}},readExtraFields:function(S){var z,v,C,_=S.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});S.index+4<_;)z=S.readInt(2),v=S.readInt(2),C=S.readData(v),this.extraFields[z]={id:z,length:v,value:C};S.setIndex(_)},handleUTF8:function(){var S=y.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var z=this.findExtraFieldUnicodePath();if(z!==null)this.fileNameStr=z;else{var v=f.transformTo(S,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var C=this.findExtraFieldUnicodeComment();if(C!==null)this.fileCommentStr=C;else{var _=f.transformTo(S,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(_)}}},findExtraFieldUnicodePath:function(){var S=this.extraFields[28789];if(S){var z=d(S.value);return z.readInt(1)!==1||m(this.fileName)!==z.readInt(4)?null:p.utf8decode(z.readData(S.length-5))}return null},findExtraFieldUnicodeComment:function(){var S=this.extraFields[25461];if(S){var z=d(S.value);return z.readInt(1)!==1||m(this.fileComment)!==z.readInt(4)?null:p.utf8decode(z.readData(S.length-5))}return null}},o.exports=T},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,o,c){function d(z,v,C){this.name=z,this.dir=C.dir,this.date=C.date,this.comment=C.comment,this.unixPermissions=C.unixPermissions,this.dosPermissions=C.dosPermissions,this._data=v,this._dataBinary=C.binary,this.options={compression:C.compression,compressionOptions:C.compressionOptions}}var f=r("./stream/StreamHelper"),h=r("./stream/DataWorker"),m=r("./utf8"),p=r("./compressedObject"),g=r("./stream/GenericWorker");d.prototype={internalStream:function(z){var v=null,C="string";try{if(!z)throw new Error("No output type specified.");var _=(C=z.toLowerCase())==="string"||C==="text";C!=="binarystring"&&C!=="text"||(C="string"),v=this._decompressWorker();var k=!this._dataBinary;k&&!_&&(v=v.pipe(new m.Utf8EncodeWorker)),!k&&_&&(v=v.pipe(new m.Utf8DecodeWorker))}catch(A){(v=new g("error")).error(A)}return new f(v,C,"")},async:function(z,v){return this.internalStream(z).accumulate(v)},nodeStream:function(z,v){return this.internalStream(z||"nodebuffer").toNodejsStream(v)},_compressWorker:function(z,v){if(this._data instanceof p&&this._data.compression.magic===z.magic)return this._data.getCompressedWorker();var C=this._decompressWorker();return this._dataBinary||(C=C.pipe(new m.Utf8EncodeWorker)),p.createWorkerFrom(C,z,v)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof g?this._data:new h(this._data)}};for(var y=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],T=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},S=0;S<y.length;S++)d.prototype[y[S]]=T;o.exports=d},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,o,c){(function(d){var f,h,m=d.MutationObserver||d.WebKitMutationObserver;if(m){var p=0,g=new m(z),y=d.document.createTextNode("");g.observe(y,{characterData:!0}),f=function(){y.data=p=++p%2}}else if(d.setImmediate||d.MessageChannel===void 0)f="document"in d&&"onreadystatechange"in d.document.createElement("script")?function(){var v=d.document.createElement("script");v.onreadystatechange=function(){z(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},d.document.documentElement.appendChild(v)}:function(){setTimeout(z,0)};else{var T=new d.MessageChannel;T.port1.onmessage=z,f=function(){T.port2.postMessage(0)}}var S=[];function z(){var v,C;h=!0;for(var _=S.length;_;){for(C=S,S=[],v=-1;++v<_;)C[v]();_=S.length}h=!1}o.exports=function(v){S.push(v)!==1||h||f()}}).call(this,typeof Eo<"u"?Eo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,o,c){var d=r("immediate");function f(){}var h={},m=["REJECTED"],p=["FULFILLED"],g=["PENDING"];function y(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,_!==f&&v(this,_)}function T(_,k,A){this.promise=_,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}function S(_,k,A){d(function(){var O;try{O=k(A)}catch(D){return h.reject(_,D)}O===_?h.reject(_,new TypeError("Cannot resolve promise with itself")):h.resolve(_,O)})}function z(_){var k=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof k=="function")return function(){k.apply(_,arguments)}}function v(_,k){var A=!1;function O(V){A||(A=!0,h.reject(_,V))}function D(V){A||(A=!0,h.resolve(_,V))}var F=C(function(){k(D,O)});F.status==="error"&&O(F.value)}function C(_,k){var A={};try{A.value=_(k),A.status="success"}catch(O){A.status="error",A.value=O}return A}(o.exports=y).prototype.finally=function(_){if(typeof _!="function")return this;var k=this.constructor;return this.then(function(A){return k.resolve(_()).then(function(){return A})},function(A){return k.resolve(_()).then(function(){throw A})})},y.prototype.catch=function(_){return this.then(null,_)},y.prototype.then=function(_,k){if(typeof _!="function"&&this.state===p||typeof k!="function"&&this.state===m)return this;var A=new this.constructor(f);return this.state!==g?S(A,this.state===p?_:k,this.outcome):this.queue.push(new T(A,_,k)),A},T.prototype.callFulfilled=function(_){h.resolve(this.promise,_)},T.prototype.otherCallFulfilled=function(_){S(this.promise,this.onFulfilled,_)},T.prototype.callRejected=function(_){h.reject(this.promise,_)},T.prototype.otherCallRejected=function(_){S(this.promise,this.onRejected,_)},h.resolve=function(_,k){var A=C(z,k);if(A.status==="error")return h.reject(_,A.value);var O=A.value;if(O)v(_,O);else{_.state=p,_.outcome=k;for(var D=-1,F=_.queue.length;++D<F;)_.queue[D].callFulfilled(k)}return _},h.reject=function(_,k){_.state=m,_.outcome=k;for(var A=-1,O=_.queue.length;++A<O;)_.queue[A].callRejected(k);return _},y.resolve=function(_){return _ instanceof this?_:h.resolve(new this(f),_)},y.reject=function(_){var k=new this(f);return h.reject(k,_)},y.all=function(_){var k=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=_.length,O=!1;if(!A)return this.resolve([]);for(var D=new Array(A),F=0,V=-1,q=new this(f);++V<A;)X(_[V],V);return q;function X(st,ft){k.resolve(st).then(function(L){D[ft]=L,++F!==A||O||(O=!0,h.resolve(q,D))},function(L){O||(O=!0,h.reject(q,L))})}},y.race=function(_){var k=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=_.length,O=!1;if(!A)return this.resolve([]);for(var D=-1,F=new this(f);++D<A;)V=_[D],k.resolve(V).then(function(q){O||(O=!0,h.resolve(F,q))},function(q){O||(O=!0,h.reject(F,q))});var V;return F}},{immediate:36}],38:[function(r,o,c){var d={};(0,r("./lib/utils/common").assign)(d,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),o.exports=d},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,o,c){var d=r("./zlib/deflate"),f=r("./utils/common"),h=r("./utils/strings"),m=r("./zlib/messages"),p=r("./zlib/zstream"),g=Object.prototype.toString,y=0,T=-1,S=0,z=8;function v(_){if(!(this instanceof v))return new v(_);this.options=f.assign({level:T,method:z,chunkSize:16384,windowBits:15,memLevel:8,strategy:S,to:""},_||{});var k=this.options;k.raw&&0<k.windowBits?k.windowBits=-k.windowBits:k.gzip&&0<k.windowBits&&k.windowBits<16&&(k.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var A=d.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(A!==y)throw new Error(m[A]);if(k.header&&d.deflateSetHeader(this.strm,k.header),k.dictionary){var O;if(O=typeof k.dictionary=="string"?h.string2buf(k.dictionary):g.call(k.dictionary)==="[object ArrayBuffer]"?new Uint8Array(k.dictionary):k.dictionary,(A=d.deflateSetDictionary(this.strm,O))!==y)throw new Error(m[A]);this._dict_set=!0}}function C(_,k){var A=new v(k);if(A.push(_,!0),A.err)throw A.msg||m[A.err];return A.result}v.prototype.push=function(_,k){var A,O,D=this.strm,F=this.options.chunkSize;if(this.ended)return!1;O=k===~~k?k:k===!0?4:0,typeof _=="string"?D.input=h.string2buf(_):g.call(_)==="[object ArrayBuffer]"?D.input=new Uint8Array(_):D.input=_,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new f.Buf8(F),D.next_out=0,D.avail_out=F),(A=d.deflate(D,O))!==1&&A!==y)return this.onEnd(A),!(this.ended=!0);D.avail_out!==0&&(D.avail_in!==0||O!==4&&O!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(f.shrinkBuf(D.output,D.next_out))):this.onData(f.shrinkBuf(D.output,D.next_out)))}while((0<D.avail_in||D.avail_out===0)&&A!==1);return O===4?(A=d.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===y):O!==2||(this.onEnd(y),!(D.avail_out=0))},v.prototype.onData=function(_){this.chunks.push(_)},v.prototype.onEnd=function(_){_===y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},c.Deflate=v,c.deflate=C,c.deflateRaw=function(_,k){return(k=k||{}).raw=!0,C(_,k)},c.gzip=function(_,k){return(k=k||{}).gzip=!0,C(_,k)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,o,c){var d=r("./zlib/inflate"),f=r("./utils/common"),h=r("./utils/strings"),m=r("./zlib/constants"),p=r("./zlib/messages"),g=r("./zlib/zstream"),y=r("./zlib/gzheader"),T=Object.prototype.toString;function S(v){if(!(this instanceof S))return new S(v);this.options=f.assign({chunkSize:16384,windowBits:0,to:""},v||{});var C=this.options;C.raw&&0<=C.windowBits&&C.windowBits<16&&(C.windowBits=-C.windowBits,C.windowBits===0&&(C.windowBits=-15)),!(0<=C.windowBits&&C.windowBits<16)||v&&v.windowBits||(C.windowBits+=32),15<C.windowBits&&C.windowBits<48&&(15&C.windowBits)==0&&(C.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var _=d.inflateInit2(this.strm,C.windowBits);if(_!==m.Z_OK)throw new Error(p[_]);this.header=new y,d.inflateGetHeader(this.strm,this.header)}function z(v,C){var _=new S(C);if(_.push(v,!0),_.err)throw _.msg||p[_.err];return _.result}S.prototype.push=function(v,C){var _,k,A,O,D,F,V=this.strm,q=this.options.chunkSize,X=this.options.dictionary,st=!1;if(this.ended)return!1;k=C===~~C?C:C===!0?m.Z_FINISH:m.Z_NO_FLUSH,typeof v=="string"?V.input=h.binstring2buf(v):T.call(v)==="[object ArrayBuffer]"?V.input=new Uint8Array(v):V.input=v,V.next_in=0,V.avail_in=V.input.length;do{if(V.avail_out===0&&(V.output=new f.Buf8(q),V.next_out=0,V.avail_out=q),(_=d.inflate(V,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&X&&(F=typeof X=="string"?h.string2buf(X):T.call(X)==="[object ArrayBuffer]"?new Uint8Array(X):X,_=d.inflateSetDictionary(this.strm,F)),_===m.Z_BUF_ERROR&&st===!0&&(_=m.Z_OK,st=!1),_!==m.Z_STREAM_END&&_!==m.Z_OK)return this.onEnd(_),!(this.ended=!0);V.next_out&&(V.avail_out!==0&&_!==m.Z_STREAM_END&&(V.avail_in!==0||k!==m.Z_FINISH&&k!==m.Z_SYNC_FLUSH)||(this.options.to==="string"?(A=h.utf8border(V.output,V.next_out),O=V.next_out-A,D=h.buf2string(V.output,A),V.next_out=O,V.avail_out=q-O,O&&f.arraySet(V.output,V.output,A,O,0),this.onData(D)):this.onData(f.shrinkBuf(V.output,V.next_out)))),V.avail_in===0&&V.avail_out===0&&(st=!0)}while((0<V.avail_in||V.avail_out===0)&&_!==m.Z_STREAM_END);return _===m.Z_STREAM_END&&(k=m.Z_FINISH),k===m.Z_FINISH?(_=d.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===m.Z_OK):k!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(V.avail_out=0))},S.prototype.onData=function(v){this.chunks.push(v)},S.prototype.onEnd=function(v){v===m.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},c.Inflate=S,c.inflate=z,c.inflateRaw=function(v,C){return(C=C||{}).raw=!0,z(v,C)},c.ungzip=z},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,o,c){var d=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";c.assign=function(m){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var g=p.shift();if(g){if(typeof g!="object")throw new TypeError(g+"must be non-object");for(var y in g)g.hasOwnProperty(y)&&(m[y]=g[y])}}return m},c.shrinkBuf=function(m,p){return m.length===p?m:m.subarray?m.subarray(0,p):(m.length=p,m)};var f={arraySet:function(m,p,g,y,T){if(p.subarray&&m.subarray)m.set(p.subarray(g,g+y),T);else for(var S=0;S<y;S++)m[T+S]=p[g+S]},flattenChunks:function(m){var p,g,y,T,S,z;for(p=y=0,g=m.length;p<g;p++)y+=m[p].length;for(z=new Uint8Array(y),p=T=0,g=m.length;p<g;p++)S=m[p],z.set(S,T),T+=S.length;return z}},h={arraySet:function(m,p,g,y,T){for(var S=0;S<y;S++)m[T+S]=p[g+S]},flattenChunks:function(m){return[].concat.apply([],m)}};c.setTyped=function(m){m?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,f)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,h))},c.setTyped(d)},{}],42:[function(r,o,c){var d=r("./common"),f=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var m=new d.Buf8(256),p=0;p<256;p++)m[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function g(y,T){if(T<65537&&(y.subarray&&h||!y.subarray&&f))return String.fromCharCode.apply(null,d.shrinkBuf(y,T));for(var S="",z=0;z<T;z++)S+=String.fromCharCode(y[z]);return S}m[254]=m[254]=1,c.string2buf=function(y){var T,S,z,v,C,_=y.length,k=0;for(v=0;v<_;v++)(64512&(S=y.charCodeAt(v)))==55296&&v+1<_&&(64512&(z=y.charCodeAt(v+1)))==56320&&(S=65536+(S-55296<<10)+(z-56320),v++),k+=S<128?1:S<2048?2:S<65536?3:4;for(T=new d.Buf8(k),v=C=0;C<k;v++)(64512&(S=y.charCodeAt(v)))==55296&&v+1<_&&(64512&(z=y.charCodeAt(v+1)))==56320&&(S=65536+(S-55296<<10)+(z-56320),v++),S<128?T[C++]=S:(S<2048?T[C++]=192|S>>>6:(S<65536?T[C++]=224|S>>>12:(T[C++]=240|S>>>18,T[C++]=128|S>>>12&63),T[C++]=128|S>>>6&63),T[C++]=128|63&S);return T},c.buf2binstring=function(y){return g(y,y.length)},c.binstring2buf=function(y){for(var T=new d.Buf8(y.length),S=0,z=T.length;S<z;S++)T[S]=y.charCodeAt(S);return T},c.buf2string=function(y,T){var S,z,v,C,_=T||y.length,k=new Array(2*_);for(S=z=0;S<_;)if((v=y[S++])<128)k[z++]=v;else if(4<(C=m[v]))k[z++]=65533,S+=C-1;else{for(v&=C===2?31:C===3?15:7;1<C&&S<_;)v=v<<6|63&y[S++],C--;1<C?k[z++]=65533:v<65536?k[z++]=v:(v-=65536,k[z++]=55296|v>>10&1023,k[z++]=56320|1023&v)}return g(k,z)},c.utf8border=function(y,T){var S;for((T=T||y.length)>y.length&&(T=y.length),S=T-1;0<=S&&(192&y[S])==128;)S--;return S<0||S===0?T:S+m[y[S]]>T?S:T}},{"./common":41}],43:[function(r,o,c){o.exports=function(d,f,h,m){for(var p=65535&d|0,g=d>>>16&65535|0,y=0;h!==0;){for(h-=y=2e3<h?2e3:h;g=g+(p=p+f[m++]|0)|0,--y;);p%=65521,g%=65521}return p|g<<16|0}},{}],44:[function(r,o,c){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,o,c){var d=(function(){for(var f,h=[],m=0;m<256;m++){f=m;for(var p=0;p<8;p++)f=1&f?3988292384^f>>>1:f>>>1;h[m]=f}return h})();o.exports=function(f,h,m,p){var g=d,y=p+m;f^=-1;for(var T=p;T<y;T++)f=f>>>8^g[255&(f^h[T])];return-1^f}},{}],46:[function(r,o,c){var d,f=r("../utils/common"),h=r("./trees"),m=r("./adler32"),p=r("./crc32"),g=r("./messages"),y=0,T=4,S=0,z=-2,v=-1,C=4,_=2,k=8,A=9,O=286,D=30,F=19,V=2*O+1,q=15,X=3,st=258,ft=st+X+1,L=42,tt=113,E=1,et=2,G=3,Z=4;function ht(x,Q){return x.msg=g[Q],Q}function rt(x){return(x<<1)-(4<x?9:0)}function xt(x){for(var Q=x.length;0<=--Q;)x[Q]=0}function M(x){var Q=x.state,U=Q.pending;U>x.avail_out&&(U=x.avail_out),U!==0&&(f.arraySet(x.output,Q.pending_buf,Q.pending_out,U,x.next_out),x.next_out+=U,Q.pending_out+=U,x.total_out+=U,x.avail_out-=U,Q.pending-=U,Q.pending===0&&(Q.pending_out=0))}function B(x,Q){h._tr_flush_block(x,0<=x.block_start?x.block_start:-1,x.strstart-x.block_start,Q),x.block_start=x.strstart,M(x.strm)}function at(x,Q){x.pending_buf[x.pending++]=Q}function nt(x,Q){x.pending_buf[x.pending++]=Q>>>8&255,x.pending_buf[x.pending++]=255&Q}function lt(x,Q){var U,N,R=x.max_chain_length,H=x.strstart,ut=x.prev_length,mt=x.nice_match,$=x.strstart>x.w_size-ft?x.strstart-(x.w_size-ft):0,yt=x.window,St=x.w_mask,bt=x.prev,Et=x.strstart+st,qt=yt[H+ut-1],Lt=yt[H+ut];x.prev_length>=x.good_match&&(R>>=2),mt>x.lookahead&&(mt=x.lookahead);do if(yt[(U=Q)+ut]===Lt&&yt[U+ut-1]===qt&&yt[U]===yt[H]&&yt[++U]===yt[H+1]){H+=2,U++;do;while(yt[++H]===yt[++U]&&yt[++H]===yt[++U]&&yt[++H]===yt[++U]&&yt[++H]===yt[++U]&&yt[++H]===yt[++U]&&yt[++H]===yt[++U]&&yt[++H]===yt[++U]&&yt[++H]===yt[++U]&&H<Et);if(N=st-(Et-H),H=Et-st,ut<N){if(x.match_start=Q,mt<=(ut=N))break;qt=yt[H+ut-1],Lt=yt[H+ut]}}while((Q=bt[Q&St])>$&&--R!=0);return ut<=x.lookahead?ut:x.lookahead}function kt(x){var Q,U,N,R,H,ut,mt,$,yt,St,bt=x.w_size;do{if(R=x.window_size-x.lookahead-x.strstart,x.strstart>=bt+(bt-ft)){for(f.arraySet(x.window,x.window,bt,bt,0),x.match_start-=bt,x.strstart-=bt,x.block_start-=bt,Q=U=x.hash_size;N=x.head[--Q],x.head[Q]=bt<=N?N-bt:0,--U;);for(Q=U=bt;N=x.prev[--Q],x.prev[Q]=bt<=N?N-bt:0,--U;);R+=bt}if(x.strm.avail_in===0)break;if(ut=x.strm,mt=x.window,$=x.strstart+x.lookahead,yt=R,St=void 0,St=ut.avail_in,yt<St&&(St=yt),U=St===0?0:(ut.avail_in-=St,f.arraySet(mt,ut.input,ut.next_in,St,$),ut.state.wrap===1?ut.adler=m(ut.adler,mt,St,$):ut.state.wrap===2&&(ut.adler=p(ut.adler,mt,St,$)),ut.next_in+=St,ut.total_in+=St,St),x.lookahead+=U,x.lookahead+x.insert>=X)for(H=x.strstart-x.insert,x.ins_h=x.window[H],x.ins_h=(x.ins_h<<x.hash_shift^x.window[H+1])&x.hash_mask;x.insert&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[H+X-1])&x.hash_mask,x.prev[H&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=H,H++,x.insert--,!(x.lookahead+x.insert<X)););}while(x.lookahead<ft&&x.strm.avail_in!==0)}function zt(x,Q){for(var U,N;;){if(x.lookahead<ft){if(kt(x),x.lookahead<ft&&Q===y)return E;if(x.lookahead===0)break}if(U=0,x.lookahead>=X&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+X-1])&x.hash_mask,U=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),U!==0&&x.strstart-U<=x.w_size-ft&&(x.match_length=lt(x,U)),x.match_length>=X)if(N=h._tr_tally(x,x.strstart-x.match_start,x.match_length-X),x.lookahead-=x.match_length,x.match_length<=x.max_lazy_match&&x.lookahead>=X){for(x.match_length--;x.strstart++,x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+X-1])&x.hash_mask,U=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart,--x.match_length!=0;);x.strstart++}else x.strstart+=x.match_length,x.match_length=0,x.ins_h=x.window[x.strstart],x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+1])&x.hash_mask;else N=h._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++;if(N&&(B(x,!1),x.strm.avail_out===0))return E}return x.insert=x.strstart<X-1?x.strstart:X-1,Q===T?(B(x,!0),x.strm.avail_out===0?G:Z):x.last_lit&&(B(x,!1),x.strm.avail_out===0)?E:et}function vt(x,Q){for(var U,N,R;;){if(x.lookahead<ft){if(kt(x),x.lookahead<ft&&Q===y)return E;if(x.lookahead===0)break}if(U=0,x.lookahead>=X&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+X-1])&x.hash_mask,U=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),x.prev_length=x.match_length,x.prev_match=x.match_start,x.match_length=X-1,U!==0&&x.prev_length<x.max_lazy_match&&x.strstart-U<=x.w_size-ft&&(x.match_length=lt(x,U),x.match_length<=5&&(x.strategy===1||x.match_length===X&&4096<x.strstart-x.match_start)&&(x.match_length=X-1)),x.prev_length>=X&&x.match_length<=x.prev_length){for(R=x.strstart+x.lookahead-X,N=h._tr_tally(x,x.strstart-1-x.prev_match,x.prev_length-X),x.lookahead-=x.prev_length-1,x.prev_length-=2;++x.strstart<=R&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+X-1])&x.hash_mask,U=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),--x.prev_length!=0;);if(x.match_available=0,x.match_length=X-1,x.strstart++,N&&(B(x,!1),x.strm.avail_out===0))return E}else if(x.match_available){if((N=h._tr_tally(x,0,x.window[x.strstart-1]))&&B(x,!1),x.strstart++,x.lookahead--,x.strm.avail_out===0)return E}else x.match_available=1,x.strstart++,x.lookahead--}return x.match_available&&(N=h._tr_tally(x,0,x.window[x.strstart-1]),x.match_available=0),x.insert=x.strstart<X-1?x.strstart:X-1,Q===T?(B(x,!0),x.strm.avail_out===0?G:Z):x.last_lit&&(B(x,!1),x.strm.avail_out===0)?E:et}function Tt(x,Q,U,N,R){this.good_length=x,this.max_lazy=Q,this.nice_length=U,this.max_chain=N,this.func=R}function gt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new f.Buf16(2*V),this.dyn_dtree=new f.Buf16(2*(2*D+1)),this.bl_tree=new f.Buf16(2*(2*F+1)),xt(this.dyn_ltree),xt(this.dyn_dtree),xt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new f.Buf16(q+1),this.heap=new f.Buf16(2*O+1),xt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new f.Buf16(2*O+1),xt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _t(x){var Q;return x&&x.state?(x.total_in=x.total_out=0,x.data_type=_,(Q=x.state).pending=0,Q.pending_out=0,Q.wrap<0&&(Q.wrap=-Q.wrap),Q.status=Q.wrap?L:tt,x.adler=Q.wrap===2?0:1,Q.last_flush=y,h._tr_init(Q),S):ht(x,z)}function wt(x){var Q=_t(x);return Q===S&&(function(U){U.window_size=2*U.w_size,xt(U.head),U.max_lazy_match=d[U.level].max_lazy,U.good_match=d[U.level].good_length,U.nice_match=d[U.level].nice_length,U.max_chain_length=d[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=X-1,U.match_available=0,U.ins_h=0})(x.state),Q}function Ct(x,Q,U,N,R,H){if(!x)return z;var ut=1;if(Q===v&&(Q=6),N<0?(ut=0,N=-N):15<N&&(ut=2,N-=16),R<1||A<R||U!==k||N<8||15<N||Q<0||9<Q||H<0||C<H)return ht(x,z);N===8&&(N=9);var mt=new gt;return(x.state=mt).strm=x,mt.wrap=ut,mt.gzhead=null,mt.w_bits=N,mt.w_size=1<<mt.w_bits,mt.w_mask=mt.w_size-1,mt.hash_bits=R+7,mt.hash_size=1<<mt.hash_bits,mt.hash_mask=mt.hash_size-1,mt.hash_shift=~~((mt.hash_bits+X-1)/X),mt.window=new f.Buf8(2*mt.w_size),mt.head=new f.Buf16(mt.hash_size),mt.prev=new f.Buf16(mt.w_size),mt.lit_bufsize=1<<R+6,mt.pending_buf_size=4*mt.lit_bufsize,mt.pending_buf=new f.Buf8(mt.pending_buf_size),mt.d_buf=1*mt.lit_bufsize,mt.l_buf=3*mt.lit_bufsize,mt.level=Q,mt.strategy=H,mt.method=U,wt(x)}d=[new Tt(0,0,0,0,function(x,Q){var U=65535;for(U>x.pending_buf_size-5&&(U=x.pending_buf_size-5);;){if(x.lookahead<=1){if(kt(x),x.lookahead===0&&Q===y)return E;if(x.lookahead===0)break}x.strstart+=x.lookahead,x.lookahead=0;var N=x.block_start+U;if((x.strstart===0||x.strstart>=N)&&(x.lookahead=x.strstart-N,x.strstart=N,B(x,!1),x.strm.avail_out===0)||x.strstart-x.block_start>=x.w_size-ft&&(B(x,!1),x.strm.avail_out===0))return E}return x.insert=0,Q===T?(B(x,!0),x.strm.avail_out===0?G:Z):(x.strstart>x.block_start&&(B(x,!1),x.strm.avail_out),E)}),new Tt(4,4,8,4,zt),new Tt(4,5,16,8,zt),new Tt(4,6,32,32,zt),new Tt(4,4,16,16,vt),new Tt(8,16,32,32,vt),new Tt(8,16,128,128,vt),new Tt(8,32,128,256,vt),new Tt(32,128,258,1024,vt),new Tt(32,258,258,4096,vt)],c.deflateInit=function(x,Q){return Ct(x,Q,k,15,8,0)},c.deflateInit2=Ct,c.deflateReset=wt,c.deflateResetKeep=_t,c.deflateSetHeader=function(x,Q){return x&&x.state?x.state.wrap!==2?z:(x.state.gzhead=Q,S):z},c.deflate=function(x,Q){var U,N,R,H;if(!x||!x.state||5<Q||Q<0)return x?ht(x,z):z;if(N=x.state,!x.output||!x.input&&x.avail_in!==0||N.status===666&&Q!==T)return ht(x,x.avail_out===0?-5:z);if(N.strm=x,U=N.last_flush,N.last_flush=Q,N.status===L)if(N.wrap===2)x.adler=0,at(N,31),at(N,139),at(N,8),N.gzhead?(at(N,(N.gzhead.text?1:0)+(N.gzhead.hcrc?2:0)+(N.gzhead.extra?4:0)+(N.gzhead.name?8:0)+(N.gzhead.comment?16:0)),at(N,255&N.gzhead.time),at(N,N.gzhead.time>>8&255),at(N,N.gzhead.time>>16&255),at(N,N.gzhead.time>>24&255),at(N,N.level===9?2:2<=N.strategy||N.level<2?4:0),at(N,255&N.gzhead.os),N.gzhead.extra&&N.gzhead.extra.length&&(at(N,255&N.gzhead.extra.length),at(N,N.gzhead.extra.length>>8&255)),N.gzhead.hcrc&&(x.adler=p(x.adler,N.pending_buf,N.pending,0)),N.gzindex=0,N.status=69):(at(N,0),at(N,0),at(N,0),at(N,0),at(N,0),at(N,N.level===9?2:2<=N.strategy||N.level<2?4:0),at(N,3),N.status=tt);else{var ut=k+(N.w_bits-8<<4)<<8;ut|=(2<=N.strategy||N.level<2?0:N.level<6?1:N.level===6?2:3)<<6,N.strstart!==0&&(ut|=32),ut+=31-ut%31,N.status=tt,nt(N,ut),N.strstart!==0&&(nt(N,x.adler>>>16),nt(N,65535&x.adler)),x.adler=1}if(N.status===69)if(N.gzhead.extra){for(R=N.pending;N.gzindex<(65535&N.gzhead.extra.length)&&(N.pending!==N.pending_buf_size||(N.gzhead.hcrc&&N.pending>R&&(x.adler=p(x.adler,N.pending_buf,N.pending-R,R)),M(x),R=N.pending,N.pending!==N.pending_buf_size));)at(N,255&N.gzhead.extra[N.gzindex]),N.gzindex++;N.gzhead.hcrc&&N.pending>R&&(x.adler=p(x.adler,N.pending_buf,N.pending-R,R)),N.gzindex===N.gzhead.extra.length&&(N.gzindex=0,N.status=73)}else N.status=73;if(N.status===73)if(N.gzhead.name){R=N.pending;do{if(N.pending===N.pending_buf_size&&(N.gzhead.hcrc&&N.pending>R&&(x.adler=p(x.adler,N.pending_buf,N.pending-R,R)),M(x),R=N.pending,N.pending===N.pending_buf_size)){H=1;break}H=N.gzindex<N.gzhead.name.length?255&N.gzhead.name.charCodeAt(N.gzindex++):0,at(N,H)}while(H!==0);N.gzhead.hcrc&&N.pending>R&&(x.adler=p(x.adler,N.pending_buf,N.pending-R,R)),H===0&&(N.gzindex=0,N.status=91)}else N.status=91;if(N.status===91)if(N.gzhead.comment){R=N.pending;do{if(N.pending===N.pending_buf_size&&(N.gzhead.hcrc&&N.pending>R&&(x.adler=p(x.adler,N.pending_buf,N.pending-R,R)),M(x),R=N.pending,N.pending===N.pending_buf_size)){H=1;break}H=N.gzindex<N.gzhead.comment.length?255&N.gzhead.comment.charCodeAt(N.gzindex++):0,at(N,H)}while(H!==0);N.gzhead.hcrc&&N.pending>R&&(x.adler=p(x.adler,N.pending_buf,N.pending-R,R)),H===0&&(N.status=103)}else N.status=103;if(N.status===103&&(N.gzhead.hcrc?(N.pending+2>N.pending_buf_size&&M(x),N.pending+2<=N.pending_buf_size&&(at(N,255&x.adler),at(N,x.adler>>8&255),x.adler=0,N.status=tt)):N.status=tt),N.pending!==0){if(M(x),x.avail_out===0)return N.last_flush=-1,S}else if(x.avail_in===0&&rt(Q)<=rt(U)&&Q!==T)return ht(x,-5);if(N.status===666&&x.avail_in!==0)return ht(x,-5);if(x.avail_in!==0||N.lookahead!==0||Q!==y&&N.status!==666){var mt=N.strategy===2?(function($,yt){for(var St;;){if($.lookahead===0&&(kt($),$.lookahead===0)){if(yt===y)return E;break}if($.match_length=0,St=h._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++,St&&(B($,!1),$.strm.avail_out===0))return E}return $.insert=0,yt===T?(B($,!0),$.strm.avail_out===0?G:Z):$.last_lit&&(B($,!1),$.strm.avail_out===0)?E:et})(N,Q):N.strategy===3?(function($,yt){for(var St,bt,Et,qt,Lt=$.window;;){if($.lookahead<=st){if(kt($),$.lookahead<=st&&yt===y)return E;if($.lookahead===0)break}if($.match_length=0,$.lookahead>=X&&0<$.strstart&&(bt=Lt[Et=$.strstart-1])===Lt[++Et]&&bt===Lt[++Et]&&bt===Lt[++Et]){qt=$.strstart+st;do;while(bt===Lt[++Et]&&bt===Lt[++Et]&&bt===Lt[++Et]&&bt===Lt[++Et]&&bt===Lt[++Et]&&bt===Lt[++Et]&&bt===Lt[++Et]&&bt===Lt[++Et]&&Et<qt);$.match_length=st-(qt-Et),$.match_length>$.lookahead&&($.match_length=$.lookahead)}if($.match_length>=X?(St=h._tr_tally($,1,$.match_length-X),$.lookahead-=$.match_length,$.strstart+=$.match_length,$.match_length=0):(St=h._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++),St&&(B($,!1),$.strm.avail_out===0))return E}return $.insert=0,yt===T?(B($,!0),$.strm.avail_out===0?G:Z):$.last_lit&&(B($,!1),$.strm.avail_out===0)?E:et})(N,Q):d[N.level].func(N,Q);if(mt!==G&&mt!==Z||(N.status=666),mt===E||mt===G)return x.avail_out===0&&(N.last_flush=-1),S;if(mt===et&&(Q===1?h._tr_align(N):Q!==5&&(h._tr_stored_block(N,0,0,!1),Q===3&&(xt(N.head),N.lookahead===0&&(N.strstart=0,N.block_start=0,N.insert=0))),M(x),x.avail_out===0))return N.last_flush=-1,S}return Q!==T?S:N.wrap<=0?1:(N.wrap===2?(at(N,255&x.adler),at(N,x.adler>>8&255),at(N,x.adler>>16&255),at(N,x.adler>>24&255),at(N,255&x.total_in),at(N,x.total_in>>8&255),at(N,x.total_in>>16&255),at(N,x.total_in>>24&255)):(nt(N,x.adler>>>16),nt(N,65535&x.adler)),M(x),0<N.wrap&&(N.wrap=-N.wrap),N.pending!==0?S:1)},c.deflateEnd=function(x){var Q;return x&&x.state?(Q=x.state.status)!==L&&Q!==69&&Q!==73&&Q!==91&&Q!==103&&Q!==tt&&Q!==666?ht(x,z):(x.state=null,Q===tt?ht(x,-3):S):z},c.deflateSetDictionary=function(x,Q){var U,N,R,H,ut,mt,$,yt,St=Q.length;if(!x||!x.state||(H=(U=x.state).wrap)===2||H===1&&U.status!==L||U.lookahead)return z;for(H===1&&(x.adler=m(x.adler,Q,St,0)),U.wrap=0,St>=U.w_size&&(H===0&&(xt(U.head),U.strstart=0,U.block_start=0,U.insert=0),yt=new f.Buf8(U.w_size),f.arraySet(yt,Q,St-U.w_size,U.w_size,0),Q=yt,St=U.w_size),ut=x.avail_in,mt=x.next_in,$=x.input,x.avail_in=St,x.next_in=0,x.input=Q,kt(U);U.lookahead>=X;){for(N=U.strstart,R=U.lookahead-(X-1);U.ins_h=(U.ins_h<<U.hash_shift^U.window[N+X-1])&U.hash_mask,U.prev[N&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=N,N++,--R;);U.strstart=N,U.lookahead=X-1,kt(U)}return U.strstart+=U.lookahead,U.block_start=U.strstart,U.insert=U.lookahead,U.lookahead=0,U.match_length=U.prev_length=X-1,U.match_available=0,x.next_in=mt,x.input=$,x.avail_in=ut,U.wrap=H,S},c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,o,c){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,o,c){o.exports=function(d,f){var h,m,p,g,y,T,S,z,v,C,_,k,A,O,D,F,V,q,X,st,ft,L,tt,E,et;h=d.state,m=d.next_in,E=d.input,p=m+(d.avail_in-5),g=d.next_out,et=d.output,y=g-(f-d.avail_out),T=g+(d.avail_out-257),S=h.dmax,z=h.wsize,v=h.whave,C=h.wnext,_=h.window,k=h.hold,A=h.bits,O=h.lencode,D=h.distcode,F=(1<<h.lenbits)-1,V=(1<<h.distbits)-1;t:do{A<15&&(k+=E[m++]<<A,A+=8,k+=E[m++]<<A,A+=8),q=O[k&F];e:for(;;){if(k>>>=X=q>>>24,A-=X,(X=q>>>16&255)===0)et[g++]=65535&q;else{if(!(16&X)){if((64&X)==0){q=O[(65535&q)+(k&(1<<X)-1)];continue e}if(32&X){h.mode=12;break t}d.msg="invalid literal/length code",h.mode=30;break t}st=65535&q,(X&=15)&&(A<X&&(k+=E[m++]<<A,A+=8),st+=k&(1<<X)-1,k>>>=X,A-=X),A<15&&(k+=E[m++]<<A,A+=8,k+=E[m++]<<A,A+=8),q=D[k&V];n:for(;;){if(k>>>=X=q>>>24,A-=X,!(16&(X=q>>>16&255))){if((64&X)==0){q=D[(65535&q)+(k&(1<<X)-1)];continue n}d.msg="invalid distance code",h.mode=30;break t}if(ft=65535&q,A<(X&=15)&&(k+=E[m++]<<A,(A+=8)<X&&(k+=E[m++]<<A,A+=8)),S<(ft+=k&(1<<X)-1)){d.msg="invalid distance too far back",h.mode=30;break t}if(k>>>=X,A-=X,(X=g-y)<ft){if(v<(X=ft-X)&&h.sane){d.msg="invalid distance too far back",h.mode=30;break t}if(tt=_,(L=0)===C){if(L+=z-X,X<st){for(st-=X;et[g++]=_[L++],--X;);L=g-ft,tt=et}}else if(C<X){if(L+=z+C-X,(X-=C)<st){for(st-=X;et[g++]=_[L++],--X;);if(L=0,C<st){for(st-=X=C;et[g++]=_[L++],--X;);L=g-ft,tt=et}}}else if(L+=C-X,X<st){for(st-=X;et[g++]=_[L++],--X;);L=g-ft,tt=et}for(;2<st;)et[g++]=tt[L++],et[g++]=tt[L++],et[g++]=tt[L++],st-=3;st&&(et[g++]=tt[L++],1<st&&(et[g++]=tt[L++]))}else{for(L=g-ft;et[g++]=et[L++],et[g++]=et[L++],et[g++]=et[L++],2<(st-=3););st&&(et[g++]=et[L++],1<st&&(et[g++]=et[L++]))}break}}break}}while(m<p&&g<T);m-=st=A>>3,k&=(1<<(A-=st<<3))-1,d.next_in=m,d.next_out=g,d.avail_in=m<p?p-m+5:5-(m-p),d.avail_out=g<T?T-g+257:257-(g-T),h.hold=k,h.bits=A}},{}],49:[function(r,o,c){var d=r("../utils/common"),f=r("./adler32"),h=r("./crc32"),m=r("./inffast"),p=r("./inftrees"),g=1,y=2,T=0,S=-2,z=1,v=852,C=592;function _(L){return(L>>>24&255)+(L>>>8&65280)+((65280&L)<<8)+((255&L)<<24)}function k(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function A(L){var tt;return L&&L.state?(tt=L.state,L.total_in=L.total_out=tt.total=0,L.msg="",tt.wrap&&(L.adler=1&tt.wrap),tt.mode=z,tt.last=0,tt.havedict=0,tt.dmax=32768,tt.head=null,tt.hold=0,tt.bits=0,tt.lencode=tt.lendyn=new d.Buf32(v),tt.distcode=tt.distdyn=new d.Buf32(C),tt.sane=1,tt.back=-1,T):S}function O(L){var tt;return L&&L.state?((tt=L.state).wsize=0,tt.whave=0,tt.wnext=0,A(L)):S}function D(L,tt){var E,et;return L&&L.state?(et=L.state,tt<0?(E=0,tt=-tt):(E=1+(tt>>4),tt<48&&(tt&=15)),tt&&(tt<8||15<tt)?S:(et.window!==null&&et.wbits!==tt&&(et.window=null),et.wrap=E,et.wbits=tt,O(L))):S}function F(L,tt){var E,et;return L?(et=new k,(L.state=et).window=null,(E=D(L,tt))!==T&&(L.state=null),E):S}var V,q,X=!0;function st(L){if(X){var tt;for(V=new d.Buf32(512),q=new d.Buf32(32),tt=0;tt<144;)L.lens[tt++]=8;for(;tt<256;)L.lens[tt++]=9;for(;tt<280;)L.lens[tt++]=7;for(;tt<288;)L.lens[tt++]=8;for(p(g,L.lens,0,288,V,0,L.work,{bits:9}),tt=0;tt<32;)L.lens[tt++]=5;p(y,L.lens,0,32,q,0,L.work,{bits:5}),X=!1}L.lencode=V,L.lenbits=9,L.distcode=q,L.distbits=5}function ft(L,tt,E,et){var G,Z=L.state;return Z.window===null&&(Z.wsize=1<<Z.wbits,Z.wnext=0,Z.whave=0,Z.window=new d.Buf8(Z.wsize)),et>=Z.wsize?(d.arraySet(Z.window,tt,E-Z.wsize,Z.wsize,0),Z.wnext=0,Z.whave=Z.wsize):(et<(G=Z.wsize-Z.wnext)&&(G=et),d.arraySet(Z.window,tt,E-et,G,Z.wnext),(et-=G)?(d.arraySet(Z.window,tt,E-et,et,0),Z.wnext=et,Z.whave=Z.wsize):(Z.wnext+=G,Z.wnext===Z.wsize&&(Z.wnext=0),Z.whave<Z.wsize&&(Z.whave+=G))),0}c.inflateReset=O,c.inflateReset2=D,c.inflateResetKeep=A,c.inflateInit=function(L){return F(L,15)},c.inflateInit2=F,c.inflate=function(L,tt){var E,et,G,Z,ht,rt,xt,M,B,at,nt,lt,kt,zt,vt,Tt,gt,_t,wt,Ct,x,Q,U,N,R=0,H=new d.Buf8(4),ut=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!L||!L.state||!L.output||!L.input&&L.avail_in!==0)return S;(E=L.state).mode===12&&(E.mode=13),ht=L.next_out,G=L.output,xt=L.avail_out,Z=L.next_in,et=L.input,rt=L.avail_in,M=E.hold,B=E.bits,at=rt,nt=xt,Q=T;t:for(;;)switch(E.mode){case z:if(E.wrap===0){E.mode=13;break}for(;B<16;){if(rt===0)break t;rt--,M+=et[Z++]<<B,B+=8}if(2&E.wrap&&M===35615){H[E.check=0]=255&M,H[1]=M>>>8&255,E.check=h(E.check,H,2,0),B=M=0,E.mode=2;break}if(E.flags=0,E.head&&(E.head.done=!1),!(1&E.wrap)||(((255&M)<<8)+(M>>8))%31){L.msg="incorrect header check",E.mode=30;break}if((15&M)!=8){L.msg="unknown compression method",E.mode=30;break}if(B-=4,x=8+(15&(M>>>=4)),E.wbits===0)E.wbits=x;else if(x>E.wbits){L.msg="invalid window size",E.mode=30;break}E.dmax=1<<x,L.adler=E.check=1,E.mode=512&M?10:12,B=M=0;break;case 2:for(;B<16;){if(rt===0)break t;rt--,M+=et[Z++]<<B,B+=8}if(E.flags=M,(255&E.flags)!=8){L.msg="unknown compression method",E.mode=30;break}if(57344&E.flags){L.msg="unknown header flags set",E.mode=30;break}E.head&&(E.head.text=M>>8&1),512&E.flags&&(H[0]=255&M,H[1]=M>>>8&255,E.check=h(E.check,H,2,0)),B=M=0,E.mode=3;case 3:for(;B<32;){if(rt===0)break t;rt--,M+=et[Z++]<<B,B+=8}E.head&&(E.head.time=M),512&E.flags&&(H[0]=255&M,H[1]=M>>>8&255,H[2]=M>>>16&255,H[3]=M>>>24&255,E.check=h(E.check,H,4,0)),B=M=0,E.mode=4;case 4:for(;B<16;){if(rt===0)break t;rt--,M+=et[Z++]<<B,B+=8}E.head&&(E.head.xflags=255&M,E.head.os=M>>8),512&E.flags&&(H[0]=255&M,H[1]=M>>>8&255,E.check=h(E.check,H,2,0)),B=M=0,E.mode=5;case 5:if(1024&E.flags){for(;B<16;){if(rt===0)break t;rt--,M+=et[Z++]<<B,B+=8}E.length=M,E.head&&(E.head.extra_len=M),512&E.flags&&(H[0]=255&M,H[1]=M>>>8&255,E.check=h(E.check,H,2,0)),B=M=0}else E.head&&(E.head.extra=null);E.mode=6;case 6:if(1024&E.flags&&(rt<(lt=E.length)&&(lt=rt),lt&&(E.head&&(x=E.head.extra_len-E.length,E.head.extra||(E.head.extra=new Array(E.head.extra_len)),d.arraySet(E.head.extra,et,Z,lt,x)),512&E.flags&&(E.check=h(E.check,et,lt,Z)),rt-=lt,Z+=lt,E.length-=lt),E.length))break t;E.length=0,E.mode=7;case 7:if(2048&E.flags){if(rt===0)break t;for(lt=0;x=et[Z+lt++],E.head&&x&&E.length<65536&&(E.head.name+=String.fromCharCode(x)),x&&lt<rt;);if(512&E.flags&&(E.check=h(E.check,et,lt,Z)),rt-=lt,Z+=lt,x)break t}else E.head&&(E.head.name=null);E.length=0,E.mode=8;case 8:if(4096&E.flags){if(rt===0)break t;for(lt=0;x=et[Z+lt++],E.head&&x&&E.length<65536&&(E.head.comment+=String.fromCharCode(x)),x&&lt<rt;);if(512&E.flags&&(E.check=h(E.check,et,lt,Z)),rt-=lt,Z+=lt,x)break t}else E.head&&(E.head.comment=null);E.mode=9;case 9:if(512&E.flags){for(;B<16;){if(rt===0)break t;rt--,M+=et[Z++]<<B,B+=8}if(M!==(65535&E.check)){L.msg="header crc mismatch",E.mode=30;break}B=M=0}E.head&&(E.head.hcrc=E.flags>>9&1,E.head.done=!0),L.adler=E.check=0,E.mode=12;break;case 10:for(;B<32;){if(rt===0)break t;rt--,M+=et[Z++]<<B,B+=8}L.adler=E.check=_(M),B=M=0,E.mode=11;case 11:if(E.havedict===0)return L.next_out=ht,L.avail_out=xt,L.next_in=Z,L.avail_in=rt,E.hold=M,E.bits=B,2;L.adler=E.check=1,E.mode=12;case 12:if(tt===5||tt===6)break t;case 13:if(E.last){M>>>=7&B,B-=7&B,E.mode=27;break}for(;B<3;){if(rt===0)break t;rt--,M+=et[Z++]<<B,B+=8}switch(E.last=1&M,B-=1,3&(M>>>=1)){case 0:E.mode=14;break;case 1:if(st(E),E.mode=20,tt!==6)break;M>>>=2,B-=2;break t;case 2:E.mode=17;break;case 3:L.msg="invalid block type",E.mode=30}M>>>=2,B-=2;break;case 14:for(M>>>=7&B,B-=7&B;B<32;){if(rt===0)break t;rt--,M+=et[Z++]<<B,B+=8}if((65535&M)!=(M>>>16^65535)){L.msg="invalid stored block lengths",E.mode=30;break}if(E.length=65535&M,B=M=0,E.mode=15,tt===6)break t;case 15:E.mode=16;case 16:if(lt=E.length){if(rt<lt&&(lt=rt),xt<lt&&(lt=xt),lt===0)break t;d.arraySet(G,et,Z,lt,ht),rt-=lt,Z+=lt,xt-=lt,ht+=lt,E.length-=lt;break}E.mode=12;break;case 17:for(;B<14;){if(rt===0)break t;rt--,M+=et[Z++]<<B,B+=8}if(E.nlen=257+(31&M),M>>>=5,B-=5,E.ndist=1+(31&M),M>>>=5,B-=5,E.ncode=4+(15&M),M>>>=4,B-=4,286<E.nlen||30<E.ndist){L.msg="too many length or distance symbols",E.mode=30;break}E.have=0,E.mode=18;case 18:for(;E.have<E.ncode;){for(;B<3;){if(rt===0)break t;rt--,M+=et[Z++]<<B,B+=8}E.lens[ut[E.have++]]=7&M,M>>>=3,B-=3}for(;E.have<19;)E.lens[ut[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,U={bits:E.lenbits},Q=p(0,E.lens,0,19,E.lencode,0,E.work,U),E.lenbits=U.bits,Q){L.msg="invalid code lengths set",E.mode=30;break}E.have=0,E.mode=19;case 19:for(;E.have<E.nlen+E.ndist;){for(;Tt=(R=E.lencode[M&(1<<E.lenbits)-1])>>>16&255,gt=65535&R,!((vt=R>>>24)<=B);){if(rt===0)break t;rt--,M+=et[Z++]<<B,B+=8}if(gt<16)M>>>=vt,B-=vt,E.lens[E.have++]=gt;else{if(gt===16){for(N=vt+2;B<N;){if(rt===0)break t;rt--,M+=et[Z++]<<B,B+=8}if(M>>>=vt,B-=vt,E.have===0){L.msg="invalid bit length repeat",E.mode=30;break}x=E.lens[E.have-1],lt=3+(3&M),M>>>=2,B-=2}else if(gt===17){for(N=vt+3;B<N;){if(rt===0)break t;rt--,M+=et[Z++]<<B,B+=8}B-=vt,x=0,lt=3+(7&(M>>>=vt)),M>>>=3,B-=3}else{for(N=vt+7;B<N;){if(rt===0)break t;rt--,M+=et[Z++]<<B,B+=8}B-=vt,x=0,lt=11+(127&(M>>>=vt)),M>>>=7,B-=7}if(E.have+lt>E.nlen+E.ndist){L.msg="invalid bit length repeat",E.mode=30;break}for(;lt--;)E.lens[E.have++]=x}}if(E.mode===30)break;if(E.lens[256]===0){L.msg="invalid code -- missing end-of-block",E.mode=30;break}if(E.lenbits=9,U={bits:E.lenbits},Q=p(g,E.lens,0,E.nlen,E.lencode,0,E.work,U),E.lenbits=U.bits,Q){L.msg="invalid literal/lengths set",E.mode=30;break}if(E.distbits=6,E.distcode=E.distdyn,U={bits:E.distbits},Q=p(y,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,U),E.distbits=U.bits,Q){L.msg="invalid distances set",E.mode=30;break}if(E.mode=20,tt===6)break t;case 20:E.mode=21;case 21:if(6<=rt&&258<=xt){L.next_out=ht,L.avail_out=xt,L.next_in=Z,L.avail_in=rt,E.hold=M,E.bits=B,m(L,nt),ht=L.next_out,G=L.output,xt=L.avail_out,Z=L.next_in,et=L.input,rt=L.avail_in,M=E.hold,B=E.bits,E.mode===12&&(E.back=-1);break}for(E.back=0;Tt=(R=E.lencode[M&(1<<E.lenbits)-1])>>>16&255,gt=65535&R,!((vt=R>>>24)<=B);){if(rt===0)break t;rt--,M+=et[Z++]<<B,B+=8}if(Tt&&(240&Tt)==0){for(_t=vt,wt=Tt,Ct=gt;Tt=(R=E.lencode[Ct+((M&(1<<_t+wt)-1)>>_t)])>>>16&255,gt=65535&R,!(_t+(vt=R>>>24)<=B);){if(rt===0)break t;rt--,M+=et[Z++]<<B,B+=8}M>>>=_t,B-=_t,E.back+=_t}if(M>>>=vt,B-=vt,E.back+=vt,E.length=gt,Tt===0){E.mode=26;break}if(32&Tt){E.back=-1,E.mode=12;break}if(64&Tt){L.msg="invalid literal/length code",E.mode=30;break}E.extra=15&Tt,E.mode=22;case 22:if(E.extra){for(N=E.extra;B<N;){if(rt===0)break t;rt--,M+=et[Z++]<<B,B+=8}E.length+=M&(1<<E.extra)-1,M>>>=E.extra,B-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=23;case 23:for(;Tt=(R=E.distcode[M&(1<<E.distbits)-1])>>>16&255,gt=65535&R,!((vt=R>>>24)<=B);){if(rt===0)break t;rt--,M+=et[Z++]<<B,B+=8}if((240&Tt)==0){for(_t=vt,wt=Tt,Ct=gt;Tt=(R=E.distcode[Ct+((M&(1<<_t+wt)-1)>>_t)])>>>16&255,gt=65535&R,!(_t+(vt=R>>>24)<=B);){if(rt===0)break t;rt--,M+=et[Z++]<<B,B+=8}M>>>=_t,B-=_t,E.back+=_t}if(M>>>=vt,B-=vt,E.back+=vt,64&Tt){L.msg="invalid distance code",E.mode=30;break}E.offset=gt,E.extra=15&Tt,E.mode=24;case 24:if(E.extra){for(N=E.extra;B<N;){if(rt===0)break t;rt--,M+=et[Z++]<<B,B+=8}E.offset+=M&(1<<E.extra)-1,M>>>=E.extra,B-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){L.msg="invalid distance too far back",E.mode=30;break}E.mode=25;case 25:if(xt===0)break t;if(lt=nt-xt,E.offset>lt){if((lt=E.offset-lt)>E.whave&&E.sane){L.msg="invalid distance too far back",E.mode=30;break}kt=lt>E.wnext?(lt-=E.wnext,E.wsize-lt):E.wnext-lt,lt>E.length&&(lt=E.length),zt=E.window}else zt=G,kt=ht-E.offset,lt=E.length;for(xt<lt&&(lt=xt),xt-=lt,E.length-=lt;G[ht++]=zt[kt++],--lt;);E.length===0&&(E.mode=21);break;case 26:if(xt===0)break t;G[ht++]=E.length,xt--,E.mode=21;break;case 27:if(E.wrap){for(;B<32;){if(rt===0)break t;rt--,M|=et[Z++]<<B,B+=8}if(nt-=xt,L.total_out+=nt,E.total+=nt,nt&&(L.adler=E.check=E.flags?h(E.check,G,nt,ht-nt):f(E.check,G,nt,ht-nt)),nt=xt,(E.flags?M:_(M))!==E.check){L.msg="incorrect data check",E.mode=30;break}B=M=0}E.mode=28;case 28:if(E.wrap&&E.flags){for(;B<32;){if(rt===0)break t;rt--,M+=et[Z++]<<B,B+=8}if(M!==(4294967295&E.total)){L.msg="incorrect length check",E.mode=30;break}B=M=0}E.mode=29;case 29:Q=1;break t;case 30:Q=-3;break t;case 31:return-4;case 32:default:return S}return L.next_out=ht,L.avail_out=xt,L.next_in=Z,L.avail_in=rt,E.hold=M,E.bits=B,(E.wsize||nt!==L.avail_out&&E.mode<30&&(E.mode<27||tt!==4))&&ft(L,L.output,L.next_out,nt-L.avail_out)?(E.mode=31,-4):(at-=L.avail_in,nt-=L.avail_out,L.total_in+=at,L.total_out+=nt,E.total+=nt,E.wrap&&nt&&(L.adler=E.check=E.flags?h(E.check,G,nt,L.next_out-nt):f(E.check,G,nt,L.next_out-nt)),L.data_type=E.bits+(E.last?64:0)+(E.mode===12?128:0)+(E.mode===20||E.mode===15?256:0),(at==0&&nt===0||tt===4)&&Q===T&&(Q=-5),Q)},c.inflateEnd=function(L){if(!L||!L.state)return S;var tt=L.state;return tt.window&&(tt.window=null),L.state=null,T},c.inflateGetHeader=function(L,tt){var E;return L&&L.state?(2&(E=L.state).wrap)==0?S:((E.head=tt).done=!1,T):S},c.inflateSetDictionary=function(L,tt){var E,et=tt.length;return L&&L.state?(E=L.state).wrap!==0&&E.mode!==11?S:E.mode===11&&f(1,tt,et,0)!==E.check?-3:ft(L,tt,et,et)?(E.mode=31,-4):(E.havedict=1,T):S},c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,o,c){var d=r("../utils/common"),f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(g,y,T,S,z,v,C,_){var k,A,O,D,F,V,q,X,st,ft=_.bits,L=0,tt=0,E=0,et=0,G=0,Z=0,ht=0,rt=0,xt=0,M=0,B=null,at=0,nt=new d.Buf16(16),lt=new d.Buf16(16),kt=null,zt=0;for(L=0;L<=15;L++)nt[L]=0;for(tt=0;tt<S;tt++)nt[y[T+tt]]++;for(G=ft,et=15;1<=et&&nt[et]===0;et--);if(et<G&&(G=et),et===0)return z[v++]=20971520,z[v++]=20971520,_.bits=1,0;for(E=1;E<et&&nt[E]===0;E++);for(G<E&&(G=E),L=rt=1;L<=15;L++)if(rt<<=1,(rt-=nt[L])<0)return-1;if(0<rt&&(g===0||et!==1))return-1;for(lt[1]=0,L=1;L<15;L++)lt[L+1]=lt[L]+nt[L];for(tt=0;tt<S;tt++)y[T+tt]!==0&&(C[lt[y[T+tt]]++]=tt);if(V=g===0?(B=kt=C,19):g===1?(B=f,at-=257,kt=h,zt-=257,256):(B=m,kt=p,-1),L=E,F=v,ht=tt=M=0,O=-1,D=(xt=1<<(Z=G))-1,g===1&&852<xt||g===2&&592<xt)return 1;for(;;){for(q=L-ht,st=C[tt]<V?(X=0,C[tt]):C[tt]>V?(X=kt[zt+C[tt]],B[at+C[tt]]):(X=96,0),k=1<<L-ht,E=A=1<<Z;z[F+(M>>ht)+(A-=k)]=q<<24|X<<16|st|0,A!==0;);for(k=1<<L-1;M&k;)k>>=1;if(k!==0?(M&=k-1,M+=k):M=0,tt++,--nt[L]==0){if(L===et)break;L=y[T+C[tt]]}if(G<L&&(M&D)!==O){for(ht===0&&(ht=G),F+=E,rt=1<<(Z=L-ht);Z+ht<et&&!((rt-=nt[Z+ht])<=0);)Z++,rt<<=1;if(xt+=1<<Z,g===1&&852<xt||g===2&&592<xt)return 1;z[O=M&D]=G<<24|Z<<16|F-v|0}}return M!==0&&(z[F+M]=L-ht<<24|64<<16|0),_.bits=G,0}},{"../utils/common":41}],51:[function(r,o,c){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,o,c){var d=r("../utils/common"),f=0,h=1;function m(R){for(var H=R.length;0<=--H;)R[H]=0}var p=0,g=29,y=256,T=y+1+g,S=30,z=19,v=2*T+1,C=15,_=16,k=7,A=256,O=16,D=17,F=18,V=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],X=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],st=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ft=new Array(2*(T+2));m(ft);var L=new Array(2*S);m(L);var tt=new Array(512);m(tt);var E=new Array(256);m(E);var et=new Array(g);m(et);var G,Z,ht,rt=new Array(S);function xt(R,H,ut,mt,$){this.static_tree=R,this.extra_bits=H,this.extra_base=ut,this.elems=mt,this.max_length=$,this.has_stree=R&&R.length}function M(R,H){this.dyn_tree=R,this.max_code=0,this.stat_desc=H}function B(R){return R<256?tt[R]:tt[256+(R>>>7)]}function at(R,H){R.pending_buf[R.pending++]=255&H,R.pending_buf[R.pending++]=H>>>8&255}function nt(R,H,ut){R.bi_valid>_-ut?(R.bi_buf|=H<<R.bi_valid&65535,at(R,R.bi_buf),R.bi_buf=H>>_-R.bi_valid,R.bi_valid+=ut-_):(R.bi_buf|=H<<R.bi_valid&65535,R.bi_valid+=ut)}function lt(R,H,ut){nt(R,ut[2*H],ut[2*H+1])}function kt(R,H){for(var ut=0;ut|=1&R,R>>>=1,ut<<=1,0<--H;);return ut>>>1}function zt(R,H,ut){var mt,$,yt=new Array(C+1),St=0;for(mt=1;mt<=C;mt++)yt[mt]=St=St+ut[mt-1]<<1;for($=0;$<=H;$++){var bt=R[2*$+1];bt!==0&&(R[2*$]=kt(yt[bt]++,bt))}}function vt(R){var H;for(H=0;H<T;H++)R.dyn_ltree[2*H]=0;for(H=0;H<S;H++)R.dyn_dtree[2*H]=0;for(H=0;H<z;H++)R.bl_tree[2*H]=0;R.dyn_ltree[2*A]=1,R.opt_len=R.static_len=0,R.last_lit=R.matches=0}function Tt(R){8<R.bi_valid?at(R,R.bi_buf):0<R.bi_valid&&(R.pending_buf[R.pending++]=R.bi_buf),R.bi_buf=0,R.bi_valid=0}function gt(R,H,ut,mt){var $=2*H,yt=2*ut;return R[$]<R[yt]||R[$]===R[yt]&&mt[H]<=mt[ut]}function _t(R,H,ut){for(var mt=R.heap[ut],$=ut<<1;$<=R.heap_len&&($<R.heap_len&&gt(H,R.heap[$+1],R.heap[$],R.depth)&&$++,!gt(H,mt,R.heap[$],R.depth));)R.heap[ut]=R.heap[$],ut=$,$<<=1;R.heap[ut]=mt}function wt(R,H,ut){var mt,$,yt,St,bt=0;if(R.last_lit!==0)for(;mt=R.pending_buf[R.d_buf+2*bt]<<8|R.pending_buf[R.d_buf+2*bt+1],$=R.pending_buf[R.l_buf+bt],bt++,mt===0?lt(R,$,H):(lt(R,(yt=E[$])+y+1,H),(St=V[yt])!==0&&nt(R,$-=et[yt],St),lt(R,yt=B(--mt),ut),(St=q[yt])!==0&&nt(R,mt-=rt[yt],St)),bt<R.last_lit;);lt(R,A,H)}function Ct(R,H){var ut,mt,$,yt=H.dyn_tree,St=H.stat_desc.static_tree,bt=H.stat_desc.has_stree,Et=H.stat_desc.elems,qt=-1;for(R.heap_len=0,R.heap_max=v,ut=0;ut<Et;ut++)yt[2*ut]!==0?(R.heap[++R.heap_len]=qt=ut,R.depth[ut]=0):yt[2*ut+1]=0;for(;R.heap_len<2;)yt[2*($=R.heap[++R.heap_len]=qt<2?++qt:0)]=1,R.depth[$]=0,R.opt_len--,bt&&(R.static_len-=St[2*$+1]);for(H.max_code=qt,ut=R.heap_len>>1;1<=ut;ut--)_t(R,yt,ut);for($=Et;ut=R.heap[1],R.heap[1]=R.heap[R.heap_len--],_t(R,yt,1),mt=R.heap[1],R.heap[--R.heap_max]=ut,R.heap[--R.heap_max]=mt,yt[2*$]=yt[2*ut]+yt[2*mt],R.depth[$]=(R.depth[ut]>=R.depth[mt]?R.depth[ut]:R.depth[mt])+1,yt[2*ut+1]=yt[2*mt+1]=$,R.heap[1]=$++,_t(R,yt,1),2<=R.heap_len;);R.heap[--R.heap_max]=R.heap[1],(function(Lt,De){var $n,We,Ri,Jt,ge,Je,ae=De.dyn_tree,hr=De.max_code,tl=De.stat_desc.static_tree,el=De.stat_desc.has_stree,la=De.stat_desc.extra_bits,Di=De.stat_desc.extra_base,xn=De.stat_desc.max_length,tn=0;for(Jt=0;Jt<=C;Jt++)Lt.bl_count[Jt]=0;for(ae[2*Lt.heap[Lt.heap_max]+1]=0,$n=Lt.heap_max+1;$n<v;$n++)xn<(Jt=ae[2*ae[2*(We=Lt.heap[$n])+1]+1]+1)&&(Jt=xn,tn++),ae[2*We+1]=Jt,hr<We||(Lt.bl_count[Jt]++,ge=0,Di<=We&&(ge=la[We-Di]),Je=ae[2*We],Lt.opt_len+=Je*(Jt+ge),el&&(Lt.static_len+=Je*(tl[2*We+1]+ge)));if(tn!==0){do{for(Jt=xn-1;Lt.bl_count[Jt]===0;)Jt--;Lt.bl_count[Jt]--,Lt.bl_count[Jt+1]+=2,Lt.bl_count[xn]--,tn-=2}while(0<tn);for(Jt=xn;Jt!==0;Jt--)for(We=Lt.bl_count[Jt];We!==0;)hr<(Ri=Lt.heap[--$n])||(ae[2*Ri+1]!==Jt&&(Lt.opt_len+=(Jt-ae[2*Ri+1])*ae[2*Ri],ae[2*Ri+1]=Jt),We--)}})(R,H),zt(yt,qt,R.bl_count)}function x(R,H,ut){var mt,$,yt=-1,St=H[1],bt=0,Et=7,qt=4;for(St===0&&(Et=138,qt=3),H[2*(ut+1)+1]=65535,mt=0;mt<=ut;mt++)$=St,St=H[2*(mt+1)+1],++bt<Et&&$===St||(bt<qt?R.bl_tree[2*$]+=bt:$!==0?($!==yt&&R.bl_tree[2*$]++,R.bl_tree[2*O]++):bt<=10?R.bl_tree[2*D]++:R.bl_tree[2*F]++,yt=$,qt=(bt=0)===St?(Et=138,3):$===St?(Et=6,3):(Et=7,4))}function Q(R,H,ut){var mt,$,yt=-1,St=H[1],bt=0,Et=7,qt=4;for(St===0&&(Et=138,qt=3),mt=0;mt<=ut;mt++)if($=St,St=H[2*(mt+1)+1],!(++bt<Et&&$===St)){if(bt<qt)for(;lt(R,$,R.bl_tree),--bt!=0;);else $!==0?($!==yt&&(lt(R,$,R.bl_tree),bt--),lt(R,O,R.bl_tree),nt(R,bt-3,2)):bt<=10?(lt(R,D,R.bl_tree),nt(R,bt-3,3)):(lt(R,F,R.bl_tree),nt(R,bt-11,7));yt=$,qt=(bt=0)===St?(Et=138,3):$===St?(Et=6,3):(Et=7,4)}}m(rt);var U=!1;function N(R,H,ut,mt){nt(R,(p<<1)+(mt?1:0),3),(function($,yt,St,bt){Tt($),at($,St),at($,~St),d.arraySet($.pending_buf,$.window,yt,St,$.pending),$.pending+=St})(R,H,ut)}c._tr_init=function(R){U||((function(){var H,ut,mt,$,yt,St=new Array(C+1);for($=mt=0;$<g-1;$++)for(et[$]=mt,H=0;H<1<<V[$];H++)E[mt++]=$;for(E[mt-1]=$,$=yt=0;$<16;$++)for(rt[$]=yt,H=0;H<1<<q[$];H++)tt[yt++]=$;for(yt>>=7;$<S;$++)for(rt[$]=yt<<7,H=0;H<1<<q[$]-7;H++)tt[256+yt++]=$;for(ut=0;ut<=C;ut++)St[ut]=0;for(H=0;H<=143;)ft[2*H+1]=8,H++,St[8]++;for(;H<=255;)ft[2*H+1]=9,H++,St[9]++;for(;H<=279;)ft[2*H+1]=7,H++,St[7]++;for(;H<=287;)ft[2*H+1]=8,H++,St[8]++;for(zt(ft,T+1,St),H=0;H<S;H++)L[2*H+1]=5,L[2*H]=kt(H,5);G=new xt(ft,V,y+1,T,C),Z=new xt(L,q,0,S,C),ht=new xt(new Array(0),X,0,z,k)})(),U=!0),R.l_desc=new M(R.dyn_ltree,G),R.d_desc=new M(R.dyn_dtree,Z),R.bl_desc=new M(R.bl_tree,ht),R.bi_buf=0,R.bi_valid=0,vt(R)},c._tr_stored_block=N,c._tr_flush_block=function(R,H,ut,mt){var $,yt,St=0;0<R.level?(R.strm.data_type===2&&(R.strm.data_type=(function(bt){var Et,qt=4093624447;for(Et=0;Et<=31;Et++,qt>>>=1)if(1&qt&&bt.dyn_ltree[2*Et]!==0)return f;if(bt.dyn_ltree[18]!==0||bt.dyn_ltree[20]!==0||bt.dyn_ltree[26]!==0)return h;for(Et=32;Et<y;Et++)if(bt.dyn_ltree[2*Et]!==0)return h;return f})(R)),Ct(R,R.l_desc),Ct(R,R.d_desc),St=(function(bt){var Et;for(x(bt,bt.dyn_ltree,bt.l_desc.max_code),x(bt,bt.dyn_dtree,bt.d_desc.max_code),Ct(bt,bt.bl_desc),Et=z-1;3<=Et&&bt.bl_tree[2*st[Et]+1]===0;Et--);return bt.opt_len+=3*(Et+1)+5+5+4,Et})(R),$=R.opt_len+3+7>>>3,(yt=R.static_len+3+7>>>3)<=$&&($=yt)):$=yt=ut+5,ut+4<=$&&H!==-1?N(R,H,ut,mt):R.strategy===4||yt===$?(nt(R,2+(mt?1:0),3),wt(R,ft,L)):(nt(R,4+(mt?1:0),3),(function(bt,Et,qt,Lt){var De;for(nt(bt,Et-257,5),nt(bt,qt-1,5),nt(bt,Lt-4,4),De=0;De<Lt;De++)nt(bt,bt.bl_tree[2*st[De]+1],3);Q(bt,bt.dyn_ltree,Et-1),Q(bt,bt.dyn_dtree,qt-1)})(R,R.l_desc.max_code+1,R.d_desc.max_code+1,St+1),wt(R,R.dyn_ltree,R.dyn_dtree)),vt(R),mt&&Tt(R)},c._tr_tally=function(R,H,ut){return R.pending_buf[R.d_buf+2*R.last_lit]=H>>>8&255,R.pending_buf[R.d_buf+2*R.last_lit+1]=255&H,R.pending_buf[R.l_buf+R.last_lit]=255&ut,R.last_lit++,H===0?R.dyn_ltree[2*ut]++:(R.matches++,H--,R.dyn_ltree[2*(E[ut]+y+1)]++,R.dyn_dtree[2*B(H)]++),R.last_lit===R.lit_bufsize-1},c._tr_align=function(R){nt(R,2,3),lt(R,A,ft),(function(H){H.bi_valid===16?(at(H,H.bi_buf),H.bi_buf=0,H.bi_valid=0):8<=H.bi_valid&&(H.pending_buf[H.pending++]=255&H.bi_buf,H.bi_buf>>=8,H.bi_valid-=8)})(R)}},{"../utils/common":41}],53:[function(r,o,c){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,o,c){(function(d){(function(f,h){if(!f.setImmediate){var m,p,g,y,T=1,S={},z=!1,v=f.document,C=Object.getPrototypeOf&&Object.getPrototypeOf(f);C=C&&C.setTimeout?C:f,m={}.toString.call(f.process)==="[object process]"?function(O){process.nextTick(function(){k(O)})}:(function(){if(f.postMessage&&!f.importScripts){var O=!0,D=f.onmessage;return f.onmessage=function(){O=!1},f.postMessage("","*"),f.onmessage=D,O}})()?(y="setImmediate$"+Math.random()+"$",f.addEventListener?f.addEventListener("message",A,!1):f.attachEvent("onmessage",A),function(O){f.postMessage(y+O,"*")}):f.MessageChannel?((g=new MessageChannel).port1.onmessage=function(O){k(O.data)},function(O){g.port2.postMessage(O)}):v&&"onreadystatechange"in v.createElement("script")?(p=v.documentElement,function(O){var D=v.createElement("script");D.onreadystatechange=function(){k(O),D.onreadystatechange=null,p.removeChild(D),D=null},p.appendChild(D)}):function(O){setTimeout(k,0,O)},C.setImmediate=function(O){typeof O!="function"&&(O=new Function(""+O));for(var D=new Array(arguments.length-1),F=0;F<D.length;F++)D[F]=arguments[F+1];var V={callback:O,args:D};return S[T]=V,m(T),T++},C.clearImmediate=_}function _(O){delete S[O]}function k(O){if(z)setTimeout(k,0,O);else{var D=S[O];if(D){z=!0;try{(function(F){var V=F.callback,q=F.args;switch(q.length){case 0:V();break;case 1:V(q[0]);break;case 2:V(q[0],q[1]);break;case 3:V(q[0],q[1],q[2]);break;default:V.apply(h,q)}})(D)}finally{_(O),z=!1}}}}function A(O){O.source===f&&typeof O.data=="string"&&O.data.indexOf(y)===0&&k(+O.data.slice(y.length))}})(typeof self>"u"?d===void 0?this:d:self)}).call(this,typeof Eo<"u"?Eo:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Ou)),Ou.exports}var YT=GT();const ZT=rf(YT);var _i=(a=>(a.INVALID_FILE="INVALID_FILE",a.MISSING_MANIFEST="MISSING_MANIFEST",a.CORRUPTION="CORRUPTION",a.DATABASE_ERROR="DATABASE_ERROR",a.UNKNOWN="UNKNOWN",a))(_i||{});class wi extends Error{constructor(i,r){super(r),this.type=i,this.name="IngestionError"}}const Go=class Go{static async findCover(i,r){var o,c;try{const d=i.replace(/\(.*\)/,"").trim(),f=r.replace(/\(.*\)/,"").trim(),h=encodeURIComponent(`${d} ${f}`),m=new AbortController,p=setTimeout(()=>m.abort(),2500),g=await fetch(`${this.SEARCH_URL}?q=${h}&limit=1&fields=cover_i`,{signal:m.signal});if(clearTimeout(p),!g.ok)return;const T=(c=(o=(await g.json()).docs)==null?void 0:o[0])==null?void 0:c.cover_i;if(T)return`${this.IMAGE_URL}/${T}-L.jpg`}catch{}}};Go.SEARCH_URL="https://openlibrary.org/search.json",Go.IMAGE_URL="https://covers.openlibrary.org/b/id";let qo=Go;class Ee{constructor(){this.dbName="FlowLibraryDB",this.version=2,this.db=null}static getInstance(){return Ee.instance||(Ee.instance=new Ee),Ee.instance}async init(){if(!this.db)return new Promise((i,r)=>{const o=indexedDB.open(this.dbName,this.version);o.onerror=()=>r(o.error),o.onupgradeneeded=c=>{const d=c.target.result;d.objectStoreNames.contains("books")||d.createObjectStore("books",{keyPath:"id"}),d.objectStoreNames.contains("metadata")||d.createObjectStore("metadata",{keyPath:"id"}),d.objectStoreNames.contains("sources")||d.createObjectStore("sources")},o.onsuccess=c=>{this.db=c.target.result,i()}})}async saveBook(i){await this.init();const{chapters:r,...o}=i;await this.put("books",i),await this.put("metadata",o)}async saveSource(i,r){await this.init(),await this.put("sources",r,i)}async getSource(i){return await this.init(),this.get("sources",i)}async deleteBook(i){await this.init(),await this.delete("books",i),await this.delete("metadata",i),await this.delete("sources",i)}async getAllMetadata(){return await this.init(),this.getAll("metadata")}async getFullBook(i){return await this.init(),this.get("books",i)}async put(i,r,o){return new Promise((c,d)=>{const h=this.db.transaction(i,"readwrite").objectStore(i),m=o?h.put(r,o):h.put(r);m.onsuccess=()=>c(),m.onerror=()=>d(m.error)})}async get(i,r){return new Promise((o,c)=>{const h=this.db.transaction(i,"readonly").objectStore(i).get(r);h.onsuccess=()=>o(h.result),h.onerror=()=>c(h.error)})}async getAll(i){return new Promise((r,o)=>{const f=this.db.transaction(i,"readonly").objectStore(i).getAll();f.onsuccess=()=>r(f.result),f.onerror=()=>o(f.error)})}async delete(i,r){return new Promise((o,c)=>{const h=this.db.transaction(i,"readwrite").objectStore(i).delete(r);h.onsuccess=()=>o(),h.onerror=()=>c(h.error)})}}class Zn{constructor(){}static getInstance(){return Zn.instance||(Zn.instance=new Zn),Zn.instance}async ingest(i){try{console.log(`[Ingestion] Starting import of: ${i.name} (${(i.size/1024).toFixed(1)} KB)`),this.validateFile(i);let r;try{r=await i.arrayBuffer(),console.log(`[Ingestion] File loaded into memory: ${r.byteLength} bytes`)}catch(h){throw console.error("[Ingestion] Failed to read file:",h),new wi(_i.UNKNOWN,`Failed to read file: ${h instanceof Error?h.message:"Unknown error"}`)}const o=await this.unzipFromBuffer(r);console.log("[Ingestion] ZIP extracted, files:",Object.keys(o.files).length);const c=await this.parseContainer(o);console.log(`[Ingestion] OPF path: ${c}`);const d=await this.parseOPF(o,c);console.log(`[Ingestion] OPF parsed - Title: "${d.metadata.title}", Spine items: ${d.spine.length}`);const f=await this.constructBookFromZip(o,d);return console.log(`[Ingestion] Book constructed with ${f.chapters.length} chapters`),f.coverUrl||(f.coverUrl=await qo.findCover(f.title,f.author)),f.sourceType="epub",await this.persistBook(f,r),console.log("[Ingestion] Book persisted to storage"),f}catch(r){throw console.error("[Ingestion] Import failed:",r),r instanceof wi?r:new wi(_i.UNKNOWN,r.message||"Unknown import error")}}async ingestFromText(i,r,o,c,d){const f=crypto.randomUUID(),h=this.heuristicChaptering(o),m={id:f,title:i,author:r,coverUrl:d,tintColorHex:c,lastOpened:new Date,isFinished:!1,bookmarkProgress:0,chapters:h,sourceType:"text"};m.coverUrl||(m.coverUrl=await qo.findCover(i,r));const g=new TextEncoder().encode(o).buffer;return await this.persistBook(m,g),m}async persistBook(i,r){const o=Ee.getInstance();await o.saveBook(i),await o.saveSource(i.id,r)}heuristicChaptering(i){let r=i;const o=r.indexOf("*** START OF"),c=r.indexOf("*** END OF");if(o!==-1){const y=r.substring(o),T=y.indexOf(`
`,y.indexOf(`
`)+1);r=y.substring(T)}c!==-1&&(r=r.substring(0,c));const d=r.split(/\n\s*\n/),f=[];let h=[],m="Preface",p=1;const g=400;for(let y=0;y<d.length;y++){const S=d[y].replace(/\s+/g," ").trim();if(!S)continue;const z=/^(chapter|book|part|letter|prologue|epilogue|foreword|preface|stave|volume|vol\.)\s*([ivxlcdm\d]+|the\s+\w+)?/i.test(S),v=/^[IVXLCDM]+\.?$/.test(S),C=/^\d+\.?$/.test(S);if((z||v&&S.length<10||C&&S.length<5)&&S.length<100)if(Ja(h.join(" "))>50||f.length===0){this.flushChapter(f,h,m,p++),h=[],m=S;continue}else{m=S;continue}h.push(S),h.length>=g&&(this.flushChapter(f,h,m,p++),h=[],m=`Part ${p}`)}return h.length>0&&this.flushChapter(f,h,m,p++),f}flushChapter(i,r,o,c){const d=r.map(m=>`<p>${m}</p>`).join(`
`),f=Ja(d);let h=o.trim();i.push({id:crypto.randomUUID(),title:h,content:d,sortOrder:i.length,wordCount:f,estimatedReadTime:Math.ceil(f/250)})}async constructBookFromZip(i,r){const o=crypto.randomUUID();let c;if(r.coverPath){const h=i.file(r.coverPath);if(h){const m=await h.async("blob");c=URL.createObjectURL(m)}}const d=[],f=20;console.log(`[Ingestion] Processing ${r.spine.length} spine items for "${r.metadata.title}"`);for(let h=0;h<r.spine.length;h+=f){const m=r.spine.slice(h,h+f);(await Promise.all(m.map((g,y)=>this.processEpubChapter(i,g,h+y)))).forEach(g=>{g&&d.push(g)}),h+f<r.spine.length&&await new Promise(g=>setTimeout(g,0))}if(console.log(`[Ingestion] Extracted ${d.length} chapters from "${r.metadata.title}"`),d.length===0&&r.spine.length>0){console.warn("[Ingestion] No chapters extracted, trying without front-matter filter...");for(let h=0;h<r.spine.length;h++){const m=await this.processEpubChapterPermissive(i,r.spine[h],h);m&&d.push(m)}console.log(`[Ingestion] Permissive mode extracted ${d.length} chapters`)}return{id:o,title:r.metadata.title,author:r.metadata.author,coverUrl:c,lastOpened:new Date,isFinished:!1,bookmarkProgress:0,chapters:d}}async processEpubChapterPermissive(i,r,o){const c=i.file(r);if(!c)return console.warn(`[Ingestion] File not found: ${r}`),null;const d=await c.async("uint8array"),f=this.cleanTextAggressive(d),h=f.replace(/<[^>]+>/g," ").trim(),m=Ja(h);return m<3?null:{id:crypto.randomUUID(),title:`Section ${o+1}`,content:f,sortOrder:o,wordCount:m,estimatedReadTime:Math.ceil(m/250)}}async processEpubChapter(i,r,o){const c=i.file(r);if(!c)return null;const d=await c.async("uint8array"),f=this.cleanTextAggressive(d),h=f.replace(/<[^>]+>/g," ").trim(),m=Ja(h);return m<10||o<10&&this.isLikelyFrontMatter(h,m)?null:{id:crypto.randomUUID(),title:`Chapter ${o+1}`,content:f,sortOrder:o,wordCount:m,estimatedReadTime:Math.ceil(m/250)}}cleanTextAggressive(i){let r="";try{r=new TextDecoder("utf-8",{fatal:!0}).decode(i)}catch{r=new TextDecoder("windows-1252").decode(i)}return r=r.replace(/<(script|style|head)[^>]*>[\s\S]*?<\/\1>/gi,""),r=r.replace(/<br\s*\/?>/gi,"___BR___"),r=r.replace(/<\/(p|div|h\d|li|blockquote)>/gi,"___P___"),r=r.replace(/<[^>]+>/g,""),r=this.decodeEntities(r),r=r.replace(/\s+/g," "),r=r.replace(/___BR___/g,`
`),r=r.replace(/___P___/g,`

`),r.split(`

`).map(o=>o.trim()).filter(o=>o.length>0&&!/^\d+$/.test(o)).map(o=>`<p>${o}</p>`).join(`
`)}isLikelyFrontMatter(i,r){if(r>600)return!1;const o=i.toLowerCase().slice(0,1e3);return r<200&&/copyright|rights reserved|isbn|published by|table of contents|acknowledgments/.test(o)}decodeEntities(i){const r=document.createElement("textarea");return r.innerHTML=i,r.value}validateFile(i){if(!i.name.toLowerCase().endsWith(".epub")||i.size===0)throw new wi(_i.INVALID_FILE,"Invalid EPUB file.")}async unzipFromBuffer(i){try{const r=new ZT;console.log(`[Ingestion] Loading ZIP from ArrayBuffer (${i.byteLength} bytes)...`);const o=await r.loadAsync(i);return console.log("[Ingestion] ZIP loaded successfully"),o}catch(r){throw console.error("[Ingestion] ZIP extraction failed:",r),new wi(_i.CORRUPTION,`Corrupted archive: ${r instanceof Error?r.message:"Unknown error"}`)}}async unzip(i){const r=await i.arrayBuffer();return this.unzipFromBuffer(r)}async parseContainer(i){const r=i.file("META-INF/container.xml");if(!r)throw new wi(_i.MISSING_MANIFEST,"Missing container.xml");const c=(await r.async("string")).match(/full-path=["']([^"']+)["']/i);if(!c)throw new wi(_i.MISSING_MANIFEST,"Invalid container.xml");return c[1]}async parseOPF(i,r){var v,C,_,k,A;const o=i.file(r);if(!o)throw new wi(_i.MISSING_MANIFEST,"Missing OPF");const c=await o.async("string"),d=((C=(v=c.match(/<dc:title[^>]*>(.*?)<\/dc:title>/is))==null?void 0:v[1])==null?void 0:C.trim())||"Unknown",f=((k=(_=c.match(/<dc:creator[^>]*>(.*?)<\/dc:creator>/is))==null?void 0:_[1])==null?void 0:k.trim())||"Unknown",h=new Map,m=/<item\s+([^>]+?)\s*\/?>/gi;let p;for(;(p=m.exec(c))!==null;){const O=p[1],D=O.match(/id=["']([^"']+)["']/i),F=O.match(/href=["']([^"']+)["']/i);D&&F&&h.set(D[1],F[1])}console.log(`[Ingestion] Manifest has ${h.size} items`);const g=[],y=/<itemref\s+[^>]*idref=["']([^"']+)["'][^>]*\/?>/gi;let T;for(;(T=y.exec(c))!==null;){const O=T[1],D=h.get(O);D&&g.push(this.resolvePath(r,D))}if(console.log(`[Ingestion] Spine has ${g.length} items`),g.length===0){console.warn("[Ingestion] Empty spine, falling back to manifest HTML files");for(const[O,D]of h)/\.(x?html?|htm)$/i.test(D)&&g.push(this.resolvePath(r,D));g.sort(),console.log(`[Ingestion] Fallback found ${g.length} HTML files`)}const S=(A=c.match(/<meta\s+name=["']cover["']\s+content=["']([^"']+)["']/i))==null?void 0:A[1];let z=S?h.get(S):void 0;return z&&(z=this.resolvePath(r,z)),{metadata:{title:d,author:f},spine:g,coverPath:z}}resolvePath(i,r){return(i.substring(0,i.lastIndexOf("/")+1)+r).replace(/\/+/g,"/")}}class Ne{static pulse(i){if(typeof navigator>"u"||!navigator.vibrate)return;const r=i.punctuation||"";if(/[.?!]/.test(r)){navigator.vibrate(15);return}if(/[,;:]/.test(r)){navigator.vibrate(5);return}}static impactMedium(){typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(20)}static impactLight(){typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(5)}static selectionChanged(){typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(3)}}const XT=()=>{const a=aa.getInstance(),i=a.mode,r=Re(),o=d=>{a.setMode(d)},c=["Modern","Sepia","Night","OLED"];return w.jsxs("div",{className:"flex flex-col gap-3",children:[w.jsx("h3",{className:"text-[11px] font-medium opacity-50 lowercase",style:{color:r.secondaryText},children:"appearance"}),w.jsx("div",{className:"grid grid-cols-4 gap-2",children:c.map(d=>{const f=Xa[d],h=i===d;return w.jsxs("button",{onClick:()=>o(d),className:"group relative flex flex-col items-center gap-1.5 outline-none",children:[w.jsxs("div",{className:`relative w-full aspect-[4/5] rounded-xl border transition-all duration-200 ease-out overflow-hidden ${h?"ring-2 ring-offset-1 scale-[1.03]":"hover:scale-[1.02]"}`,style:{backgroundColor:f.background,borderColor:h?"transparent":"rgba(128,128,128,0.15)",ringColor:r.accent},children:[w.jsxs("div",{className:"absolute inset-3 flex flex-col items-center justify-center",children:[w.jsx("div",{className:"font-serif text-xl font-semibold",style:{color:f.primaryText},children:"Aa"}),w.jsx("div",{className:"w-full h-0.5 rounded-full mt-2 opacity-15",style:{backgroundColor:f.primaryText}}),w.jsx("div",{className:"w-2/3 h-0.5 rounded-full mt-1 opacity-15",style:{backgroundColor:f.primaryText}})]}),h&&w.jsx("div",{className:"absolute bottom-1.5 right-1.5 w-3.5 h-3.5 rounded-full flex items-center justify-center",style:{backgroundColor:r.accent},children:w.jsx("svg",{width:"8",height:"6",viewBox:"0 0 10 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{d:"M1 4L3.5 6.5L9 1",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),w.jsx("span",{className:"text-[9px] font-medium transition-colors lowercase",style:{color:h?r.accent:r.secondaryText,opacity:h?1:.6},children:d})]},d)})}),w.jsxs("div",{className:"mt-1 flex items-center justify-between p-3 rounded-xl border",style:{backgroundColor:r.surface,borderColor:r.borderColor},children:[w.jsx("span",{className:"text-xs font-medium lowercase",style:{color:r.primaryText},children:"follow system"}),w.jsx("button",{onClick:()=>o(i==="System"?"Modern":"System"),className:"relative w-10 h-5 rounded-full transition-colors duration-200 focus:outline-none",style:{backgroundColor:i==="System"?r.accent:r.borderColor},children:w.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white w-4 h-4 rounded-full shadow-sm transition-transform duration-200 ${i==="System"?"translate-x-5":"translate-x-0"}`})})]})]})},KT=()=>{const{settings:a,updateSettings:i}=is(),r=Re(),[o,c]=I.useState(a.rsvpSpeed),d=I.useRef(null);I.useEffect(()=>{Math.abs(a.rsvpSpeed-o)>10&&!d.current&&c(a.rsvpSpeed)},[a.rsvpSpeed]);const f=m=>{const p=Math.max(100,Math.min(1e3,m));c(p),d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{i({rsvpSpeed:p,hasCustomSpeed:!0}),d.current=null},100)},h=[{name:"Serif",label:"fancy",val:"New York"},{name:"Sans",label:"clean",val:"SF Pro"}];return w.jsxs("div",{className:"flex flex-col gap-6 pt-2",children:[w.jsxs("div",{className:"space-y-3",children:[w.jsxs("h3",{className:"text-[11px] font-medium opacity-50 lowercase flex items-center gap-1.5",style:{color:r.secondaryText},children:[w.jsx(HT,{size:12})," pace"]}),w.jsxs("div",{className:"rounded-2xl p-4 border",style:{backgroundColor:r.surface,borderColor:r.borderColor},children:[w.jsxs("div",{className:"flex items-center justify-between mb-3",children:[w.jsx("span",{className:"text-sm font-medium lowercase",style:{color:r.primaryText},children:"speed (wpm)"}),w.jsx("span",{className:"text-xl font-semibold tracking-tight tabular-nums",style:{color:r.primaryText},children:o})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("button",{onClick:()=>f(o-25),className:"w-10 h-10 rounded-xl flex items-center justify-center active:scale-95 transition-all",style:{backgroundColor:r.borderColor,color:r.primaryText},children:w.jsx(Ly,{size:16})}),w.jsx("div",{className:"flex-1 relative h-8 flex items-center",children:w.jsx("input",{type:"range",min:100,max:1e3,step:25,value:o,onChange:m=>f(parseInt(m.target.value)),className:"w-full h-1.5 rounded-full appearance-none cursor-pointer focus:outline-none",style:{backgroundColor:r.borderColor,accentColor:r.accent}})}),w.jsx("button",{onClick:()=>f(o+25),className:"w-10 h-10 rounded-xl flex items-center justify-center active:scale-95 transition-all",style:{backgroundColor:r.borderColor,color:r.primaryText},children:w.jsx(Vf,{size:16})})]})]})]}),w.jsx("div",{className:"w-full h-px",style:{backgroundColor:r.borderColor}}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("h3",{className:"text-[11px] font-medium opacity-50 lowercase flex items-center gap-1.5",style:{color:r.secondaryText},children:[w.jsx(ar,{size:12})," typography"]}),w.jsx("div",{className:"grid grid-cols-2 gap-3",children:h.map(m=>w.jsxs("button",{onClick:()=>i({fontFamily:m.val}),className:`flex flex-col items-center justify-center gap-1.5 p-5 rounded-2xl border transition-all duration-200 ${a.fontFamily===m.val?"scale-[1.02]":"hover:scale-[1.01]"}`,style:{backgroundColor:a.fontFamily===m.val?r.primaryText:r.surface,borderColor:a.fontFamily===m.val?r.primaryText:r.borderColor,color:a.fontFamily===m.val?r.surface:r.primaryText},children:[w.jsx("span",{className:"text-2xl font-semibold",style:{fontFamily:QT(m.val)},children:"Aa"}),w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsx("span",{className:"text-sm font-medium",children:m.name}),w.jsx("span",{className:"text-[9px] font-medium opacity-50",style:{color:a.fontFamily===m.val?r.surface:r.secondaryText},children:m.label})]})]},m.val))}),w.jsxs("div",{className:"rounded-2xl p-4 border space-y-5 mt-3",style:{backgroundColor:r.surface,borderColor:r.borderColor},children:[w.jsx(Bu,{label:"size",value:a.fontSize,min:14,max:40,onChange:m=>i({fontSize:m}),theme:r}),w.jsx(Bu,{label:"room",value:a.lineHeight,min:1,max:2.2,step:.1,onChange:m=>i({lineHeight:m}),theme:r}),w.jsx(Bu,{label:"gaps",value:a.paragraphSpacing,min:0,max:40,onChange:m=>i({paragraphSpacing:m}),theme:r})]})]})]})},Bu=({label:a,value:i,min:r,max:o,step:c=1,onChange:d,theme:f})=>w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("span",{className:"text-xs font-medium w-12 lowercase",style:{color:f.secondaryText},children:a}),w.jsx("input",{type:"range",min:r,max:o,step:c,value:i,onChange:h=>d(parseFloat(h.target.value)),className:"flex-1 h-1 rounded-full appearance-none cursor-pointer",style:{backgroundColor:f.borderColor,accentColor:f.accent}}),w.jsx("span",{className:"text-xs font-medium w-8 text-right tabular-nums",style:{color:f.primaryText},children:i.toFixed(c<1?1:0)})]});function QT(a){return a==="New York"?"serif":a==="SF Pro"?"sans-serif":"serif"}const $T="570686176836-dtbdhnverff6qo63tfbgvmrts2oadqmp.apps.googleusercontent.com",WT="https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/drive.appdata";class sa{constructor(){this.accessToken=null,this.tokenExpiry=0,this.libraryFolderId=null}static getInstance(){return sa.instance||(sa.instance=new sa),sa.instance}get isAuthenticated(){return!!this.accessToken&&Date.now()<this.tokenExpiry}async init(){window.google&&(this.tokenClient=window.google.accounts.oauth2.initTokenClient({client_id:$T,scope:WT,callback:i=>{if(i.error!==void 0)throw i;this.accessToken=i.access_token,this.tokenExpiry=Date.now()+Number(i.expires_in)*1e3-6e4}}))}async signIn(){return this.tokenClient||await this.init(),new Promise(i=>{this.tokenClient.callback=r=>{r.access_token&&(this.accessToken=r.access_token,this.tokenExpiry=Date.now()+Number(r.expires_in)*1e3-6e4,i())},this.accessToken&&Date.now()<this.tokenExpiry?i():this.tokenClient.requestAccessToken({prompt:"consent"})})}async fetch(i,r={}){this.isAuthenticated||await this.signIn();const o={Authorization:`Bearer ${this.accessToken}`,...r.headers||{}};r.body instanceof FormData?delete o["Content-Type"]:o["Content-Type"]||(o["Content-Type"]="application/json");const c=async f=>fetch(i,{...r,headers:f});let d=await c(o);return d.status===401&&(await this.signIn(),o.Authorization=`Bearer ${this.accessToken}`,d=await c(o)),!d.ok&&d.status!==404&&console.warn(`[DriveService] Request failed: ${i} (${d.status})`),d}async getUserInfo(){return(await(await this.fetch("https://www.googleapis.com/oauth2/v3/userinfo")).json()).email}async ensureLibraryFolder(){if(this.libraryFolderId)return this.libraryFolderId;const o=await(await this.fetch(`https://www.googleapis.com/drive/v3/files?q=${encodeURIComponent("mimeType='application/vnd.google-apps.folder' and name='Flow Library' and trashed=false")}`)).json();if(o.files&&o.files.length>0)return this.libraryFolderId=o.files[0].id,this.libraryFolderId;const d=await(await this.fetch("https://www.googleapis.com/drive/v3/files",{method:"POST",body:JSON.stringify({name:"Flow Library",mimeType:"application/vnd.google-apps.folder"})})).json();return this.libraryFolderId=d.id,this.libraryFolderId}async uploadFile(i,r){const o=await this.ensureLibraryFolder(),c={name:i,parents:[o]},d=new FormData;return d.append("metadata",new Blob([JSON.stringify(c)],{type:"application/json"})),d.append("file",r),(await(await this.fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",body:d})).json()).id}async listBooks(){const r=`'${await this.ensureLibraryFolder()}' in parents and mimeType!='application/vnd.google-apps.folder' and trashed=false`;return(await(await this.fetch(`https://www.googleapis.com/drive/v3/files?q=${encodeURIComponent(r)}&fields=files(id, name, modifiedTime, size, mimeType)`)).json()).files||[]}async downloadFile(i){return(await this.fetch(`https://www.googleapis.com/drive/v3/files/${i}?alt=media`)).arrayBuffer()}async getSyncState(){const o=await(await this.fetch(`https://www.googleapis.com/drive/v3/files?q=${encodeURIComponent("name='flow_state.json' and 'appDataFolder' in parents and trashed=false")}&spaces=appDataFolder`)).json();if(!o.files||o.files.length===0)return null;const c=o.files[0].id,d=await this.fetch(`https://www.googleapis.com/drive/v3/files/${c}?alt=media`);try{return await d.json()}catch{return null}}async saveSyncState(i){const c=await(await this.fetch(`https://www.googleapis.com/drive/v3/files?q=${encodeURIComponent("name='flow_state.json' and 'appDataFolder' in parents and trashed=false")}&spaces=appDataFolder`)).json(),d=new Blob([JSON.stringify(i)],{type:"application/json"});if(c.files&&c.files.length>0){const f=c.files[0].id;await this.fetch(`https://www.googleapis.com/upload/drive/v3/files/${f}?uploadType=media`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:d})}else{const f={name:"flow_state.json",parents:["appDataFolder"]},h=new FormData;h.append("metadata",new Blob([JSON.stringify(f)],{type:"application/json"})),h.append("file",d),await this.fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",body:h})}}}class He{constructor(){this.status="idle",this.listeners=new Set,this.isSyncing=!1,this.pendingSync=!1,this.drive=sa.getInstance(),this.storage=Ee.getInstance(),this.ingestion=Zn.getInstance(),this.settings=Cn.getInstance()}static getInstance(){return He.instance||(He.instance=new He),He.instance}subscribe(i){return this.listeners.add(i),()=>this.listeners.delete(i)}notifyStatus(i){this.status=i,this.listeners.forEach(r=>{var o;return(o=r.onStatusChange)==null?void 0:o.call(r,i)})}async connect(){try{await this.drive.signIn();const i=await this.drive.getUserInfo();return this.settings.updateSettings({isSyncEnabled:!0,googleDriveEmail:i}),this.syncNow(!0),this.syncTimer&&clearInterval(this.syncTimer),this.syncTimer=setInterval(()=>this.syncNow(!1),3e5),i}catch(i){throw console.error(i),new Error("Failed to connect Google Drive")}}requestSync(){this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{this.syncNow(!1)},2e3)}async syncNow(i=!1){if(this.settings.getSettings().isSyncEnabled&&!(!i&&!this.drive.isAuthenticated)){if(this.isSyncing){this.pendingSync=!0;return}this.isSyncing=!0,this.notifyStatus("syncing");try{await this.syncState(),await this.syncBooks(),this.notifyStatus("success"),setTimeout(()=>this.notifyStatus("idle"),3e3)}catch(r){console.error("[SyncManager] Sync failed",r),this.notifyStatus("error")}finally{this.isSyncing=!1,this.pendingSync&&(this.pendingSync=!1,this.syncNow(!1))}}}async syncState(){const i=await this.storage.getAllMetadata(),r=await this.drive.getSyncState();if(!r){const d=this.buildSyncState(i);await this.drive.saveSyncState(d);return}if(r.preferences){const d=this.settings.getSettings();JSON.stringify(d)!==JSON.stringify(r.preferences)&&this.settings.updateSettings(r.preferences)}let o=!1;const c=r.books||{};for(const d of i){this.getFingerprint(d);let f=Object.keys(c).find(h=>{const m=c[h];return!!(d.driveId&&m.driveId===d.driveId)});if(f){const h=c[f],m=new Date(d.lastOpened).getTime(),p=h.lastOpened,g=p>m+1e4,y=m>p+1e4;g?await this.applyRemoteUpdate(d,h):y?(c[f]=this.mapBookToSyncEntry(d),o=!0):(h.progress||0)>(d.bookmarkProgress||0)?await this.applyRemoteUpdate(d,h):(d.bookmarkProgress||0)>(h.progress||0)&&(c[f]=this.mapBookToSyncEntry(d),o=!0)}else c[d.id]=this.mapBookToSyncEntry(d),o=!0}o&&(r.timestamp=Date.now(),r.books=c,await this.drive.saveSyncState(r))}async syncBooks(){const i=await this.drive.listBooks(),r=await this.storage.getAllMetadata(),o=new Map,c=new Map;r.forEach(d=>{d.driveId&&o.set(d.driveId,d),c.set(this.getFingerprint(d),d)});for(const d of i){if(o.has(d.id))continue;const f=this.parseFilename(d.name),h=`${f.title}|${f.author}`,m=c.get(h);if(m){console.log(`[Sync] Linking existing book "${m.title}" to Drive ID: ${d.id}`),m.driveId=d.id,await this.storage.saveBook(m);continue}try{console.log(`[Sync] Downloading new book: ${d.name}`);const p=await this.drive.downloadFile(d.id);let g;const y=d.name.toLowerCase().endsWith(".txt")||d.mimeType==="text/plain";if(y){const S=new TextDecoder().decode(p);g=await this.ingestion.ingestFromText(f.title,f.author,S)}else{const T=new Blob([p],{type:"application/epub+zip"}),S=new File([T],d.name,{type:"application/epub+zip"});g=await this.ingestion.ingest(S)}g.driveId=d.id,g.sourceType=y?"text":"epub",await this.storage.saveBook(g),this.listeners.forEach(T=>{var S;return(S=T.onNewBook)==null?void 0:S.call(T,g)})}catch(p){console.error(`[Sync] Download failed for ${d.name}`,p)}}for(const d of r)if(!d.driveId)try{const f=await this.storage.getSource(d.id);if(f){console.log(`[Sync] Uploading: ${d.title}`);let h,m;d.sourceType==="text"?(h=new Blob([f],{type:"text/plain"}),m=`${this.sanitizeFilename(d.title)} - ${this.sanitizeFilename(d.author)}.txt`):(h=new Blob([f],{type:"application/epub+zip"}),m=`${this.sanitizeFilename(d.title)}.epub`);const p=await this.drive.uploadFile(m,h);d.driveId=p,await this.storage.saveBook(d)}}catch(f){console.error(`[Sync] Upload failed for ${d.title}`,f)}}async applyRemoteUpdate(i,r){(i.bookmarkProgress!==r.progress||i.isFinished!==r.isFinished)&&(i.bookmarkProgress=r.progress,i.lastTokenIndex=r.lastTokenIndex,i.isFinished=r.isFinished,i.lastOpened=new Date(r.lastOpened),await this.storage.saveBook(i),this.listeners.forEach(o=>{var c;return(c=o.onNewBook)==null?void 0:c.call(o,i)}))}buildSyncState(i){const r={version:1,timestamp:Date.now(),books:{},preferences:this.settings.getSettings()};return i.forEach(o=>{r.books[o.id]=this.mapBookToSyncEntry(o)}),r}mapBookToSyncEntry(i){return{progress:i.bookmarkProgress,lastTokenIndex:i.lastTokenIndex,isFinished:i.isFinished,lastOpened:new Date(i.lastOpened).getTime(),driveId:i.driveId}}getFingerprint(i){return`${i.title.trim().toLowerCase()}|${i.author.trim().toLowerCase()}`}parseFilename(i){const r=i.replace(/\.(txt|epub)$/i,""),o=r.split(" - ");return o.length>=2?{title:o[0].trim(),author:o.slice(1).join(" - ").trim()}:{title:r.trim(),author:"Unknown Author"}}sanitizeFilename(i){return i.replace(/[^a-z0-9 \-_]/gi,"").trim()}resolveConflict(i,r){i.bookmarkProgress=r,this.storage.saveBook(i),this.listeners.forEach(o=>{var c;return(c=o.onNewBook)==null?void 0:c.call(o,i)})}}const Vy=({onClose:a})=>{const[i,r]=I.useState("optical"),o=Re(),{settings:c}=is(),[d,f]=I.useState(!1),h=async()=>{f(!0);try{await He.getInstance().connect()}catch{alert("Could not connect to Google Drive.")}finally{f(!1)}},m=sa.getInstance().isAuthenticated;return w.jsxs("div",{className:"flex flex-col h-full transition-colors duration-300",style:{backgroundColor:o.background},children:[w.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b",style:{borderColor:o.borderColor},children:[w.jsx("div",{children:w.jsx("h2",{className:"text-xl font-bold lowercase tracking-tight",style:{color:o.primaryText},children:"settings"})}),w.jsx("button",{onClick:a,className:"w-11 h-11 rounded-full flex items-center justify-center transition-all active:scale-95",style:{backgroundColor:`${o.primaryText}08`},children:w.jsx(Ff,{size:20,style:{color:o.primaryText}})})]}),(!c.isSyncEnabled||!m)&&w.jsx("div",{className:"px-6 pt-5",children:w.jsxs("button",{onClick:h,disabled:d,className:"w-full p-4 rounded-2xl flex items-center justify-between active:scale-[0.98] transition-all",style:{backgroundColor:o.surface,border:`1px solid ${o.borderColor}`},children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"p-2 rounded-xl bg-blue-500 text-white",children:w.jsx(ef,{size:16})}),w.jsxs("div",{className:"text-left",children:[w.jsx("h3",{className:"text-sm font-semibold lowercase",style:{color:o.primaryText},children:c.isSyncEnabled?"reconnect cloud":"enable cloud sync"}),w.jsx("p",{className:"text-[10px] opacity-40",style:{color:o.secondaryText},children:c.isSyncEnabled?"session expired":"sync via google drive"})]})]}),w.jsx("span",{className:"text-xs font-semibold text-blue-500",children:d?"...":"connect"})]})}),c.isSyncEnabled&&m&&w.jsx("div",{className:"px-6 pt-5",children:w.jsxs("div",{className:"w-full p-4 rounded-2xl flex items-center gap-3 border",style:{backgroundColor:o.surface,borderColor:o.borderColor},children:[w.jsx("div",{className:"p-2 rounded-xl bg-emerald-500 text-white",children:w.jsx(ef,{size:16})}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsx("h3",{className:"text-sm font-semibold lowercase",style:{color:o.primaryText},children:"synced"}),w.jsx("p",{className:"text-[10px] opacity-40 truncate",style:{color:o.secondaryText},children:c.googleDriveEmail||"connected"})]}),w.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"})]})}),w.jsx("div",{className:"px-6 pt-5 z-10",children:w.jsxs("div",{className:"flex p-0.5 rounded-xl border",style:{borderColor:o.borderColor},children:[w.jsxs("button",{onClick:()=>r("optical"),className:"flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg text-xs font-medium transition-all lowercase",style:{backgroundColor:i==="optical"?o.surface:"transparent",color:i==="optical"?o.primaryText:o.secondaryText,opacity:i==="optical"?1:.5},children:[w.jsx(xT,{size:14})," theme"]}),w.jsxs("button",{onClick:()=>r("typo"),className:"flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg text-xs font-medium transition-all lowercase",style:{backgroundColor:i==="typo"?o.surface:"transparent",color:i==="typo"?o.primaryText:o.secondaryText,opacity:i==="typo"?1:.5},children:[w.jsx(ar,{size:14})," typography"]})]})}),w.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar px-6 pb-10 pt-5",children:[w.jsx("div",{className:`transition-opacity duration-200 ${i==="optical"?"block":"hidden"}`,children:w.jsx(XT,{})}),w.jsx("div",{className:`transition-opacity duration-200 ${i==="typo"?"block":"hidden"}`,children:w.jsx(KT,{})})]})]})},JT=[{title:"Frankenstein",author:"Mary Shelley",summary:"A scientist creates a sentient creature in a unorthodox scientific experiment. Gothic sci-fi vibes.",moodColor:"#56494E",genre:"Gothic Fiction",tags:["Sci-Fi","Classic","Horror"],gutenbergId:"84"},{title:"Pride and Prejudice",author:"Jane Austen",summary:"The turbulent relationship between Elizabeth Bennet and Fitzwilliam Darcy. Witty and romantic.",moodColor:"#D8A49B",genre:"Romance",tags:["Social Commentary","Classic"],gutenbergId:"1342"},{title:"Dracula",author:"Bram Stoker",summary:"Count Dracula's attempt to move from Transylvania to England. The ultimate vampire horror.",moodColor:"#740001",genre:"Horror",tags:["Epistolary","Classic","Vampires"],gutenbergId:"345"},{title:"The Great Gatsby",author:"F. Scott Fitzgerald",summary:"A portrait of the Jazz Age in all its decadence and excess. Tragic glamour.",moodColor:"#E3C565",genre:"Modernist Fiction",tags:["Jazz Age","American Classic"],gutenbergId:"64317"},{title:"Moby Dick",author:"Herman Melville",summary:"The narrative of the sailor Ishmael and the obsessive quest of Ahab. Deep ocean madness.",moodColor:"#476C9B",genre:"Adventure",tags:["Nautical","Classic"],gutenbergId:"2701"},{title:"Alice's Adventures in Wonderland",author:"Lewis Carroll",summary:"A young girl named Alice falls through a rabbit hole into a fantasy world. Surreal and trippy.",moodColor:"#6D9DC5",genre:"Fantasy",tags:["Surrealism","Classic","Children"],gutenbergId:"11"},{title:"The Picture of Dorian Gray",author:"Oscar Wilde",summary:"A philosophical novel about a man whose portrait ages while he stays young. Aesthetic hedonism.",moodColor:"#2E4052",genre:"Philosophical Fiction",tags:["Aestheticism","Classic"],gutenbergId:"174"},{title:"The Adventures of Sherlock Holmes",author:"Arthur Conan Doyle",summary:"A consulting detective known for his proficiency with observation and deduction. Foggy London mystery.",moodColor:"#5C5C5C",genre:"Mystery",tags:["Detective","Classic"],gutenbergId:"1661"},{title:"The Metamorphosis",author:"Franz Kafka",summary:"Salesman Gregor Samsa wakes one morning to find himself inexplicably transformed. Existential dread.",moodColor:"#556B2F",genre:"Existentialism",tags:["Absurdist","Classic"],gutenbergId:"5200"},{title:"Wuthering Heights",author:"Emily Bront",summary:"A tale of the all-encompassing and passionate, yet thwarted, love. Windy moors and ghosts.",moodColor:"#483C46",genre:"Gothic Romance",tags:["Moors","Classic"],gutenbergId:"768"}],t_=a=>{let i=0;for(let o=0;o<a.length;o++)i=a.charCodeAt(o)+((i<<5)-i);const r=(i&16777215).toString(16).toUpperCase();return"#"+"00000".substring(0,6-r.length)+r};class ts{constructor(){}static getInstance(){return ts.instance||(ts.instance=new ts),ts.instance}getFeaturedBooks(){return JT.map(i=>({...i,coverUrl:i.coverUrl||`https://www.gutenberg.org/cache/epub/${i.gutenbergId}/pg${i.gutenbergId}.cover.medium.jpg`}))}async searchCuratedBooks(i){const r=i.trim();if(!r)return this.getFeaturedBooks();const o=`https://gutendex.com/books/?search=${encodeURIComponent(r)}`,c=`https://gutendex.com/books/?topic=${encodeURIComponent(r)}`;try{const[d,f]=await Promise.all([fetch(o).then(y=>y.json()),fetch(c).then(y=>y.json())]),h=d.results||[],m=f.results||[],p=new Set,g=[];return[...h,...m].forEach(y=>{p.has(y.id)||(p.add(y.id),g.push(y))}),g.filter(y=>y.formats["text/plain"]||y.formats["text/plain; charset=utf-8"]).slice(0,20).map(y=>{const T=y.authors.length>0?y.authors[0].name.replace(/,/,""):"Unknown Author",S=y.formats["image/jpeg"]||y.formats["image/png"]||`https://www.gutenberg.org/cache/epub/${y.id}/pg${y.id}.cover.medium.jpg`,z=y.subjects.length>0?y.subjects[0].split(" -- ")[0]:"Classic",v=y.subjects.map(C=>C.split(" -- ")[0]).slice(0,3);return{title:y.title,author:T,summary:y.summaries&&y.summaries.length>0?y.summaries[0]:`A ${z} masterpiece by ${T}.`,genre:z,tags:v,moodColor:t_(y.title),gutenbergId:y.id.toString(),coverUrl:S}})}catch(d){return console.error("Discovery search failed",d),[]}}async downloadBook(i){if(console.log(`[CloudService] Initiating acquisition for: ${i.title} (ID: ${i.gutenbergId})`),!i.gutenbergId)throw new Error("Cannot download book without Gutenberg ID");try{const r=i.gutenbergId,o=`https://api.github.com/search/repositories?q=${r}+in:name+user:GITenberg`;console.log(`[CloudService] Locating repo: ${o}`);const c=await fetch(o);if(!c.ok)throw new Error("Could not locate book repository.");const d=await c.json();if(!d.items||d.items.length===0)throw new Error("Book not found in GITenberg archives.");const f=d.items[0],h=f.default_branch||"master",p=`https://raw.githubusercontent.com/GITenberg/${f.name}/${h}/${r}.txt`;console.log(`[CloudService] Fetching raw text from: ${p}`);const g=await fetch(p);if(!g.ok)throw new Error("Failed to retrieve text content from archive.");const y=await g.text();if(y.trim().startsWith("<!DOCTYPE html>")||y.length<500)throw new Error("Downloaded content appears invalid.");return Zn.getInstance().ingestFromText(i.title,i.author,y,i.moodColor,i.coverUrl)}catch(r){throw console.error("[CloudService] Download failed",r),new Error("Could not download book. Please try another title.")}}}const e_=["philosophy","gothic","sci-fi","adventure","poetry","mystery"],n_=({existingBooks:a,onClose:i,onImport:r,onOpen:o})=>{const c=Re(),d=ts.getInstance(),[f,h]=I.useState(""),[m,p]=I.useState([]),[g,y]=I.useState(!1),[T,S]=I.useState({});I.useEffect(()=>{const A=d.getFeaturedBooks();console.log("TitanCloudLibrary: Loading featured books",A.length,A),p(A)},[]);const z=async(A,O)=>{A==null||A.preventDefault();const D=O!==void 0?O:f;if(!D.trim()){p(d.getFeaturedBooks());return}y(!0),p([]);try{const F=await d.searchCuratedBooks(D);p(F)}catch(F){console.error(F)}finally{y(!1)}};I.useEffect(()=>{f.trim()===""&&p(d.getFeaturedBooks())},[f]);const v=async A=>{const O=T[A.title]||"idle";if(!(O==="loading"||O==="success")){S(D=>({...D,[A.title]:"loading"}));try{const D=await d.downloadBook(A);r(D),S(F=>({...F,[A.title]:"success"}))}catch(D){console.error(`Failed to download ${A.title}`,D),S(F=>({...F,[A.title]:"error"})),setTimeout(()=>{S(F=>({...F,[A.title]:"idle"}))},3e3)}}},C=(A,O)=>{switch(A){case"loading":return w.jsxs("div",{className:"flex items-center gap-2 relative w-full justify-center h-full",children:[w.jsx("span",{className:"lowercase z-10",children:"retrieving..."}),w.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-black/10 overflow-hidden",children:w.jsx("div",{className:"h-full bg-current opacity-50 w-full origin-left animate-[progress-scan_1.5s_ease-in-out_infinite]"})})]});case"success":return w.jsxs(w.Fragment,{children:[w.jsx(Po,{size:16}),w.jsx("span",{className:"lowercase",children:"added to shelf"})]});case"error":return w.jsxs(w.Fragment,{children:[w.jsx(Qw,{size:16}),w.jsx("span",{className:"lowercase",children:"failed. retry?"})]});default:return w.jsxs(w.Fragment,{children:[w.jsx(nT,{size:16}),w.jsx("span",{className:"lowercase",children:"add to shelf"})]})}},_=(A,O)=>{const D={border:"none",color:"#FFF",backgroundColor:O||c.accent};return A==="loading"?{...D,backgroundColor:c.surface,color:c.primaryText,border:`1px solid ${c.borderColor}`,cursor:"wait"}:A==="success"?{...D,backgroundColor:"#10b981"}:A==="error"?{...D,backgroundColor:"#ef4444"}:D},k=m.length>0&&m[0].isCopyrightedReplacement;return w.jsxs("div",{className:"flex flex-col h-full bg-[#F2F2F7] dark:bg-black transition-colors",style:{backgroundColor:c.background},children:[w.jsxs("div",{className:"flex items-center justify-between px-6 py-6 border-b",style:{borderColor:c.borderColor},children:[w.jsxs("div",{className:"flex flex-col gap-1",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(dT,{size:24,style:{color:c.accent}}),w.jsx("h2",{className:"text-2xl font-serif font-black lowercase tracking-tight leading-none",style:{color:c.primaryText},children:"visit the library"})]}),w.jsx("p",{className:"text-xs font-medium opacity-60 lowercase max-w-[240px]",style:{color:c.secondaryText},children:"classics from the ether. public domain, free forever."})]}),w.jsx("button",{onClick:i,className:"p-3 -mr-3 rounded-full hover:bg-black/5 transition-colors",children:w.jsx(Ff,{size:24,style:{color:c.secondaryText}})})]}),w.jsxs("div",{className:"px-6 pt-6 pb-2",children:[w.jsxs("form",{onSubmit:z,className:"relative group",children:[w.jsx("input",{type:"text",placeholder:"search title, author, genre, or keyword...",value:f,onChange:A=>h(A.target.value),className:"w-full h-14 pl-12 pr-4 rounded-2xl text-lg font-medium outline-none transition-all shadow-sm focus:shadow-md",style:{backgroundColor:c.surface,color:c.primaryText,border:`1px solid ${c.borderColor}`}}),w.jsx(ET,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 opacity-40 group-focus-within:opacity-100 transition-opacity",style:{color:c.primaryText}})]}),!f&&w.jsx("div",{className:"flex flex-wrap gap-2 mt-3 animate-fadeIn",children:e_.map(A=>w.jsx("button",{onClick:()=>{h(A),z(void 0,A)},className:"px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-widest border transition-all active:scale-95 opacity-50 hover:opacity-100",style:{backgroundColor:c.surface,borderColor:c.borderColor,color:c.primaryText},children:A},A))}),w.jsx(ki,{children:g&&w.jsxs(Yn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center justify-center gap-2 py-4 text-sm font-medium",style:{color:c.secondaryText},children:[w.jsx(n0,{className:"animate-spin",size:16}),w.jsx("span",{children:"scanning archives..."})]})})]}),w.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-20 pt-6 custom-scrollbar",children:[w.jsx(ki,{children:g&&w.jsxs(Yn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center justify-center gap-2 py-4 mb-2 text-sm font-medium",style:{color:c.secondaryText},children:[w.jsx(n0,{className:"animate-spin",size:16}),w.jsx("span",{children:"scanning archives..."})]})}),w.jsx(ki,{children:!g&&k&&w.jsxs(Yn.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 rounded-2xl flex items-start gap-4 border",style:{backgroundColor:c.surface,borderColor:c.borderColor},children:[w.jsx("div",{className:"p-2 rounded-full bg-neutral-100 shrink-0",children:w.jsx(yT,{size:16,className:"text-neutral-500"})}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-bold text-sm lowercase mb-1",style:{color:c.primaryText},children:"locked in the vault"}),w.jsxs("p",{className:"text-xs font-medium leading-relaxed opacity-70 lowercase",style:{color:c.secondaryText},children:["bad news: that book is still under copyright protection.",w.jsx("br",{}),"good news: we found these public domain classics that share the same soul."]})]})]})}),!g&&!k&&w.jsxs("div",{className:"mb-4 flex items-center gap-2 opacity-50",children:[w.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",style:{color:c.secondaryText},children:f?"results":"curated selection"}),w.jsx("div",{className:"h-px flex-1 bg-current opacity-20",style:{color:c.secondaryText}})]}),!g&&m.length===0&&f&&w.jsx("div",{className:"flex flex-col items-center justify-center h-40 text-center opacity-60",children:w.jsx("p",{className:"font-serif italic text-lg lowercase",style:{color:c.secondaryText},children:'"the library is vast, but this shelf is empty."'})}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w.jsx(ki,{mode:"popLayout",children:m.map((A,O)=>{var V;const D=a.find(q=>q.title.trim().toLowerCase()===A.title.trim().toLowerCase()&&q.author.trim().toLowerCase()===A.author.trim().toLowerCase()),F=T[A.title]||"idle";return w.jsxs(Yn.div,{layout:!0,initial:!1,animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:O*.03},className:"relative p-5 rounded-3xl overflow-hidden shadow-sm hover:shadow-md transition-shadow group border",style:{backgroundColor:c.surface,borderColor:c.borderColor},children:[w.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 rounded-full blur-[60px] opacity-[0.15] transition-opacity group-hover:opacity-[0.25]",style:{backgroundColor:A.moodColor||c.accent}}),w.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"font-serif font-bold text-xl leading-tight mb-1",style:{color:c.primaryText},children:A.title}),w.jsx("p",{className:"text-sm font-medium opacity-60 uppercase tracking-wider mb-2",style:{color:c.primaryText},children:A.author}),w.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[A.genre&&w.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-tighter",style:{backgroundColor:`${c.accent}20`,color:c.accent,border:`1px solid ${c.accent}30`},children:A.genre}),(V=A.tags)==null?void 0:V.slice(0,3).map((q,X)=>w.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-medium opacity-50 border border-white/10",style:{color:c.primaryText},children:q.toLowerCase()},X))]}),w.jsx("p",{className:"text-sm leading-relaxed opacity-80 line-clamp-2",style:{color:c.secondaryText},children:A.summary})]}),D?w.jsxs("button",{onClick:()=>o(D),className:"mt-5 flex items-center justify-center gap-2 w-full h-11 rounded-xl font-bold text-sm transition-all active:scale-95 shadow-sm hover:shadow-md",style:{backgroundColor:c.accent,color:"#FFF",border:"none"},children:[w.jsx(Uf,{size:16,fill:"currentColor"}),w.jsx("span",{className:"lowercase",children:"open book"})]}):w.jsx("button",{onClick:()=>v(A),disabled:F==="loading"||F==="success",className:"mt-5 flex items-center justify-center gap-2 w-full h-11 rounded-xl font-bold text-sm transition-all active:scale-95 disabled:opacity-90 disabled:scale-100 shadow-sm hover:shadow-md overflow-hidden relative",style:_(F,A.moodColor),children:C(F,A.moodColor)})]})]},A.title)})})})]})]})},i_=({book:a,onClick:i})=>{const r=I.useMemo(()=>{var p;let d=((p=a.chapters)==null?void 0:p.reduce((g,y)=>g+y.wordCount,0))||a.title.length*500;const f=36,h=64,m=Math.min(1,Math.max(0,d/1e5));return f+m*(h-f)},[a]),o=I.useMemo(()=>{const d=a.author.split(" ");return d.length>0?d[d.length-1]:a.author},[a.author]),c=a.tintColorHex||"#333";return w.jsxs(Yn.div,{layoutId:`spine-${a.id}`,onClick:i,className:"relative h-72 cursor-pointer group mx-[1px] mb-0 rounded-sm overflow-hidden transform-gpu",style:{width:`${r}px`,backgroundColor:c,boxShadow:"inset 0 0 15px rgba(0,0,0,0.3), inset 1px 0 0 rgba(255,255,255,0.1)"},whileHover:{y:-8,zIndex:10,transition:{type:"spring",stiffness:400,damping:25}},children:[w.jsx("div",{className:"absolute inset-0 opacity-30 pointer-events-none mix-blend-multiply grayscale",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`}}),w.jsx("div",{className:"absolute top-0 bottom-0 left-[2px] w-[1px] bg-black/20"}),w.jsx("div",{className:"absolute top-0 bottom-0 right-[2px] w-[1px] bg-black/20"}),w.jsxs("div",{className:"absolute inset-0 flex flex-col items-center py-6 px-1 z-20",children:[w.jsx("div",{className:"flex-none pt-2 pb-6",style:{writingMode:"vertical-rl",textOrientation:"mixed"},children:w.jsx("span",{className:"font-sans text-[9px] font-bold text-white/70 uppercase tracking-[0.15em]",children:o})}),w.jsx("div",{className:"flex-1 flex items-center justify-center w-full overflow-hidden",style:{writingMode:"vertical-rl",textOrientation:"mixed"},children:w.jsx("span",{className:"font-serif font-semibold text-xs md:text-sm tracking-wide text-white/95 text-center leading-relaxed line-clamp-3",style:{textShadow:"0 1px 2px rgba(0,0,0,0.5)",fontVariant:"small-caps"},children:a.title.toLowerCase()})}),w.jsx("div",{className:"flex-none mt-auto pt-4 opacity-50",children:w.jsx("div",{className:"w-4 h-4 border border-white/60 rounded-full flex items-center justify-center",children:w.jsx("div",{className:"w-1.5 h-1.5 bg-white/60 rounded-sm"})})})]}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/20 via-transparent to-black/20 pointer-events-none"})]})},a_=({books:a,onInspectBook:i})=>w.jsx("div",{className:"relative w-full pb-32",children:w.jsxs("div",{className:"flex flex-wrap items-end gap-y-16 px-6 perspective-[1000px]",children:[a.map(r=>w.jsx(i_,{book:r,onClick:()=>i(r)},r.id)),w.jsx("div",{className:"w-full h-2 rounded-full bg-current opacity-[0.03] mt-[-4px] blur-[1px]"})]})}),s_=({book:a,onClose:i,onOpen:r,onToggleFavorite:o,onToggleRead:c,onDelete:d})=>{var g;const f=Re(),h=I.useRef(0),m=y=>{const T=Date.now();T-h.current<300||(h.current=T,Ne.impactLight(),y())},p=a.tintColorHex||"#333";return w.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6 perspective-[2000px]",children:[w.jsx("div",{onClick:i,className:"absolute inset-0 bg-black/60 backdrop-blur-md",style:{animation:"fadeIn 400ms cubic-bezier(0.16, 1, 0.3, 1)"}}),w.jsxs("div",{className:"relative w-full max-w-sm bg-white rounded-3xl shadow-2xl overflow-hidden flex flex-col origin-left z-50 max-h-[90vh]",style:{backgroundColor:f.surface,animation:"slideUp 500ms cubic-bezier(0.16, 1, 0.3, 1)"},children:[w.jsxs("div",{className:"relative overflow-hidden flex items-center justify-center p-8 min-h-[280px]",style:{backgroundColor:a.tintColorHex?`${a.tintColorHex}08`:"#f5f5f7"},children:[w.jsx("div",{className:"relative w-36 h-52 shadow-[0_16px_40px_rgba(0,0,0,0.25)] rounded-sm",style:{animation:"fadeIn 400ms cubic-bezier(0.16, 1, 0.3, 1) 100ms both"},children:a.coverUrl?w.jsx("img",{src:a.coverUrl,className:"w-full h-full object-cover rounded-sm",alt:a.title}):w.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-6 text-center border-[6px] border-double",style:{backgroundColor:p,borderColor:"rgba(255,255,255,0.2)",color:"#FFF"},children:[w.jsx(Oy,{size:28,className:"mb-4 opacity-40"}),w.jsx("h2",{className:"font-serif font-black text-base leading-tight line-clamp-3",children:a.title})]})}),w.jsx("div",{className:"absolute inset-y-0 left-0 w-16 bg-gradient-to-r from-black/10 to-transparent pointer-events-none mix-blend-multiply"}),w.jsx("button",{onClick:y=>{y.stopPropagation(),o(a.id,!a.isFavorite)},className:"absolute top-6 right-6 p-3.5 rounded-full bg-black/10 backdrop-blur-md hover:bg-black/20 transition-all text-white z-50 shadow-lg active:scale-90",children:w.jsx(rT,{size:22,fill:a.isFavorite?"#E25822":"none",stroke:a.isFavorite?"#E25822":"currentColor",className:"drop-shadow-sm"})})]}),w.jsxs("div",{className:"p-6 flex flex-col gap-5 border-t relative z-10",style:{backgroundColor:f.surface,borderColor:f.borderColor},children:[w.jsxs("div",{className:"text-center",children:[w.jsx("h2",{className:"font-serif font-bold text-2xl leading-tight lowercase tracking-tight",style:{color:f.primaryText},children:a.title}),w.jsx("p",{className:"font-sans text-xs font-medium opacity-40 mt-1.5",style:{color:f.secondaryText},children:a.author}),w.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mt-6",children:[a.genre&&w.jsx("span",{className:"px-3 py-1 rounded-full text-[9px] font-bold uppercase tracking-widest",style:{backgroundColor:`${f.accent}15`,color:f.accent,border:`1px solid ${f.accent}20`},children:a.genre}),(g=a.tags)==null?void 0:g.slice(0,3).map((y,T)=>w.jsx("span",{className:"px-3 py-1 rounded-full text-[9px] font-bold opacity-30 border border-current uppercase tracking-tighter",style:{color:f.primaryText},children:y.toLowerCase()},T))]}),a.description&&w.jsx("div",{className:"mt-5 text-left max-h-24 overflow-y-auto px-1 custom-scrollbar",children:w.jsxs("p",{className:"text-xs leading-relaxed opacity-60 italic",style:{color:f.secondaryText},children:['"',a.description,'"']})})]}),w.jsxs("button",{onClick:()=>m(()=>r(a)),className:"h-12 w-full rounded-xl flex items-center justify-center gap-2 font-semibold text-white shadow-lg active:scale-[0.98] transition-transform",style:{backgroundColor:f.accent},children:[w.jsx(Uf,{size:16,fill:"currentColor"}),w.jsx("span",{className:"lowercase text-base",children:"start reading"})]})]}),w.jsxs("div",{className:"grid grid-cols-3 divide-x border-t",style:{borderColor:f.borderColor,color:f.secondaryText},children:[w.jsxs("button",{onClick:()=>{Ne.impactMedium(),confirm("Delete this book?")&&(d(a.id),i())},className:"h-14 flex items-center justify-center gap-1.5 hover:bg-red-500/10 transition-colors text-red-400 hover:text-red-500",children:[w.jsx(Uy,{size:16}),w.jsx("span",{className:"text-xs font-medium",children:"delete"})]}),w.jsxs("button",{onClick:()=>m(()=>c(a.id,!a.isFinished)),className:"h-14 flex items-center justify-center gap-1.5 hover:bg-black/5 transition-colors",style:{color:a.isFinished?"#10b981":f.secondaryText},children:[a.isFinished?w.jsx(Iw,{size:16}):w.jsx(By,{size:16}),w.jsx("span",{className:"text-xs font-medium",children:a.isFinished?"read":"mark read"})]}),w.jsxs("button",{onClick:i,className:"h-12 flex items-center justify-center gap-1.5 hover:bg-black/5 transition-colors",children:[w.jsx(Uw,{size:16}),w.jsx("span",{className:"text-xs font-medium",children:"back"})]})]})]})]})},r_=({books:a,onBookSelect:i,onBookImported:r,onDeleteBooks:o,onToggleReadStatus:c,onToggleFavorite:d})=>{const f=I.useRef(null),h=I.useRef(null),m=I.useRef(null),[p,g]=I.useState(!1),y=Re(),[T,S]=I.useState("grid"),[z,v]=I.useState(!1),[C,_]=I.useState(new Set),[k,A]=I.useState(!1),[O,D]=I.useState(!1),[F,V]=I.useState(!1),q=I.useRef(!1),[X,st]=I.useState(!1),[ft,L]=I.useState(!1),[tt,E]=I.useState(!1),[et,G]=I.useState(!1),[Z,ht]=I.useState(null);I.useEffect(()=>{const U=()=>{q.current||(q.current=!0,Z?ht(null):F||ft?xt():(O||X)&&rt(),q.current=!1)};return window.addEventListener("popstate",U),()=>window.removeEventListener("popstate",U)},[Z,F,ft,O,X]);const rt=()=>{st(!0),setTimeout(()=>{D(!1),st(!1)},400)},xt=()=>{L(!0),setTimeout(()=>{V(!1),L(!1)},400)},[M,B]=I.useState(0),at=I.useRef(null),nt=I.useRef(0);I.useEffect(()=>{const U=h.current;if(!U)return;const N=()=>{if(!m.current)return;const R=U.scrollTop,H=Math.max(.8,1-R/300),ut=Math.max(0,1-R/150);m.current.style.transform=`scale(${H})`,m.current.style.opacity=ut.toString()};return U.addEventListener("scroll",N,{passive:!0}),N(),()=>U.removeEventListener("scroll",N)},[]);const{activeBooks:lt,finishedBooks:kt,favoriteBooks:zt}=I.useMemo(()=>{const U=[...a].sort((N,R)=>new Date(R.lastOpened).getTime()-new Date(N.lastOpened).getTime());return{favoriteBooks:U.filter(N=>N.isFavorite),activeBooks:U.filter(N=>!N.isFinished),finishedBooks:U.filter(N=>N.isFinished)}},[a]);I.useEffect(()=>{zt.length>0&&!et&&a.some(U=>U.isFavorite&&!U.isFinished)},[zt.length]);const vt=async U=>{var R;const N=(R=U.target.files)==null?void 0:R[0];if(N){g(!0);try{const H=await Zn.getInstance().ingest(N);if(!H.chapters||H.chapters.length===0){console.error("[TitanLibrary] Book imported but has 0 chapters:",{title:H.title,author:H.author,id:H.id});const ut=[`Date: ${new Date().toISOString()}`,`UserAgent: ${navigator.userAgent}`,`Platform: ${navigator.platform}`,`File: ${N.name}`,`BookTitle: ${H.title}`,`BookAuthor: ${H.author}`,`BookId: ${H.id}`,`ChaptersLength: ${H.chapters?H.chapters.length:"undefined"}`,"","Notes: Import produced zero chapters. Attach this file when reporting."].join(`
`);(($,yt=`flow-diagnostics-${Date.now()}.txt`)=>{try{const St=new Blob([$],{type:"text/plain"}),bt=URL.createObjectURL(St),Et=document.createElement("a");Et.href=bt,Et.download=yt,document.body.appendChild(Et),Et.click(),Et.remove(),setTimeout(()=>URL.revokeObjectURL(bt),1500)}catch(St){console.error("Failed to create diagnostics download",St)}})(ut),alert(`Import failed: "${H.title}" was processed but no readable content was found. A diagnostic file has been downloaded to help with reporting.`);return}console.log(`[TitanLibrary] Successfully imported "${H.title}" with ${H.chapters.length} chapters`),r(H)}catch(H){console.error("[TitanLibrary] Import error:",H);try{const ut=[`Date: ${new Date().toISOString()}`,`UserAgent: ${navigator.userAgent}`,`Platform: ${navigator.platform}`,`File: ${N?N.name:"unknown"}`,`Error: ${H instanceof Error?H.message:String(H)}`,`Stack: ${H instanceof Error&&H.stack?H.stack:"no-stack"}`,"","Notes: Import threw an exception. Attach this file when reporting."].join(`
`),mt=new Blob([ut],{type:"text/plain"}),$=URL.createObjectURL(mt),yt=document.createElement("a");yt.href=$,yt.download=`flow-import-error-${Date.now()}.txt`,document.body.appendChild(yt),yt.click(),yt.remove(),setTimeout(()=>URL.revokeObjectURL($),1500)}catch(ut){console.error("Failed to create diagnostics download",ut)}alert(`Import failed: ${H instanceof Error?H.message:"Unknown error. A diagnostic file has been downloaded."}`)}finally{g(!1),f.current&&(f.current.value="")}}},Tt=()=>{var U;return(U=f.current)==null?void 0:U.click()},gt=()=>{Ne.impactMedium(),v(U=>(U&&(_(new Set),B(0)),!U))},_t=U=>{Ne.impactLight(),_(N=>{const R=new Set(N);return R.has(U.id)?R.delete(U.id):R.add(U.id),R})},wt=()=>{if(C.size===0)return;const R=!a.filter(H=>C.has(H.id)).every(H=>H.isFinished);c(Array.from(C),R),Ne.impactMedium(),v(!1),_(new Set)},Ct=U=>{if(C.size===0)return;U.preventDefault(),nt.current=performance.now(),U.target.setPointerCapture(U.pointerId);const N=()=>{const R=performance.now()-nt.current,H=Math.min(R/600,1);B(H),H<1?at.current=requestAnimationFrame(N):Q()};at.current=requestAnimationFrame(N)},x=U=>{at.current&&(cancelAnimationFrame(at.current),at.current=null),B(0),U.target.releasePointerCapture(U.pointerId)},Q=()=>{at.current&&cancelAnimationFrame(at.current),navigator.vibrate&&navigator.vibrate([40,30,40]),o(Array.from(C)),_(new Set),B(0),A(!0),v(!1)};return w.jsxs("div",{className:"relative h-full w-full overflow-hidden",style:{backgroundColor:y.background},children:[w.jsx("input",{type:"file",ref:f,onChange:vt,accept:".epub",className:"hidden"}),w.jsx("button",{onClick:()=>{q.current||window.history.pushState({modal:"settings"},"",window.location.href),D(!0)},className:"absolute top-6 right-6 z-40 p-3 rounded-full hover:bg-black/5 transition-colors",style:{color:y.secondaryText},children:w.jsx(jT,{size:24})}),w.jsxs("div",{ref:h,className:"h-full w-full overflow-y-auto custom-scrollbar pt-24 pb-48 px-6 md:px-12",children:[w.jsxs("div",{ref:m,className:"mb-8 origin-left will-change-transform flex items-end justify-between",style:{transform:"scale(1)",opacity:1},children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-black tracking-tight lowercase leading-none",style:{color:y.primaryText},children:"bookshelf"}),w.jsxs("p",{className:"text-sm font-sans font-medium mt-2 lowercase opacity-50",style:{color:y.secondaryText},children:[lt.length," ",lt.length===1?"book":"books"," in progress"]})]}),a.length>0&&w.jsxs("div",{className:"flex p-0.5 rounded-xl border",style:{borderColor:y.borderColor,backgroundColor:y.surface},children:[w.jsx("button",{onClick:()=>S("grid"),className:`p-2 rounded-lg transition-all active:scale-90 ${T==="grid"?"shadow-sm":"opacity-40 hover:opacity-70"}`,style:{backgroundColor:T==="grid"?y.background:"transparent",color:y.primaryText},children:w.jsx(lT,{size:18})}),w.jsx("button",{onClick:()=>S("shelf"),className:`p-2 rounded-lg transition-all active:scale-90 ${T==="shelf"?"shadow-sm":"opacity-40 hover:opacity-70"}`,style:{backgroundColor:T==="shelf"?y.background:"transparent",color:y.primaryText},children:w.jsx(uT,{size:18})})]})]}),a.length===0?w.jsx(qT,{onImport:Tt,hasDeleted:k}):T==="shelf"?w.jsx("div",{className:"transition-opacity duration-400",style:{transitionTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)"},children:w.jsx(a_,{books:a,onBookSelect:i,onInspectBook:U=>{q.current||window.history.pushState({modal:"detail"},"",window.location.href),ht(U)}})}):w.jsxs("div",{className:"flex flex-col gap-12 transition-opacity duration-400",style:{transitionTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)"},children:[w.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-x-4 gap-y-6 md:gap-x-6 md:gap-y-8",children:w.jsx(ki,{mode:"popLayout",children:lt.map(U=>w.jsx(Yn.div,{initial:!1,animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},children:w.jsx(Du,{book:U,onSelect:i,isEditing:z,isSelected:C.has(U.id),onToggleSelect:_t,onRequestManage:()=>{v(!0),_(new Set([U.id]))},onLongPress:N=>{q.current||window.history.pushState({modal:"detail"},"",window.location.href),ht(N)}})},U.id))})}),zt.length>0&&w.jsxs("div",{className:"mt-6 border-t pt-6",style:{borderColor:y.borderColor},children:[w.jsxs("button",{onClick:U=>{U.stopPropagation(),G(N=>!N)},className:"flex items-center gap-1.5 text-sm font-medium lowercase hover:opacity-80 transition-opacity mb-4",style:{color:y.secondaryText,opacity:.6},children:[et?w.jsx(tf,{size:16}):w.jsx(e0,{size:16}),w.jsxs("span",{children:["favorites (",zt.length,")"]})]}),et&&w.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-x-4 gap-y-6 md:gap-x-6 md:gap-y-8 pb-6",children:zt.map(U=>w.jsx("div",{children:w.jsx(Du,{book:U,onSelect:i,isEditing:z,isSelected:C.has(U.id),onToggleSelect:_t,onLongPress:N=>{q.current||window.history.pushState({modal:"detail"},"",window.location.href),ht(N)}})},`fav-${U.id}`))})]}),kt.length>0&&w.jsxs("div",{className:"mt-2 border-t pt-6",style:{borderColor:y.borderColor},children:[w.jsxs("button",{onClick:U=>{U.stopPropagation(),E(N=>!N)},className:"flex items-center gap-1.5 text-sm font-medium lowercase hover:opacity-80 transition-opacity mb-4",style:{color:y.secondaryText,opacity:.6},children:[tt?w.jsx(tf,{size:16}):w.jsx(e0,{size:16}),w.jsxs("span",{children:["finished (",kt.length,")"]})]}),tt&&w.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-x-4 gap-y-6 md:gap-x-6 md:gap-y-8 pb-6",children:kt.map(U=>w.jsx("div",{children:w.jsx(Du,{book:U,onSelect:i,isEditing:z,isSelected:C.has(U.id),onToggleSelect:_t,onLongPress:N=>{q.current||window.history.pushState({modal:"detail"},"",window.location.href),ht(N)}})},`fin-${U.id}`))})]}),w.jsx("div",{className:"h-24"})]})]}),w.jsx("div",{className:"absolute left-0 right-0 flex justify-center pointer-events-none z-30",style:{bottom:"calc(1.5rem + env(safe-area-inset-bottom))"},children:w.jsx(Yn.div,{layout:!0,initial:!1,className:"pointer-events-auto shadow-xl backdrop-blur-2xl border flex items-center p-1.5 rounded-2xl gap-1 relative overflow-hidden",style:{backgroundColor:y.surface+"f0",borderColor:y.borderColor,minWidth:"180px"},children:w.jsx(ki,{mode:"wait",children:z?w.jsxs(Yn.div,{initial:!1,animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex items-center w-full gap-2 px-1",children:[w.jsx("button",{onClick:gt,className:"w-9 h-9 rounded-xl flex items-center justify-center hover:bg-black/5 transition-colors",style:{color:y.primaryText},children:w.jsx(Ff,{size:18})}),w.jsx("div",{className:"w-px h-5 bg-black/10"}),w.jsx("button",{onClick:wt,disabled:C.size===0,className:"w-9 h-9 rounded-xl flex items-center justify-center hover:bg-black/5 transition-colors disabled:opacity-30",style:{color:y.primaryText},children:w.jsx(Pw,{size:18})}),w.jsx("div",{className:"w-px h-5 bg-black/10"}),w.jsxs("button",{onPointerDown:Ct,onPointerUp:x,onPointerLeave:x,disabled:C.size===0,className:"flex-1 relative flex items-center justify-center gap-1.5 px-4 h-9 rounded-xl font-semibold text-white shadow-md active:scale-[0.98] transition-transform overflow-hidden disabled:opacity-50 disabled:active:scale-100 lowercase text-sm",style:{backgroundColor:y.accent},children:[w.jsx("div",{className:"absolute inset-0 bg-white mix-blend-overlay origin-left",style:{transform:`scaleX(${M})`,transition:"transform 0.05s linear"}}),w.jsxs("div",{className:"relative z-10 flex items-center gap-1.5",children:[w.jsx(Uy,{size:16}),w.jsx("span",{children:C.size>0?`delete ${C.size}`:"select"})]})]})]},"edit-dock"):w.jsxs(Yn.div,{initial:!1,animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex items-center w-full gap-2 px-1",children:[w.jsx("button",{onClick:gt,disabled:a.length===0,className:"w-9 h-9 rounded-xl flex items-center justify-center hover:bg-black/5 disabled:opacity-30 transition-colors",style:{color:y.secondaryText},children:w.jsx(OT,{size:18})}),w.jsx("div",{className:"w-px h-5 bg-black/10"}),w.jsx("button",{onClick:()=>{q.current||window.history.pushState({modal:"cloud"},"",window.location.href),V(!0)},className:"w-9 h-9 rounded-xl flex items-center justify-center hover:bg-black/5 transition-colors",style:{color:y.accent},children:w.jsx(Jw,{size:18})}),w.jsx("div",{className:"w-px h-5 bg-black/10"}),w.jsxs("button",{onClick:Tt,className:"flex-1 flex items-center justify-center gap-1.5 px-4 h-9 rounded-xl font-semibold text-white shadow-md active:scale-[0.98] transition-transform lowercase text-sm",style:{backgroundColor:y.accent},children:[p?w.jsx(If,{size:16,className:"animate-spin"}):w.jsx(Vf,{size:16,strokeWidth:3}),w.jsx("span",{children:"import"})]})]},"normal-dock")})})}),w.jsx(ki,{children:Z&&w.jsx(s_,{book:a.find(U=>U.id===Z.id)||Z,onClose:()=>ht(null),onOpen:U=>{ht(null),i(U)},onToggleFavorite:(U,N)=>d(U,N),onToggleRead:(U,N)=>c([U],N),onDelete:U=>{o([U]),ht(null),a.length===1&&A(!0)}})}),(F||ft)&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"fixed inset-0 z-[100]",style:{backgroundColor:"rgba(0,0,0,0.5)",backdropFilter:"blur(2px)",animation:ft?"fadeOut 0.4s ease-out":"fadeIn 0.6s ease-out"},onClick:xt}),w.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[101] rounded-t-[32px] h-[90vh] shadow-2xl overflow-hidden",style:{backgroundColor:y.background,animation:ft?"slideDown 0.5s cubic-bezier(0.7, 0, 0.84, 0)":"slideUp 0.8s cubic-bezier(0.16, 1, 0.3, 1)"},children:w.jsx(n_,{existingBooks:a,onClose:xt,onImport:U=>{r(U)},onOpen:U=>{V(!1),i(U)}})})]}),(O||X)&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"fixed inset-0 z-[100]",style:{backgroundColor:"rgba(0,0,0,0.5)",backdropFilter:"blur(2px)",animation:X?"fadeOut 0.4s ease-out":"fadeIn 0.6s ease-out"},onClick:rt}),w.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[101] rounded-t-[32px] h-[70vh] shadow-2xl overflow-hidden",style:{backgroundColor:y.background,animation:X?"slideDown 0.5s cubic-bezier(0.7, 0, 0.84, 0)":"slideUp 0.8s cubic-bezier(0.16, 1, 0.3, 1)"},children:w.jsx(Vy,{onClose:rt})})]})]})};function nf(){return nf=Object.assign?Object.assign.bind():function(a){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var o in r)({}).hasOwnProperty.call(r,o)&&(a[o]=r[o])}return a},nf.apply(null,arguments)}function a0(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function af(a,i){return af=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},af(a,i)}function o_(a,i){a.prototype=Object.create(i.prototype),a.prototype.constructor=a,af(a,i)}var s0=Number.isNaN||function(i){return typeof i=="number"&&i!==i};function l_(a,i){return!!(a===i||s0(a)&&s0(i))}function c_(a,i){if(a.length!==i.length)return!1;for(var r=0;r<a.length;r++)if(!l_(a[r],i[r]))return!1;return!0}function Lu(a,i){i===void 0&&(i=c_);var r,o=[],c,d=!1;function f(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];return d&&r===this&&i(h,o)||(c=a.apply(this,h),d=!0,r=this,o=h),c}return f}var u_=typeof performance=="object"&&typeof performance.now=="function",r0=u_?function(){return performance.now()}:function(){return Date.now()};function o0(a){cancelAnimationFrame(a.id)}function f_(a,i){var r=r0();function o(){r0()-r>=i?a.call(null):c.id=requestAnimationFrame(o)}var c={id:requestAnimationFrame(o)};return c}var Uu=-1;function l0(a){if(a===void 0&&(a=!1),Uu===-1||a){var i=document.createElement("div"),r=i.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(i),Uu=i.offsetWidth-i.clientWidth,document.body.removeChild(i)}return Uu}var Za=null;function c0(a){if(a===void 0&&(a=!1),Za===null||a){var i=document.createElement("div"),r=i.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var o=document.createElement("div"),c=o.style;return c.width="100px",c.height="100px",i.appendChild(o),document.body.appendChild(i),i.scrollLeft>0?Za="positive-descending":(i.scrollLeft=1,i.scrollLeft===0?Za="negative":Za="positive-ascending"),document.body.removeChild(i),Za}return Za}var d_=150,h_=function(i,r){return i};function m_(a){var i,r=a.getItemOffset,o=a.getEstimatedTotalSize,c=a.getItemSize,d=a.getOffsetForIndexAndAlignment,f=a.getStartIndexForOffset,h=a.getStopIndexForStartIndex,m=a.initInstanceProps,p=a.shouldResetStyleCacheOnItemSizeChange,g=a.validateProps;return i=(function(y){o_(T,y);function T(z){var v;return v=y.call(this,z)||this,v._instanceProps=m(v.props,a0(v)),v._outerRef=void 0,v._resetIsScrollingTimeoutId=null,v.state={instance:a0(v),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof v.props.initialScrollOffset=="number"?v.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},v._callOnItemsRendered=void 0,v._callOnItemsRendered=Lu(function(C,_,k,A){return v.props.onItemsRendered({overscanStartIndex:C,overscanStopIndex:_,visibleStartIndex:k,visibleStopIndex:A})}),v._callOnScroll=void 0,v._callOnScroll=Lu(function(C,_,k){return v.props.onScroll({scrollDirection:C,scrollOffset:_,scrollUpdateWasRequested:k})}),v._getItemStyle=void 0,v._getItemStyle=function(C){var _=v.props,k=_.direction,A=_.itemSize,O=_.layout,D=v._getItemStyleCache(p&&A,p&&O,p&&k),F;if(D.hasOwnProperty(C))F=D[C];else{var V=r(v.props,C,v._instanceProps),q=c(v.props,C,v._instanceProps),X=k==="horizontal"||O==="horizontal",st=k==="rtl",ft=X?V:0;D[C]=F={position:"absolute",left:st?void 0:ft,right:st?ft:void 0,top:X?0:V,height:X?"100%":q,width:X?q:"100%"}}return F},v._getItemStyleCache=void 0,v._getItemStyleCache=Lu(function(C,_,k){return{}}),v._onScrollHorizontal=function(C){var _=C.currentTarget,k=_.clientWidth,A=_.scrollLeft,O=_.scrollWidth;v.setState(function(D){if(D.scrollOffset===A)return null;var F=v.props.direction,V=A;if(F==="rtl")switch(c0()){case"negative":V=-A;break;case"positive-descending":V=O-k-A;break}return V=Math.max(0,Math.min(V,O-k)),{isScrolling:!0,scrollDirection:D.scrollOffset<V?"forward":"backward",scrollOffset:V,scrollUpdateWasRequested:!1}},v._resetIsScrollingDebounced)},v._onScrollVertical=function(C){var _=C.currentTarget,k=_.clientHeight,A=_.scrollHeight,O=_.scrollTop;v.setState(function(D){if(D.scrollOffset===O)return null;var F=Math.max(0,Math.min(O,A-k));return{isScrolling:!0,scrollDirection:D.scrollOffset<F?"forward":"backward",scrollOffset:F,scrollUpdateWasRequested:!1}},v._resetIsScrollingDebounced)},v._outerRefSetter=function(C){var _=v.props.outerRef;v._outerRef=C,typeof _=="function"?_(C):_!=null&&typeof _=="object"&&_.hasOwnProperty("current")&&(_.current=C)},v._resetIsScrollingDebounced=function(){v._resetIsScrollingTimeoutId!==null&&o0(v._resetIsScrollingTimeoutId),v._resetIsScrollingTimeoutId=f_(v._resetIsScrolling,d_)},v._resetIsScrolling=function(){v._resetIsScrollingTimeoutId=null,v.setState({isScrolling:!1},function(){v._getItemStyleCache(-1,null)})},v}T.getDerivedStateFromProps=function(v,C){return p_(v,C),g(v),null};var S=T.prototype;return S.scrollTo=function(v){v=Math.max(0,v),this.setState(function(C){return C.scrollOffset===v?null:{scrollDirection:C.scrollOffset<v?"forward":"backward",scrollOffset:v,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},S.scrollToItem=function(v,C){C===void 0&&(C="auto");var _=this.props,k=_.itemCount,A=_.layout,O=this.state.scrollOffset;v=Math.max(0,Math.min(v,k-1));var D=0;if(this._outerRef){var F=this._outerRef;A==="vertical"?D=F.scrollWidth>F.clientWidth?l0():0:D=F.scrollHeight>F.clientHeight?l0():0}this.scrollTo(d(this.props,v,C,O,this._instanceProps,D))},S.componentDidMount=function(){var v=this.props,C=v.direction,_=v.initialScrollOffset,k=v.layout;if(typeof _=="number"&&this._outerRef!=null){var A=this._outerRef;C==="horizontal"||k==="horizontal"?A.scrollLeft=_:A.scrollTop=_}this._callPropsCallbacks()},S.componentDidUpdate=function(){var v=this.props,C=v.direction,_=v.layout,k=this.state,A=k.scrollOffset,O=k.scrollUpdateWasRequested;if(O&&this._outerRef!=null){var D=this._outerRef;if(C==="horizontal"||_==="horizontal")if(C==="rtl")switch(c0()){case"negative":D.scrollLeft=-A;break;case"positive-ascending":D.scrollLeft=A;break;default:var F=D.clientWidth,V=D.scrollWidth;D.scrollLeft=V-F-A;break}else D.scrollLeft=A;else D.scrollTop=A}this._callPropsCallbacks()},S.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&o0(this._resetIsScrollingTimeoutId)},S.render=function(){var v=this.props,C=v.children,_=v.className,k=v.direction,A=v.height,O=v.innerRef,D=v.innerElementType,F=v.innerTagName,V=v.itemCount,q=v.itemData,X=v.itemKey,st=X===void 0?h_:X,ft=v.layout,L=v.outerElementType,tt=v.outerTagName,E=v.style,et=v.useIsScrolling,G=v.width,Z=this.state.isScrolling,ht=k==="horizontal"||ft==="horizontal",rt=ht?this._onScrollHorizontal:this._onScrollVertical,xt=this._getRangeToRender(),M=xt[0],B=xt[1],at=[];if(V>0)for(var nt=M;nt<=B;nt++)at.push(I.createElement(C,{data:q,key:st(nt,q),index:nt,isScrolling:et?Z:void 0,style:this._getItemStyle(nt)}));var lt=o(this.props,this._instanceProps);return I.createElement(L||tt||"div",{className:_,onScroll:rt,ref:this._outerRefSetter,style:nf({position:"relative",height:A,width:G,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:k},E)},I.createElement(D||F||"div",{children:at,ref:O,style:{height:ht?"100%":lt,pointerEvents:Z?"none":void 0,width:ht?lt:"100%"}}))},S._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var v=this.props.itemCount;if(v>0){var C=this._getRangeToRender(),_=C[0],k=C[1],A=C[2],O=C[3];this._callOnItemsRendered(_,k,A,O)}}if(typeof this.props.onScroll=="function"){var D=this.state,F=D.scrollDirection,V=D.scrollOffset,q=D.scrollUpdateWasRequested;this._callOnScroll(F,V,q)}},S._getRangeToRender=function(){var v=this.props,C=v.itemCount,_=v.overscanCount,k=this.state,A=k.isScrolling,O=k.scrollDirection,D=k.scrollOffset;if(C===0)return[0,0,0,0];var F=f(this.props,D,this._instanceProps),V=h(this.props,F,D,this._instanceProps),q=!A||O==="backward"?Math.max(1,_):1,X=!A||O==="forward"?Math.max(1,_):1;return[Math.max(0,F-q),Math.max(0,Math.min(C-1,V+X)),F,V]},T})(I.PureComponent),i.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},i}var p_=function(i,r){i.children,i.direction,i.height,i.layout,i.innerTagName,i.outerTagName,i.width,r.instance},g_=m_({getItemOffset:function(i,r){var o=i.itemSize;return r*o},getItemSize:function(i,r){var o=i.itemSize;return o},getEstimatedTotalSize:function(i){var r=i.itemCount,o=i.itemSize;return o*r},getOffsetForIndexAndAlignment:function(i,r,o,c,d,f){var h=i.direction,m=i.height,p=i.itemCount,g=i.itemSize,y=i.layout,T=i.width,S=h==="horizontal"||y==="horizontal",z=S?T:m,v=Math.max(0,p*g-z),C=Math.min(v,r*g),_=Math.max(0,r*g-z+g+f);switch(o==="smart"&&(c>=_-z&&c<=C+z?o="auto":o="center"),o){case"start":return C;case"end":return _;case"center":{var k=Math.round(_+(C-_)/2);return k<Math.ceil(z/2)?0:k>v+Math.floor(z/2)?v:k}case"auto":default:return c>=_&&c<=C?c:c<_?_:C}},getStartIndexForOffset:function(i,r){var o=i.itemCount,c=i.itemSize;return Math.max(0,Math.min(o-1,Math.floor(r/c)))},getStopIndexForStartIndex:function(i,r,o){var c=i.direction,d=i.height,f=i.itemCount,h=i.itemSize,m=i.layout,p=i.width,g=c==="horizontal"||m==="horizontal",y=r*h,T=g?p:d,S=Math.ceil((T+o-y)/h);return Math.max(0,Math.min(f-1,r+S-1))},initInstanceProps:function(i){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(i){i.itemSize}});class vn{constructor(){this.tokens=[],this.currentIndex=0,this.wpm=150,this.rampStep=3,this._isPlaying=!1,this.animationFrameId=null,this.lastFrameTime=0,this.accumulatedTime=0,this.listeners=new Set,this.completionListeners=new Set,this.notifyScheduled=!1,this.loop=i=>{if(!this._isPlaying)return;if(this.lastFrameTime===0){this.lastFrameTime=i,this.animationFrameId=requestAnimationFrame(this.loop);return}const r=(i-this.lastFrameTime)/1e3;this.lastFrameTime=i;const o=Math.min(r,.1);this.accumulatedTime+=o;const c=this.currentToken;if(!c){this.finish();return}const d=60/this.wpm;let f=1;this.rampStep===0?f=2:this.rampStep===1?f=1.5:this.rampStep===2&&(f=1.2);const h=d*c.durationMultiplier*f;this.accumulatedTime>=h&&(this.advance(),this.accumulatedTime-=h),this._isPlaying&&(this.animationFrameId=requestAnimationFrame(this.loop))}}static getInstance(){return vn.instance||(vn.instance=new vn),vn.instance}get currentToken(){return this.currentIndex>=0&&this.currentIndex<this.tokens.length?this.tokens[this.currentIndex]:null}get isPlaying(){return this._isPlaying}setTokens(i){this.tokens=i,this.currentIndex>=i.length&&(this.currentIndex=0),this.notify()}clear(){this.pause(),this.tokens=[],this.currentIndex=0,this.notify()}play(){this._isPlaying||this.tokens.length!==0&&(this.currentIndex>=this.tokens.length-1&&(this.currentIndex=0),this._isPlaying=!0,this.lastFrameTime=0,this.accumulatedTime=0,this.currentIndex===0&&(this.rampStep=0),this.loop(performance.now()),this.notify())}pause(){this._isPlaying&&(this._isPlaying=!1,this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.notify())}stop(){this.pause(),this.accumulatedTime=0,this.rampStep=3,this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.notify()}toggle(){this._isPlaying?this.pause():this.play()}seek(i){const r=this._isPlaying;r&&this.pause(),this.currentIndex=Math.max(0,Math.min(i,this.tokens.length-1)),this.accumulatedTime=0,this.notify(),r&&this.play()}updateWPM(i){this.wpm=Math.max(50,Math.min(2e3,i)),this.notify()}advance(){this.currentIndex<this.tokens.length-1?(this.currentIndex++,this.rampStep<3&&this.rampStep++,this.notify()):this.finish()}finish(){this.pause(),this.currentIndex=this.tokens.length-1,this.notify(),this.completionListeners.forEach(i=>i())}subscribe(i){return this.listeners.add(i),()=>this.listeners.delete(i)}onComplete(i){return this.completionListeners.add(i),()=>this.completionListeners.delete(i)}notify(){this._isPlaying&&!this.notifyScheduled?(this.notifyScheduled=!0,queueMicrotask(()=>{this.notifyScheduled=!1,this.listeners.forEach(i=>i())})):this._isPlaying||this.listeners.forEach(i=>i())}}const y_=`
    let match;
    const regex = /([^\\s]+)(\\s*)/g;
    const punctuationRegex = /^(.+?)([.,;:!?"')\\]}\\u201C\\u201D\\u2018\\u2019\\u00BB\\u203A\\u2026\\u2014\\u2013-]+)?$/;
    const sentenceEndRegex = /[.?!\\u2026]/;
    const quoteChars = new Set(['"', '\\u201C', '\\u201D', '\\u2018', '\\u2019', "'", '\\u00AB', '\\u00BB']);
    
    function calculateORP(len) {
        if (len <= 1) return 0;
        if (len >= 2 && len <= 5) return 1;
        if (len >= 6 && len <= 10) return 2;
        return 3;
    }
    
    function processChunk() {
        let count = 0;
        
        while (count < CHUNK_SIZE) {
            match = regex.exec(text);
            if (!match) break;
            
            const fullChunk = match[1];
            const trailingSpace = match[2];
            const matchIndex = match.index;
            
            const separationMatch = fullChunk.match(punctuationRegex);
            let wordContent = fullChunk;
            let punctuationStr = "";
            
            if (separationMatch) {
                wordContent = separationMatch[1];
                punctuationStr = separationMatch[2] || "";
            }
            
            const len = wordContent.length;
            const orpIndex = (len <= 10) ? calculateORP(len) : 3;
            const leftSegment = wordContent.slice(0, orpIndex);
            const centerCharacter = wordContent[orpIndex] || "";
            const rightSegment = wordContent.slice(orpIndex + 1);
            
            // Update quote depth for dialogue tracking
            let isDialogue = quoteDepth > 0;
            for (let c of fullChunk) {
                if (c === '"' || c === '\\u201C' || c === '\\u00AB') quoteDepth++;
                else if (c === '"' || c === '\\u201D' || c === '\\u00BB') quoteDepth = Math.max(0, quoteDepth - 1);
            }
            
            // Calculate grammar-aware duration
            const duration = calcDuration(
                wordContent, 
                punctuationStr, 
                prevPunctuation,
                sentencePosition,
                isDialogue
            );
            
            // Track sentence position
            const isSentenceEnd = sentenceEndRegex.test(punctuationStr);
            if (isSentenceEnd) {
                sentencePosition = 0;
            } else {
                sentencePosition++;
            }
            prevPunctuation = punctuationStr;
            
            const isParagraphEnd = trailingSpace.indexOf('\\n') !== -1;
            
            // Add paragraph pause (scaled by WPM-aware pauseScale)
            let finalDuration = duration;
            if (isParagraphEnd) finalDuration += 2.4 * pauseScale;
            
            tokens.push({
                id: 't-' + currentTokenIndex,
                originalText: fullChunk,
                leftSegment,
                centerCharacter,
                rightSegment,
                punctuation: punctuationStr || undefined,
                durationMultiplier: finalDuration,
                isSentenceEnd,
                isParagraphEnd,
                globalIndex: currentTokenIndex,
                startOffset: matchIndex
            });

            // Insert a short explicit silent 'breath' after sentence-ending punctuation
            if (isSentenceEnd) {
                tokens.push({
                    id: 't-' + (currentTokenIndex + 1),
                    originalText: '',
                    leftSegment: '',
                    centerCharacter: '',
                    rightSegment: '',
                    punctuation: undefined,
                    durationMultiplier: 1.2 * pauseScale,
                    isSentenceEnd: false,
                    isParagraphEnd: false,
                    globalIndex: currentTokenIndex + 1,
                    startOffset: matchIndex + fullChunk.length
                });
                currentTokenIndex++;
            }
            
            currentTokenIndex++;
            count++;
        }
        
        if (!match) {
            self.postMessage(tokens);
        } else {
            setTimeout(processChunk, 0);
        }
    }
    
    processChunk();
};
`,v_=y_,na=class na{static initWorker(){if(!this.worker)try{const i=new Blob([v_],{type:"application/javascript"});this.workerUrl=URL.createObjectURL(i),this.worker=new Worker(this.workerUrl),this.worker.onmessage=r=>{const o=r.data;this.isProcessing=!1,this.pendingResolve&&(this.pendingResolve(o),this.pendingResolve=null,this.pendingReject=null)},this.worker.onerror=r=>{console.error("RSVP Worker Error",r),this.isProcessing=!1,this.pendingReject&&(this.pendingReject(r),this.pendingResolve=null,this.pendingReject=null),this.terminate()}}catch(i){console.error("Failed to initialize RSVP Worker",i)}}static async process(i,r=0,o=200){return this.isProcessing&&this.pendingReject&&(this.pendingReject(new Error("Cancelled by new process request")),this.pendingResolve=null,this.pendingReject=null,this.terminate()),this.worker||this.initWorker(),new Promise((c,d)=>{this.pendingResolve=c,this.pendingReject=d,this.isProcessing=!0,this.worker?this.worker.postMessage({text:i,startingIndex:r,wpm:o}):d(new Error("Worker failed to initialize"))})}static terminate(){this.worker&&(this.worker.terminate(),this.worker=null),this.workerUrl&&(URL.revokeObjectURL(this.workerUrl),this.workerUrl=null),this.isProcessing=!1}};na.worker=null,na.workerUrl=null,na.pendingResolve=null,na.pendingReject=null,na.isProcessing=!1;let sf=na;var bn=(a=>(a.IDLE="IDLE",a.PLAYING="PLAYING",a.PAUSED="PAUSED",a.FINISHED="FINISHED",a))(bn||{});class mn{constructor(){this.state="IDLE",this.listeners=new Set,this.lastSavedIndex=-1,this.lastContentRef=null,this.preparationPromise=null,this.wakeLock=null,this.notifyScheduled=!1,this.heartbeat=vn.getInstance(),this.core=Pe.getInstance(),this.heartbeat.subscribe(()=>this.handleHeartbeatUpdate()),this.heartbeat.onComplete(()=>{this.state="FINISHED",this.releaseWakeLock(),this.notify()});const i=Cn.getInstance(),r=i.getSettings().rsvpSpeed;this.updateWPM(r),i.subscribe(()=>{const o=i.getSettings().rsvpSpeed;this.heartbeat.wpm!==o&&this.updateWPM(o)}),document.addEventListener("visibilitychange",async()=>{this.wakeLock!==null&&document.visibilityState==="visible"&&this.state==="PLAYING"&&await this.requestWakeLock()})}static getInstance(){return mn.instance||(mn.instance=new mn),mn.instance}async prepare(i,r={}){if(this.lastContentRef===i&&this.heartbeat.tokens.length>0){this.applyConfig(r);return}if(this.preparationPromise)try{if(await this.preparationPromise,this.lastContentRef===i){this.applyConfig(r);return}}catch{}this.preparationPromise=(async()=>{try{const o=await sf.process(i,0,this.heartbeat.wpm);this.heartbeat.setTokens(o),this.lastContentRef=i}finally{this.preparationPromise=null}})(),await this.preparationPromise,this.applyConfig(r)}applyConfig(i){const r=this.heartbeat.tokens;let o=0;if(i.index!==void 0)o=Math.max(0,Math.min(i.index,r.length-1));else if(i.offset!==void 0){const c=i.offset,d=r.findIndex(f=>f.startOffset>=c);d!==-1?o=d:o=Math.max(0,r.length-1)}else{const c=i.progress??0;o=Math.max(0,Math.min(Math.floor(r.length*c),r.length-1))}this.heartbeat.seek(o),this.state="PAUSED",this.lastSavedIndex=o,this.notify()}togglePlay(){this.state==="PLAYING"?this.pause():this.play()}play(){this.state==="FINISHED"&&(this.heartbeat.seek(0),this.state="PAUSED",Ne.impactMedium()),this.heartbeat.tokens.length!==0&&(this.state="PLAYING",this.heartbeat.play(),this.requestWakeLock(),this.notify())}pause(i=!1){if(this.state="PAUSED",this.heartbeat.pause(),this.releaseWakeLock(),!i){const r=this.heartbeat.currentIndex,c=Math.max(0,r-1);c!==r&&this.heartbeat.seek(c)}this.syncProgressToCore(!0),this.notify()}seekRelative(i){const r=this.heartbeat.currentIndex,o=r+i;o!==r&&(this.state==="PLAYING"&&this.pause(!0),this.heartbeat.seek(o),this.syncProgressToCore(!0))}shutdown(i=!0){i&&this.syncProgressToCore(!0),this.heartbeat.stop(),this.state="IDLE",this.releaseWakeLock(),this.lastContentRef=null,this.heartbeat.clear(),this.notify()}updateWPM(i){this.heartbeat.updateWPM(i)}async requestWakeLock(){if("wakeLock"in navigator)try{this.wakeLock=await navigator.wakeLock.request("screen")}catch(i){console.warn("Wake Lock request failed:",i)}}releaseWakeLock(){this.wakeLock&&this.wakeLock.release().then(()=>{this.wakeLock=null}).catch(i=>console.error(i))}handleHeartbeatUpdate(){!this.heartbeat.isPlaying&&this.state==="PLAYING"&&(this.state="PAUSED",this.releaseWakeLock());const i=this.heartbeat.currentIndex;Math.abs(i-this.lastSavedIndex)>=100&&(this.syncProgressToCore(),this.lastSavedIndex=i),this.notify()}syncProgressToCore(i=!1){if(this.heartbeat.tokens.length===0)return;const o=this.heartbeat.currentToken,c=this.heartbeat.currentIndex;o?this.core.syncFromRSVP(o.startOffset,c):c>0&&this.core.saveProgress(c)}subscribe(i){return this.listeners.add(i),()=>this.listeners.delete(i)}notify(){this.notifyScheduled||(this.notifyScheduled=!0,queueMicrotask(()=>{this.notifyScheduled=!1,this.listeners.forEach(i=>i())}))}}class b_{constructor(){this._content="",this.attributes={},this.layoutManagers=[]}get string(){return this._content}set string(i){this._content=i}addLayoutManager(i){this.layoutManagers.push(i)}}class x_{constructor(i){this.widthTracksTextView=!1,this.heightTracksTextView=!1,this.lineFragmentPadding=5,this.size=i}}class u0{constructor(i){this.textContainers=[],this.id=i}addTextContainer(i){this.textContainers.push(i)}enumerateTextSegments(i,r,o){o({x:0,y:0,width:0,height:0})}}class Pe{constructor(){this.listeners=new Set,this.jumpListeners=new Set,this.offsetJumpListeners=new Set,this.progressListeners=new Set,this.isLoading=!1,this.loadingProgress=0,this.currentBook=null,this.currentProgress=0,this.isRSVPMode=!1,this.globalCharacterOffset=0,this.userSelectionOffset=null,this.totalTokens=1,this.chapterTokenOffsets=[],this._loadTimestamp=0,this._lastSavedTokenIndex=-1,this._userIntentionalRewind=!1,this.contentStorage=new b_,this.primaryLayout=new u0("primary"),this.ghostLayout=new u0("ghost"),this.configurePipeline(),Cn.getInstance().subscribe(()=>this.updateTypography())}static getInstance(){return Pe.instance||(Pe.instance=new Pe),Pe.instance}configurePipeline(){this.contentStorage.addLayoutManager(this.primaryLayout),this.contentStorage.addLayoutManager(this.ghostLayout)}async load(i){var o;this._loadTimestamp=Date.now(),this._lastSavedTokenIndex=-1,this._userIntentionalRewind=!1,this.isLoading=!0,this.loadingProgress=.1,this.notify();const r={...i};if(((o=this.currentBook)==null?void 0:o.id)===i.id&&this.contentStorage.string.length>0){r.lastTokenIndex!==void 0&&(this.currentBook.lastTokenIndex=r.lastTokenIndex,this.totalTokens>0&&(this.currentProgress=Math.min(1,r.lastTokenIndex/this.totalTokens))),this.currentBook.bookmarkProgress=r.bookmarkProgress||this.currentProgress,this.isLoading=!1,this.loadingProgress=1,this.notify();return}this.unload(),this.notify(),await new Promise(c=>setTimeout(c,50));try{const c=r.chapters?[...r.chapters]:[];c.sort((m,p)=>m.sortOrder-p.sortOrder),this.chapterTokenOffsets=[];let d=0;const f=[],h=c.length;for(let m=0;m<h;m++){m%3===0&&(this.loadingProgress=.1+.8*(m/h),this.notify(),await new Promise(T=>setTimeout(T,0)));const g=(c[m].content||"").replace(/<(?:.|\n)*?>/gm," ").replace(/&nbsp;/g," ").replace(/\s+/g," ").trim(),y=Ja(g);this.chapterTokenOffsets.push(d),d+=y,f.push(g)}this.totalTokens=Math.max(1,d),this.contentStorage.string=f.join(`

`),this.currentBook=r,r.lastTokenIndex!==void 0?(this.currentBook.lastTokenIndex=r.lastTokenIndex,this.currentProgress=Math.min(1,r.lastTokenIndex/this.totalTokens)):(this.currentProgress=r.bookmarkProgress||0,this.currentProgress>0&&(this.currentBook.lastTokenIndex=Math.floor(this.currentProgress*this.totalTokens))),this.currentBook.bookmarkProgress=this.currentProgress,this.updateTypography(),mn.getInstance().prepare(this.contentStorage.string).catch(()=>{})}catch(c){console.error("[TitanCore] Critical Error loading book:",c)}finally{this.isLoading=!1,this.loadingProgress=1,this.notify()}}unload(){this.currentBook=null,this.contentStorage.string="",this.userSelectionOffset=null,this.isRSVPMode=!1,this.totalTokens=1,this.chapterTokenOffsets=[]}updateTypography(){const i=Cn.getInstance().getSettings();let r='"New York Extra Large", "Times New Roman", serif';i.fontFamily==="SF Pro"&&(r='"SF Pro Rounded", -apple-system, sans-serif'),i.fontFamily==="OpenDyslexic"&&(r='"OpenDyslexic", "Comic Sans MS", sans-serif'),i.fontFamily==="Atkinson Hyperlegible"&&(r='"Atkinson Hyperlegible", sans-serif');const o=i.fontSize<18?"500":i.fontSize>32?"300":"400";this.contentStorage.attributes={fontFamily:r,fontSize:`${i.fontSize}px`,lineHeight:`${i.lineHeight}`,paragraphSpacing:`${i.paragraphSpacing}px`,letterSpacing:"0.2px",fontWeight:o,color:"inherit"},this.notify()}updateLayout(i){this.primaryLayout.textContainers=[];const r=new x_(i);r.widthTracksTextView=!0,this.primaryLayout.addTextContainer(r),this.notify()}saveProgress(i,r=!1){if(!this.currentBook||typeof i!="number"||i<0||i===this._lastSavedTokenIndex&&!r)return;r&&i===0&&(this._userIntentionalRewind=!0);const o=Date.now()-this._loadTimestamp,c=this.currentBook.lastTokenIndex||0;if(i===0&&c>50&&o<3e3&&!this._userIntentionalRewind)return;this._lastSavedTokenIndex=i,this.currentBook.lastTokenIndex=i;let d=0;this.totalTokens>0&&(d=i/this.totalTokens),(isNaN(d)||!isFinite(d))&&(d=0),this.currentProgress=Math.min(1,Math.max(0,d)),this.currentBook.bookmarkProgress=this.currentProgress,this.currentBook.lastOpened=new Date,this.currentProgress>=.99&&(this.currentBook.isFinished=!0),this.progressListeners.forEach(f=>f(this.currentProgress)),this.notify()}restorePosition(i,r){return 0}jump(i){if(this.currentProgress=Math.max(0,Math.min(1,i)),this.currentBook&&this.totalTokens>0){const r=Math.floor(i*this.totalTokens);this.currentBook.lastTokenIndex=r,this.currentBook.bookmarkProgress=this.currentProgress,this.jumpListeners.forEach(o=>o(i)),this.progressListeners.forEach(o=>o(i))}this.notify()}jumpToChapter(i){if(i<0||i>=this.chapterTokenOffsets.length)return;const r=this.chapterTokenOffsets[i];i===0&&(this._userIntentionalRewind=!0),this.currentBook.lastTokenIndex=r,this.totalTokens>0&&(this.currentProgress=r/this.totalTokens,this.currentBook.bookmarkProgress=this.currentProgress),this.jumpListeners.forEach(o=>o(this.currentProgress)),this.progressListeners.forEach(o=>o(this.currentProgress)),this.notify()}syncFromRSVP(i,r){this.globalCharacterOffset=i,this.saveProgress(r),this.offsetJumpListeners.forEach(o=>o(i))}selectText(i){this.userSelectionOffset=i,this.notify()}onJump(i){return this.jumpListeners.add(i),()=>this.jumpListeners.delete(i)}onOffsetJump(i){return this.offsetJumpListeners.add(i),()=>this.offsetJumpListeners.delete(i)}onProgress(i){return this.progressListeners.add(i),()=>this.progressListeners.delete(i)}rectForRange(i){return null}subscribe(i){return this.listeners.add(i),()=>this.listeners.delete(i)}notify(){this.listeners.forEach(i=>i())}}const S_=I.memo(({token:a,isActive:i,theme:r})=>w.jsx("span",{id:`w-${a.globalIndex}`,"data-idx":a.globalIndex,"data-off":a.startOffset,className:`inline py-0.5 rounded-[2px] cursor-pointer select-none transition-colors duration-200 ${i?"":"hover:opacity-60"}`,style:{backgroundColor:i?r.accent:"transparent",color:i?"#FFFFFF":"inherit",boxDecorationBreak:"clone",WebkitBoxDecorationBreak:"clone"},children:a.originalText})),Iy=I.memo(({text:a,settings:i,startTokenIndex:r,onParagraphClick:o})=>w.jsx("p",{id:`p-${r}`,"data-start-index":r,onClick:()=>o(r),className:"max-w-[60ch] mx-auto box-border relative cursor-pointer hover:opacity-100 transition-opacity scroll-mt-32",style:{fontSize:`${i.fontSize}px`,lineHeight:i.lineHeight,marginBottom:i.paragraphSpacing,fontFamily:i.fontFamily==="New York"?"serif":"sans-serif",color:"inherit",opacity:.9,whiteSpace:"pre-line",textAlign:"justify",hyphens:"auto",WebkitHyphens:"auto"},children:a})),Fy=I.memo(({tokens:a,activeIndex:i,onWordClick:r,settings:o,theme:c,startTokenIndex:d})=>{const f=I.useCallback(h=>{const m=h.target;if(m.dataset.idx){h.stopPropagation();const p=parseInt(m.dataset.idx||"-1"),g=parseInt(m.dataset.off||"0");p>=0&&r(p,g)}},[r]);return w.jsx("p",{id:`p-${d}`,"data-start-index":d,onClick:f,className:"max-w-[60ch] mx-auto box-border relative scroll-mt-32",style:{fontSize:`${o.fontSize}px`,lineHeight:o.lineHeight,marginBottom:o.paragraphSpacing,fontFamily:o.fontFamily==="New York"?"serif":"sans-serif",opacity:.9,whiteSpace:"pre-line",textAlign:"justify",hyphens:"auto",WebkitHyphens:"auto"},children:a.map((h,m)=>w.jsxs(Yo.Fragment,{children:[w.jsx(S_,{token:h,isActive:h.globalIndex===i,theme:c})," "]},h.id))})});I.memo(({sectionIndex:a,paragraphs:i,activeParagraphIndex:r,activeIndex:o,onWordClick:c,onParagraphClick:d,settings:f,theme:h})=>w.jsx("div",{children:i.map((m,p)=>{const g=a*30+p;return Math.abs(g-r)<=1?w.jsx(Fy,{startTokenIndex:m.startIndex,tokens:m.tokens,activeIndex:o,onWordClick:c,settings:f,theme:h},g):w.jsx(Iy,{text:m.plainText,settings:f,startTokenIndex:m.startIndex,onParagraphClick:d},g)})}));const w_=({book:a,onToggleChrome:i,onRequestRSVP:r,isActive:o})=>{I.useEffect(()=>{console.log("[TitanReaderView] Book open effect triggered for",a.title,"at",new Date().toISOString());const wt=performance.now();return()=>{const Ct=performance.now();console.log(`[TitanReaderView] Book open effect cleanup for ${a.title} after ${(Ct-wt).toFixed(2)}ms`)}},[a.id]);const c=Pe.getInstance(),d=mn.getInstance(),f=vn.getInstance(),h=Re(),{settings:m}=is(),p=I.useRef(null),[g,y]=I.useState([]),[T,S]=I.useState(-1),z=I.useRef(-1),[v,C]=I.useState(!1),[_,k]=I.useState(0),[A,O]=I.useState(!1),[D,F]=I.useState(0),[V,q]=I.useState("book"),[X,st]=I.useState(""),[ft,L]=I.useState(!1),[tt,E]=I.useState(!1);I.useEffect(()=>{if(!v){const wt=setInterval(()=>{st(Ct=>Ct.length<3?Ct+".":"")},400);return()=>clearInterval(wt)}},[v]);const[et,G]=I.useState(!1),Z=I.useRef(!1),ht=I.useRef(null);I.useRef(null);const rt=I.useCallback(wt=>{S(wt),z.current=wt},[]),xt=I.useRef(null),M=I.useRef(null),B=I.useRef(!1),at=I.useCallback((wt,Ct)=>{xt.current={index:wt,smooth:Ct},M.current&&clearTimeout(M.current),M.current=window.setTimeout(()=>{B.current||(B.current=!0,requestAnimationFrame(()=>{const x=xt.current;if(xt.current=null,!x||!p.current){B.current=!1;return}let{index:Q,smooth:U}=x,N=document.getElementById(`w-${Q}`);if(!N){const yt=Array.from(p.current.querySelectorAll("p[data-start-index]"));let St=null,bt=-1;for(const Et of yt){const qt=parseInt(Et.dataset.startIndex||"-1");qt<=Q&&qt>bt&&(St=Et,bt=qt)}N=St}if(!N){if(c.totalTokens>0){const yt=Q/c.totalTokens,bt=p.current.scrollHeight*yt;p.current.scrollTo({top:bt,behavior:U?"smooth":"instant"})}B.current=!1;return}Z.current=!0;const R=p.current,H=R.clientHeight*.15;let ut=N.offsetTop,mt=N.offsetParent;for(;mt&&mt!==R;)ut+=mt.offsetTop,mt=mt.offsetParent;const $=ut-H;R.scrollTo({top:Math.max(0,$),behavior:U?"smooth":"instant"}),setTimeout(()=>{Z.current=!1},U?600:100),B.current=!1}))},16)},[]);I.useEffect(()=>{var U;"scrollRestoration"in history&&(history.scrollRestoration="manual"),C(!1),G(!1),Z.current=!0;const Ct=(((U=c.currentBook)==null?void 0:U.id)===a.id?c.currentBook.lastTokenIndex:void 0)??a.lastTokenIndex;Ct!==void 0&&rt(Ct);const x=c.subscribe(()=>{k(c.loadingProgress)});return(async()=>{var N;if(C(!1),G(!1),k(0),O(!1),F(0),q("book"),y([]),!a.chapters||a.chapters.length===0){console.error("[TitanReaderView] Book has no chapters! This indicates a data loading issue.",{bookId:a.id,title:a.title,hasChapters:!!a.chapters,chaptersLength:(N=a.chapters)==null?void 0:N.length}),C(!0),G(!0);return}try{q("book"),await c.load(a),k(1),q("tokenize"),O(!0);const R=c.contentStorage.string;R||console.warn("[TitanReaderView] Loaded book has no content string.");let H=0;F(.01);const ut=setInterval(()=>{H+=.07+Math.random()*.08,F(mt=>Math.min(.98,Math.max(mt,H)))},120);await d.prepare(R,{progress:0}),clearInterval(ut),F(1),O(!1)}catch(R){console.error("[TitanReaderView] Initialization pipeline failed:",R)}finally{const R=f.tokens;y(R),C(!0),requestAnimationFrame(()=>{G(!0)})}})(),()=>x()},[a.id,rt]),I.useEffect(()=>{const wt=()=>{var R;const U=(R=c.currentBook)==null?void 0:R.lastTokenIndex;if(U===void 0)return;const N=Math.abs(U-z.current);if(N>0&&(rt(U),N>10)){const H=c.isRSVPMode;at(U,H)}},Ct=U=>{if(c.totalTokens>0){const N=Math.floor(U*c.totalTokens);rt(N),at(N,c.isRSVPMode)}},x=c.subscribe(wt),Q=c.onJump(Ct);return()=>{x(),Q()}},[rt,at]),I.useEffect(()=>{const wt=mn.getInstance(),Ct=vn.getInstance();let x=wt.state;const Q=()=>{const N=wt.state;if(x==="PLAYING"&&N==="PAUSED"){const R=Ct.currentIndex;rt(R),at(R,!0)}x=N},U=wt.subscribe(Q);return()=>U()},[rt,at]),I.useLayoutEffect(()=>{if(!v||g.length===0)return;requestAnimationFrame(()=>{var x;const Ct=(((x=c.currentBook)==null?void 0:x.id)===a.id?c.currentBook.lastTokenIndex:a.lastTokenIndex)??-1;Ct<=10?(p.current&&(p.current.scrollTop=0),setTimeout(()=>{G(!0),Z.current=!1},100)):(at(Ct,!1),setTimeout(()=>G(!0),100))})},[v,g.length,a.id,at]);const nt=I.useRef(null),lt=I.useRef(-1),kt=I.useCallback(wt=>{lt.current=wt,nt.current&&clearTimeout(nt.current),nt.current=window.setTimeout(()=>{lt.current>=0&&c.saveProgress(lt.current),nt.current=null},500)},[]);I.useEffect(()=>()=>{nt.current&&(lt.current>=0&&c.saveProgress(lt.current),clearTimeout(nt.current))},[]),I.useEffect(()=>{var Q;if(!et||!o){ht.current&&ht.current.disconnect();return}ht.current&&ht.current.disconnect();const wt=U=>{if(!Z.current){for(const N of U)if(N.isIntersecting){const R=N.target,H=parseInt(R.dataset.startIndex||"-1");if(H>=0){rt(H),kt(H);break}}}},Ct={root:p.current,rootMargin:"-10% 0px -60% 0px",threshold:0};ht.current=new IntersectionObserver(wt,Ct);const x=(Q=p.current)==null?void 0:Q.querySelectorAll("p[data-start-index]");return x==null||x.forEach(U=>{var N;return(N=ht.current)==null?void 0:N.observe(U)}),()=>{var U;return(U=ht.current)==null?void 0:U.disconnect()}},[et,g.length,rt]);const zt=I.useMemo(()=>{const wt=performance.now(),Ct=[];let x=[],Q=-1;for(const N of g)x.length===0&&(Q=N.globalIndex),x.push(N),N.isParagraphEnd&&(Ct.push({tokens:x,startIndex:Q,plainText:x.map(R=>R.originalText).join(" ")}),x=[]);x.length>0&&Ct.push({tokens:x,startIndex:Q===-1?0:Q,plainText:x.map(N=>N.originalText).join(" ")});const U=performance.now();return console.log(`[TitanReaderView] Token-to-paragraph mapping took ${(U-wt).toFixed(2)}ms for ${g.length} tokens, ${Ct.length} paragraphs.`),Ct},[g]),vt=I.useCallback((wt,Ct)=>{rt(wt),c.saveProgress(wt),r&&r(Ct,wt)},[r,rt]),Tt=I.useCallback(wt=>{rt(wt),c.saveProgress(wt)},[rt]),gt=I.useMemo(()=>zt.findIndex(wt=>T>=wt.startIndex&&T<wt.startIndex+wt.tokens.length),[zt,T]),_t=I.useCallback(({index:wt,style:Ct})=>{const x=zt[wt];if(!x)return null;const Q=Math.abs(wt-gt)<=1;return w.jsx("div",{style:Ct,children:Q?w.jsx(Fy,{startTokenIndex:x.startIndex,tokens:x.tokens,activeIndex:T,onWordClick:vt,settings:m,theme:h}):w.jsx(Iy,{text:x.plainText,settings:m,startTokenIndex:x.startIndex,onParagraphClick:Tt})},x.startIndex)},[zt,gt,T,vt,Tt,m,h]);return w.jsxs("div",{ref:p,className:"absolute inset-0 z-10 w-full h-full overflow-y-auto overflow-x-hidden custom-scrollbar box-border",style:{backgroundColor:h.background,color:h.primaryText,scrollBehavior:"auto",WebkitOverflowScrolling:"touch",touchAction:"pan-y",overscrollBehaviorY:"contain",transform:"translateZ(0)"},onClick:wt=>{wt.target===wt.currentTarget&&i()},children:[!v&&w.jsxs(w.Fragment,{children:[w.jsx("div",{style:{position:"fixed",top:0,left:0,zIndex:9999,color:"red",background:"white",fontSize:"12px",padding:"2px"},children:"[TitanReaderView] Waiting for isReady..."}),w.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[100] pointer-events-auto",style:{backgroundColor:h.background},children:w.jsxs("div",{className:"w-12 h-12 relative",children:[w.jsx("div",{className:"absolute inset-0 rounded-full border-2 opacity-20",style:{borderColor:h.accent}}),w.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-t-transparent animate-spin",style:{borderColor:h.accent,borderTopColor:"transparent"}})]})})]}),v&&g.length===0&&w.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[50] pointer-events-none",style:{backgroundColor:h.background},children:w.jsxs("div",{className:"flex flex-col items-center gap-4 px-8 text-center",children:[w.jsx("div",{className:"text-4xl opacity-30",children:""}),w.jsx("span",{className:"text-lg font-medium",style:{color:h.secondaryText},children:"No content available"}),w.jsx("span",{className:"text-sm opacity-60",style:{color:h.secondaryText},children:"This book appears to be empty or failed to load."})]})}),w.jsxs("div",{className:"w-full min-h-[100dvh] px-6 md:px-0 py-24 md:py-32 box-border relative",children:[w.jsx(g_,{height:window.innerHeight*.7,itemCount:zt.length,itemSize:120,width:"100%",overscanCount:4,children:_t}),w.jsx("div",{className:"h-[40vh]"})]})]})},T_=({onTap:a,onLongPressExit:i,onRewindStateChange:r})=>{const o=mn.getInstance(),c=vn.getInstance(),d=Re(),{settings:f}=is(),h=I.useRef(null),m=I.useRef(null),[p,g]=I.useState(0),[y,T]=I.useState([]),[S,z]=I.useState(!1),[v,C]=I.useState(0),[_,k]=I.useState(!1),A=I.useRef(-1),O=I.useRef([]),D=I.useRef({x:0,y:0,time:0}),F=I.useRef(null),V=I.useRef(null),q=I.useRef(0),X=I.useRef(new Map),st=300,ft="#E25822",L=35.5,tt="clamp(2.5rem, 10vw, 4rem)";I.useEffect(()=>{T(c.tokens),O.current=c.tokens,A.current=c.currentIndex,g(c.currentIndex),z(o.state===bn.PLAYING);const vt=()=>{const _t=c.currentIndex,wt=o.state===bn.PLAYING,Ct=c.tokens;z(wt);const x=Ct!==O.current,Q=_t!==A.current;x&&(T(Ct),O.current=Ct),Q&&(A.current=_t,g(_t))},Tt=o.subscribe(vt),gt=c.subscribe(vt);return vt(),()=>{Tt(),gt()}},[]);const E=I.useMemo(()=>y[p]||null,[y,p]),et=!S||f.showGhostPreview,G=5,Z=I.useMemo(()=>{if(y.length===0)return[];if(!et)return E?[{token:E,globalIdx:p}]:[];const vt=Math.max(0,p-G),Tt=Math.min(y.length-1,p+G);return y.slice(vt,Tt+1).map((gt,_t)=>({token:gt,globalIdx:vt+_t}))},[y,p,et,G,E]);I.useLayoutEffect(()=>{var Ct;if(!m.current)return;const vt=m.current,Tt=Array.from(vt.children),_t=(((Ct=h.current)==null?void 0:Ct.clientWidth)||window.innerWidth)*(L/100);X.current.clear(),Tt.forEach(x=>{const Q=parseInt(x.dataset.idx||"0"),U=x.getBoundingClientRect(),N=vt.getBoundingClientRect(),R=U.left-N.left;let H=R+U.width/2;if(Q===p&&E)try{x.removeChild(measureSpan),measureSpan.textContent=text.substring(0,focusCharIdx),x.appendChild(measureSpan);const ut=measureSpan.getBoundingClientRect().width;x.removeChild(measureSpan);const mt=Math.max(0,uptoInclusive-ut),$=ut+mt/2;H=R+$}catch{H=R+U.width/2}X.current.set(Q,{left:R,width:U.width,center:H})});const wt=X.current.get(p);if(wt){const x=_t-wt.center;try{document.documentElement.style.setProperty("--rsvp-center-delta",`${x.toFixed(2)}px`)}catch{}C(x)}},[Z,p,E]),I.useEffect(()=>()=>{F.current&&clearTimeout(F.current),V.current&&clearInterval(V.current)},[]);const ht=vt=>{var Tt,gt;if(vt.stopPropagation(),(gt=(Tt=vt.target).setPointerCapture)==null||gt.call(Tt,vt.pointerId),!S){i==null||i();return}D.current={x:vt.clientX,y:vt.clientY,time:Date.now()},F.current=setTimeout(()=>{k(!0),Ne.impactLight(),q.current=p,o.pause(),V.current=setInterval(()=>{q.current=Math.max(0,q.current-1),g(q.current),Ne.selectionChanged()},300)},st)},rt=vt=>{if(_){const Tt=Math.abs(vt.clientX-D.current.x),gt=Math.abs(vt.clientY-D.current.y);(Tt>50||gt>50)&&B()}},xt=vt=>{var Tt,gt;(gt=(Tt=vt.target).releasePointerCapture)==null||gt.call(Tt,vt.pointerId),F.current&&(clearTimeout(F.current),F.current=null,S&&(o.state===bn.PLAYING?o.pause(!0):o.play())),B()},M=vt=>{var Tt,gt;(gt=(Tt=vt.target).releasePointerCapture)==null||gt.call(Tt,vt.pointerId),F.current&&(clearTimeout(F.current),F.current=null),B()},B=()=>{_&&(V.current&&(clearInterval(V.current),V.current=null),k(!1),c.pause(),c.currentIndex=Math.max(0,Math.min(q.current,c.tokens.length-1)),typeof c.subscribe=="function"&&c.seek(c.currentIndex),o.play(),Ne.impactMedium())};if(I.useEffect(()=>{!_&&p!==c.currentIndex&&g(c.currentIndex)},[_]),I.useEffect(()=>{r==null||r(_)},[_,r]),!E)return null;const nt=(vt=>Math.floor(vt.length/2))(E.originalText),lt=E.originalText.slice(0,nt),kt=E.originalText[nt]||"",zt=E.originalText.slice(nt+1);return w.jsxs("div",{ref:h,className:"absolute inset-0 select-none overflow-hidden touch-none",style:{backgroundColor:d.background},onPointerDown:ht,onPointerMove:rt,onPointerUp:xt,onPointerCancel:M,onPointerLeave:M,children:[!S&&w.jsx("div",{className:"absolute inset-0 z-0 flex items-center justify-center pointer-events-auto",style:{opacity:.18,fontSize:"2.5rem",color:d.primaryText,userSelect:"none"},children:w.jsx("span",{children:y.slice(Math.max(0,p-20),p+20).map(vt=>vt.originalText).join(" ")})}),w.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundColor:d.background,opacity:.95}}),w.jsx("div",{className:"absolute inset-0 z-10 pointer-events-none",style:{background:`radial-gradient(ellipse 80% 50% at ${L}% 42%, transparent 0%, ${d.background} 100%)`}}),w.jsx("div",{className:"absolute top-[20%] bottom-[20%] w-[2px] z-0 pointer-events-none transition-all duration-200",style:{left:`${L}%`,backgroundColor:ft,opacity:_?.6:.15,boxShadow:_?`0 0 30px ${ft}80`:"none"}}),w.jsxs("div",{className:"absolute inset-x-0 top-[42%] -translate-y-1/2 flex items-center justify-start overflow-visible z-20",children:[et&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"absolute left-0 top-[-50%] bottom-[-50%] w-32 z-30 pointer-events-none",style:{background:`linear-gradient(to right, ${d.background}, transparent)`}}),w.jsx("div",{className:"absolute right-0 top-[-50%] bottom-[-50%] w-32 z-30 pointer-events-none",style:{background:`linear-gradient(to left, ${d.background}, transparent)`}})]}),w.jsx("div",{ref:m,className:"flex items-baseline gap-5 whitespace-nowrap",style:{transform:`translateX(${v}px)`,transition:_?"transform 0.05s linear":"none",opacity:_?.85:1},children:Z.map(({token:vt,globalIdx:Tt})=>{const gt=Tt===p,_t=Math.abs(Tt-p),wt=Math.max(.12,.55-_t*.1);return gt?w.jsxs("span",{"data-idx":Tt,className:"inline-flex items-baseline font-sans font-semibold cursor-pointer transition-opacity hover:opacity-100",style:{fontSize:tt},children:[w.jsx("span",{style:{color:d.primaryText},children:lt}),w.jsx("span",{style:{color:ft,textShadow:_?`0 0 10px ${ft}60`:`0 0 20px ${ft}40`},children:kt}),w.jsx("span",{style:{color:d.primaryText},children:zt}),vt.punctuation&&w.jsx("span",{style:{color:d.secondaryText,opacity:.5,marginLeft:"1px"},children:vt.punctuation})]},vt.id):w.jsx("span",{"data-idx":Tt,className:"font-sans cursor-pointer transition-opacity hover:opacity-100",style:{fontSize:tt,fontWeight:400,color:d.primaryText,opacity:wt},children:vt.originalText},vt.id)})})]})]})},__=({book:a,currentProgress:i,preciseThresholds:r,onSelectChapter:o,onSelect:c,onClose:d,readSpeed:f})=>{const h=Re(),m=I.useRef(null),p=I.useMemo(()=>!a.chapters||a.chapters.length===0?[]:a.chapters.map((S,z)=>{const v=r[z]??0;let C=S.title.trim();const _=C.match(/^(?:chapter|part|book|letter|section)\s+(?:[\divxlcdm]+)\s*[:.-]\s+(.+)$/i),k=C.match(/^\d+\.\s+(.+)$/i);_&&_[1]?C=_[1]:k&&k[1]&&(C=k[1]);const A=Math.ceil(S.wordCount/f);return{original:S,index:z,cleanTitle:C,startProgress:v,durationLabel:A<1?"< 1m":`${A}m`}}),[a,f,r]),g=I.useMemo(()=>{let S=0;for(let z=0;z<p.length&&i>=p[z].startProgress-1e-4;z++)S=z;return S},[p,i]);I.useEffect(()=>{if(m.current){const z=Math.max(0,g*64-100);m.current.scrollTo({top:z,behavior:"smooth"})}},[]);const y=S=>{Ne.impactMedium(),o?o(S):c&&c(p[S].startProgress),d()},T=I.useRef(Date.now());return w.jsxs("div",{className:"absolute bottom-full mb-4 left-2 right-2 z-50 flex flex-col max-h-[60vh] rounded-3xl overflow-hidden shadow-2xl border backdrop-blur-3xl origin-bottom animate-slideUp",style:{backgroundColor:`${h.dimmer}f5`,borderColor:h.borderColor},children:[w.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b shrink-0",style:{borderColor:h.borderColor},children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-base font-bold lowercase",style:{color:h.primaryText},children:"chapters"}),w.jsxs("span",{className:"text-[10px] opacity-40",style:{color:h.secondaryText},children:[p.length," ",p.length!==1?"sections":"section"]})]}),w.jsx("button",{onClick:d,className:"w-11 h-11 rounded-full flex items-center justify-center transition-all active:scale-95",style:{backgroundColor:`${h.primaryText}08`,color:h.primaryText},children:w.jsx(tf,{size:20})})]}),w.jsx("div",{ref:m,className:"overflow-y-auto custom-scrollbar px-2 pb-4 pt-1",children:p.map((S,z)=>{const v=z===g;return w.jsxs("button",{onClick:()=>y(S.index),className:`w-full text-left flex items-center gap-3 p-3 rounded-2xl transition-all duration-200 group ${v?"shadow-md":"hover:bg-white/5 opacity-50"}`,style:{backgroundColor:v?h.surface:"transparent"},children:[w.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 transition-all ${v?"bg-white/5":"bg-transparent"}`,style:{color:v?h.accent:h.secondaryText},children:v?w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"absolute inset-0 bg-current opacity-30 animate-ping rounded-full"}),w.jsx("div",{className:"w-2.5 h-2.5 bg-current rounded-full"})]}):w.jsx("span",{className:"text-xs font-semibold opacity-40 tabular-nums",children:z+1})}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsx("h4",{className:"text-sm font-semibold truncate lowercase",style:{color:h.primaryText},children:S.cleanTitle}),S.cleanTitle!==S.original.title&&w.jsx("span",{className:"text-[10px] opacity-30 truncate block",style:{color:h.primaryText},children:S.original.title})]}),w.jsx("div",{className:"flex items-center gap-1 opacity-40 shrink-0",style:{color:h.primaryText},children:w.jsx("span",{className:"text-[11px] font-medium tabular-nums",children:S.durationLabel})})]},S.original.id)})})]},T.current)},C_=({book:a,onToggleRSVP:i,isRSVPActive:r,isRewinding:o=!1,onSettingsClick:c})=>{const d=Pe.getInstance(),f=mn.getInstance(),h=vn.getInstance(),{settings:m,updateSettings:p}=is(),g=Re(),[y,T]=I.useState(!1),[S,z]=I.useState(!1),[v,C]=I.useState(0),[_,k]=I.useState(0),[A,O]=I.useState(!1),D=I.useRef(!1),F=I.useRef(null),V=I.useRef(null),q=I.useRef(null),X=I.useRef(!1),st=I.useRef(null),ft=I.useRef(0),L=I.useRef(0),tt=I.useRef(!1),E=I.useRef(0),et=I.useRef(0),G=g.accent,Z=I.useMemo(()=>{if(d.chapterTokenOffsets.length>0&&d.totalTokens>0)return d.chapterTokenOffsets.map(wt=>wt/d.totalTokens);if(!a.chapters||a.chapters.length===0)return[];const gt=a.chapters.reduce((wt,Ct)=>wt+Ct.wordCount,0);if(gt===0)return a.chapters.map((wt,Ct)=>Ct/a.chapters.length);let _t=0;return a.chapters.map(wt=>{const Ct=_t/gt;return _t+=wt.wordCount,Ct})},[a,d.chapterTokenOffsets,d.totalTokens]),ht=I.useCallback(gt=>{const _t=Math.max(1,h.tokens.length||d.totalTokens),wt=Math.floor(gt*_t),Ct=_t-wt,x=m.rsvpSpeed||250,Q=Math.ceil(Ct/x);if(Q<1)return"< 1m";if(Q>=60){const U=Math.floor(Q/60),N=Q%60;return`${U}h ${N}m`}return`${Q}m`},[m.rsvpSpeed,h.tokens.length,d.totalTokens]),rt=I.useCallback(gt=>{if(!a.chapters||a.chapters.length===0)return"";let _t=0;for(let U=Z.length-1;U>=0;U--)if(gt>=Z[U]-1e-4){_t=U;break}const wt=a.chapters[_t];if(!wt)return"";const Ct=wt.title.trim(),x=Ct.match(/^(?:chapter|part|book|letter|section)\s+(?:[\divxlcdm]+)\s*[:.-]\s+(.+)$/i),Q=Ct.match(/^\d+\.\s+(.+)$/i);return x&&x[1]?x[1]:Q&&Q[1]?Q[1]:Ct},[a.chapters,Z]),xt=I.useRef(0),M=I.useCallback(gt=>{const _t=Math.max(0,Math.min(1,gt));if(F.current&&(F.current.style.width=`${_t*100}%`),q.current&&(q.current.style.left=`${_t*100}%`,q.current.style.transform="translateX(-50%)"),D.current)return;(Math.abs(_t-xt.current)>.005||_t===0||_t===1)&&(xt.current=_t,k(_t))},[]);I.useEffect(()=>{const gt=()=>{T(f.state===bn.PLAYING)},_t=R=>{X.current||M(R)},wt=()=>{if(!X.current&&d.isRSVPMode&&h.tokens.length>0){const R=h.currentIndex/h.tokens.length;M(R)}};gt();const Ct=d.isRSVPMode&&h.tokens.length>0?h.currentIndex/h.tokens.length:d.currentProgress;xt.current=Ct,k(Ct),M(Ct);const x=d.subscribe(gt),Q=f.subscribe(gt),U=d.onProgress(_t),N=h.subscribe(wt);return()=>{x(),Q(),U(),N()}},[M]);const B=gt=>{if(gt.preventDefault(),gt.stopPropagation(),z(!0),X.current=!0,ft.current=gt.clientY,V.current){const _t=V.current.getBoundingClientRect();L.current=Math.max(0,Math.min(1,(gt.clientX-_t.left)/_t.width))}tt.current=f.state===bn.PLAYING,tt.current&&f.pause(),lt(gt.clientX,gt.clientY,!1),gt.target.setPointerCapture(gt.pointerId)},at=gt=>{X.current&&(gt.preventDefault(),st.current&&cancelAnimationFrame(st.current),st.current=requestAnimationFrame(()=>{lt(gt.clientX,gt.clientY,!0)}))},nt=gt=>{if(X.current){if(st.current&&cancelAnimationFrame(st.current),z(!1),X.current=!1,gt.target.releasePointerCapture(gt.pointerId),V.current){const _t=V.current.getBoundingClientRect(),wt=Math.max(0,Math.min(1,(gt.clientX-_t.left)/_t.width));kt(wt)}tt.current&&f.play()}},lt=(gt,_t,wt)=>{if(!V.current)return;const Ct=V.current.getBoundingClientRect();let x=(gt-Ct.left)/Ct.width;if(wt){const U=Math.abs(_t-ft.current);let N=1;U>200?N=.1:U>100?N=.3:U>50&&(N=.6),N<1&&(x=L.current+(x-L.current)*N)}const Q=Math.max(0,Math.min(1,x));if(C(U=>(Z.some(R=>U<R&&Q>=R||U>R&&Q<=R)&&Ne.impactLight(),Q)),M(Q),d.isRSVPMode){const U=Math.max(1,h.tokens.length);h.seek(Math.floor(Q*U))}else d.jump(Q)},kt=gt=>{if(d.isRSVPMode){const _t=Math.max(1,h.tokens.length);h.seek(Math.floor(gt*_t))}else d.jump(gt)},zt=gt=>{gt.stopPropagation();const _t=Date.now();_t-E.current<300||(E.current=_t,navigator.vibrate&&navigator.vibrate(10),i())},vt=gt=>{const _t=Date.now();if(_t-et.current<80)return;et.current=_t,Ne.impactLight();const wt=m.rsvpSpeed||250,Ct=Math.max(50,Math.min(2e3,wt+gt));p({rsvpSpeed:Ct,hasCustomSpeed:!0})},Tt=gt=>{if(Ne.impactMedium(),d.isRSVPMode){if(gt<d.chapterTokenOffsets.length){const _t=d.chapterTokenOffsets[gt];h.seek(_t),d.jumpToChapter(gt)}}else d.jumpToChapter(gt)};return w.jsxs("div",{className:"w-full relative pointer-events-auto",children:[A&&w.jsx(__,{book:a,currentProgress:_,readSpeed:m.rsvpSpeed,preciseThresholds:Z,onSelectChapter:gt=>Tt(gt),onClose:()=>{D.current=!1,O(!1)}}),S&&!A&&w.jsx("div",{className:"absolute -top-12 left-0 right-0 flex justify-center pointer-events-none z-50",style:{animation:"fadeIn 300ms cubic-bezier(0.16, 1, 0.3, 1)"},children:w.jsxs("div",{className:"px-4 py-1.5 rounded-full shadow-xl border backdrop-blur-md text-xs font-bold font-variant-numeric tabular-nums flex items-center gap-2",style:{backgroundColor:g.surface,borderColor:g.borderColor,color:g.primaryText},children:[w.jsxs("span",{children:[(v*100).toFixed(0),"%"]}),w.jsx("span",{className:"opacity-30",children:"|"}),w.jsx("span",{className:"lowercase",children:ht(v)})]})}),w.jsxs("div",{className:"w-full backdrop-blur-2xl rounded-3xl shadow-2xl border overflow-hidden",style:{backgroundColor:`${g.surface}f5`,borderColor:g.borderColor},children:[w.jsxs("button",{onClick:()=>{Ne.impactLight(),!A&&f.state===bn.PLAYING&&f.pause();const gt=!A;D.current=gt,O(gt)},className:"w-full flex justify-between items-center px-5 pt-2.5 pb-0 text-[10px] font-medium select-none hover:opacity-100 transition-opacity active:scale-[0.99]",style:{color:g.primaryText,opacity:A?.8:.4},children:[w.jsxs("div",{className:"flex items-center gap-1.5 truncate max-w-[70%]",children:[w.jsx(mT,{size:10,className:"opacity-60"}),w.jsx("span",{className:"truncate lowercase",children:rt(_)})]}),w.jsx("span",{className:"tabular-nums opacity-60 text-[9px]",children:ht(_)})]}),w.jsx("div",{className:"relative h-4 w-full cursor-pointer group touch-none z-20",onPointerDown:B,onPointerMove:at,onPointerUp:nt,onPointerCancel:nt,children:w.jsxs("div",{ref:V,className:"absolute inset-x-6 inset-y-0 flex items-center",children:[w.jsxs("div",{className:"w-full h-[1.5px] rounded-full overflow-hidden relative",style:{backgroundColor:g.primaryText+"08"},children:[w.jsx("div",{ref:F,className:"absolute top-0 left-0 bottom-0 h-full will-change-transform rounded-full",style:{width:"0%",backgroundColor:G}}),I.useMemo(()=>Z.map((gt,_t)=>w.jsx("div",{className:"absolute top-0 bottom-0 w-[1px] bg-white/10",style:{left:`${gt*100}%`}},_t)),[Z])]}),w.jsx("div",{ref:q,className:`absolute top-1/2 w-3.5 h-3.5 -mt-[7px] rounded-full shadow-lg border-2 border-white transition-all duration-200 will-change-transform ${S?"scale-125":"scale-0 group-hover:scale-75"}`,style:{left:"0%",backgroundColor:g.accent,boxShadow:`0 0 10px ${g.accent}33`}})]})}),w.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center px-5 pb-4 pt-0.5",children:[w.jsxs("div",{className:"flex items-center h-11 rounded-xl overflow-hidden border",style:{borderColor:g.borderColor,backgroundColor:`${g.primaryText}05`},children:[w.jsx("button",{onClick:()=>vt(-25),className:"w-11 h-full flex items-center justify-center hover:bg-white/5 active:scale-90 transition-all outline-none",style:{color:g.secondaryText},children:w.jsx(Ly,{size:16})}),w.jsx("div",{className:"w-px h-5",style:{backgroundColor:g.borderColor}}),w.jsx("div",{className:"px-2 text-center flex items-center justify-center min-w-[44px]",children:w.jsx("span",{className:"font-variant-numeric tabular-nums text-xs font-semibold",style:{color:g.primaryText},children:m.rsvpSpeed})}),w.jsx("div",{className:"w-px h-5",style:{backgroundColor:g.borderColor}}),w.jsx("button",{onClick:()=>vt(25),className:"w-11 h-full flex items-center justify-center hover:bg-white/5 active:scale-90 transition-all outline-none",style:{color:g.secondaryText},children:w.jsx(Vf,{size:16})})]}),w.jsx("div",{className:"flex items-center justify-center px-4",children:w.jsx("button",{onClick:zt,className:"w-12 h-12 rounded-full flex items-center justify-center shadow-lg relative text-white border border-white/10 hover:scale-105 active:scale-95 transition-all outline-none",style:{backgroundColor:G,boxShadow:`0 6px 24px -4px ${G}66`},children:o?w.jsx(NT,{size:20,className:"fill-white animate-pulse"}):r&&y?w.jsx(wT,{size:20,className:"fill-white"}):w.jsx(Uf,{size:20,className:"fill-white ml-0.5"})})}),w.jsxs("div",{className:"flex items-center gap-2",children:[r&&w.jsx("button",{className:"flex items-center justify-center w-11 h-11 rounded-xl border transition-all outline-none active:scale-95",style:{borderColor:m.showGhostPreview?g.accent+"40":g.borderColor,backgroundColor:m.showGhostPreview?`${g.accent}15`:`${g.primaryText}05`,color:m.showGhostPreview?g.accent:g.secondaryText},onClick:gt=>{gt.stopPropagation(),Ne.impactLight(),p({showGhostPreview:!m.showGhostPreview})},title:m.showGhostPreview?"Hide word preview":"Show word preview",children:w.jsx(If,{size:16,className:m.showGhostPreview?"fill-current":""})}),w.jsxs("button",{className:"flex items-center justify-center h-11 gap-2 rounded-xl border hover:bg-white/5 active:scale-95 transition-all outline-none px-3",style:{borderColor:g.borderColor,backgroundColor:`${g.primaryText}05`},onClick:gt=>{gt.stopPropagation(),c()},children:[w.jsx(ar,{size:16,style:{color:g.secondaryText}}),w.jsx("div",{className:"w-px h-4",style:{backgroundColor:g.borderColor}}),w.jsxs("div",{className:"flex items-baseline gap-0.5 opacity-60",children:[w.jsx(ar,{size:14,style:{color:g.secondaryText}}),w.jsx(ar,{size:10,style:{color:g.secondaryText}})]})]})]})]})]})]})},k_=({book:a,onClose:i})=>{const r=Pe.getInstance(),o=mn.getInstance(),c=vn.getInstance(),d=Re(),[f,h]=I.useState(!0),[m,p]=I.useState(!1),[g,y]=I.useState(!1),[T,S]=I.useState(!1),[z,v]=I.useState(0),[C,_]=I.useState(!1),[k,A]=I.useState(!1),O=I.useRef(!1),D=I.useRef(!1);I.useEffect(()=>{p(r.isRSVPMode);const ft=()=>{p(r.isRSVPMode),y(o.state===bn.PLAYING),v(r.currentProgress)},L=r.subscribe(ft),tt=o.subscribe(ft);return ft(),()=>{L(),tt()}},[]),I.useEffect(()=>()=>{o.shutdown(r.isRSVPMode),r.isRSVPMode=!1,c.clear()},[]),I.useEffect(()=>{const ft=()=>{if(!O.current){if(O.current=!0,C||k)F();else if(m){const L=Pe.getInstance(),tt=mn.getInstance();L.isRSVPMode&&(tt.pause(),tt.shutdown(!0),L.isRSVPMode=!1,L.notify(),p(!1),h(!0))}O.current=!1}};return window.addEventListener("popstate",ft),()=>window.removeEventListener("popstate",ft)},[C,k,m]),I.useEffect(()=>{let ft;return f&&m&&(ft=setTimeout(()=>h(!1),2500)),()=>clearTimeout(ft)},[f,m]),I.useEffect(()=>{C&&o.state===bn.PLAYING&&o.pause()},[C]);const F=()=>{A(!0),setTimeout(()=>{_(!1),A(!1)},400)},V=()=>{var tt;let ft=((tt=r.currentBook)==null?void 0:tt.lastTokenIndex)??(a.lastTokenIndex||0);r.isRSVPMode&&(ft=c.currentIndex,r.saveProgress(ft));const L=r.currentProgress;o.shutdown(r.isRSVPMode),r.isRSVPMode=!1,i(a.id,ft,L)},q=async(ft,L,tt)=>{var et;if(D.current)return;if(m&&ft===void 0&&L===void 0&&tt===void 0){o.state===bn.PLAYING?o.pause(!0):o.play();return}const E=ft??!r.isRSVPMode;if(!(E===r.isRSVPMode&&L===void 0&&tt===void 0)){D.current=!0;try{if(E){const G=r.contentStorage.string,Z={offset:L??r.userSelectionOffset??void 0,index:tt??(L===void 0?((et=r.currentBook)==null?void 0:et.lastTokenIndex)??void 0:void 0),progress:L===void 0&&tt===void 0?r.currentProgress:void 0};await o.prepare(G,Z),r.isRSVPMode=!0,r.notify(),O.current||window.history.pushState({rsvpMode:!0},"",window.location.href),o.play(),h(!1)}else{o.pause();const G=c.currentIndex;if(r.isRSVPMode=!1,r.saveProgress(G,!0),r.totalTokens>0){const Z=G/r.totalTokens;r.jump(Z)}h(!0)}}catch(G){console.error("Toggle failed",G),r.isRSVPMode=!1,r.notify()}finally{D.current=!1}}},X=()=>{o.state===bn.PLAYING?o.pause(!0):o.play()},st=()=>{m&&q(!1)};return w.jsxs("div",{className:"fixed inset-0 z-50 w-full h-[100dvh] overflow-hidden m-0 p-0 animate-fadeIn",style:{backgroundColor:d.background},children:[w.jsx("div",{className:"absolute inset-0 z-10 w-full h-full will-change-transform transition-opacity duration-300",style:{opacity:m?g?0:.4:1,pointerEvents:m?"none":"auto"},children:w.jsx(w_,{book:a,onToggleChrome:()=>h(ft=>!ft),onRequestRSVP:(ft,L)=>q(!0,ft,L),isActive:!m})}),w.jsxs("div",{className:`absolute inset-0 z-20 transition-all duration-300 will-change-[transform,opacity] ${m?"opacity-100 scale-100":"opacity-0 scale-95"}`,style:{pointerEvents:m?"auto":"none",transitionTimingFunction:"cubic-bezier(0.2, 0, 0, 1)"},children:[w.jsx(T_,{onTap:X,onLongPressExit:st,onRewindStateChange:S}),w.jsx("style",{children:`
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .animate-fadeIn { animation: fadeIn 0.3s ease-out forwards; }
      `})]}),w.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 w-[90%] max-w-[450px] z-50 pointer-events-auto",style:{bottom:"calc(2rem + env(safe-area-inset-bottom))"},children:w.jsx(C_,{book:a,onToggleRSVP:ft=>q(void 0,ft),isRSVPActive:m,isRewinding:T,onSettingsClick:()=>{O.current||window.history.pushState({modal:"settings"},"",window.location.href),_(!0)}})}),w.jsx("div",{className:`absolute top-0 left-0 right-0 z-[60] transition-transform duration-400 pointer-events-none ${f||m&&!g?"translate-y-0":"-translate-y-full"}`,style:{transitionTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)"},children:w.jsxs("div",{className:"backdrop-blur-2xl border-b pt-safe-top py-4 px-5 flex items-center justify-between pointer-events-auto",style:{backgroundColor:d.dimmer,borderColor:d.borderColor},children:[w.jsx("button",{onClick:m?st:V,className:"w-11 h-11 -ml-1 rounded-full flex items-center justify-center transition-all active:scale-95",style:{backgroundColor:`${d.primaryText}08`,color:d.primaryText},children:w.jsx(Zw,{size:20})}),m&&w.jsx("span",{className:"text-xs font-medium",style:{color:d.secondaryText},children:"Tap to exit RSVP"})]})}),(C||k)&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"fixed inset-0 z-[100]",style:{backgroundColor:"rgba(0,0,0,0.5)",backdropFilter:"blur(2px)",animation:k?"fadeOut 0.4s ease-out":"fadeIn 0.6s ease-out"},onClick:F}),w.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[101] rounded-t-[32px] h-[70vh] shadow-2xl overflow-hidden",style:{backgroundColor:d.background,animation:k?"slideDown 0.5s cubic-bezier(0.7, 0, 0.84, 0)":"slideUp 0.8s cubic-bezier(0.16, 1, 0.3, 1)"},children:w.jsx(Vy,{onClose:F})})]})]})},Ws=(a,i,r,o)=>{const c=Ja(r);return{id:a,title:i,content:r,sortOrder:o,wordCount:c}},A_=`
<p>Yo, dude. The internet is totally bonkers right now. Just way too much noise.</p>
<p>Your brain probably feels like burnt toast. <strong>Flow</strong> is the opposite of that. Its just a chill corner to hang out with a book.</p>
<p>No beeping. No distractions. Just you and the stories, man.</p>
<p>Take a breath. Its gonna be okay.</p>
`,E_=`
<p>Check it out, we got two ways to do this.</p>
<p>First is <strong>Scroll Mode</strong>. That's the classic style. Nice and slow. Like eating a sandwich one bite at a time.</p>
<p>Then, there's <strong>Flow Mode</strong>. Thats the big Play button. It shoots words at you one by one. Sounds crazy, but it's actually super mathematical. It's like the book is reading itself to you. Just tap it and relax.</p>
`,z_=`
<p>Moving your eyes left and right is a lot of work, man. Too much exercise.</p>
<p>In Flow Mode, you don't gotta move at all.</p>
<p>Just look at the <span style="color: #E25822;">red letter</span>. That's the sweet spot. Keep your eyes soft and locked there, and the words just melt into your brain. Its like telepathy, dude.</p>
`,j_=`
<p>That capsule at the bottom? That's your control panel.</p>
<ul>
<li><strong>The Scrubber:</strong> Drag it to jump around time. It clicks! So satisfying.</li>
<li><strong>The Tuner:</strong> Speed is key. If it's too slow, crank it up. If it's too fast, slow it down. Find your groove.</li>
<li><strong>The Visuals:</strong> Tap the settings to change the font. Make it look algebraic.</li>
</ul>
`,M_=`
<p>This guide is nice, but you gotta bring your own loot.</p>
<p>You got some <strong>EPUBs</strong> stashed away, right?</p>
<ol>
<li>Head back to the <strong>Bookshelf</strong>.</li>
<li>Hit the <strong>Add Book</strong> button.</li>
<li>Load 'em up.</li>
</ol>
<p>Well fix the formatting. You just stretch out and enjoy the silence. Maybe make some bacon pancakes.</p>
`,Vu=()=>[{id:"guide-book-v1",title:"welcome to flow",author:"Flowy",coverUrl:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1000&auto=format&fit=crop",tintColorHex:"#E25822",lastOpened:new Date,isFinished:!1,bookmarkProgress:0,chapters:[Ws("g1","The Noise",A_,0),Ws("g2","Two Speeds",E_,1),Ws("g3","The Red Letter",z_,2),Ws("g4","Vibe Check",j_,3),Ws("g5","Your Stash",M_,4)]}],f0=({status:a,message:i,onAction:r,actionLabel:o})=>{const c=Re();return w.jsxs("div",{className:"absolute bottom-24 left-1/2 -translate-x-1/2 z-[60] flex items-center gap-3 px-4 py-3 rounded-full shadow-xl backdrop-blur-md border border-white/10",style:{backgroundColor:c.surface,animation:"slideUp 400ms cubic-bezier(0.16, 1, 0.3, 1)"},children:[a==="syncing"&&w.jsx(kT,{size:18,className:"animate-spin text-blue-500"}),a==="error"&&w.jsx(UT,{size:18,className:"text-red-500"}),a==="success"&&w.jsx(Po,{size:18,className:"text-green-500"}),a==="idle"&&w.jsx(ef,{size:18,style:{color:c.secondaryText}}),w.jsx("span",{className:"text-sm font-medium pr-1",style:{color:c.primaryText},children:i||(a==="syncing"?"Syncing library...":"Cloud connected")}),r&&w.jsx("button",{onClick:r,className:"ml-2 px-3 py-1 rounded-full text-xs font-bold bg-blue-500 text-white active:scale-95 transition-transform",children:o})]})},N_=()=>{const a=Re(),[i,r]=I.useState([]),[o,c]=I.useState(null),d=I.useRef(!1),[f,h]=I.useState("idle"),[m,p]=I.useState(null),g=I.useRef([]);I.useEffect(()=>{const k=()=>{if(d.current||!o)return;if(d.current=!0,g.current.find(O=>O.id===o)){const O=Pe.getInstance();T(o,O.currentTokenIndex,O.currentProgress)}d.current=!1};return window.addEventListener("popstate",k),()=>window.removeEventListener("popstate",k)},[o]),I.useEffect(()=>{Pe.getInstance(),Zn.getInstance();const k=Ee.getInstance(),A=He.getInstance();(async()=>{try{await k.init();let D=await k.getAllMetadata();if(D.length===0){const V=Vu();for(const q of V)await k.saveBook(q);D=V}else{const V="guide-book-v1",q=D.find(X=>X.id===V);if(q){const X=await k.getFullBook(V);if(!X||!X.chapters||X.chapters.length===0){console.warn("[App] Welcome book content missing, repairing...");const ft=Vu().find(L=>L.id===V);ft&&(ft.bookmarkProgress=q.bookmarkProgress||0,ft.lastTokenIndex=q.lastTokenIndex,ft.lastOpened=q.lastOpened,await k.saveBook(ft),D=D.map(L=>L.id===V?ft:L))}}}const F=D.map(V=>({...V,lastOpened:new Date(V.lastOpened)}));r(F),g.current=F,A.subscribe({onStatusChange:V=>h(V),onNewBook:V=>{r(q=>q.find(st=>st.id===V.id)?q.map(st=>st.id===V.id?V:st):[V,...q])},onConflict:(V,q)=>{p({book:V,remote:q})}}),A.syncNow(!1)}catch(D){console.error("App boot failed:",D)}})()},[]),I.useEffect(()=>{g.current=i},[i]),I.useEffect(()=>{if(!o)return;const k=Pe.getInstance();let A=-1;const O=async(q=!1)=>{if(!k.isLoading&&k.currentBook&&k.currentBook.id===o){const X=isNaN(k.currentProgress)||!isFinite(k.currentProgress)?0:k.currentProgress;if(!q&&Math.abs(X-A)<.001)return;A=X;const st={...k.currentBook,bookmarkProgress:X,isFinished:k.currentBook.isFinished,lastTokenIndex:k.currentBook.lastTokenIndex,lastOpened:new Date},L=g.current.map(tt=>tt.id===st.id?st:tt);r(L),await Ee.getInstance().saveBook(st),He.getInstance().requestSync()}},D=setInterval(()=>O(!1),5e3),F=()=>{O(!0),He.getInstance().syncNow(!1)},V=()=>{document.visibilityState==="hidden"&&O(!0)};return window.addEventListener("beforeunload",F),document.addEventListener("visibilitychange",V),()=>{clearInterval(D),window.removeEventListener("beforeunload",F),document.removeEventListener("visibilitychange",V),O(!0)}},[o]);const y=async k=>{if(d.current||window.history.pushState({bookOpen:!0,bookId:k.id},"",window.location.href),!k.chapters||k.chapters.length===0){let A=await Ee.getInstance().getFullBook(k.id);if((!A||!A.chapters||A.chapters.length===0)&&k.id==="guide-book-v1"){console.warn("[App] Welcome book content missing on open, regenerating...");const D=Vu().find(F=>F.id==="guide-book-v1");D&&(D.bookmarkProgress=k.bookmarkProgress||0,D.lastTokenIndex=k.lastTokenIndex,D.lastOpened=k.lastOpened,await Ee.getInstance().saveBook(D),A=D)}A&&A.chapters&&A.chapters.length>0?(db.flushSync(()=>{r(O=>O.map(D=>D.id===k.id?A:D))}),c(A.id)):(console.error("[App] Failed to load full book from storage:",k.id),c(k.id))}else c(k.id)},T=async(k,A,O)=>{var F;const D=g.current.find(V=>V.id===k);if(D){const V=isNaN(O)||!isFinite(O)?0:O,q={...D,lastTokenIndex:A,bookmarkProgress:V,isFinished:V>=.99||((F=Pe.getInstance().currentBook)==null?void 0:F.isFinished)||!1,lastOpened:new Date},X=g.current.map(st=>st.id===k?q:st);r(X),await Ee.getInstance().saveBook(q),He.getInstance().syncNow(!1)}c(null)},S=async k=>{r(A=>A.filter(O=>!k.includes(O.id)));for(const A of k)await Ee.getInstance().deleteBook(A)},z=async(k,A)=>{const O=[];r(D=>D.map(F=>{if(k.includes(F.id)){const V={...F,isFinished:A,bookmarkProgress:A?1:F.bookmarkProgress>=.99?0:F.bookmarkProgress,lastTokenIndex:A?F.lastTokenIndex:F.bookmarkProgress>=.99?0:F.lastTokenIndex};return O.push(V),V}return F}));for(const D of O)await Ee.getInstance().saveBook(D);He.getInstance().requestSync()},v=async(k,A)=>{let O;r(D=>D.map(V=>{if(V.id===k){const q={...V,isFavorite:A};return O=q,q}return V})),O&&(await Ee.getInstance().saveBook(O),He.getInstance().requestSync())},C=async k=>{r(A=>[k,...A]),await Ee.getInstance().saveBook(k),He.getInstance().syncNow(!1)},_=i.find(k=>k.id===o);return w.jsxs("div",{className:"fixed inset-0 overflow-hidden font-sans select-none antialiased transition-colors duration-500",style:{backgroundColor:a.background,color:a.primaryText},children:[w.jsx("div",{className:`w-full h-full transition-all duration-500 ${_?"scale-95 opacity-50 blur-[2px] pointer-events-none":"scale-100 opacity-100 blur-0"}`,style:{transitionTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)"},children:w.jsx(r_,{books:i,onBookSelect:y,onBookImported:C,onDeleteBooks:S,onToggleReadStatus:z,onToggleFavorite:v})}),_&&w.jsx("div",{style:{animation:"fadeIn 400ms cubic-bezier(0.16, 1, 0.3, 1)"},children:w.jsx(k_,{book:_,onClose:T},_.id)},_.id),w.jsxs(ki,{children:[(f==="syncing"||f==="error"||f==="success")&&w.jsx(f0,{status:f}),m&&w.jsx(f0,{status:"idle",message:`Cloud has different progress for "${m.book.title}"`,actionLabel:`Jump to ${Math.floor(m.remote*100)}%`,onAction:()=>{He.getInstance().resolveConflict(m.book,m.remote),p(null)}})]})]})},Hy=document.getElementById("root");if(!Hy)throw new Error("Could not find root element to mount to");const R_=fb.createRoot(Hy);R_.render(w.jsx(Yo.StrictMode,{children:w.jsx(N_,{})}));
