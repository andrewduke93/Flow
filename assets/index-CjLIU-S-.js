(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=r(c);fetch(c.href,d)}})();const P1="modulepreload",I1=function(s){return"/Flow/"+s},Mp={},q1=function(i,r,o){let c=Promise.resolve();if(r&&r.length>0){let f=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));c=f(r.map(p=>{if(p=I1(p),p in Mp)return;Mp[p]=!0;const g=p.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":P1,g||(w.as="script"),w.crossOrigin="",w.href=p,m&&w.setAttribute("nonce",m),document.head.appendChild(w),g)return new Promise((b,A)=>{w.addEventListener("load",b),w.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${p}`)))})}))}function d(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return c.then(f=>{for(const h of f||[])h.status==="rejected"&&d(h.reason);return i().catch(d)})};var ko=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ju(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var du={exports:{}},Zs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function G1(){if(Np)return Zs;Np=1;var s=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(o,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var h in c)h!=="key"&&(d[h]=c[h])}else d=c;return c=d.ref,{$$typeof:s,type:o,key:f,ref:c!==void 0?c:null,props:d}}return Zs.Fragment=i,Zs.jsx=r,Zs.jsxs=r,Zs}var Rp;function Y1(){return Rp||(Rp=1,du.exports=G1()),du.exports}var T=Y1(),hu={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function Z1(){if(Dp)return Dt;Dp=1;var s=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),w=Symbol.iterator;function b(j){return j===null||typeof j!="object"?null:(j=w&&j[w]||j["@@iterator"],typeof j=="function"?j:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,z={};function C(j,O,et){this.props=j,this.context=O,this.refs=z,this.updater=et||A}C.prototype.isReactComponent={},C.prototype.setState=function(j,O){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,O,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function k(){}k.prototype=C.prototype;function E(j,O,et){this.props=j,this.context=O,this.refs=z,this.updater=et||A}var B=E.prototype=new k;B.constructor=E,S(B,C.prototype),B.isPureReactComponent=!0;var D=Array.isArray;function q(){}var L={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function Z(j,O,et){var at=et.ref;return{$$typeof:s,type:j,key:O,ref:at!==void 0?at:null,props:et}}function $(j,O){return Z(j.type,O,j.props)}function mt(j){return typeof j=="object"&&j!==null&&j.$$typeof===s}function U(j){var O={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(et){return O[et]})}var st=/\/+/g;function _(j,O){return typeof j=="object"&&j!==null&&j.key!=null?U(""+j.key):O.toString(36)}function tt(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(q,q):(j.status="pending",j.then(function(O){j.status==="pending"&&(j.status="fulfilled",j.value=O)},function(O){j.status==="pending"&&(j.status="rejected",j.reason=O)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function X(j,O,et,at,ct){var _t=typeof j;(_t==="undefined"||_t==="boolean")&&(j=null);var kt=!1;if(j===null)kt=!0;else switch(_t){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(j.$$typeof){case s:case i:kt=!0;break;case g:return kt=j._init,X(kt(j._payload),O,et,at,ct)}}if(kt)return ct=ct(j),kt=at===""?"."+_(j,0):at,D(ct)?(et="",kt!=null&&(et=kt.replace(st,"$&/")+"/"),X(ct,O,et,"",function(yt){return yt})):ct!=null&&(mt(ct)&&(ct=$(ct,et+(ct.key==null||j&&j.key===ct.key?"":(""+ct.key).replace(st,"$&/")+"/")+kt)),O.push(ct)),1;kt=0;var bt=at===""?".":at+":";if(D(j))for(var St=0;St<j.length;St++)at=j[St],_t=bt+_(at,St),kt+=X(at,O,et,_t,ct);else if(St=b(j),typeof St=="function")for(j=St.call(j),St=0;!(at=j.next()).done;)at=at.value,_t=bt+_(at,St++),kt+=X(at,O,et,_t,ct);else if(_t==="object"){if(typeof j.then=="function")return X(tt(j),O,et,at,ct);throw O=String(j),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return kt}function V(j,O,et){if(j==null)return j;var at=[],ct=0;return X(j,at,"","",function(_t){return O.call(et,_t,ct++)}),at}function ot(j){if(j._status===-1){var O=j._result;O=O(),O.then(function(et){(j._status===0||j._status===-1)&&(j._status=1,j._result=et)},function(et){(j._status===0||j._status===-1)&&(j._status=2,j._result=et)}),j._status===-1&&(j._status=0,j._result=O)}if(j._status===1)return j._result.default;throw j._result}var it=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},gt={map:V,forEach:function(j,O,et){V(j,function(){O.apply(this,arguments)},et)},count:function(j){var O=0;return V(j,function(){O++}),O},toArray:function(j){return V(j,function(O){return O})||[]},only:function(j){if(!mt(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Dt.Activity=y,Dt.Children=gt,Dt.Component=C,Dt.Fragment=r,Dt.Profiler=c,Dt.PureComponent=E,Dt.StrictMode=o,Dt.Suspense=m,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return L.H.useMemoCache(j)}},Dt.cache=function(j){return function(){return j.apply(null,arguments)}},Dt.cacheSignal=function(){return null},Dt.cloneElement=function(j,O,et){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var at=S({},j.props),ct=j.key;if(O!=null)for(_t in O.key!==void 0&&(ct=""+O.key),O)!G.call(O,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&O.ref===void 0||(at[_t]=O[_t]);var _t=arguments.length-2;if(_t===1)at.children=et;else if(1<_t){for(var kt=Array(_t),bt=0;bt<_t;bt++)kt[bt]=arguments[bt+2];at.children=kt}return Z(j.type,ct,at)},Dt.createContext=function(j){return j={$$typeof:f,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:d,_context:j},j},Dt.createElement=function(j,O,et){var at,ct={},_t=null;if(O!=null)for(at in O.key!==void 0&&(_t=""+O.key),O)G.call(O,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(ct[at]=O[at]);var kt=arguments.length-2;if(kt===1)ct.children=et;else if(1<kt){for(var bt=Array(kt),St=0;St<kt;St++)bt[St]=arguments[St+2];ct.children=bt}if(j&&j.defaultProps)for(at in kt=j.defaultProps,kt)ct[at]===void 0&&(ct[at]=kt[at]);return Z(j,_t,ct)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(j){return{$$typeof:h,render:j}},Dt.isValidElement=mt,Dt.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:ot}},Dt.memo=function(j,O){return{$$typeof:p,type:j,compare:O===void 0?null:O}},Dt.startTransition=function(j){var O=L.T,et={};L.T=et;try{var at=j(),ct=L.S;ct!==null&&ct(et,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(q,it)}catch(_t){it(_t)}finally{O!==null&&et.types!==null&&(O.types=et.types),L.T=O}},Dt.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Dt.use=function(j){return L.H.use(j)},Dt.useActionState=function(j,O,et){return L.H.useActionState(j,O,et)},Dt.useCallback=function(j,O){return L.H.useCallback(j,O)},Dt.useContext=function(j){return L.H.useContext(j)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(j,O){return L.H.useDeferredValue(j,O)},Dt.useEffect=function(j,O){return L.H.useEffect(j,O)},Dt.useEffectEvent=function(j){return L.H.useEffectEvent(j)},Dt.useId=function(){return L.H.useId()},Dt.useImperativeHandle=function(j,O,et){return L.H.useImperativeHandle(j,O,et)},Dt.useInsertionEffect=function(j,O){return L.H.useInsertionEffect(j,O)},Dt.useLayoutEffect=function(j,O){return L.H.useLayoutEffect(j,O)},Dt.useMemo=function(j,O){return L.H.useMemo(j,O)},Dt.useOptimistic=function(j,O){return L.H.useOptimistic(j,O)},Dt.useReducer=function(j,O,et){return L.H.useReducer(j,O,et)},Dt.useRef=function(j){return L.H.useRef(j)},Dt.useState=function(j){return L.H.useState(j)},Dt.useSyncExternalStore=function(j,O,et){return L.H.useSyncExternalStore(j,O,et)},Dt.useTransition=function(){return L.H.useTransition()},Dt.version="19.2.3",Dt}var Op;function tf(){return Op||(Op=1,hu.exports=Z1()),hu.exports}var P=tf();const rr=Ju(P);var mu={exports:{}},Xs={},pu={exports:{}},gu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp;function X1(){return Bp||(Bp=1,(function(s){function i(X,V){var ot=X.length;X.push(V);t:for(;0<ot;){var it=ot-1>>>1,gt=X[it];if(0<c(gt,V))X[it]=V,X[ot]=gt,ot=it;else break t}}function r(X){return X.length===0?null:X[0]}function o(X){if(X.length===0)return null;var V=X[0],ot=X.pop();if(ot!==V){X[0]=ot;t:for(var it=0,gt=X.length,j=gt>>>1;it<j;){var O=2*(it+1)-1,et=X[O],at=O+1,ct=X[at];if(0>c(et,ot))at<gt&&0>c(ct,et)?(X[it]=ct,X[at]=ot,it=at):(X[it]=et,X[O]=ot,it=O);else if(at<gt&&0>c(ct,ot))X[it]=ct,X[at]=ot,it=at;else break t}}return V}function c(X,V){var ot=X.sortIndex-V.sortIndex;return ot!==0?ot:X.id-V.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var f=Date,h=f.now();s.unstable_now=function(){return f.now()-h}}var m=[],p=[],g=1,y=null,w=3,b=!1,A=!1,S=!1,z=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function B(X){for(var V=r(p);V!==null;){if(V.callback===null)o(p);else if(V.startTime<=X)o(p),V.sortIndex=V.expirationTime,i(m,V);else break;V=r(p)}}function D(X){if(S=!1,B(X),!A)if(r(m)!==null)A=!0,q||(q=!0,U());else{var V=r(p);V!==null&&tt(D,V.startTime-X)}}var q=!1,L=-1,G=5,Z=-1;function $(){return z?!0:!(s.unstable_now()-Z<G)}function mt(){if(z=!1,q){var X=s.unstable_now();Z=X;var V=!0;try{t:{A=!1,S&&(S=!1,k(L),L=-1),b=!0;var ot=w;try{e:{for(B(X),y=r(m);y!==null&&!(y.expirationTime>X&&$());){var it=y.callback;if(typeof it=="function"){y.callback=null,w=y.priorityLevel;var gt=it(y.expirationTime<=X);if(X=s.unstable_now(),typeof gt=="function"){y.callback=gt,B(X),V=!0;break e}y===r(m)&&o(m),B(X)}else o(m);y=r(m)}if(y!==null)V=!0;else{var j=r(p);j!==null&&tt(D,j.startTime-X),V=!1}}break t}finally{y=null,w=ot,b=!1}V=void 0}}finally{V?U():q=!1}}}var U;if(typeof E=="function")U=function(){E(mt)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,_=st.port2;st.port1.onmessage=mt,U=function(){_.postMessage(null)}}else U=function(){C(mt,0)};function tt(X,V){L=C(function(){X(s.unstable_now())},V)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(X){X.callback=null},s.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<X?Math.floor(1e3/X):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(X){switch(w){case 1:case 2:case 3:var V=3;break;default:V=w}var ot=w;w=V;try{return X()}finally{w=ot}},s.unstable_requestPaint=function(){z=!0},s.unstable_runWithPriority=function(X,V){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ot=w;w=X;try{return V()}finally{w=ot}},s.unstable_scheduleCallback=function(X,V,ot){var it=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?it+ot:it):ot=it,X){case 1:var gt=-1;break;case 2:gt=250;break;case 5:gt=1073741823;break;case 4:gt=1e4;break;default:gt=5e3}return gt=ot+gt,X={id:g++,callback:V,priorityLevel:X,startTime:ot,expirationTime:gt,sortIndex:-1},ot>it?(X.sortIndex=ot,i(p,X),r(m)===null&&X===r(p)&&(S?(k(L),L=-1):S=!0,tt(D,ot-it))):(X.sortIndex=gt,i(m,X),A||b||(A=!0,q||(q=!0,U()))),X},s.unstable_shouldYield=$,s.unstable_wrapCallback=function(X){var V=w;return function(){var ot=w;w=V;try{return X.apply(this,arguments)}finally{w=ot}}}})(gu)),gu}var Up;function K1(){return Up||(Up=1,pu.exports=X1()),pu.exports}var yu={exports:{}},Ee={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function Q1(){if(Lp)return Ee;Lp=1;var s=tf();function i(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(i(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(m,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:y==null?null:""+y,children:m,containerInfo:p,implementation:g}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ee.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Ee.createPortal=function(m,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(i(299));return d(m,p,null,g)},Ee.flushSync=function(m){var p=f.T,g=o.p;try{if(f.T=null,o.p=2,m)return m()}finally{f.T=p,o.p=g,o.d.f()}},Ee.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(m,p))},Ee.prefetchDNS=function(m){typeof m=="string"&&o.d.D(m)},Ee.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?o.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:b}):g==="script"&&o.d.X(m,{crossOrigin:y,integrity:w,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ee.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);o.d.M(m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(m)},Ee.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin);o.d.L(m,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ee.preloadModule=function(m,p){if(typeof m=="string")if(p){var g=h(p.as,p.crossOrigin);o.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(m)},Ee.requestFormReset=function(m){o.d.r(m)},Ee.unstable_batchedUpdates=function(m,p){return m(p)},Ee.useFormState=function(m,p,g){return f.H.useFormState(m,p,g)},Ee.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ee.version="19.2.3",Ee}var Vp;function t0(){if(Vp)return yu.exports;Vp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(i){console.error(i)}}return s(),yu.exports=Q1(),yu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function $1(){if(Hp)return Xs;Hp=1;var s=K1(),i=tf(),r=t0();function o(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function f(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function h(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function m(t){if(d(t)!==t)throw Error(o(188))}function p(t){var e=t.alternate;if(!e){if(e=d(t),e===null)throw Error(o(188));return e!==t?null:t}for(var n=t,a=e;;){var l=n.return;if(l===null)break;var u=l.alternate;if(u===null){if(a=l.return,a!==null){n=a;continue}break}if(l.child===u.child){for(u=l.child;u;){if(u===n)return m(l),t;if(u===a)return m(l),e;u=u.sibling}throw Error(o(188))}if(n.return!==a.return)n=l,a=u;else{for(var v=!1,M=l.child;M;){if(M===n){v=!0,n=l,a=u;break}if(M===a){v=!0,a=l,n=u;break}M=M.sibling}if(!v){for(M=u.child;M;){if(M===n){v=!0,n=u,a=l;break}if(M===a){v=!0,a=u,n=l;break}M=M.sibling}if(!v)throw Error(o(189))}}if(n.alternate!==a)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?t:e}function g(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=g(t),e!==null)return e;t=t.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),E=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),mt=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=mt&&t[mt]||t["@@iterator"],typeof t=="function"?t:null)}var st=Symbol.for("react.client.reference");function _(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===st?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case S:return"Fragment";case C:return"Profiler";case z:return"StrictMode";case D:return"Suspense";case q:return"SuspenseList";case Z:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case A:return"Portal";case E:return t.displayName||"Context";case k:return(t._context.displayName||"Context")+".Consumer";case B:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case L:return e=t.displayName||null,e!==null?e:_(t.type)||"Memo";case G:e=t._payload,t=t._init;try{return _(t(e))}catch{}}return null}var tt=Array.isArray,X=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},it=[],gt=-1;function j(t){return{current:t}}function O(t){0>gt||(t.current=it[gt],it[gt]=null,gt--)}function et(t,e){gt++,it[gt]=t.current,t.current=e}var at=j(null),ct=j(null),_t=j(null),kt=j(null);function bt(t,e){switch(et(_t,e),et(ct,t),et(at,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?tp(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=tp(e),t=ep(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}O(at),et(at,t)}function St(){O(at),O(ct),O(_t)}function yt(t){t.memoizedState!==null&&et(kt,t);var e=at.current,n=ep(e,t.type);e!==n&&(et(ct,t),et(at,n))}function Tt(t){ct.current===t&&(O(at),O(ct)),kt.current===t&&(O(kt),Is._currentValue=ot)}var Nt,Rt;function x(t){if(Nt===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Nt=e&&e[1]||"",Rt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nt+t+Rt}var rt=!1;function F(t,e){if(!t||rt)return"";rt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(e){var ht=function(){throw Error()};if(Object.defineProperty(ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ht,[])}catch(lt){var nt=lt}Reflect.construct(t,[],ht)}else{try{ht.call()}catch(lt){nt=lt}t.call(ht.prototype)}}else{try{throw Error()}catch(lt){nt=lt}(ht=t())&&typeof ht.catch=="function"&&ht.catch(function(){})}}catch(lt){if(lt&&nt&&typeof lt.stack=="string")return[lt.stack,nt.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=a.DetermineComponentFrameRoot(),v=u[0],M=u[1];if(v&&M){var H=v.split(`
`),J=M.split(`
`);for(l=a=0;a<H.length&&!H[a].includes("DetermineComponentFrameRoot");)a++;for(;l<J.length&&!J[l].includes("DetermineComponentFrameRoot");)l++;if(a===H.length||l===J.length)for(a=H.length-1,l=J.length-1;1<=a&&0<=l&&H[a]!==J[l];)l--;for(;1<=a&&0<=l;a--,l--)if(H[a]!==J[l]){if(a!==1||l!==1)do if(a--,l--,0>l||H[a]!==J[l]){var ut=`
`+H[a].replace(" at new "," at ");return t.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",t.displayName)),ut}while(1<=a&&0<=l);break}}}finally{rt=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?x(n):""}function R(t,e){switch(t.tag){case 26:case 27:case 5:return x(t.type);case 16:return x("Lazy");case 13:return t.child!==e&&e!==null?x("Suspense Fallback"):x("Suspense");case 19:return x("SuspenseList");case 0:case 15:return F(t.type,!1);case 11:return F(t.type.render,!1);case 1:return F(t.type,!0);case 31:return x("Activity");default:return""}}function N(t){try{var e="",n=null;do e+=R(t,n),n=t,t=t.return;while(t);return e}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var I=Object.prototype.hasOwnProperty,ft=s.unstable_scheduleCallback,pt=s.unstable_cancelCallback,Q=s.unstable_shouldYield,vt=s.unstable_requestPaint,wt=s.unstable_now,xt=s.unstable_getCurrentPriorityLevel,Et=s.unstable_ImmediatePriority,Zt=s.unstable_UserBlockingPriority,Ut=s.unstable_NormalPriority,Re=s.unstable_LowPriority,$n=s.unstable_IdlePriority,We=s.log,Ri=s.unstable_setDisableYieldValue,Jt=null,ge=null;function Je(t){if(typeof We=="function"&&Ri(t),ge&&typeof ge.setStrictMode=="function")try{ge.setStrictMode(Jt,t)}catch{}}var ae=Math.clz32?Math.clz32:Jo,dr=Math.log,Wo=Math.LN2;function Jo(t){return t>>>=0,t===0?32:31-(dr(t)/Wo|0)|0}var la=256,Di=262144,bn=4194304;function tn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function hr(t,e,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,u=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var M=a&134217727;return M!==0?(a=M&~u,a!==0?l=tn(a):(v&=M,v!==0?l=tn(v):n||(n=M&~t,n!==0&&(l=tn(n))))):(M=a&~u,M!==0?l=tn(M):v!==0?l=tn(v):n||(n=a&~t,n!==0&&(l=tn(n)))),l===0?0:e!==0&&e!==l&&(e&u)===0&&(u=l&-l,n=e&-e,u>=n||u===32&&(n&4194048)!==0)?e:l}function ns(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function jy(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Of(){var t=bn;return bn<<=1,(bn&62914560)===0&&(bn=4194304),t}function tl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function is(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zy(t,e,n,a,l,u){var v=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var M=t.entanglements,H=t.expirationTimes,J=t.hiddenUpdates;for(n=v&~n;0<n;){var ut=31-ae(n),ht=1<<ut;M[ut]=0,H[ut]=-1;var nt=J[ut];if(nt!==null)for(J[ut]=null,ut=0;ut<nt.length;ut++){var lt=nt[ut];lt!==null&&(lt.lane&=-536870913)}n&=~ht}a!==0&&Bf(t,a,0),u!==0&&l===0&&t.tag!==0&&(t.suspendedLanes|=u&~(v&~e))}function Bf(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var a=31-ae(e);t.entangledLanes|=e,t.entanglements[a]=t.entanglements[a]|1073741824|n&261930}function Uf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var a=31-ae(n),l=1<<a;l&e|t[a]&e&&(t[a]|=e),n&=~l}}function Lf(t,e){var n=e&-e;return n=(n&42)!==0?1:el(n),(n&(t.suspendedLanes|e))!==0?0:n}function el(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function nl(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Vf(){var t=V.p;return t!==0?t:(t=window.event,t===void 0?32:_p(t.type))}function Hf(t,e){var n=V.p;try{return V.p=t,e()}finally{V.p=n}}var Wn=Math.random().toString(36).slice(2),xe="__reactFiber$"+Wn,De="__reactProps$"+Wn,ca="__reactContainer$"+Wn,il="__reactEvents$"+Wn,My="__reactListeners$"+Wn,Ny="__reactHandles$"+Wn,Ff="__reactResources$"+Wn,as="__reactMarker$"+Wn;function al(t){delete t[xe],delete t[De],delete t[il],delete t[My],delete t[Ny]}function ua(t){var e=t[xe];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ca]||n[xe]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=lp(t);t!==null;){if(n=t[xe])return n;t=lp(t)}return e}t=n,n=t.parentNode}return null}function fa(t){if(t=t[xe]||t[ca]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function ss(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(o(33))}function da(t){var e=t[Ff];return e||(e=t[Ff]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ye(t){t[as]=!0}var Pf=new Set,If={};function Oi(t,e){ha(t,e),ha(t+"Capture",e)}function ha(t,e){for(If[t]=e,t=0;t<e.length;t++)Pf.add(e[t])}var Ry=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qf={},Gf={};function Dy(t){return I.call(Gf,t)?!0:I.call(qf,t)?!1:Ry.test(t)?Gf[t]=!0:(qf[t]=!0,!1)}function mr(t,e,n){if(Dy(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var a=e.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function pr(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function kn(t,e,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+a)}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Oy(t,e,n){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var l=a.get,u=a.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return l.call(this)},set:function(v){n=""+v,u.call(this,v)}}),Object.defineProperty(t,e,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(v){n=""+v},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sl(t){if(!t._valueTracker){var e=Yf(t)?"checked":"value";t._valueTracker=Oy(t,e,""+t[e])}}function Zf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),a="";return t&&(a=Yf(t)?t.checked?"true":"false":t.value),t=a,t!==n?(e.setValue(t),!0):!1}function gr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var By=/[\n"\\]/g;function nn(t){return t.replace(By,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function rl(t,e,n,a,l,u,v,M){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),e!=null?v==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+en(e)):t.value!==""+en(e)&&(t.value=""+en(e)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),e!=null?ol(t,v,en(e)):n!=null?ol(t,v,en(n)):a!=null&&t.removeAttribute("value"),l==null&&u!=null&&(t.defaultChecked=!!u),l!=null&&(t.checked=l&&typeof l!="function"&&typeof l!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+en(M):t.removeAttribute("name")}function Xf(t,e,n,a,l,u,v,M){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(t.type=u),e!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||e!=null)){sl(t);return}n=n!=null?""+en(n):"",e=e!=null?""+en(e):n,M||e===t.value||(t.value=e),t.defaultValue=e}a=a??l,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=M?t.checked:!!a,t.defaultChecked=!!a,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),sl(t)}function ol(t,e,n){e==="number"&&gr(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function ma(t,e,n,a){if(t=t.options,e){e={};for(var l=0;l<n.length;l++)e["$"+n[l]]=!0;for(n=0;n<t.length;n++)l=e.hasOwnProperty("$"+t[n].value),t[n].selected!==l&&(t[n].selected=l),l&&a&&(t[n].defaultSelected=!0)}else{for(n=""+en(n),e=null,l=0;l<t.length;l++){if(t[l].value===n){t[l].selected=!0,a&&(t[l].defaultSelected=!0);return}e!==null||t[l].disabled||(e=t[l])}e!==null&&(e.selected=!0)}}function Kf(t,e,n){if(e!=null&&(e=""+en(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+en(n):""}function Qf(t,e,n,a){if(e==null){if(a!=null){if(n!=null)throw Error(o(92));if(tt(a)){if(1<a.length)throw Error(o(93));a=a[0]}n=a}n==null&&(n=""),e=n}n=en(e),t.defaultValue=n,a=t.textContent,a===n&&a!==""&&a!==null&&(t.value=a),sl(t)}function pa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Uy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $f(t,e,n){var a=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":a?t.setProperty(e,n):typeof n!="number"||n===0||Uy.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Wf(t,e,n){if(e!=null&&typeof e!="object")throw Error(o(62));if(t=t.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||e!=null&&e.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var l in e)a=e[l],e.hasOwnProperty(l)&&n[l]!==a&&$f(t,l,a)}else for(var u in e)e.hasOwnProperty(u)&&$f(t,u,e[u])}function ll(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ly=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yr(t){return Vy.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function An(){}var cl=null;function ul(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ga=null,ya=null;function Jf(t){var e=fa(t);if(e&&(t=e.stateNode)){var n=t[De]||null;t:switch(t=e.stateNode,e.type){case"input":if(rl(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+nn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var a=n[e];if(a!==t&&a.form===t.form){var l=a[De]||null;if(!l)throw Error(o(90));rl(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(e=0;e<n.length;e++)a=n[e],a.form===t.form&&Zf(a)}break t;case"textarea":Kf(t,n.value,n.defaultValue);break t;case"select":e=n.value,e!=null&&ma(t,!!n.multiple,e,!1)}}}var fl=!1;function td(t,e,n){if(fl)return t(e,n);fl=!0;try{var a=t(e);return a}finally{if(fl=!1,(ga!==null||ya!==null)&&(ao(),ga&&(e=ga,t=ya,ya=ga=null,Jf(e),t)))for(e=0;e<t.length;e++)Jf(t[e])}}function rs(t,e){var n=t.stateNode;if(n===null)return null;var a=n[De]||null;if(a===null)return null;n=a[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break t;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(o(231,e,typeof n));return n}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dl=!1;if(jn)try{var os={};Object.defineProperty(os,"passive",{get:function(){dl=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{dl=!1}var Jn=null,hl=null,vr=null;function ed(){if(vr)return vr;var t,e=hl,n=e.length,a,l="value"in Jn?Jn.value:Jn.textContent,u=l.length;for(t=0;t<n&&e[t]===l[t];t++);var v=n-t;for(a=1;a<=v&&e[n-a]===l[u-a];a++);return vr=l.slice(t,1<a?1-a:void 0)}function br(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xr(){return!0}function nd(){return!1}function Oe(t){function e(n,a,l,u,v){this._reactName=n,this._targetInst=l,this.type=a,this.nativeEvent=u,this.target=v,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(n=t[M],this[M]=n?n(u):u[M]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?xr:nd,this.isPropagationStopped=nd,this}return y(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xr)},persist:function(){},isPersistent:xr}),e}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wr=Oe(Bi),ls=y({},Bi,{view:0,detail:0}),Hy=Oe(ls),ml,pl,cs,Sr=y({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cs&&(cs&&t.type==="mousemove"?(ml=t.screenX-cs.screenX,pl=t.screenY-cs.screenY):pl=ml=0,cs=t),ml)},movementY:function(t){return"movementY"in t?t.movementY:pl}}),id=Oe(Sr),Fy=y({},Sr,{dataTransfer:0}),Py=Oe(Fy),Iy=y({},ls,{relatedTarget:0}),gl=Oe(Iy),qy=y({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Gy=Oe(qy),Yy=y({},Bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Zy=Oe(Yy),Xy=y({},Bi,{data:0}),ad=Oe(Xy),Ky={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wy(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$y[t])?!!e[t]:!1}function yl(){return Wy}var Jy=y({},ls,{key:function(t){if(t.key){var e=Ky[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=br(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yl,charCode:function(t){return t.type==="keypress"?br(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?br(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tv=Oe(Jy),ev=y({},Sr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sd=Oe(ev),nv=y({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yl}),iv=Oe(nv),av=y({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),sv=Oe(av),rv=y({},Sr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ov=Oe(rv),lv=y({},Bi,{newState:0,oldState:0}),cv=Oe(lv),uv=[9,13,27,32],vl=jn&&"CompositionEvent"in window,us=null;jn&&"documentMode"in document&&(us=document.documentMode);var fv=jn&&"TextEvent"in window&&!us,rd=jn&&(!vl||us&&8<us&&11>=us),od=" ",ld=!1;function cd(t,e){switch(t){case"keyup":return uv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ud(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var va=!1;function dv(t,e){switch(t){case"compositionend":return ud(e);case"keypress":return e.which!==32?null:(ld=!0,od);case"textInput":return t=e.data,t===od&&ld?null:t;default:return null}}function hv(t,e){if(va)return t==="compositionend"||!vl&&cd(t,e)?(t=ed(),vr=hl=Jn=null,va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rd&&e.locale!=="ko"?null:e.data;default:return null}}var mv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!mv[t.type]:e==="textarea"}function dd(t,e,n,a){ga?ya?ya.push(a):ya=[a]:ga=a,e=fo(e,"onChange"),0<e.length&&(n=new wr("onChange","change",null,n,a),t.push({event:n,listeners:e}))}var fs=null,ds=null;function pv(t){Xm(t,0)}function Tr(t){var e=ss(t);if(Zf(e))return t}function hd(t,e){if(t==="change")return e}var md=!1;if(jn){var bl;if(jn){var xl="oninput"in document;if(!xl){var pd=document.createElement("div");pd.setAttribute("oninput","return;"),xl=typeof pd.oninput=="function"}bl=xl}else bl=!1;md=bl&&(!document.documentMode||9<document.documentMode)}function gd(){fs&&(fs.detachEvent("onpropertychange",yd),ds=fs=null)}function yd(t){if(t.propertyName==="value"&&Tr(ds)){var e=[];dd(e,ds,t,ul(t)),td(pv,e)}}function gv(t,e,n){t==="focusin"?(gd(),fs=e,ds=n,fs.attachEvent("onpropertychange",yd)):t==="focusout"&&gd()}function yv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tr(ds)}function vv(t,e){if(t==="click")return Tr(e)}function bv(t,e){if(t==="input"||t==="change")return Tr(e)}function xv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qe=typeof Object.is=="function"?Object.is:xv;function hs(t,e){if(qe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var l=n[a];if(!I.call(e,l)||!qe(t[l],e[l]))return!1}return!0}function vd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bd(t,e){var n=vd(t);t=0;for(var a;n;){if(n.nodeType===3){if(a=t+n.textContent.length,t<=e&&a>=e)return{node:n,offset:e-t};t=a}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=vd(n)}}function xd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=gr(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=gr(t.document)}return e}function wl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var wv=jn&&"documentMode"in document&&11>=document.documentMode,ba=null,Sl=null,ms=null,Tl=!1;function Sd(t,e,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tl||ba==null||ba!==gr(a)||(a=ba,"selectionStart"in a&&wl(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ms&&hs(ms,a)||(ms=a,a=fo(Sl,"onSelect"),0<a.length&&(e=new wr("onSelect","select",null,e,n),t.push({event:e,listeners:a}),e.target=ba)))}function Ui(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xa={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionrun:Ui("Transition","TransitionRun"),transitionstart:Ui("Transition","TransitionStart"),transitioncancel:Ui("Transition","TransitionCancel"),transitionend:Ui("Transition","TransitionEnd")},_l={},Td={};jn&&(Td=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Li(t){if(_l[t])return _l[t];if(!xa[t])return t;var e=xa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Td)return _l[t]=e[n];return t}var _d=Li("animationend"),Cd=Li("animationiteration"),Ed=Li("animationstart"),Sv=Li("transitionrun"),Tv=Li("transitionstart"),_v=Li("transitioncancel"),kd=Li("transitionend"),Ad=new Map,Cl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cl.push("scrollEnd");function pn(t,e){Ad.set(t,e),Oi(e,[t])}var _r=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},an=[],wa=0,El=0;function Cr(){for(var t=wa,e=El=wa=0;e<t;){var n=an[e];an[e++]=null;var a=an[e];an[e++]=null;var l=an[e];an[e++]=null;var u=an[e];if(an[e++]=null,a!==null&&l!==null){var v=a.pending;v===null?l.next=l:(l.next=v.next,v.next=l),a.pending=l}u!==0&&jd(n,l,u)}}function Er(t,e,n,a){an[wa++]=t,an[wa++]=e,an[wa++]=n,an[wa++]=a,El|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function kl(t,e,n,a){return Er(t,e,n,a),kr(t)}function Vi(t,e){return Er(t,null,null,e),kr(t)}function jd(t,e,n){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n);for(var l=!1,u=t.return;u!==null;)u.childLanes|=n,a=u.alternate,a!==null&&(a.childLanes|=n),u.tag===22&&(t=u.stateNode,t===null||t._visibility&1||(l=!0)),t=u,u=u.return;return t.tag===3?(u=t.stateNode,l&&e!==null&&(l=31-ae(n),t=u.hiddenUpdates,a=t[l],a===null?t[l]=[e]:a.push(e),e.lane=n|536870912),u):null}function kr(t){if(50<Bs)throw Bs=0,Bc=null,Error(o(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Sa={};function Cv(t,e,n,a){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(t,e,n,a){return new Cv(t,e,n,a)}function Al(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zn(t,e){var n=t.alternate;return n===null?(n=Ge(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function zd(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Ar(t,e,n,a,l,u){var v=0;if(a=t,typeof t=="function")Al(t)&&(v=1);else if(typeof t=="string")v=z1(t,n,at.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case Z:return t=Ge(31,n,e,l),t.elementType=Z,t.lanes=u,t;case S:return Hi(n.children,l,u,e);case z:v=8,l|=24;break;case C:return t=Ge(12,n,e,l|2),t.elementType=C,t.lanes=u,t;case D:return t=Ge(13,n,e,l),t.elementType=D,t.lanes=u,t;case q:return t=Ge(19,n,e,l),t.elementType=q,t.lanes=u,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case E:v=10;break t;case k:v=9;break t;case B:v=11;break t;case L:v=14;break t;case G:v=16,a=null;break t}v=29,n=Error(o(130,t===null?"null":typeof t,"")),a=null}return e=Ge(v,n,e,l),e.elementType=t,e.type=a,e.lanes=u,e}function Hi(t,e,n,a){return t=Ge(7,t,a,e),t.lanes=n,t}function jl(t,e,n){return t=Ge(6,t,null,e),t.lanes=n,t}function Md(t){var e=Ge(18,null,null,0);return e.stateNode=t,e}function zl(t,e,n){return e=Ge(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Nd=new WeakMap;function sn(t,e){if(typeof t=="object"&&t!==null){var n=Nd.get(t);return n!==void 0?n:(e={value:t,source:e,stack:N(e)},Nd.set(t,e),e)}return{value:t,source:e,stack:N(e)}}var Ta=[],_a=0,jr=null,ps=0,rn=[],on=0,ti=null,xn=1,wn="";function Mn(t,e){Ta[_a++]=ps,Ta[_a++]=jr,jr=t,ps=e}function Rd(t,e,n){rn[on++]=xn,rn[on++]=wn,rn[on++]=ti,ti=t;var a=xn;t=wn;var l=32-ae(a)-1;a&=~(1<<l),n+=1;var u=32-ae(e)+l;if(30<u){var v=l-l%5;u=(a&(1<<v)-1).toString(32),a>>=v,l-=v,xn=1<<32-ae(e)+l|n<<l|a,wn=u+t}else xn=1<<u|n<<l|a,wn=t}function Ml(t){t.return!==null&&(Mn(t,1),Rd(t,1,0))}function Nl(t){for(;t===jr;)jr=Ta[--_a],Ta[_a]=null,ps=Ta[--_a],Ta[_a]=null;for(;t===ti;)ti=rn[--on],rn[on]=null,wn=rn[--on],rn[on]=null,xn=rn[--on],rn[on]=null}function Dd(t,e){rn[on++]=xn,rn[on++]=wn,rn[on++]=ti,xn=e.id,wn=e.overflow,ti=t}var we=null,ee=null,It=!1,ei=null,ln=!1,Rl=Error(o(519));function ni(t){var e=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gs(sn(e,t)),Rl}function Od(t){var e=t.stateNode,n=t.type,a=t.memoizedProps;switch(e[xe]=t,e[De]=a,n){case"dialog":Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":case"embed":Vt("load",e);break;case"video":case"audio":for(n=0;n<Ls.length;n++)Vt(Ls[n],e);break;case"source":Vt("error",e);break;case"img":case"image":case"link":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"input":Vt("invalid",e),Xf(e,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Vt("invalid",e);break;case"textarea":Vt("invalid",e),Qf(e,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||a.suppressHydrationWarning===!0||Wm(e.textContent,n)?(a.popover!=null&&(Vt("beforetoggle",e),Vt("toggle",e)),a.onScroll!=null&&Vt("scroll",e),a.onScrollEnd!=null&&Vt("scrollend",e),a.onClick!=null&&(e.onclick=An),e=!0):e=!1,e||ni(t,!0)}function Bd(t){for(we=t.return;we;)switch(we.tag){case 5:case 31:case 13:ln=!1;return;case 27:case 3:ln=!0;return;default:we=we.return}}function Ca(t){if(t!==we)return!1;if(!It)return Bd(t),It=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||$c(t.type,t.memoizedProps)),n=!n),n&&ee&&ni(t),Bd(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));ee=op(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));ee=op(t)}else e===27?(e=ee,gi(t.type)?(t=nu,nu=null,ee=t):ee=e):ee=we?un(t.stateNode.nextSibling):null;return!0}function Fi(){ee=we=null,It=!1}function Dl(){var t=ei;return t!==null&&(Ve===null?Ve=t:Ve.push.apply(Ve,t),ei=null),t}function gs(t){ei===null?ei=[t]:ei.push(t)}var Ol=j(null),Pi=null,Nn=null;function ii(t,e,n){et(Ol,e._currentValue),e._currentValue=n}function Rn(t){t._currentValue=Ol.current,O(Ol)}function Bl(t,e,n){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===n)break;t=t.return}}function Ul(t,e,n,a){var l=t.child;for(l!==null&&(l.return=t);l!==null;){var u=l.dependencies;if(u!==null){var v=l.child;u=u.firstContext;t:for(;u!==null;){var M=u;u=l;for(var H=0;H<e.length;H++)if(M.context===e[H]){u.lanes|=n,M=u.alternate,M!==null&&(M.lanes|=n),Bl(u.return,n,t),a||(v=null);break t}u=M.next}}else if(l.tag===18){if(v=l.return,v===null)throw Error(o(341));v.lanes|=n,u=v.alternate,u!==null&&(u.lanes|=n),Bl(v,n,t),v=null}else v=l.child;if(v!==null)v.return=l;else for(v=l;v!==null;){if(v===t){v=null;break}if(l=v.sibling,l!==null){l.return=v.return,v=l;break}v=v.return}l=v}}function Ea(t,e,n,a){t=null;for(var l=e,u=!1;l!==null;){if(!u){if((l.flags&524288)!==0)u=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var v=l.alternate;if(v===null)throw Error(o(387));if(v=v.memoizedProps,v!==null){var M=l.type;qe(l.pendingProps.value,v.value)||(t!==null?t.push(M):t=[M])}}else if(l===kt.current){if(v=l.alternate,v===null)throw Error(o(387));v.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(t!==null?t.push(Is):t=[Is])}l=l.return}t!==null&&Ul(e,t,n,a),e.flags|=262144}function zr(t){for(t=t.firstContext;t!==null;){if(!qe(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ii(t){Pi=t,Nn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Se(t){return Ud(Pi,t)}function Mr(t,e){return Pi===null&&Ii(t),Ud(t,e)}function Ud(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Nn===null){if(t===null)throw Error(o(308));Nn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Nn=Nn.next=e;return n}var Ev=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,a){t.push(a)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},kv=s.unstable_scheduleCallback,Av=s.unstable_NormalPriority,fe={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ll(){return{controller:new Ev,data:new Map,refCount:0}}function ys(t){t.refCount--,t.refCount===0&&kv(Av,function(){t.controller.abort()})}var vs=null,Vl=0,ka=0,Aa=null;function jv(t,e){if(vs===null){var n=vs=[];Vl=0,ka=Pc(),Aa={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Vl++,e.then(Ld,Ld),e}function Ld(){if(--Vl===0&&vs!==null){Aa!==null&&(Aa.status="fulfilled");var t=vs;vs=null,ka=0,Aa=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function zv(t,e){var n=[],a={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return t.then(function(){a.status="fulfilled",a.value=e;for(var l=0;l<n.length;l++)(0,n[l])(e)},function(l){for(a.status="rejected",a.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),a}var Vd=X.S;X.S=function(t,e){Sm=wt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&jv(t,e),Vd!==null&&Vd(t,e)};var qi=j(null);function Hl(){var t=qi.current;return t!==null?t:te.pooledCache}function Nr(t,e){e===null?et(qi,qi.current):et(qi,e.pool)}function Hd(){var t=Hl();return t===null?null:{parent:fe._currentValue,pool:t}}var ja=Error(o(460)),Fl=Error(o(474)),Rr=Error(o(542)),Dr={then:function(){}};function Fd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Pd(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(An,An),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,qd(t),t;default:if(typeof e.status=="string")e.then(An,An);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=e,t.status="pending",t.then(function(a){if(e.status==="pending"){var l=e;l.status="fulfilled",l.value=a}},function(a){if(e.status==="pending"){var l=e;l.status="rejected",l.reason=a}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,qd(t),t}throw Yi=e,ja}}function Gi(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Yi=n,ja):n}}var Yi=null;function Id(){if(Yi===null)throw Error(o(459));var t=Yi;return Yi=null,t}function qd(t){if(t===ja||t===Rr)throw Error(o(483))}var za=null,bs=0;function Or(t){var e=bs;return bs+=1,za===null&&(za=[]),Pd(za,t,e)}function xs(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Br(t,e){throw e.$$typeof===w?Error(o(525)):(t=Object.prototype.toString.call(e),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Gd(t){function e(K,Y){if(t){var W=K.deletions;W===null?(K.deletions=[Y],K.flags|=16):W.push(Y)}}function n(K,Y){if(!t)return null;for(;Y!==null;)e(K,Y),Y=Y.sibling;return null}function a(K){for(var Y=new Map;K!==null;)K.key!==null?Y.set(K.key,K):Y.set(K.index,K),K=K.sibling;return Y}function l(K,Y){return K=zn(K,Y),K.index=0,K.sibling=null,K}function u(K,Y,W){return K.index=W,t?(W=K.alternate,W!==null?(W=W.index,W<Y?(K.flags|=67108866,Y):W):(K.flags|=67108866,Y)):(K.flags|=1048576,Y)}function v(K){return t&&K.alternate===null&&(K.flags|=67108866),K}function M(K,Y,W,dt){return Y===null||Y.tag!==6?(Y=jl(W,K.mode,dt),Y.return=K,Y):(Y=l(Y,W),Y.return=K,Y)}function H(K,Y,W,dt){var jt=W.type;return jt===S?ut(K,Y,W.props.children,dt,W.key):Y!==null&&(Y.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===G&&Gi(jt)===Y.type)?(Y=l(Y,W.props),xs(Y,W),Y.return=K,Y):(Y=Ar(W.type,W.key,W.props,null,K.mode,dt),xs(Y,W),Y.return=K,Y)}function J(K,Y,W,dt){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==W.containerInfo||Y.stateNode.implementation!==W.implementation?(Y=zl(W,K.mode,dt),Y.return=K,Y):(Y=l(Y,W.children||[]),Y.return=K,Y)}function ut(K,Y,W,dt,jt){return Y===null||Y.tag!==7?(Y=Hi(W,K.mode,dt,jt),Y.return=K,Y):(Y=l(Y,W),Y.return=K,Y)}function ht(K,Y,W){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=jl(""+Y,K.mode,W),Y.return=K,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return W=Ar(Y.type,Y.key,Y.props,null,K.mode,W),xs(W,Y),W.return=K,W;case A:return Y=zl(Y,K.mode,W),Y.return=K,Y;case G:return Y=Gi(Y),ht(K,Y,W)}if(tt(Y)||U(Y))return Y=Hi(Y,K.mode,W,null),Y.return=K,Y;if(typeof Y.then=="function")return ht(K,Or(Y),W);if(Y.$$typeof===E)return ht(K,Mr(K,Y),W);Br(K,Y)}return null}function nt(K,Y,W,dt){var jt=Y!==null?Y.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return jt!==null?null:M(K,Y,""+W,dt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return W.key===jt?H(K,Y,W,dt):null;case A:return W.key===jt?J(K,Y,W,dt):null;case G:return W=Gi(W),nt(K,Y,W,dt)}if(tt(W)||U(W))return jt!==null?null:ut(K,Y,W,dt,null);if(typeof W.then=="function")return nt(K,Y,Or(W),dt);if(W.$$typeof===E)return nt(K,Y,Mr(K,W),dt);Br(K,W)}return null}function lt(K,Y,W,dt,jt){if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return K=K.get(W)||null,M(Y,K,""+dt,jt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case b:return K=K.get(dt.key===null?W:dt.key)||null,H(Y,K,dt,jt);case A:return K=K.get(dt.key===null?W:dt.key)||null,J(Y,K,dt,jt);case G:return dt=Gi(dt),lt(K,Y,W,dt,jt)}if(tt(dt)||U(dt))return K=K.get(W)||null,ut(Y,K,dt,jt,null);if(typeof dt.then=="function")return lt(K,Y,W,Or(dt),jt);if(dt.$$typeof===E)return lt(K,Y,W,Mr(Y,dt),jt);Br(Y,dt)}return null}function Ct(K,Y,W,dt){for(var jt=null,qt=null,At=Y,Bt=Y=0,Ft=null;At!==null&&Bt<W.length;Bt++){At.index>Bt?(Ft=At,At=null):Ft=At.sibling;var Gt=nt(K,At,W[Bt],dt);if(Gt===null){At===null&&(At=Ft);break}t&&At&&Gt.alternate===null&&e(K,At),Y=u(Gt,Y,Bt),qt===null?jt=Gt:qt.sibling=Gt,qt=Gt,At=Ft}if(Bt===W.length)return n(K,At),It&&Mn(K,Bt),jt;if(At===null){for(;Bt<W.length;Bt++)At=ht(K,W[Bt],dt),At!==null&&(Y=u(At,Y,Bt),qt===null?jt=At:qt.sibling=At,qt=At);return It&&Mn(K,Bt),jt}for(At=a(At);Bt<W.length;Bt++)Ft=lt(At,K,Bt,W[Bt],dt),Ft!==null&&(t&&Ft.alternate!==null&&At.delete(Ft.key===null?Bt:Ft.key),Y=u(Ft,Y,Bt),qt===null?jt=Ft:qt.sibling=Ft,qt=Ft);return t&&At.forEach(function(wi){return e(K,wi)}),It&&Mn(K,Bt),jt}function zt(K,Y,W,dt){if(W==null)throw Error(o(151));for(var jt=null,qt=null,At=Y,Bt=Y=0,Ft=null,Gt=W.next();At!==null&&!Gt.done;Bt++,Gt=W.next()){At.index>Bt?(Ft=At,At=null):Ft=At.sibling;var wi=nt(K,At,Gt.value,dt);if(wi===null){At===null&&(At=Ft);break}t&&At&&wi.alternate===null&&e(K,At),Y=u(wi,Y,Bt),qt===null?jt=wi:qt.sibling=wi,qt=wi,At=Ft}if(Gt.done)return n(K,At),It&&Mn(K,Bt),jt;if(At===null){for(;!Gt.done;Bt++,Gt=W.next())Gt=ht(K,Gt.value,dt),Gt!==null&&(Y=u(Gt,Y,Bt),qt===null?jt=Gt:qt.sibling=Gt,qt=Gt);return It&&Mn(K,Bt),jt}for(At=a(At);!Gt.done;Bt++,Gt=W.next())Gt=lt(At,K,Bt,Gt.value,dt),Gt!==null&&(t&&Gt.alternate!==null&&At.delete(Gt.key===null?Bt:Gt.key),Y=u(Gt,Y,Bt),qt===null?jt=Gt:qt.sibling=Gt,qt=Gt);return t&&At.forEach(function(F1){return e(K,F1)}),It&&Mn(K,Bt),jt}function Wt(K,Y,W,dt){if(typeof W=="object"&&W!==null&&W.type===S&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case b:t:{for(var jt=W.key;Y!==null;){if(Y.key===jt){if(jt=W.type,jt===S){if(Y.tag===7){n(K,Y.sibling),dt=l(Y,W.props.children),dt.return=K,K=dt;break t}}else if(Y.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===G&&Gi(jt)===Y.type){n(K,Y.sibling),dt=l(Y,W.props),xs(dt,W),dt.return=K,K=dt;break t}n(K,Y);break}else e(K,Y);Y=Y.sibling}W.type===S?(dt=Hi(W.props.children,K.mode,dt,W.key),dt.return=K,K=dt):(dt=Ar(W.type,W.key,W.props,null,K.mode,dt),xs(dt,W),dt.return=K,K=dt)}return v(K);case A:t:{for(jt=W.key;Y!==null;){if(Y.key===jt)if(Y.tag===4&&Y.stateNode.containerInfo===W.containerInfo&&Y.stateNode.implementation===W.implementation){n(K,Y.sibling),dt=l(Y,W.children||[]),dt.return=K,K=dt;break t}else{n(K,Y);break}else e(K,Y);Y=Y.sibling}dt=zl(W,K.mode,dt),dt.return=K,K=dt}return v(K);case G:return W=Gi(W),Wt(K,Y,W,dt)}if(tt(W))return Ct(K,Y,W,dt);if(U(W)){if(jt=U(W),typeof jt!="function")throw Error(o(150));return W=jt.call(W),zt(K,Y,W,dt)}if(typeof W.then=="function")return Wt(K,Y,Or(W),dt);if(W.$$typeof===E)return Wt(K,Y,Mr(K,W),dt);Br(K,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,Y!==null&&Y.tag===6?(n(K,Y.sibling),dt=l(Y,W),dt.return=K,K=dt):(n(K,Y),dt=jl(W,K.mode,dt),dt.return=K,K=dt),v(K)):n(K,Y)}return function(K,Y,W,dt){try{bs=0;var jt=Wt(K,Y,W,dt);return za=null,jt}catch(At){if(At===ja||At===Rr)throw At;var qt=Ge(29,At,null,K.mode);return qt.lanes=dt,qt.return=K,qt}finally{}}}var Zi=Gd(!0),Yd=Gd(!1),ai=!1;function Pl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Il(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function si(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ri(t,e,n){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(Yt&2)!==0){var l=a.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),a.pending=e,e=kr(t),jd(t,null,n),e}return Er(t,a,e,n),kr(t)}function ws(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,Uf(t,n)}}function ql(t,e){var n=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var l=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var v={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?l=u=v:u=u.next=v,n=n.next}while(n!==null);u===null?l=u=e:u=u.next=e}else l=u=e;n={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:u,shared:a.shared,callbacks:a.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Gl=!1;function Ss(){if(Gl){var t=Aa;if(t!==null)throw t}}function Ts(t,e,n,a){Gl=!1;var l=t.updateQueue;ai=!1;var u=l.firstBaseUpdate,v=l.lastBaseUpdate,M=l.shared.pending;if(M!==null){l.shared.pending=null;var H=M,J=H.next;H.next=null,v===null?u=J:v.next=J,v=H;var ut=t.alternate;ut!==null&&(ut=ut.updateQueue,M=ut.lastBaseUpdate,M!==v&&(M===null?ut.firstBaseUpdate=J:M.next=J,ut.lastBaseUpdate=H))}if(u!==null){var ht=l.baseState;v=0,ut=J=H=null,M=u;do{var nt=M.lane&-536870913,lt=nt!==M.lane;if(lt?(Ht&nt)===nt:(a&nt)===nt){nt!==0&&nt===ka&&(Gl=!0),ut!==null&&(ut=ut.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});t:{var Ct=t,zt=M;nt=e;var Wt=n;switch(zt.tag){case 1:if(Ct=zt.payload,typeof Ct=="function"){ht=Ct.call(Wt,ht,nt);break t}ht=Ct;break t;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=zt.payload,nt=typeof Ct=="function"?Ct.call(Wt,ht,nt):Ct,nt==null)break t;ht=y({},ht,nt);break t;case 2:ai=!0}}nt=M.callback,nt!==null&&(t.flags|=64,lt&&(t.flags|=8192),lt=l.callbacks,lt===null?l.callbacks=[nt]:lt.push(nt))}else lt={lane:nt,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ut===null?(J=ut=lt,H=ht):ut=ut.next=lt,v|=nt;if(M=M.next,M===null){if(M=l.shared.pending,M===null)break;lt=M,M=lt.next,lt.next=null,l.lastBaseUpdate=lt,l.shared.pending=null}}while(!0);ut===null&&(H=ht),l.baseState=H,l.firstBaseUpdate=J,l.lastBaseUpdate=ut,u===null&&(l.shared.lanes=0),fi|=v,t.lanes=v,t.memoizedState=ht}}function Zd(t,e){if(typeof t!="function")throw Error(o(191,t));t.call(e)}function Xd(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Zd(n[t],e)}var Ma=j(null),Ur=j(0);function Kd(t,e){t=Pn,et(Ur,t),et(Ma,e),Pn=t|e.baseLanes}function Yl(){et(Ur,Pn),et(Ma,Ma.current)}function Zl(){Pn=Ur.current,O(Ma),O(Ur)}var Ye=j(null),cn=null;function oi(t){var e=t.alternate;et(le,le.current&1),et(Ye,t),cn===null&&(e===null||Ma.current!==null||e.memoizedState!==null)&&(cn=t)}function Xl(t){et(le,le.current),et(Ye,t),cn===null&&(cn=t)}function Qd(t){t.tag===22?(et(le,le.current),et(Ye,t),cn===null&&(cn=t)):li()}function li(){et(le,le.current),et(Ye,Ye.current)}function Ze(t){O(Ye),cn===t&&(cn=null),O(le)}var le=j(0);function Lr(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||tu(n)||eu(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dn=0,Ot=null,Qt=null,de=null,Vr=!1,Na=!1,Xi=!1,Hr=0,_s=0,Ra=null,Mv=0;function re(){throw Error(o(321))}function Kl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qe(t[n],e[n]))return!1;return!0}function Ql(t,e,n,a,l,u){return Dn=u,Ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,X.H=t===null||t.memoizedState===null?Rh:fc,Xi=!1,u=n(a,l),Xi=!1,Na&&(u=Wd(e,n,a,l)),$d(t),u}function $d(t){X.H=ks;var e=Qt!==null&&Qt.next!==null;if(Dn=0,de=Qt=Ot=null,Vr=!1,_s=0,Ra=null,e)throw Error(o(300));t===null||he||(t=t.dependencies,t!==null&&zr(t)&&(he=!0))}function Wd(t,e,n,a){Ot=t;var l=0;do{if(Na&&(Ra=null),_s=0,Na=!1,25<=l)throw Error(o(301));if(l+=1,de=Qt=null,t.updateQueue!=null){var u=t.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}X.H=Dh,u=e(n,a)}while(Na);return u}function Nv(){var t=X.H,e=t.useState()[0];return e=typeof e.then=="function"?Cs(e):e,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(Ot.flags|=1024),e}function $l(){var t=Hr!==0;return Hr=0,t}function Wl(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Jl(t){if(Vr){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Vr=!1}Dn=0,de=Qt=Ot=null,Na=!1,_s=Hr=0,Ra=null}function Ne(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Ot.memoizedState=de=t:de=de.next=t,de}function ce(){if(Qt===null){var t=Ot.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var e=de===null?Ot.memoizedState:de.next;if(e!==null)de=e,Qt=t;else{if(t===null)throw Ot.alternate===null?Error(o(467)):Error(o(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},de===null?Ot.memoizedState=de=t:de=de.next=t}return de}function Fr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cs(t){var e=_s;return _s+=1,Ra===null&&(Ra=[]),t=Pd(Ra,t,e),e=Ot,(de===null?e.memoizedState:de.next)===null&&(e=e.alternate,X.H=e===null||e.memoizedState===null?Rh:fc),t}function Pr(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Cs(t);if(t.$$typeof===E)return Se(t)}throw Error(o(438,String(t)))}function tc(t){var e=null,n=Ot.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var a=Ot.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(e={data:a.data.map(function(l){return l.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Fr(),Ot.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),a=0;a<t;a++)n[a]=$;return e.index++,n}function On(t,e){return typeof e=="function"?e(t):e}function Ir(t){var e=ce();return ec(e,Qt,t)}function ec(t,e,n){var a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=n;var l=t.baseQueue,u=a.pending;if(u!==null){if(l!==null){var v=l.next;l.next=u.next,u.next=v}e.baseQueue=l=u,a.pending=null}if(u=t.baseState,l===null)t.memoizedState=u;else{e=l.next;var M=v=null,H=null,J=e,ut=!1;do{var ht=J.lane&-536870913;if(ht!==J.lane?(Ht&ht)===ht:(Dn&ht)===ht){var nt=J.revertLane;if(nt===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ht===ka&&(ut=!0);else if((Dn&nt)===nt){J=J.next,nt===ka&&(ut=!0);continue}else ht={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},H===null?(M=H=ht,v=u):H=H.next=ht,Ot.lanes|=nt,fi|=nt;ht=J.action,Xi&&n(u,ht),u=J.hasEagerState?J.eagerState:n(u,ht)}else nt={lane:ht,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},H===null?(M=H=nt,v=u):H=H.next=nt,Ot.lanes|=ht,fi|=ht;J=J.next}while(J!==null&&J!==e);if(H===null?v=u:H.next=M,!qe(u,t.memoizedState)&&(he=!0,ut&&(n=Aa,n!==null)))throw n;t.memoizedState=u,t.baseState=v,t.baseQueue=H,a.lastRenderedState=u}return l===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function nc(t){var e=ce(),n=e.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=t;var a=n.dispatch,l=n.pending,u=e.memoizedState;if(l!==null){n.pending=null;var v=l=l.next;do u=t(u,v.action),v=v.next;while(v!==l);qe(u,e.memoizedState)||(he=!0),e.memoizedState=u,e.baseQueue===null&&(e.baseState=u),n.lastRenderedState=u}return[u,a]}function Jd(t,e,n){var a=Ot,l=ce(),u=It;if(u){if(n===void 0)throw Error(o(407));n=n()}else n=e();var v=!qe((Qt||l).memoizedState,n);if(v&&(l.memoizedState=n,he=!0),l=l.queue,sc(nh.bind(null,a,l,t),[t]),l.getSnapshot!==e||v||de!==null&&de.memoizedState.tag&1){if(a.flags|=2048,Da(9,{destroy:void 0},eh.bind(null,a,l,n,e),null),te===null)throw Error(o(349));u||(Dn&127)!==0||th(a,e,n)}return n}function th(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ot.updateQueue,e===null?(e=Fr(),Ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function eh(t,e,n,a){e.value=n,e.getSnapshot=a,ih(e)&&ah(t)}function nh(t,e,n){return n(function(){ih(e)&&ah(t)})}function ih(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qe(t,n)}catch{return!0}}function ah(t){var e=Vi(t,2);e!==null&&He(e,t,2)}function ic(t){var e=Ne();if(typeof t=="function"){var n=t;if(t=n(),Xi){Je(!0);try{n()}finally{Je(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:t},e}function sh(t,e,n,a){return t.baseState=n,ec(t,Qt,typeof a=="function"?a:On)}function Rv(t,e,n,a,l){if(Yr(t))throw Error(o(485));if(t=e.action,t!==null){var u={payload:l,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){u.listeners.push(v)}};X.T!==null?n(!0):u.isTransition=!1,a(u),n=e.pending,n===null?(u.next=e.pending=u,rh(e,u)):(u.next=n.next,e.pending=n.next=u)}}function rh(t,e){var n=e.action,a=e.payload,l=t.state;if(e.isTransition){var u=X.T,v={};X.T=v;try{var M=n(l,a),H=X.S;H!==null&&H(v,M),oh(t,e,M)}catch(J){ac(t,e,J)}finally{u!==null&&v.types!==null&&(u.types=v.types),X.T=u}}else try{u=n(l,a),oh(t,e,u)}catch(J){ac(t,e,J)}}function oh(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){lh(t,e,a)},function(a){return ac(t,e,a)}):lh(t,e,n)}function lh(t,e,n){e.status="fulfilled",e.value=n,ch(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,rh(t,n)))}function ac(t,e,n){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do e.status="rejected",e.reason=n,ch(e),e=e.next;while(e!==a)}t.action=null}function ch(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function uh(t,e){return e}function fh(t,e){if(It){var n=te.formState;if(n!==null){t:{var a=Ot;if(It){if(ee){e:{for(var l=ee,u=ln;l.nodeType!==8;){if(!u){l=null;break e}if(l=un(l.nextSibling),l===null){l=null;break e}}u=l.data,l=u==="F!"||u==="F"?l:null}if(l){ee=un(l.nextSibling),a=l.data==="F!";break t}}ni(a)}a=!1}a&&(e=n[0])}}return n=Ne(),n.memoizedState=n.baseState=e,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uh,lastRenderedState:e},n.queue=a,n=zh.bind(null,Ot,a),a.dispatch=n,a=ic(!1),u=uc.bind(null,Ot,!1,a.queue),a=Ne(),l={state:e,dispatch:null,action:t,pending:null},a.queue=l,n=Rv.bind(null,Ot,l,u,n),l.dispatch=n,a.memoizedState=t,[e,n,!1]}function dh(t){var e=ce();return hh(e,Qt,t)}function hh(t,e,n){if(e=ec(t,e,uh)[0],t=Ir(On)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var a=Cs(e)}catch(v){throw v===ja?Rr:v}else a=e;e=ce();var l=e.queue,u=l.dispatch;return n!==e.memoizedState&&(Ot.flags|=2048,Da(9,{destroy:void 0},Dv.bind(null,l,n),null)),[a,u,t]}function Dv(t,e){t.action=e}function mh(t){var e=ce(),n=Qt;if(n!==null)return hh(e,n,t);ce(),e=e.memoizedState,n=ce();var a=n.queue.dispatch;return n.memoizedState=t,[e,a,!1]}function Da(t,e,n,a){return t={tag:t,create:n,deps:a,inst:e,next:null},e=Ot.updateQueue,e===null&&(e=Fr(),Ot.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(a=n.next,n.next=t,t.next=a,e.lastEffect=t),t}function ph(){return ce().memoizedState}function qr(t,e,n,a){var l=Ne();Ot.flags|=t,l.memoizedState=Da(1|e,{destroy:void 0},n,a===void 0?null:a)}function Gr(t,e,n,a){var l=ce();a=a===void 0?null:a;var u=l.memoizedState.inst;Qt!==null&&a!==null&&Kl(a,Qt.memoizedState.deps)?l.memoizedState=Da(e,u,n,a):(Ot.flags|=t,l.memoizedState=Da(1|e,u,n,a))}function gh(t,e){qr(8390656,8,t,e)}function sc(t,e){Gr(2048,8,t,e)}function Ov(t){Ot.flags|=4;var e=Ot.updateQueue;if(e===null)e=Fr(),Ot.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function yh(t){var e=ce().memoizedState;return Ov({ref:e,nextImpl:t}),function(){if((Yt&2)!==0)throw Error(o(440));return e.impl.apply(void 0,arguments)}}function vh(t,e){return Gr(4,2,t,e)}function bh(t,e){return Gr(4,4,t,e)}function xh(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wh(t,e,n){n=n!=null?n.concat([t]):null,Gr(4,4,xh.bind(null,e,t),n)}function rc(){}function Sh(t,e){var n=ce();e=e===void 0?null:e;var a=n.memoizedState;return e!==null&&Kl(e,a[1])?a[0]:(n.memoizedState=[t,e],t)}function Th(t,e){var n=ce();e=e===void 0?null:e;var a=n.memoizedState;if(e!==null&&Kl(e,a[1]))return a[0];if(a=t(),Xi){Je(!0);try{t()}finally{Je(!1)}}return n.memoizedState=[a,e],a}function oc(t,e,n){return n===void 0||(Dn&1073741824)!==0&&(Ht&261930)===0?t.memoizedState=e:(t.memoizedState=n,t=_m(),Ot.lanes|=t,fi|=t,n)}function _h(t,e,n,a){return qe(n,e)?n:Ma.current!==null?(t=oc(t,n,a),qe(t,e)||(he=!0),t):(Dn&42)===0||(Dn&1073741824)!==0&&(Ht&261930)===0?(he=!0,t.memoizedState=n):(t=_m(),Ot.lanes|=t,fi|=t,e)}function Ch(t,e,n,a,l){var u=V.p;V.p=u!==0&&8>u?u:8;var v=X.T,M={};X.T=M,uc(t,!1,e,n);try{var H=l(),J=X.S;if(J!==null&&J(M,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ut=zv(H,a);Es(t,e,ut,Qe(t))}else Es(t,e,a,Qe(t))}catch(ht){Es(t,e,{then:function(){},status:"rejected",reason:ht},Qe())}finally{V.p=u,v!==null&&M.types!==null&&(v.types=M.types),X.T=v}}function Bv(){}function lc(t,e,n,a){if(t.tag!==5)throw Error(o(476));var l=Eh(t).queue;Ch(t,l,e,ot,n===null?Bv:function(){return kh(t),n(a)})}function Eh(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:ot},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function kh(t){var e=Eh(t);e.next===null&&(e=t.alternate.memoizedState),Es(t,e.next.queue,{},Qe())}function cc(){return Se(Is)}function Ah(){return ce().memoizedState}function jh(){return ce().memoizedState}function Uv(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Qe();t=si(n);var a=ri(e,t,n);a!==null&&(He(a,e,n),ws(a,e,n)),e={cache:Ll()},t.payload=e;return}e=e.return}}function Lv(t,e,n){var a=Qe();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Yr(t)?Mh(e,n):(n=kl(t,e,n,a),n!==null&&(He(n,t,a),Nh(n,e,a)))}function zh(t,e,n){var a=Qe();Es(t,e,n,a)}function Es(t,e,n,a){var l={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yr(t))Mh(e,l);else{var u=t.alternate;if(t.lanes===0&&(u===null||u.lanes===0)&&(u=e.lastRenderedReducer,u!==null))try{var v=e.lastRenderedState,M=u(v,n);if(l.hasEagerState=!0,l.eagerState=M,qe(M,v))return Er(t,e,l,0),te===null&&Cr(),!1}catch{}finally{}if(n=kl(t,e,l,a),n!==null)return He(n,t,a),Nh(n,e,a),!0}return!1}function uc(t,e,n,a){if(a={lane:2,revertLane:Pc(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Yr(t)){if(e)throw Error(o(479))}else e=kl(t,n,a,2),e!==null&&He(e,t,2)}function Yr(t){var e=t.alternate;return t===Ot||e!==null&&e===Ot}function Mh(t,e){Na=Vr=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Nh(t,e,n){if((n&4194048)!==0){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,Uf(t,n)}}var ks={readContext:Se,use:Pr,useCallback:re,useContext:re,useEffect:re,useImperativeHandle:re,useLayoutEffect:re,useInsertionEffect:re,useMemo:re,useReducer:re,useRef:re,useState:re,useDebugValue:re,useDeferredValue:re,useTransition:re,useSyncExternalStore:re,useId:re,useHostTransitionStatus:re,useFormState:re,useActionState:re,useOptimistic:re,useMemoCache:re,useCacheRefresh:re};ks.useEffectEvent=re;var Rh={readContext:Se,use:Pr,useCallback:function(t,e){return Ne().memoizedState=[t,e===void 0?null:e],t},useContext:Se,useEffect:gh,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,qr(4194308,4,xh.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qr(4194308,4,t,e)},useInsertionEffect:function(t,e){qr(4,2,t,e)},useMemo:function(t,e){var n=Ne();e=e===void 0?null:e;var a=t();if(Xi){Je(!0);try{t()}finally{Je(!1)}}return n.memoizedState=[a,e],a},useReducer:function(t,e,n){var a=Ne();if(n!==void 0){var l=n(e);if(Xi){Je(!0);try{n(e)}finally{Je(!1)}}}else l=e;return a.memoizedState=a.baseState=l,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:l},a.queue=t,t=t.dispatch=Lv.bind(null,Ot,t),[a.memoizedState,t]},useRef:function(t){var e=Ne();return t={current:t},e.memoizedState=t},useState:function(t){t=ic(t);var e=t.queue,n=zh.bind(null,Ot,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:rc,useDeferredValue:function(t,e){var n=Ne();return oc(n,t,e)},useTransition:function(){var t=ic(!1);return t=Ch.bind(null,Ot,t.queue,!0,!1),Ne().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var a=Ot,l=Ne();if(It){if(n===void 0)throw Error(o(407));n=n()}else{if(n=e(),te===null)throw Error(o(349));(Ht&127)!==0||th(a,e,n)}l.memoizedState=n;var u={value:n,getSnapshot:e};return l.queue=u,gh(nh.bind(null,a,u,t),[t]),a.flags|=2048,Da(9,{destroy:void 0},eh.bind(null,a,u,n,e),null),n},useId:function(){var t=Ne(),e=te.identifierPrefix;if(It){var n=wn,a=xn;n=(a&~(1<<32-ae(a)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Hr++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=Mv++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:cc,useFormState:fh,useActionState:fh,useOptimistic:function(t){var e=Ne();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=uc.bind(null,Ot,!0,n),n.dispatch=e,[t,e]},useMemoCache:tc,useCacheRefresh:function(){return Ne().memoizedState=Uv.bind(null,Ot)},useEffectEvent:function(t){var e=Ne(),n={impl:t};return e.memoizedState=n,function(){if((Yt&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},fc={readContext:Se,use:Pr,useCallback:Sh,useContext:Se,useEffect:sc,useImperativeHandle:wh,useInsertionEffect:vh,useLayoutEffect:bh,useMemo:Th,useReducer:Ir,useRef:ph,useState:function(){return Ir(On)},useDebugValue:rc,useDeferredValue:function(t,e){var n=ce();return _h(n,Qt.memoizedState,t,e)},useTransition:function(){var t=Ir(On)[0],e=ce().memoizedState;return[typeof t=="boolean"?t:Cs(t),e]},useSyncExternalStore:Jd,useId:Ah,useHostTransitionStatus:cc,useFormState:dh,useActionState:dh,useOptimistic:function(t,e){var n=ce();return sh(n,Qt,t,e)},useMemoCache:tc,useCacheRefresh:jh};fc.useEffectEvent=yh;var Dh={readContext:Se,use:Pr,useCallback:Sh,useContext:Se,useEffect:sc,useImperativeHandle:wh,useInsertionEffect:vh,useLayoutEffect:bh,useMemo:Th,useReducer:nc,useRef:ph,useState:function(){return nc(On)},useDebugValue:rc,useDeferredValue:function(t,e){var n=ce();return Qt===null?oc(n,t,e):_h(n,Qt.memoizedState,t,e)},useTransition:function(){var t=nc(On)[0],e=ce().memoizedState;return[typeof t=="boolean"?t:Cs(t),e]},useSyncExternalStore:Jd,useId:Ah,useHostTransitionStatus:cc,useFormState:mh,useActionState:mh,useOptimistic:function(t,e){var n=ce();return Qt!==null?sh(n,Qt,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:tc,useCacheRefresh:jh};Dh.useEffectEvent=yh;function dc(t,e,n,a){e=t.memoizedState,n=n(a,e),n=n==null?e:y({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hc={enqueueSetState:function(t,e,n){t=t._reactInternals;var a=Qe(),l=si(a);l.payload=e,n!=null&&(l.callback=n),e=ri(t,l,a),e!==null&&(He(e,t,a),ws(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var a=Qe(),l=si(a);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=ri(t,l,a),e!==null&&(He(e,t,a),ws(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qe(),a=si(n);a.tag=2,e!=null&&(a.callback=e),e=ri(t,a,n),e!==null&&(He(e,t,n),ws(e,t,n))}};function Oh(t,e,n,a,l,u,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,u,v):e.prototype&&e.prototype.isPureReactComponent?!hs(n,a)||!hs(l,u):!0}function Bh(t,e,n,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,a),e.state!==t&&hc.enqueueReplaceState(e,e.state,null)}function Ki(t,e){var n=e;if("ref"in e){n={};for(var a in e)a!=="ref"&&(n[a]=e[a])}if(t=t.defaultProps){n===e&&(n=y({},n));for(var l in t)n[l]===void 0&&(n[l]=t[l])}return n}function Uh(t){_r(t)}function Lh(t){console.error(t)}function Vh(t){_r(t)}function Zr(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(a){setTimeout(function(){throw a})}}function Hh(t,e,n){try{var a=t.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function mc(t,e,n){return n=si(n),n.tag=3,n.payload={element:null},n.callback=function(){Zr(t,e)},n}function Fh(t){return t=si(t),t.tag=3,t}function Ph(t,e,n,a){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var u=a.value;t.payload=function(){return l(u)},t.callback=function(){Hh(e,n,a)}}var v=n.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Hh(e,n,a),typeof l!="function"&&(di===null?di=new Set([this]):di.add(this));var M=a.stack;this.componentDidCatch(a.value,{componentStack:M!==null?M:""})})}function Vv(t,e,n,a,l){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(e=n.alternate,e!==null&&Ea(e,n,l,!0),n=Ye.current,n!==null){switch(n.tag){case 31:case 13:return cn===null?so():n.alternate===null&&oe===0&&(oe=3),n.flags&=-257,n.flags|=65536,n.lanes=l,a===Dr?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([a]):e.add(a),Vc(t,a,l)),!1;case 22:return n.flags|=65536,a===Dr?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([a]):n.add(a)),Vc(t,a,l)),!1}throw Error(o(435,n.tag))}return Vc(t,a,l),so(),!1}if(It)return e=Ye.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=l,a!==Rl&&(t=Error(o(422),{cause:a}),gs(sn(t,n)))):(a!==Rl&&(e=Error(o(423),{cause:a}),gs(sn(e,n))),t=t.current.alternate,t.flags|=65536,l&=-l,t.lanes|=l,a=sn(a,n),l=mc(t.stateNode,a,l),ql(t,l),oe!==4&&(oe=2)),!1;var u=Error(o(520),{cause:a});if(u=sn(u,n),Os===null?Os=[u]:Os.push(u),oe!==4&&(oe=2),e===null)return!0;a=sn(a,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=l&-l,n.lanes|=t,t=mc(n.stateNode,a,t),ql(n,t),!1;case 1:if(e=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(di===null||!di.has(u))))return n.flags|=65536,l&=-l,n.lanes|=l,l=Fh(l),Ph(l,t,n,a),ql(n,l),!1}n=n.return}while(n!==null);return!1}var pc=Error(o(461)),he=!1;function Te(t,e,n,a){e.child=t===null?Yd(e,null,n,a):Zi(e,t.child,n,a)}function Ih(t,e,n,a,l){n=n.render;var u=e.ref;if("ref"in a){var v={};for(var M in a)M!=="ref"&&(v[M]=a[M])}else v=a;return Ii(e),a=Ql(t,e,n,v,u,l),M=$l(),t!==null&&!he?(Wl(t,e,l),Bn(t,e,l)):(It&&M&&Ml(e),e.flags|=1,Te(t,e,a,l),e.child)}function qh(t,e,n,a,l){if(t===null){var u=n.type;return typeof u=="function"&&!Al(u)&&u.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=u,Gh(t,e,u,a,l)):(t=Ar(n.type,null,a,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(u=t.child,!Tc(t,l)){var v=u.memoizedProps;if(n=n.compare,n=n!==null?n:hs,n(v,a)&&t.ref===e.ref)return Bn(t,e,l)}return e.flags|=1,t=zn(u,a),t.ref=e.ref,t.return=e,e.child=t}function Gh(t,e,n,a,l){if(t!==null){var u=t.memoizedProps;if(hs(u,a)&&t.ref===e.ref)if(he=!1,e.pendingProps=a=u,Tc(t,l))(t.flags&131072)!==0&&(he=!0);else return e.lanes=t.lanes,Bn(t,e,l)}return gc(t,e,n,a,l)}function Yh(t,e,n,a){var l=a.children,u=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((e.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,t!==null){for(a=e.child=t.child,l=0;a!==null;)l=l|a.lanes|a.childLanes,a=a.sibling;a=l&~u}else a=0,e.child=null;return Zh(t,e,u,n,a)}if((n&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Nr(e,u!==null?u.cachePool:null),u!==null?Kd(e,u):Yl(),Qd(e);else return a=e.lanes=536870912,Zh(t,e,u!==null?u.baseLanes|n:n,n,a)}else u!==null?(Nr(e,u.cachePool),Kd(e,u),li(),e.memoizedState=null):(t!==null&&Nr(e,null),Yl(),li());return Te(t,e,l,n),e.child}function As(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Zh(t,e,n,a,l){var u=Hl();return u=u===null?null:{parent:fe._currentValue,pool:u},e.memoizedState={baseLanes:n,cachePool:u},t!==null&&Nr(e,null),Yl(),Qd(e),t!==null&&Ea(t,e,a,!0),e.childLanes=l,null}function Xr(t,e){return e=Qr({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Xh(t,e,n){return Zi(e,t.child,null,n),t=Xr(e,e.pendingProps),t.flags|=2,Ze(e),e.memoizedState=null,t}function Hv(t,e,n){var a=e.pendingProps,l=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(It){if(a.mode==="hidden")return t=Xr(e,a),e.lanes=536870912,As(null,t);if(Xl(e),(t=ee)?(t=rp(t,ln),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ti!==null?{id:xn,overflow:wn}:null,retryLane:536870912,hydrationErrors:null},n=Md(t),n.return=e,e.child=n,we=e,ee=null)):t=null,t===null)throw ni(e);return e.lanes=536870912,null}return Xr(e,a)}var u=t.memoizedState;if(u!==null){var v=u.dehydrated;if(Xl(e),l)if(e.flags&256)e.flags&=-257,e=Xh(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(o(558));else if(he||Ea(t,e,n,!1),l=(n&t.childLanes)!==0,he||l){if(a=te,a!==null&&(v=Lf(a,n),v!==0&&v!==u.retryLane))throw u.retryLane=v,Vi(t,v),He(a,t,v),pc;so(),e=Xh(t,e,n)}else t=u.treeContext,ee=un(v.nextSibling),we=e,It=!0,ei=null,ln=!1,t!==null&&Dd(e,t),e=Xr(e,a),e.flags|=4096;return e}return t=zn(t.child,{mode:a.mode,children:a.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Kr(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function gc(t,e,n,a,l){return Ii(e),n=Ql(t,e,n,a,void 0,l),a=$l(),t!==null&&!he?(Wl(t,e,l),Bn(t,e,l)):(It&&a&&Ml(e),e.flags|=1,Te(t,e,n,l),e.child)}function Kh(t,e,n,a,l,u){return Ii(e),e.updateQueue=null,n=Wd(e,a,n,l),$d(t),a=$l(),t!==null&&!he?(Wl(t,e,u),Bn(t,e,u)):(It&&a&&Ml(e),e.flags|=1,Te(t,e,n,u),e.child)}function Qh(t,e,n,a,l){if(Ii(e),e.stateNode===null){var u=Sa,v=n.contextType;typeof v=="object"&&v!==null&&(u=Se(v)),u=new n(a,u),e.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=hc,e.stateNode=u,u._reactInternals=e,u=e.stateNode,u.props=a,u.state=e.memoizedState,u.refs={},Pl(e),v=n.contextType,u.context=typeof v=="object"&&v!==null?Se(v):Sa,u.state=e.memoizedState,v=n.getDerivedStateFromProps,typeof v=="function"&&(dc(e,n,v,a),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(v=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),v!==u.state&&hc.enqueueReplaceState(u,u.state,null),Ts(e,a,u,l),Ss(),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308),a=!0}else if(t===null){u=e.stateNode;var M=e.memoizedProps,H=Ki(n,M);u.props=H;var J=u.context,ut=n.contextType;v=Sa,typeof ut=="object"&&ut!==null&&(v=Se(ut));var ht=n.getDerivedStateFromProps;ut=typeof ht=="function"||typeof u.getSnapshotBeforeUpdate=="function",M=e.pendingProps!==M,ut||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(M||J!==v)&&Bh(e,u,a,v),ai=!1;var nt=e.memoizedState;u.state=nt,Ts(e,a,u,l),Ss(),J=e.memoizedState,M||nt!==J||ai?(typeof ht=="function"&&(dc(e,n,ht,a),J=e.memoizedState),(H=ai||Oh(e,n,H,a,nt,J,v))?(ut||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=J),u.props=a,u.state=J,u.context=v,a=H):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{u=e.stateNode,Il(t,e),v=e.memoizedProps,ut=Ki(n,v),u.props=ut,ht=e.pendingProps,nt=u.context,J=n.contextType,H=Sa,typeof J=="object"&&J!==null&&(H=Se(J)),M=n.getDerivedStateFromProps,(J=typeof M=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v!==ht||nt!==H)&&Bh(e,u,a,H),ai=!1,nt=e.memoizedState,u.state=nt,Ts(e,a,u,l),Ss();var lt=e.memoizedState;v!==ht||nt!==lt||ai||t!==null&&t.dependencies!==null&&zr(t.dependencies)?(typeof M=="function"&&(dc(e,n,M,a),lt=e.memoizedState),(ut=ai||Oh(e,n,ut,a,nt,lt,H)||t!==null&&t.dependencies!==null&&zr(t.dependencies))?(J||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(a,lt,H),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(a,lt,H)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||v===t.memoizedProps&&nt===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&nt===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=lt),u.props=a,u.state=lt,u.context=H,a=ut):(typeof u.componentDidUpdate!="function"||v===t.memoizedProps&&nt===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&nt===t.memoizedState||(e.flags|=1024),a=!1)}return u=a,Kr(t,e),a=(e.flags&128)!==0,u||a?(u=e.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:u.render(),e.flags|=1,t!==null&&a?(e.child=Zi(e,t.child,null,l),e.child=Zi(e,null,n,l)):Te(t,e,n,l),e.memoizedState=u.state,t=e.child):t=Bn(t,e,l),t}function $h(t,e,n,a){return Fi(),e.flags|=256,Te(t,e,n,a),e.child}var yc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vc(t){return{baseLanes:t,cachePool:Hd()}}function bc(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Ke),t}function Wh(t,e,n){var a=e.pendingProps,l=!1,u=(e.flags&128)!==0,v;if((v=u)||(v=t!==null&&t.memoizedState===null?!1:(le.current&2)!==0),v&&(l=!0,e.flags&=-129),v=(e.flags&32)!==0,e.flags&=-33,t===null){if(It){if(l?oi(e):li(),(t=ee)?(t=rp(t,ln),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ti!==null?{id:xn,overflow:wn}:null,retryLane:536870912,hydrationErrors:null},n=Md(t),n.return=e,e.child=n,we=e,ee=null)):t=null,t===null)throw ni(e);return eu(t)?e.lanes=32:e.lanes=536870912,null}var M=a.children;return a=a.fallback,l?(li(),l=e.mode,M=Qr({mode:"hidden",children:M},l),a=Hi(a,l,n,null),M.return=e,a.return=e,M.sibling=a,e.child=M,a=e.child,a.memoizedState=vc(n),a.childLanes=bc(t,v,n),e.memoizedState=yc,As(null,a)):(oi(e),xc(e,M))}var H=t.memoizedState;if(H!==null&&(M=H.dehydrated,M!==null)){if(u)e.flags&256?(oi(e),e.flags&=-257,e=wc(t,e,n)):e.memoizedState!==null?(li(),e.child=t.child,e.flags|=128,e=null):(li(),M=a.fallback,l=e.mode,a=Qr({mode:"visible",children:a.children},l),M=Hi(M,l,n,null),M.flags|=2,a.return=e,M.return=e,a.sibling=M,e.child=a,Zi(e,t.child,null,n),a=e.child,a.memoizedState=vc(n),a.childLanes=bc(t,v,n),e.memoizedState=yc,e=As(null,a));else if(oi(e),eu(M)){if(v=M.nextSibling&&M.nextSibling.dataset,v)var J=v.dgst;v=J,a=Error(o(419)),a.stack="",a.digest=v,gs({value:a,source:null,stack:null}),e=wc(t,e,n)}else if(he||Ea(t,e,n,!1),v=(n&t.childLanes)!==0,he||v){if(v=te,v!==null&&(a=Lf(v,n),a!==0&&a!==H.retryLane))throw H.retryLane=a,Vi(t,a),He(v,t,a),pc;tu(M)||so(),e=wc(t,e,n)}else tu(M)?(e.flags|=192,e.child=t.child,e=null):(t=H.treeContext,ee=un(M.nextSibling),we=e,It=!0,ei=null,ln=!1,t!==null&&Dd(e,t),e=xc(e,a.children),e.flags|=4096);return e}return l?(li(),M=a.fallback,l=e.mode,H=t.child,J=H.sibling,a=zn(H,{mode:"hidden",children:a.children}),a.subtreeFlags=H.subtreeFlags&65011712,J!==null?M=zn(J,M):(M=Hi(M,l,n,null),M.flags|=2),M.return=e,a.return=e,a.sibling=M,e.child=a,As(null,a),a=e.child,M=t.child.memoizedState,M===null?M=vc(n):(l=M.cachePool,l!==null?(H=fe._currentValue,l=l.parent!==H?{parent:H,pool:H}:l):l=Hd(),M={baseLanes:M.baseLanes|n,cachePool:l}),a.memoizedState=M,a.childLanes=bc(t,v,n),e.memoizedState=yc,As(t.child,a)):(oi(e),n=t.child,t=n.sibling,n=zn(n,{mode:"visible",children:a.children}),n.return=e,n.sibling=null,t!==null&&(v=e.deletions,v===null?(e.deletions=[t],e.flags|=16):v.push(t)),e.child=n,e.memoizedState=null,n)}function xc(t,e){return e=Qr({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Qr(t,e){return t=Ge(22,t,null,e),t.lanes=0,t}function wc(t,e,n){return Zi(e,t.child,null,n),t=xc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Jh(t,e,n){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),Bl(t.return,e,n)}function Sc(t,e,n,a,l,u){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:l,treeForkCount:u}:(v.isBackwards=e,v.rendering=null,v.renderingStartTime=0,v.last=a,v.tail=n,v.tailMode=l,v.treeForkCount=u)}function tm(t,e,n){var a=e.pendingProps,l=a.revealOrder,u=a.tail;a=a.children;var v=le.current,M=(v&2)!==0;if(M?(v=v&1|2,e.flags|=128):v&=1,et(le,v),Te(t,e,a,n),a=It?ps:0,!M&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jh(t,n,e);else if(t.tag===19)Jh(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(l){case"forwards":for(n=e.child,l=null;n!==null;)t=n.alternate,t!==null&&Lr(t)===null&&(l=n),n=n.sibling;n=l,n===null?(l=e.child,e.child=null):(l=n.sibling,n.sibling=null),Sc(e,!1,l,n,u,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&Lr(t)===null){e.child=l;break}t=l.sibling,l.sibling=n,n=l,l=t}Sc(e,!0,n,null,u,a);break;case"together":Sc(e,!1,null,null,void 0,a);break;default:e.memoizedState=null}return e.child}function Bn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fi|=e.lanes,(n&e.childLanes)===0)if(t!==null){if(Ea(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(o(153));if(e.child!==null){for(t=e.child,n=zn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Tc(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&zr(t)))}function Fv(t,e,n){switch(e.tag){case 3:bt(e,e.stateNode.containerInfo),ii(e,fe,t.memoizedState.cache),Fi();break;case 27:case 5:yt(e);break;case 4:bt(e,e.stateNode.containerInfo);break;case 10:ii(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Xl(e),null;break;case 13:var a=e.memoizedState;if(a!==null)return a.dehydrated!==null?(oi(e),e.flags|=128,null):(n&e.child.childLanes)!==0?Wh(t,e,n):(oi(e),t=Bn(t,e,n),t!==null?t.sibling:null);oi(e);break;case 19:var l=(t.flags&128)!==0;if(a=(n&e.childLanes)!==0,a||(Ea(t,e,n,!1),a=(n&e.childLanes)!==0),l){if(a)return tm(t,e,n);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),et(le,le.current),a)break;return null;case 22:return e.lanes=0,Yh(t,e,n,e.pendingProps);case 24:ii(e,fe,t.memoizedState.cache)}return Bn(t,e,n)}function em(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)he=!0;else{if(!Tc(t,n)&&(e.flags&128)===0)return he=!1,Fv(t,e,n);he=(t.flags&131072)!==0}else he=!1,It&&(e.flags&1048576)!==0&&Rd(e,ps,e.index);switch(e.lanes=0,e.tag){case 16:t:{var a=e.pendingProps;if(t=Gi(e.elementType),e.type=t,typeof t=="function")Al(t)?(a=Ki(t,a),e.tag=1,e=Qh(null,e,t,a,n)):(e.tag=0,e=gc(null,e,t,a,n));else{if(t!=null){var l=t.$$typeof;if(l===B){e.tag=11,e=Ih(null,e,t,a,n);break t}else if(l===L){e.tag=14,e=qh(null,e,t,a,n);break t}}throw e=_(t)||t,Error(o(306,e,""))}}return e;case 0:return gc(t,e,e.type,e.pendingProps,n);case 1:return a=e.type,l=Ki(a,e.pendingProps),Qh(t,e,a,l,n);case 3:t:{if(bt(e,e.stateNode.containerInfo),t===null)throw Error(o(387));a=e.pendingProps;var u=e.memoizedState;l=u.element,Il(t,e),Ts(e,a,null,n);var v=e.memoizedState;if(a=v.cache,ii(e,fe,a),a!==u.cache&&Ul(e,[fe],n,!0),Ss(),a=v.element,u.isDehydrated)if(u={element:a,isDehydrated:!1,cache:v.cache},e.updateQueue.baseState=u,e.memoizedState=u,e.flags&256){e=$h(t,e,a,n);break t}else if(a!==l){l=sn(Error(o(424)),e),gs(l),e=$h(t,e,a,n);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ee=un(t.firstChild),we=e,It=!0,ei=null,ln=!0,n=Yd(e,null,a,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Fi(),a===l){e=Bn(t,e,n);break t}Te(t,e,a,n)}e=e.child}return e;case 26:return Kr(t,e),t===null?(n=dp(e.type,null,e.pendingProps,null))?e.memoizedState=n:It||(n=e.type,t=e.pendingProps,a=ho(_t.current).createElement(n),a[xe]=e,a[De]=t,_e(a,n,t),ye(a),e.stateNode=a):e.memoizedState=dp(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return yt(e),t===null&&It&&(a=e.stateNode=cp(e.type,e.pendingProps,_t.current),we=e,ln=!0,l=ee,gi(e.type)?(nu=l,ee=un(a.firstChild)):ee=l),Te(t,e,e.pendingProps.children,n),Kr(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&It&&((l=a=ee)&&(a=y1(a,e.type,e.pendingProps,ln),a!==null?(e.stateNode=a,we=e,ee=un(a.firstChild),ln=!1,l=!0):l=!1),l||ni(e)),yt(e),l=e.type,u=e.pendingProps,v=t!==null?t.memoizedProps:null,a=u.children,$c(l,u)?a=null:v!==null&&$c(l,v)&&(e.flags|=32),e.memoizedState!==null&&(l=Ql(t,e,Nv,null,null,n),Is._currentValue=l),Kr(t,e),Te(t,e,a,n),e.child;case 6:return t===null&&It&&((t=n=ee)&&(n=v1(n,e.pendingProps,ln),n!==null?(e.stateNode=n,we=e,ee=null,t=!0):t=!1),t||ni(e)),null;case 13:return Wh(t,e,n);case 4:return bt(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=Zi(e,null,a,n):Te(t,e,a,n),e.child;case 11:return Ih(t,e,e.type,e.pendingProps,n);case 7:return Te(t,e,e.pendingProps,n),e.child;case 8:return Te(t,e,e.pendingProps.children,n),e.child;case 12:return Te(t,e,e.pendingProps.children,n),e.child;case 10:return a=e.pendingProps,ii(e,e.type,a.value),Te(t,e,a.children,n),e.child;case 9:return l=e.type._context,a=e.pendingProps.children,Ii(e),l=Se(l),a=a(l),e.flags|=1,Te(t,e,a,n),e.child;case 14:return qh(t,e,e.type,e.pendingProps,n);case 15:return Gh(t,e,e.type,e.pendingProps,n);case 19:return tm(t,e,n);case 31:return Hv(t,e,n);case 22:return Yh(t,e,n,e.pendingProps);case 24:return Ii(e),a=Se(fe),t===null?(l=Hl(),l===null&&(l=te,u=Ll(),l.pooledCache=u,u.refCount++,u!==null&&(l.pooledCacheLanes|=n),l=u),e.memoizedState={parent:a,cache:l},Pl(e),ii(e,fe,l)):((t.lanes&n)!==0&&(Il(t,e),Ts(e,null,null,n),Ss()),l=t.memoizedState,u=e.memoizedState,l.parent!==a?(l={parent:a,cache:a},e.memoizedState=l,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=l),ii(e,fe,a)):(a=u.cache,ii(e,fe,a),a!==l.cache&&Ul(e,[fe],n,!0))),Te(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(o(156,e.tag))}function Un(t){t.flags|=4}function _c(t,e,n,a,l){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(l&335544128)===l)if(t.stateNode.complete)t.flags|=8192;else if(Am())t.flags|=8192;else throw Yi=Dr,Fl}else t.flags&=-16777217}function nm(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!yp(e))if(Am())t.flags|=8192;else throw Yi=Dr,Fl}function $r(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Of():536870912,t.lanes|=e,La|=e)}function js(t,e){if(!It)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function ne(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,a=0;if(e)for(var l=t.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags&65011712,a|=l.flags&65011712,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=a,t.childLanes=n,e}function Pv(t,e,n){var a=e.pendingProps;switch(Nl(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(e),null;case 1:return ne(e),null;case 3:return n=e.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),Rn(fe),St(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ca(e)?Un(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Dl())),ne(e),null;case 26:var l=e.type,u=e.memoizedState;return t===null?(Un(e),u!==null?(ne(e),nm(e,u)):(ne(e),_c(e,l,null,a,n))):u?u!==t.memoizedState?(Un(e),ne(e),nm(e,u)):(ne(e),e.flags&=-16777217):(t=t.memoizedProps,t!==a&&Un(e),ne(e),_c(e,l,t,a,n)),null;case 27:if(Tt(e),n=_t.current,l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Un(e);else{if(!a){if(e.stateNode===null)throw Error(o(166));return ne(e),null}t=at.current,Ca(e)?Od(e):(t=cp(l,a,n),e.stateNode=t,Un(e))}return ne(e),null;case 5:if(Tt(e),l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Un(e);else{if(!a){if(e.stateNode===null)throw Error(o(166));return ne(e),null}if(u=at.current,Ca(e))Od(e);else{var v=ho(_t.current);switch(u){case 1:u=v.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:u=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":u=v.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":u=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":u=v.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof a.is=="string"?v.createElement("select",{is:a.is}):v.createElement("select"),a.multiple?u.multiple=!0:a.size&&(u.size=a.size);break;default:u=typeof a.is=="string"?v.createElement(l,{is:a.is}):v.createElement(l)}}u[xe]=e,u[De]=a;t:for(v=e.child;v!==null;){if(v.tag===5||v.tag===6)u.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break t;for(;v.sibling===null;){if(v.return===null||v.return===e)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}e.stateNode=u;t:switch(_e(u,l,a),l){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&Un(e)}}return ne(e),_c(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==a&&Un(e);else{if(typeof a!="string"&&e.stateNode===null)throw Error(o(166));if(t=_t.current,Ca(e)){if(t=e.stateNode,n=e.memoizedProps,a=null,l=we,l!==null)switch(l.tag){case 27:case 5:a=l.memoizedProps}t[xe]=e,t=!!(t.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Wm(t.nodeValue,n)),t||ni(e,!0)}else t=ho(t).createTextNode(a),t[xe]=e,e.stateNode=t}return ne(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(a=Ca(e),n!==null){if(t===null){if(!a)throw Error(o(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[xe]=e}else Fi(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ne(e),t=!1}else n=Dl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Ze(e),e):(Ze(e),null);if((e.flags&128)!==0)throw Error(o(558))}return ne(e),null;case 13:if(a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(l=Ca(e),a!==null&&a.dehydrated!==null){if(t===null){if(!l)throw Error(o(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(o(317));l[xe]=e}else Fi(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ne(e),l=!1}else l=Dl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),l=!0;if(!l)return e.flags&256?(Ze(e),e):(Ze(e),null)}return Ze(e),(e.flags&128)!==0?(e.lanes=n,e):(n=a!==null,t=t!==null&&t.memoizedState!==null,n&&(a=e.child,l=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(l=a.alternate.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),$r(e,e.updateQueue),ne(e),null);case 4:return St(),t===null&&Yc(e.stateNode.containerInfo),ne(e),null;case 10:return Rn(e.type),ne(e),null;case 19:if(O(le),a=e.memoizedState,a===null)return ne(e),null;if(l=(e.flags&128)!==0,u=a.rendering,u===null)if(l)js(a,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(u=Lr(t),u!==null){for(e.flags|=128,js(a,!1),t=u.updateQueue,e.updateQueue=t,$r(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)zd(n,t),n=n.sibling;return et(le,le.current&1|2),It&&Mn(e,a.treeForkCount),e.child}t=t.sibling}a.tail!==null&&wt()>no&&(e.flags|=128,l=!0,js(a,!1),e.lanes=4194304)}else{if(!l)if(t=Lr(u),t!==null){if(e.flags|=128,l=!0,t=t.updateQueue,e.updateQueue=t,$r(e,t),js(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!It)return ne(e),null}else 2*wt()-a.renderingStartTime>no&&n!==536870912&&(e.flags|=128,l=!0,js(a,!1),e.lanes=4194304);a.isBackwards?(u.sibling=e.child,e.child=u):(t=a.last,t!==null?t.sibling=u:e.child=u,a.last=u)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=wt(),t.sibling=null,n=le.current,et(le,l?n&1|2:n&1),It&&Mn(e,a.treeForkCount),t):(ne(e),null);case 22:case 23:return Ze(e),Zl(),a=e.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(e.flags|=8192):a&&(e.flags|=8192),a?(n&536870912)!==0&&(e.flags&128)===0&&(ne(e),e.subtreeFlags&6&&(e.flags|=8192)):ne(e),n=e.updateQueue,n!==null&&$r(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),a=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),a!==n&&(e.flags|=2048),t!==null&&O(qi),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Rn(fe),ne(e),null;case 25:return null;case 30:return null}throw Error(o(156,e.tag))}function Iv(t,e){switch(Nl(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rn(fe),St(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Tt(e),null;case 31:if(e.memoizedState!==null){if(Ze(e),e.alternate===null)throw Error(o(340));Fi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Ze(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(o(340));Fi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return O(le),null;case 4:return St(),null;case 10:return Rn(e.type),null;case 22:case 23:return Ze(e),Zl(),t!==null&&O(qi),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Rn(fe),null;case 25:return null;default:return null}}function im(t,e){switch(Nl(e),e.tag){case 3:Rn(fe),St();break;case 26:case 27:case 5:Tt(e);break;case 4:St();break;case 31:e.memoizedState!==null&&Ze(e);break;case 13:Ze(e);break;case 19:O(le);break;case 10:Rn(e.type);break;case 22:case 23:Ze(e),Zl(),t!==null&&O(qi);break;case 24:Rn(fe)}}function zs(t,e){try{var n=e.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var l=a.next;n=l;do{if((n.tag&t)===t){a=void 0;var u=n.create,v=n.inst;a=u(),v.destroy=a}n=n.next}while(n!==l)}}catch(M){Kt(e,e.return,M)}}function ci(t,e,n){try{var a=e.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var u=l.next;a=u;do{if((a.tag&t)===t){var v=a.inst,M=v.destroy;if(M!==void 0){v.destroy=void 0,l=e;var H=n,J=M;try{J()}catch(ut){Kt(l,H,ut)}}}a=a.next}while(a!==u)}}catch(ut){Kt(e,e.return,ut)}}function am(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Xd(e,n)}catch(a){Kt(t,t.return,a)}}}function sm(t,e,n){n.props=Ki(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(a){Kt(t,e,a)}}function Ms(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof n=="function"?t.refCleanup=n(a):n.current=a}}catch(l){Kt(t,e,l)}}function Sn(t,e){var n=t.ref,a=t.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(l){Kt(t,e,l)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){Kt(t,e,l)}else n.current=null}function rm(t){var e=t.type,n=t.memoizedProps,a=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break t;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(l){Kt(t,t.return,l)}}function Cc(t,e,n){try{var a=t.stateNode;f1(a,t.type,n,e),a[De]=e}catch(l){Kt(t,t.return,l)}}function om(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&gi(t.type)||t.tag===4}function Ec(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||om(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&gi(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kc(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=An));else if(a!==4&&(a===27&&gi(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(kc(t,e,n),t=t.sibling;t!==null;)kc(t,e,n),t=t.sibling}function Wr(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(a!==4&&(a===27&&gi(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Wr(t,e,n),t=t.sibling;t!==null;)Wr(t,e,n),t=t.sibling}function lm(t){var e=t.stateNode,n=t.memoizedProps;try{for(var a=t.type,l=e.attributes;l.length;)e.removeAttributeNode(l[0]);_e(e,a,n),e[xe]=t,e[De]=n}catch(u){Kt(t,t.return,u)}}var Ln=!1,me=!1,Ac=!1,cm=typeof WeakSet=="function"?WeakSet:Set,ve=null;function qv(t,e){if(t=t.containerInfo,Kc=xo,t=wd(t),wl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{n=(n=t.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var l=a.anchorOffset,u=a.focusNode;a=a.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break t}var v=0,M=-1,H=-1,J=0,ut=0,ht=t,nt=null;e:for(;;){for(var lt;ht!==n||l!==0&&ht.nodeType!==3||(M=v+l),ht!==u||a!==0&&ht.nodeType!==3||(H=v+a),ht.nodeType===3&&(v+=ht.nodeValue.length),(lt=ht.firstChild)!==null;)nt=ht,ht=lt;for(;;){if(ht===t)break e;if(nt===n&&++J===l&&(M=v),nt===u&&++ut===a&&(H=v),(lt=ht.nextSibling)!==null)break;ht=nt,nt=ht.parentNode}ht=lt}n=M===-1||H===-1?null:{start:M,end:H}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qc={focusedElem:t,selectionRange:n},xo=!1,ve=e;ve!==null;)if(e=ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ve=t;else for(;ve!==null;){switch(e=ve,u=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)l=t[n],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&u!==null){t=void 0,n=e,l=u.memoizedProps,u=u.memoizedState,a=n.stateNode;try{var Ct=Ki(n.type,l);t=a.getSnapshotBeforeUpdate(Ct,u),a.__reactInternalSnapshotBeforeUpdate=t}catch(zt){Kt(n,n.return,zt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Jc(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=e.sibling,t!==null){t.return=e.return,ve=t;break}ve=e.return}}function um(t,e,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Hn(t,n),a&4&&zs(5,n);break;case 1:if(Hn(t,n),a&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(v){Kt(n,n.return,v)}else{var l=Ki(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(l,e,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Kt(n,n.return,v)}}a&64&&am(n),a&512&&Ms(n,n.return);break;case 3:if(Hn(t,n),a&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Xd(t,e)}catch(v){Kt(n,n.return,v)}}break;case 27:e===null&&a&4&&lm(n);case 26:case 5:Hn(t,n),e===null&&a&4&&rm(n),a&512&&Ms(n,n.return);break;case 12:Hn(t,n);break;case 31:Hn(t,n),a&4&&hm(t,n);break;case 13:Hn(t,n),a&4&&mm(t,n),a&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=Jv.bind(null,n),b1(t,n))));break;case 22:if(a=n.memoizedState!==null||Ln,!a){e=e!==null&&e.memoizedState!==null||me,l=Ln;var u=me;Ln=a,(me=e)&&!u?Fn(t,n,(n.subtreeFlags&8772)!==0):Hn(t,n),Ln=l,me=u}break;case 30:break;default:Hn(t,n)}}function fm(t){var e=t.alternate;e!==null&&(t.alternate=null,fm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&al(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ie=null,Be=!1;function Vn(t,e,n){for(n=n.child;n!==null;)dm(t,e,n),n=n.sibling}function dm(t,e,n){if(ge&&typeof ge.onCommitFiberUnmount=="function")try{ge.onCommitFiberUnmount(Jt,n)}catch{}switch(n.tag){case 26:me||Sn(n,e),Vn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:me||Sn(n,e);var a=ie,l=Be;gi(n.type)&&(ie=n.stateNode,Be=!1),Vn(t,e,n),Hs(n.stateNode),ie=a,Be=l;break;case 5:me||Sn(n,e);case 6:if(a=ie,l=Be,ie=null,Vn(t,e,n),ie=a,Be=l,ie!==null)if(Be)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(n.stateNode)}catch(u){Kt(n,e,u)}else try{ie.removeChild(n.stateNode)}catch(u){Kt(n,e,u)}break;case 18:ie!==null&&(Be?(t=ie,ap(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Ya(t)):ap(ie,n.stateNode));break;case 4:a=ie,l=Be,ie=n.stateNode.containerInfo,Be=!0,Vn(t,e,n),ie=a,Be=l;break;case 0:case 11:case 14:case 15:ci(2,n,e),me||ci(4,n,e),Vn(t,e,n);break;case 1:me||(Sn(n,e),a=n.stateNode,typeof a.componentWillUnmount=="function"&&sm(n,e,a)),Vn(t,e,n);break;case 21:Vn(t,e,n);break;case 22:me=(a=me)||n.memoizedState!==null,Vn(t,e,n),me=a;break;default:Vn(t,e,n)}}function hm(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ya(t)}catch(n){Kt(e,e.return,n)}}}function mm(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ya(t)}catch(n){Kt(e,e.return,n)}}function Gv(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new cm),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new cm),e;default:throw Error(o(435,t.tag))}}function Jr(t,e){var n=Gv(t);e.forEach(function(a){if(!n.has(a)){n.add(a);var l=t1.bind(null,t,a);a.then(l,l)}})}function Ue(t,e){var n=e.deletions;if(n!==null)for(var a=0;a<n.length;a++){var l=n[a],u=t,v=e,M=v;t:for(;M!==null;){switch(M.tag){case 27:if(gi(M.type)){ie=M.stateNode,Be=!1;break t}break;case 5:ie=M.stateNode,Be=!1;break t;case 3:case 4:ie=M.stateNode.containerInfo,Be=!0;break t}M=M.return}if(ie===null)throw Error(o(160));dm(u,v,l),ie=null,Be=!1,u=l.alternate,u!==null&&(u.return=null),l.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)pm(e,t),e=e.sibling}var gn=null;function pm(t,e){var n=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ue(e,t),Le(t),a&4&&(ci(3,t,t.return),zs(3,t),ci(5,t,t.return));break;case 1:Ue(e,t),Le(t),a&512&&(me||n===null||Sn(n,n.return)),a&64&&Ln&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var l=gn;if(Ue(e,t),Le(t),a&512&&(me||n===null||Sn(n,n.return)),a&4){var u=n!==null?n.memoizedState:null;if(a=t.memoizedState,n===null)if(a===null)if(t.stateNode===null){t:{a=t.type,n=t.memoizedProps,l=l.ownerDocument||l;e:switch(a){case"title":u=l.getElementsByTagName("title")[0],(!u||u[as]||u[xe]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=l.createElement(a),l.head.insertBefore(u,l.querySelector("head > title"))),_e(u,a,n),u[xe]=t,ye(u),a=u;break t;case"link":var v=pp("link","href",l).get(a+(n.href||""));if(v){for(var M=0;M<v.length;M++)if(u=v[M],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){v.splice(M,1);break e}}u=l.createElement(a),_e(u,a,n),l.head.appendChild(u);break;case"meta":if(v=pp("meta","content",l).get(a+(n.content||""))){for(M=0;M<v.length;M++)if(u=v[M],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){v.splice(M,1);break e}}u=l.createElement(a),_e(u,a,n),l.head.appendChild(u);break;default:throw Error(o(468,a))}u[xe]=t,ye(u),a=u}t.stateNode=a}else gp(l,t.type,t.stateNode);else t.stateNode=mp(l,a,t.memoizedProps);else u!==a?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,a===null?gp(l,t.type,t.stateNode):mp(l,a,t.memoizedProps)):a===null&&t.stateNode!==null&&Cc(t,t.memoizedProps,n.memoizedProps)}break;case 27:Ue(e,t),Le(t),a&512&&(me||n===null||Sn(n,n.return)),n!==null&&a&4&&Cc(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Ue(e,t),Le(t),a&512&&(me||n===null||Sn(n,n.return)),t.flags&32){l=t.stateNode;try{pa(l,"")}catch(Ct){Kt(t,t.return,Ct)}}a&4&&t.stateNode!=null&&(l=t.memoizedProps,Cc(t,l,n!==null?n.memoizedProps:l)),a&1024&&(Ac=!0);break;case 6:if(Ue(e,t),Le(t),a&4){if(t.stateNode===null)throw Error(o(162));a=t.memoizedProps,n=t.stateNode;try{n.nodeValue=a}catch(Ct){Kt(t,t.return,Ct)}}break;case 3:if(go=null,l=gn,gn=mo(e.containerInfo),Ue(e,t),gn=l,Le(t),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Ya(e.containerInfo)}catch(Ct){Kt(t,t.return,Ct)}Ac&&(Ac=!1,gm(t));break;case 4:a=gn,gn=mo(t.stateNode.containerInfo),Ue(e,t),Le(t),gn=a;break;case 12:Ue(e,t),Le(t);break;case 31:Ue(e,t),Le(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Jr(t,a)));break;case 13:Ue(e,t),Le(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(eo=wt()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Jr(t,a)));break;case 22:l=t.memoizedState!==null;var H=n!==null&&n.memoizedState!==null,J=Ln,ut=me;if(Ln=J||l,me=ut||H,Ue(e,t),me=ut,Ln=J,Le(t),a&8192)t:for(e=t.stateNode,e._visibility=l?e._visibility&-2:e._visibility|1,l&&(n===null||H||Ln||me||Qi(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){H=n=e;try{if(u=H.stateNode,l)v=u.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{M=H.stateNode;var ht=H.memoizedProps.style,nt=ht!=null&&ht.hasOwnProperty("display")?ht.display:null;M.style.display=nt==null||typeof nt=="boolean"?"":(""+nt).trim()}}catch(Ct){Kt(H,H.return,Ct)}}}else if(e.tag===6){if(n===null){H=e;try{H.stateNode.nodeValue=l?"":H.memoizedProps}catch(Ct){Kt(H,H.return,Ct)}}}else if(e.tag===18){if(n===null){H=e;try{var lt=H.stateNode;l?sp(lt,!0):sp(H.stateNode,!1)}catch(Ct){Kt(H,H.return,Ct)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}a&4&&(a=t.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Jr(t,n))));break;case 19:Ue(e,t),Le(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Jr(t,a)));break;case 30:break;case 21:break;default:Ue(e,t),Le(t)}}function Le(t){var e=t.flags;if(e&2){try{for(var n,a=t.return;a!==null;){if(om(a)){n=a;break}a=a.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var l=n.stateNode,u=Ec(t);Wr(t,u,l);break;case 5:var v=n.stateNode;n.flags&32&&(pa(v,""),n.flags&=-33);var M=Ec(t);Wr(t,M,v);break;case 3:case 4:var H=n.stateNode.containerInfo,J=Ec(t);kc(t,J,H);break;default:throw Error(o(161))}}catch(ut){Kt(t,t.return,ut)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;gm(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Hn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)um(t,e.alternate,e),e=e.sibling}function Qi(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ci(4,e,e.return),Qi(e);break;case 1:Sn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&sm(e,e.return,n),Qi(e);break;case 27:Hs(e.stateNode);case 26:case 5:Sn(e,e.return),Qi(e);break;case 22:e.memoizedState===null&&Qi(e);break;case 30:Qi(e);break;default:Qi(e)}t=t.sibling}}function Fn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var a=e.alternate,l=t,u=e,v=u.flags;switch(u.tag){case 0:case 11:case 15:Fn(l,u,n),zs(4,u);break;case 1:if(Fn(l,u,n),a=u,l=a.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(J){Kt(a,a.return,J)}if(a=u,l=a.updateQueue,l!==null){var M=a.stateNode;try{var H=l.shared.hiddenCallbacks;if(H!==null)for(l.shared.hiddenCallbacks=null,l=0;l<H.length;l++)Zd(H[l],M)}catch(J){Kt(a,a.return,J)}}n&&v&64&&am(u),Ms(u,u.return);break;case 27:lm(u);case 26:case 5:Fn(l,u,n),n&&a===null&&v&4&&rm(u),Ms(u,u.return);break;case 12:Fn(l,u,n);break;case 31:Fn(l,u,n),n&&v&4&&hm(l,u);break;case 13:Fn(l,u,n),n&&v&4&&mm(l,u);break;case 22:u.memoizedState===null&&Fn(l,u,n),Ms(u,u.return);break;case 30:break;default:Fn(l,u,n)}e=e.sibling}}function jc(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&ys(n))}function zc(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ys(t))}function yn(t,e,n,a){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ym(t,e,n,a),e=e.sibling}function ym(t,e,n,a){var l=e.flags;switch(e.tag){case 0:case 11:case 15:yn(t,e,n,a),l&2048&&zs(9,e);break;case 1:yn(t,e,n,a);break;case 3:yn(t,e,n,a),l&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ys(t)));break;case 12:if(l&2048){yn(t,e,n,a),t=e.stateNode;try{var u=e.memoizedProps,v=u.id,M=u.onPostCommit;typeof M=="function"&&M(v,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(H){Kt(e,e.return,H)}}else yn(t,e,n,a);break;case 31:yn(t,e,n,a);break;case 13:yn(t,e,n,a);break;case 23:break;case 22:u=e.stateNode,v=e.alternate,e.memoizedState!==null?u._visibility&2?yn(t,e,n,a):Ns(t,e):u._visibility&2?yn(t,e,n,a):(u._visibility|=2,Oa(t,e,n,a,(e.subtreeFlags&10256)!==0||!1)),l&2048&&jc(v,e);break;case 24:yn(t,e,n,a),l&2048&&zc(e.alternate,e);break;default:yn(t,e,n,a)}}function Oa(t,e,n,a,l){for(l=l&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var u=t,v=e,M=n,H=a,J=v.flags;switch(v.tag){case 0:case 11:case 15:Oa(u,v,M,H,l),zs(8,v);break;case 23:break;case 22:var ut=v.stateNode;v.memoizedState!==null?ut._visibility&2?Oa(u,v,M,H,l):Ns(u,v):(ut._visibility|=2,Oa(u,v,M,H,l)),l&&J&2048&&jc(v.alternate,v);break;case 24:Oa(u,v,M,H,l),l&&J&2048&&zc(v.alternate,v);break;default:Oa(u,v,M,H,l)}e=e.sibling}}function Ns(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,a=e,l=a.flags;switch(a.tag){case 22:Ns(n,a),l&2048&&jc(a.alternate,a);break;case 24:Ns(n,a),l&2048&&zc(a.alternate,a);break;default:Ns(n,a)}e=e.sibling}}var Rs=8192;function Ba(t,e,n){if(t.subtreeFlags&Rs)for(t=t.child;t!==null;)vm(t,e,n),t=t.sibling}function vm(t,e,n){switch(t.tag){case 26:Ba(t,e,n),t.flags&Rs&&t.memoizedState!==null&&M1(n,gn,t.memoizedState,t.memoizedProps);break;case 5:Ba(t,e,n);break;case 3:case 4:var a=gn;gn=mo(t.stateNode.containerInfo),Ba(t,e,n),gn=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=Rs,Rs=16777216,Ba(t,e,n),Rs=a):Ba(t,e,n));break;default:Ba(t,e,n)}}function bm(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ds(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];ve=a,wm(a,t)}bm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xm(t),t=t.sibling}function xm(t){switch(t.tag){case 0:case 11:case 15:Ds(t),t.flags&2048&&ci(9,t,t.return);break;case 3:Ds(t);break;case 12:Ds(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,to(t)):Ds(t);break;default:Ds(t)}}function to(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];ve=a,wm(a,t)}bm(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ci(8,e,e.return),to(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,to(e));break;default:to(e)}t=t.sibling}}function wm(t,e){for(;ve!==null;){var n=ve;switch(n.tag){case 0:case 11:case 15:ci(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ys(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,ve=a;else t:for(n=t;ve!==null;){a=ve;var l=a.sibling,u=a.return;if(fm(a),a===n){ve=null;break t}if(l!==null){l.return=u,ve=l;break t}ve=u}}}var Yv={getCacheForType:function(t){var e=Se(fe),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Se(fe).controller.signal}},Zv=typeof WeakMap=="function"?WeakMap:Map,Yt=0,te=null,Lt=null,Ht=0,Xt=0,Xe=null,ui=!1,Ua=!1,Mc=!1,Pn=0,oe=0,fi=0,$i=0,Nc=0,Ke=0,La=0,Os=null,Ve=null,Rc=!1,eo=0,Sm=0,no=1/0,io=null,di=null,pe=0,hi=null,Va=null,In=0,Dc=0,Oc=null,Tm=null,Bs=0,Bc=null;function Qe(){return(Yt&2)!==0&&Ht!==0?Ht&-Ht:X.T!==null?Pc():Vf()}function _m(){if(Ke===0)if((Ht&536870912)===0||It){var t=Di;Di<<=1,(Di&3932160)===0&&(Di=262144),Ke=t}else Ke=536870912;return t=Ye.current,t!==null&&(t.flags|=32),Ke}function He(t,e,n){(t===te&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)&&(Ha(t,0),mi(t,Ht,Ke,!1)),is(t,n),((Yt&2)===0||t!==te)&&(t===te&&((Yt&2)===0&&($i|=n),oe===4&&mi(t,Ht,Ke,!1)),Tn(t))}function Cm(t,e,n){if((Yt&6)!==0)throw Error(o(327));var a=!n&&(e&127)===0&&(e&t.expiredLanes)===0||ns(t,e),l=a?Qv(t,e):Lc(t,e,!0),u=a;do{if(l===0){Ua&&!a&&mi(t,e,0,!1);break}else{if(n=t.current.alternate,u&&!Xv(n)){l=Lc(t,e,!1),u=!1;continue}if(l===2){if(u=e,t.errorRecoveryDisabledLanes&u)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){e=v;t:{var M=t;l=Os;var H=M.current.memoizedState.isDehydrated;if(H&&(Ha(M,v).flags|=256),v=Lc(M,v,!1),v!==2){if(Mc&&!H){M.errorRecoveryDisabledLanes|=u,$i|=u,l=4;break t}u=Ve,Ve=l,u!==null&&(Ve===null?Ve=u:Ve.push.apply(Ve,u))}l=v}if(u=!1,l!==2)continue}}if(l===1){Ha(t,0),mi(t,e,0,!0);break}t:{switch(a=t,u=l,u){case 0:case 1:throw Error(o(345));case 4:if((e&4194048)!==e)break;case 6:mi(a,e,Ke,!ui);break t;case 2:Ve=null;break;case 3:case 5:break;default:throw Error(o(329))}if((e&62914560)===e&&(l=eo+300-wt(),10<l)){if(mi(a,e,Ke,!ui),hr(a,0,!0)!==0)break t;In=e,a.timeoutHandle=np(Em.bind(null,a,n,Ve,io,Rc,e,Ke,$i,La,ui,u,"Throttled",-0,0),l);break t}Em(a,n,Ve,io,Rc,e,Ke,$i,La,ui,u,null,-0,0)}}break}while(!0);Tn(t)}function Em(t,e,n,a,l,u,v,M,H,J,ut,ht,nt,lt){if(t.timeoutHandle=-1,ht=e.subtreeFlags,ht&8192||(ht&16785408)===16785408){ht={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:An},vm(e,u,ht);var Ct=(u&62914560)===u?eo-wt():(u&4194048)===u?Sm-wt():0;if(Ct=N1(ht,Ct),Ct!==null){In=u,t.cancelPendingCommit=Ct(Dm.bind(null,t,e,u,n,a,l,v,M,H,ut,ht,null,nt,lt)),mi(t,u,v,!J);return}}Dm(t,e,u,n,a,l,v,M,H)}function Xv(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var l=n[a],u=l.getSnapshot;l=l.value;try{if(!qe(u(),l))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mi(t,e,n,a){e&=~Nc,e&=~$i,t.suspendedLanes|=e,t.pingedLanes&=~e,a&&(t.warmLanes|=e),a=t.expirationTimes;for(var l=e;0<l;){var u=31-ae(l),v=1<<u;a[u]=-1,l&=~v}n!==0&&Bf(t,n,e)}function ao(){return(Yt&6)===0?(Us(0),!1):!0}function Uc(){if(Lt!==null){if(Xt===0)var t=Lt.return;else t=Lt,Nn=Pi=null,Jl(t),za=null,bs=0,t=Lt;for(;t!==null;)im(t.alternate,t),t=t.return;Lt=null}}function Ha(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,m1(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),In=0,Uc(),te=t,Lt=n=zn(t.current,null),Ht=e,Xt=0,Xe=null,ui=!1,Ua=ns(t,e),Mc=!1,La=Ke=Nc=$i=fi=oe=0,Ve=Os=null,Rc=!1,(e&8)!==0&&(e|=e&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=e;0<a;){var l=31-ae(a),u=1<<l;e|=t[l],a&=~u}return Pn=e,Cr(),n}function km(t,e){Ot=null,X.H=ks,e===ja||e===Rr?(e=Id(),Xt=3):e===Fl?(e=Id(),Xt=4):Xt=e===pc?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Xe=e,Lt===null&&(oe=1,Zr(t,sn(e,t.current)))}function Am(){var t=Ye.current;return t===null?!0:(Ht&4194048)===Ht?cn===null:(Ht&62914560)===Ht||(Ht&536870912)!==0?t===cn:!1}function jm(){var t=X.H;return X.H=ks,t===null?ks:t}function zm(){var t=X.A;return X.A=Yv,t}function so(){oe=4,ui||(Ht&4194048)!==Ht&&Ye.current!==null||(Ua=!0),(fi&134217727)===0&&($i&134217727)===0||te===null||mi(te,Ht,Ke,!1)}function Lc(t,e,n){var a=Yt;Yt|=2;var l=jm(),u=zm();(te!==t||Ht!==e)&&(io=null,Ha(t,e)),e=!1;var v=oe;t:do try{if(Xt!==0&&Lt!==null){var M=Lt,H=Xe;switch(Xt){case 8:Uc(),v=6;break t;case 3:case 2:case 9:case 6:Ye.current===null&&(e=!0);var J=Xt;if(Xt=0,Xe=null,Fa(t,M,H,J),n&&Ua){v=0;break t}break;default:J=Xt,Xt=0,Xe=null,Fa(t,M,H,J)}}Kv(),v=oe;break}catch(ut){km(t,ut)}while(!0);return e&&t.shellSuspendCounter++,Nn=Pi=null,Yt=a,X.H=l,X.A=u,Lt===null&&(te=null,Ht=0,Cr()),v}function Kv(){for(;Lt!==null;)Mm(Lt)}function Qv(t,e){var n=Yt;Yt|=2;var a=jm(),l=zm();te!==t||Ht!==e?(io=null,no=wt()+500,Ha(t,e)):Ua=ns(t,e);t:do try{if(Xt!==0&&Lt!==null){e=Lt;var u=Xe;e:switch(Xt){case 1:Xt=0,Xe=null,Fa(t,e,u,1);break;case 2:case 9:if(Fd(u)){Xt=0,Xe=null,Nm(e);break}e=function(){Xt!==2&&Xt!==9||te!==t||(Xt=7),Tn(t)},u.then(e,e);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Fd(u)?(Xt=0,Xe=null,Nm(e)):(Xt=0,Xe=null,Fa(t,e,u,7));break;case 5:var v=null;switch(Lt.tag){case 26:v=Lt.memoizedState;case 5:case 27:var M=Lt;if(v?yp(v):M.stateNode.complete){Xt=0,Xe=null;var H=M.sibling;if(H!==null)Lt=H;else{var J=M.return;J!==null?(Lt=J,ro(J)):Lt=null}break e}}Xt=0,Xe=null,Fa(t,e,u,5);break;case 6:Xt=0,Xe=null,Fa(t,e,u,6);break;case 8:Uc(),oe=6;break t;default:throw Error(o(462))}}$v();break}catch(ut){km(t,ut)}while(!0);return Nn=Pi=null,X.H=a,X.A=l,Yt=n,Lt!==null?0:(te=null,Ht=0,Cr(),oe)}function $v(){for(;Lt!==null&&!Q();)Mm(Lt)}function Mm(t){var e=em(t.alternate,t,Pn);t.memoizedProps=t.pendingProps,e===null?ro(t):Lt=e}function Nm(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Kh(n,e,e.pendingProps,e.type,void 0,Ht);break;case 11:e=Kh(n,e,e.pendingProps,e.type.render,e.ref,Ht);break;case 5:Jl(e);default:im(n,e),e=Lt=zd(e,Pn),e=em(n,e,Pn)}t.memoizedProps=t.pendingProps,e===null?ro(t):Lt=e}function Fa(t,e,n,a){Nn=Pi=null,Jl(e),za=null,bs=0;var l=e.return;try{if(Vv(t,l,e,n,Ht)){oe=1,Zr(t,sn(n,t.current)),Lt=null;return}}catch(u){if(l!==null)throw Lt=l,u;oe=1,Zr(t,sn(n,t.current)),Lt=null;return}e.flags&32768?(It||a===1?t=!0:Ua||(Ht&536870912)!==0?t=!1:(ui=t=!0,(a===2||a===9||a===3||a===6)&&(a=Ye.current,a!==null&&a.tag===13&&(a.flags|=16384))),Rm(e,t)):ro(e)}function ro(t){var e=t;do{if((e.flags&32768)!==0){Rm(e,ui);return}t=e.return;var n=Pv(e.alternate,e,Pn);if(n!==null){Lt=n;return}if(e=e.sibling,e!==null){Lt=e;return}Lt=e=t}while(e!==null);oe===0&&(oe=5)}function Rm(t,e){do{var n=Iv(t.alternate,t);if(n!==null){n.flags&=32767,Lt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Lt=t;return}Lt=t=n}while(t!==null);oe=6,Lt=null}function Dm(t,e,n,a,l,u,v,M,H){t.cancelPendingCommit=null;do oo();while(pe!==0);if((Yt&6)!==0)throw Error(o(327));if(e!==null){if(e===t.current)throw Error(o(177));if(u=e.lanes|e.childLanes,u|=El,zy(t,n,u,v,M,H),t===te&&(Lt=te=null,Ht=0),Va=e,hi=t,In=n,Dc=u,Oc=l,Tm=a,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,e1(Ut,function(){return Vm(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||a){a=X.T,X.T=null,l=V.p,V.p=2,v=Yt,Yt|=4;try{qv(t,e,n)}finally{Yt=v,V.p=l,X.T=a}}pe=1,Om(),Bm(),Um()}}function Om(){if(pe===1){pe=0;var t=hi,e=Va,n=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||n){n=X.T,X.T=null;var a=V.p;V.p=2;var l=Yt;Yt|=4;try{pm(e,t);var u=Qc,v=wd(t.containerInfo),M=u.focusedElem,H=u.selectionRange;if(v!==M&&M&&M.ownerDocument&&xd(M.ownerDocument.documentElement,M)){if(H!==null&&wl(M)){var J=H.start,ut=H.end;if(ut===void 0&&(ut=J),"selectionStart"in M)M.selectionStart=J,M.selectionEnd=Math.min(ut,M.value.length);else{var ht=M.ownerDocument||document,nt=ht&&ht.defaultView||window;if(nt.getSelection){var lt=nt.getSelection(),Ct=M.textContent.length,zt=Math.min(H.start,Ct),Wt=H.end===void 0?zt:Math.min(H.end,Ct);!lt.extend&&zt>Wt&&(v=Wt,Wt=zt,zt=v);var K=bd(M,zt),Y=bd(M,Wt);if(K&&Y&&(lt.rangeCount!==1||lt.anchorNode!==K.node||lt.anchorOffset!==K.offset||lt.focusNode!==Y.node||lt.focusOffset!==Y.offset)){var W=ht.createRange();W.setStart(K.node,K.offset),lt.removeAllRanges(),zt>Wt?(lt.addRange(W),lt.extend(Y.node,Y.offset)):(W.setEnd(Y.node,Y.offset),lt.addRange(W))}}}}for(ht=[],lt=M;lt=lt.parentNode;)lt.nodeType===1&&ht.push({element:lt,left:lt.scrollLeft,top:lt.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<ht.length;M++){var dt=ht[M];dt.element.scrollLeft=dt.left,dt.element.scrollTop=dt.top}}xo=!!Kc,Qc=Kc=null}finally{Yt=l,V.p=a,X.T=n}}t.current=e,pe=2}}function Bm(){if(pe===2){pe=0;var t=hi,e=Va,n=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||n){n=X.T,X.T=null;var a=V.p;V.p=2;var l=Yt;Yt|=4;try{um(t,e.alternate,e)}finally{Yt=l,V.p=a,X.T=n}}pe=3}}function Um(){if(pe===4||pe===3){pe=0,vt();var t=hi,e=Va,n=In,a=Tm;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?pe=5:(pe=0,Va=hi=null,Lm(t,t.pendingLanes));var l=t.pendingLanes;if(l===0&&(di=null),nl(n),e=e.stateNode,ge&&typeof ge.onCommitFiberRoot=="function")try{ge.onCommitFiberRoot(Jt,e,void 0,(e.current.flags&128)===128)}catch{}if(a!==null){e=X.T,l=V.p,V.p=2,X.T=null;try{for(var u=t.onRecoverableError,v=0;v<a.length;v++){var M=a[v];u(M.value,{componentStack:M.stack})}}finally{X.T=e,V.p=l}}(In&3)!==0&&oo(),Tn(t),l=t.pendingLanes,(n&261930)!==0&&(l&42)!==0?t===Bc?Bs++:(Bs=0,Bc=t):Bs=0,Us(0)}}function Lm(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,ys(e)))}function oo(){return Om(),Bm(),Um(),Vm()}function Vm(){if(pe!==5)return!1;var t=hi,e=Dc;Dc=0;var n=nl(In),a=X.T,l=V.p;try{V.p=32>n?32:n,X.T=null,n=Oc,Oc=null;var u=hi,v=In;if(pe=0,Va=hi=null,In=0,(Yt&6)!==0)throw Error(o(331));var M=Yt;if(Yt|=4,xm(u.current),ym(u,u.current,v,n),Yt=M,Us(0,!1),ge&&typeof ge.onPostCommitFiberRoot=="function")try{ge.onPostCommitFiberRoot(Jt,u)}catch{}return!0}finally{V.p=l,X.T=a,Lm(t,e)}}function Hm(t,e,n){e=sn(n,e),e=mc(t.stateNode,e,2),t=ri(t,e,2),t!==null&&(is(t,2),Tn(t))}function Kt(t,e,n){if(t.tag===3)Hm(t,t,n);else for(;e!==null;){if(e.tag===3){Hm(e,t,n);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(di===null||!di.has(a))){t=sn(n,t),n=Fh(2),a=ri(e,n,2),a!==null&&(Ph(n,a,e,t),is(a,2),Tn(a));break}}e=e.return}}function Vc(t,e,n){var a=t.pingCache;if(a===null){a=t.pingCache=new Zv;var l=new Set;a.set(e,l)}else l=a.get(e),l===void 0&&(l=new Set,a.set(e,l));l.has(n)||(Mc=!0,l.add(n),t=Wv.bind(null,t,e,n),e.then(t,t))}function Wv(t,e,n){var a=t.pingCache;a!==null&&a.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,te===t&&(Ht&n)===n&&(oe===4||oe===3&&(Ht&62914560)===Ht&&300>wt()-eo?(Yt&2)===0&&Ha(t,0):Nc|=n,La===Ht&&(La=0)),Tn(t)}function Fm(t,e){e===0&&(e=Of()),t=Vi(t,e),t!==null&&(is(t,e),Tn(t))}function Jv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Fm(t,n)}function t1(t,e){var n=0;switch(t.tag){case 31:case 13:var a=t.stateNode,l=t.memoizedState;l!==null&&(n=l.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(e),Fm(t,n)}function e1(t,e){return ft(t,e)}var lo=null,Pa=null,Hc=!1,co=!1,Fc=!1,pi=0;function Tn(t){t!==Pa&&t.next===null&&(Pa===null?lo=Pa=t:Pa=Pa.next=t),co=!0,Hc||(Hc=!0,i1())}function Us(t,e){if(!Fc&&co){Fc=!0;do for(var n=!1,a=lo;a!==null;){if(t!==0){var l=a.pendingLanes;if(l===0)var u=0;else{var v=a.suspendedLanes,M=a.pingedLanes;u=(1<<31-ae(42|t)+1)-1,u&=l&~(v&~M),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,Gm(a,u))}else u=Ht,u=hr(a,a===te?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(u&3)===0||ns(a,u)||(n=!0,Gm(a,u));a=a.next}while(n);Fc=!1}}function n1(){Pm()}function Pm(){co=Hc=!1;var t=0;pi!==0&&h1()&&(t=pi);for(var e=wt(),n=null,a=lo;a!==null;){var l=a.next,u=Im(a,e);u===0?(a.next=null,n===null?lo=l:n.next=l,l===null&&(Pa=n)):(n=a,(t!==0||(u&3)!==0)&&(co=!0)),a=l}pe!==0&&pe!==5||Us(t),pi!==0&&(pi=0)}function Im(t,e){for(var n=t.suspendedLanes,a=t.pingedLanes,l=t.expirationTimes,u=t.pendingLanes&-62914561;0<u;){var v=31-ae(u),M=1<<v,H=l[v];H===-1?((M&n)===0||(M&a)!==0)&&(l[v]=jy(M,e)):H<=e&&(t.expiredLanes|=M),u&=~M}if(e=te,n=Ht,n=hr(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,n===0||t===e&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&pt(a),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||ns(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(a!==null&&pt(a),nl(n)){case 2:case 8:n=Zt;break;case 32:n=Ut;break;case 268435456:n=$n;break;default:n=Ut}return a=qm.bind(null,t),n=ft(n,a),t.callbackPriority=e,t.callbackNode=n,e}return a!==null&&a!==null&&pt(a),t.callbackPriority=2,t.callbackNode=null,2}function qm(t,e){if(pe!==0&&pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(oo()&&t.callbackNode!==n)return null;var a=Ht;return a=hr(t,t===te?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(Cm(t,a,e),Im(t,wt()),t.callbackNode!=null&&t.callbackNode===n?qm.bind(null,t):null)}function Gm(t,e){if(oo())return null;Cm(t,e,!0)}function i1(){p1(function(){(Yt&6)!==0?ft(Et,n1):Pm()})}function Pc(){if(pi===0){var t=ka;t===0&&(t=la,la<<=1,(la&261888)===0&&(la=256)),pi=t}return pi}function Ym(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:yr(""+t)}function Zm(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function a1(t,e,n,a,l){if(e==="submit"&&n&&n.stateNode===l){var u=Ym((l[De]||null).action),v=a.submitter;v&&(e=(e=v[De]||null)?Ym(e.formAction):v.getAttribute("formAction"),e!==null&&(u=e,v=null));var M=new wr("action","action",null,a,l);t.push({event:M,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(pi!==0){var H=v?Zm(l,v):new FormData(l);lc(n,{pending:!0,data:H,method:l.method,action:u},null,H)}}else typeof u=="function"&&(M.preventDefault(),H=v?Zm(l,v):new FormData(l),lc(n,{pending:!0,data:H,method:l.method,action:u},u,H))},currentTarget:l}]})}}for(var Ic=0;Ic<Cl.length;Ic++){var qc=Cl[Ic],s1=qc.toLowerCase(),r1=qc[0].toUpperCase()+qc.slice(1);pn(s1,"on"+r1)}pn(_d,"onAnimationEnd"),pn(Cd,"onAnimationIteration"),pn(Ed,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(Sv,"onTransitionRun"),pn(Tv,"onTransitionStart"),pn(_v,"onTransitionCancel"),pn(kd,"onTransitionEnd"),ha("onMouseEnter",["mouseout","mouseover"]),ha("onMouseLeave",["mouseout","mouseover"]),ha("onPointerEnter",["pointerout","pointerover"]),ha("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ls));function Xm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var a=t[n],l=a.event;a=a.listeners;t:{var u=void 0;if(e)for(var v=a.length-1;0<=v;v--){var M=a[v],H=M.instance,J=M.currentTarget;if(M=M.listener,H!==u&&l.isPropagationStopped())break t;u=M,l.currentTarget=J;try{u(l)}catch(ut){_r(ut)}l.currentTarget=null,u=H}else for(v=0;v<a.length;v++){if(M=a[v],H=M.instance,J=M.currentTarget,M=M.listener,H!==u&&l.isPropagationStopped())break t;u=M,l.currentTarget=J;try{u(l)}catch(ut){_r(ut)}l.currentTarget=null,u=H}}}}function Vt(t,e){var n=e[il];n===void 0&&(n=e[il]=new Set);var a=t+"__bubble";n.has(a)||(Km(e,t,2,!1),n.add(a))}function Gc(t,e,n){var a=0;e&&(a|=4),Km(n,t,a,e)}var uo="_reactListening"+Math.random().toString(36).slice(2);function Yc(t){if(!t[uo]){t[uo]=!0,Pf.forEach(function(n){n!=="selectionchange"&&(o1.has(n)||Gc(n,!1,t),Gc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[uo]||(e[uo]=!0,Gc("selectionchange",!1,e))}}function Km(t,e,n,a){switch(_p(e)){case 2:var l=O1;break;case 8:l=B1;break;default:l=ou}n=l.bind(null,e,n,t),l=void 0,!dl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),a?l!==void 0?t.addEventListener(e,n,{capture:!0,passive:l}):t.addEventListener(e,n,!0):l!==void 0?t.addEventListener(e,n,{passive:l}):t.addEventListener(e,n,!1)}function Zc(t,e,n,a,l){var u=a;if((e&1)===0&&(e&2)===0&&a!==null)t:for(;;){if(a===null)return;var v=a.tag;if(v===3||v===4){var M=a.stateNode.containerInfo;if(M===l)break;if(v===4)for(v=a.return;v!==null;){var H=v.tag;if((H===3||H===4)&&v.stateNode.containerInfo===l)return;v=v.return}for(;M!==null;){if(v=ua(M),v===null)return;if(H=v.tag,H===5||H===6||H===26||H===27){a=u=v;continue t}M=M.parentNode}}a=a.return}td(function(){var J=u,ut=ul(n),ht=[];t:{var nt=Ad.get(t);if(nt!==void 0){var lt=wr,Ct=t;switch(t){case"keypress":if(br(n)===0)break t;case"keydown":case"keyup":lt=tv;break;case"focusin":Ct="focus",lt=gl;break;case"focusout":Ct="blur",lt=gl;break;case"beforeblur":case"afterblur":lt=gl;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=Py;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=iv;break;case _d:case Cd:case Ed:lt=Gy;break;case kd:lt=sv;break;case"scroll":case"scrollend":lt=Hy;break;case"wheel":lt=ov;break;case"copy":case"cut":case"paste":lt=Zy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=sd;break;case"toggle":case"beforetoggle":lt=cv}var zt=(e&4)!==0,Wt=!zt&&(t==="scroll"||t==="scrollend"),K=zt?nt!==null?nt+"Capture":null:nt;zt=[];for(var Y=J,W;Y!==null;){var dt=Y;if(W=dt.stateNode,dt=dt.tag,dt!==5&&dt!==26&&dt!==27||W===null||K===null||(dt=rs(Y,K),dt!=null&&zt.push(Vs(Y,dt,W))),Wt)break;Y=Y.return}0<zt.length&&(nt=new lt(nt,Ct,null,n,ut),ht.push({event:nt,listeners:zt}))}}if((e&7)===0){t:{if(nt=t==="mouseover"||t==="pointerover",lt=t==="mouseout"||t==="pointerout",nt&&n!==cl&&(Ct=n.relatedTarget||n.fromElement)&&(ua(Ct)||Ct[ca]))break t;if((lt||nt)&&(nt=ut.window===ut?ut:(nt=ut.ownerDocument)?nt.defaultView||nt.parentWindow:window,lt?(Ct=n.relatedTarget||n.toElement,lt=J,Ct=Ct?ua(Ct):null,Ct!==null&&(Wt=d(Ct),zt=Ct.tag,Ct!==Wt||zt!==5&&zt!==27&&zt!==6)&&(Ct=null)):(lt=null,Ct=J),lt!==Ct)){if(zt=id,dt="onMouseLeave",K="onMouseEnter",Y="mouse",(t==="pointerout"||t==="pointerover")&&(zt=sd,dt="onPointerLeave",K="onPointerEnter",Y="pointer"),Wt=lt==null?nt:ss(lt),W=Ct==null?nt:ss(Ct),nt=new zt(dt,Y+"leave",lt,n,ut),nt.target=Wt,nt.relatedTarget=W,dt=null,ua(ut)===J&&(zt=new zt(K,Y+"enter",Ct,n,ut),zt.target=W,zt.relatedTarget=Wt,dt=zt),Wt=dt,lt&&Ct)e:{for(zt=l1,K=lt,Y=Ct,W=0,dt=K;dt;dt=zt(dt))W++;dt=0;for(var jt=Y;jt;jt=zt(jt))dt++;for(;0<W-dt;)K=zt(K),W--;for(;0<dt-W;)Y=zt(Y),dt--;for(;W--;){if(K===Y||Y!==null&&K===Y.alternate){zt=K;break e}K=zt(K),Y=zt(Y)}zt=null}else zt=null;lt!==null&&Qm(ht,nt,lt,zt,!1),Ct!==null&&Wt!==null&&Qm(ht,Wt,Ct,zt,!0)}}t:{if(nt=J?ss(J):window,lt=nt.nodeName&&nt.nodeName.toLowerCase(),lt==="select"||lt==="input"&&nt.type==="file")var qt=hd;else if(fd(nt))if(md)qt=bv;else{qt=yv;var At=gv}else lt=nt.nodeName,!lt||lt.toLowerCase()!=="input"||nt.type!=="checkbox"&&nt.type!=="radio"?J&&ll(J.elementType)&&(qt=hd):qt=vv;if(qt&&(qt=qt(t,J))){dd(ht,qt,n,ut);break t}At&&At(t,nt,J),t==="focusout"&&J&&nt.type==="number"&&J.memoizedProps.value!=null&&ol(nt,"number",nt.value)}switch(At=J?ss(J):window,t){case"focusin":(fd(At)||At.contentEditable==="true")&&(ba=At,Sl=J,ms=null);break;case"focusout":ms=Sl=ba=null;break;case"mousedown":Tl=!0;break;case"contextmenu":case"mouseup":case"dragend":Tl=!1,Sd(ht,n,ut);break;case"selectionchange":if(wv)break;case"keydown":case"keyup":Sd(ht,n,ut)}var Bt;if(vl)t:{switch(t){case"compositionstart":var Ft="onCompositionStart";break t;case"compositionend":Ft="onCompositionEnd";break t;case"compositionupdate":Ft="onCompositionUpdate";break t}Ft=void 0}else va?cd(t,n)&&(Ft="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(Ft="onCompositionStart");Ft&&(rd&&n.locale!=="ko"&&(va||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&va&&(Bt=ed()):(Jn=ut,hl="value"in Jn?Jn.value:Jn.textContent,va=!0)),At=fo(J,Ft),0<At.length&&(Ft=new ad(Ft,t,null,n,ut),ht.push({event:Ft,listeners:At}),Bt?Ft.data=Bt:(Bt=ud(n),Bt!==null&&(Ft.data=Bt)))),(Bt=fv?dv(t,n):hv(t,n))&&(Ft=fo(J,"onBeforeInput"),0<Ft.length&&(At=new ad("onBeforeInput","beforeinput",null,n,ut),ht.push({event:At,listeners:Ft}),At.data=Bt)),a1(ht,t,J,n,ut)}Xm(ht,e)})}function Vs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fo(t,e){for(var n=e+"Capture",a=[];t!==null;){var l=t,u=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||u===null||(l=rs(t,n),l!=null&&a.unshift(Vs(t,l,u)),l=rs(t,e),l!=null&&a.push(Vs(t,l,u))),t.tag===3)return a;t=t.return}return[]}function l1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Qm(t,e,n,a,l){for(var u=e._reactName,v=[];n!==null&&n!==a;){var M=n,H=M.alternate,J=M.stateNode;if(M=M.tag,H!==null&&H===a)break;M!==5&&M!==26&&M!==27||J===null||(H=J,l?(J=rs(n,u),J!=null&&v.unshift(Vs(n,J,H))):l||(J=rs(n,u),J!=null&&v.push(Vs(n,J,H)))),n=n.return}v.length!==0&&t.push({event:e,listeners:v})}var c1=/\r\n?/g,u1=/\u0000|\uFFFD/g;function $m(t){return(typeof t=="string"?t:""+t).replace(c1,`
`).replace(u1,"")}function Wm(t,e){return e=$m(e),$m(t)===e}function $t(t,e,n,a,l,u){switch(n){case"children":typeof a=="string"?e==="body"||e==="textarea"&&a===""||pa(t,a):(typeof a=="number"||typeof a=="bigint")&&e!=="body"&&pa(t,""+a);break;case"className":pr(t,"class",a);break;case"tabIndex":pr(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":pr(t,n,a);break;case"style":Wf(t,a,u);break;case"data":if(e!=="object"){pr(t,"data",a);break}case"src":case"href":if(a===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=yr(""+a),t.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(e!=="input"&&$t(t,e,"name",l.name,l,null),$t(t,e,"formEncType",l.formEncType,l,null),$t(t,e,"formMethod",l.formMethod,l,null),$t(t,e,"formTarget",l.formTarget,l,null)):($t(t,e,"encType",l.encType,l,null),$t(t,e,"method",l.method,l,null),$t(t,e,"target",l.target,l,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=yr(""+a),t.setAttribute(n,a);break;case"onClick":a!=null&&(t.onclick=An);break;case"onScroll":a!=null&&Vt("scroll",t);break;case"onScrollEnd":a!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(o(60));t.innerHTML=n}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}n=yr(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""+a):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":a===!0?t.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,a):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(n,a):t.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(n):t.setAttribute(n,a);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),mr(t,"popover",a);break;case"xlinkActuate":kn(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":kn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":kn(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":kn(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":kn(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":kn(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":kn(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":kn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":kn(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":mr(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Ly.get(n)||n,mr(t,n,a))}}function Xc(t,e,n,a,l,u){switch(n){case"style":Wf(t,a,u);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(o(60));t.innerHTML=n}}break;case"children":typeof a=="string"?pa(t,a):(typeof a=="number"||typeof a=="bigint")&&pa(t,""+a);break;case"onScroll":a!=null&&Vt("scroll",t);break;case"onScrollEnd":a!=null&&Vt("scrollend",t);break;case"onClick":a!=null&&(t.onclick=An);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!If.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),e=n.slice(2,l?n.length-7:void 0),u=t[De]||null,u=u!=null?u[n]:null,typeof u=="function"&&t.removeEventListener(e,u,l),typeof a=="function")){typeof u!="function"&&u!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,a,l);break t}n in t?t[n]=a:a===!0?t.setAttribute(n,""):mr(t,n,a)}}}function _e(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var a=!1,l=!1,u;for(u in n)if(n.hasOwnProperty(u)){var v=n[u];if(v!=null)switch(u){case"src":a=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,e));default:$t(t,e,u,v,n,null)}}l&&$t(t,e,"srcSet",n.srcSet,n,null),a&&$t(t,e,"src",n.src,n,null);return;case"input":Vt("invalid",t);var M=u=v=l=null,H=null,J=null;for(a in n)if(n.hasOwnProperty(a)){var ut=n[a];if(ut!=null)switch(a){case"name":l=ut;break;case"type":v=ut;break;case"checked":H=ut;break;case"defaultChecked":J=ut;break;case"value":u=ut;break;case"defaultValue":M=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(o(137,e));break;default:$t(t,e,a,ut,n,null)}}Xf(t,u,M,H,J,v,l,!1);return;case"select":Vt("invalid",t),a=v=u=null;for(l in n)if(n.hasOwnProperty(l)&&(M=n[l],M!=null))switch(l){case"value":u=M;break;case"defaultValue":v=M;break;case"multiple":a=M;default:$t(t,e,l,M,n,null)}e=u,n=v,t.multiple=!!a,e!=null?ma(t,!!a,e,!1):n!=null&&ma(t,!!a,n,!0);return;case"textarea":Vt("invalid",t),u=l=a=null;for(v in n)if(n.hasOwnProperty(v)&&(M=n[v],M!=null))switch(v){case"value":a=M;break;case"defaultValue":l=M;break;case"children":u=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(o(91));break;default:$t(t,e,v,M,n,null)}Qf(t,a,l,u);return;case"option":for(H in n)if(n.hasOwnProperty(H)&&(a=n[H],a!=null))switch(H){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:$t(t,e,H,a,n,null)}return;case"dialog":Vt("beforetoggle",t),Vt("toggle",t),Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(a=0;a<Ls.length;a++)Vt(Ls[a],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in n)if(n.hasOwnProperty(J)&&(a=n[J],a!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,e));default:$t(t,e,J,a,n,null)}return;default:if(ll(e)){for(ut in n)n.hasOwnProperty(ut)&&(a=n[ut],a!==void 0&&Xc(t,e,ut,a,n,void 0));return}}for(M in n)n.hasOwnProperty(M)&&(a=n[M],a!=null&&$t(t,e,M,a,n,null))}function f1(t,e,n,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,u=null,v=null,M=null,H=null,J=null,ut=null;for(lt in n){var ht=n[lt];if(n.hasOwnProperty(lt)&&ht!=null)switch(lt){case"checked":break;case"value":break;case"defaultValue":H=ht;default:a.hasOwnProperty(lt)||$t(t,e,lt,null,a,ht)}}for(var nt in a){var lt=a[nt];if(ht=n[nt],a.hasOwnProperty(nt)&&(lt!=null||ht!=null))switch(nt){case"type":u=lt;break;case"name":l=lt;break;case"checked":J=lt;break;case"defaultChecked":ut=lt;break;case"value":v=lt;break;case"defaultValue":M=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(o(137,e));break;default:lt!==ht&&$t(t,e,nt,lt,a,ht)}}rl(t,v,M,H,J,ut,u,l);return;case"select":lt=v=M=nt=null;for(u in n)if(H=n[u],n.hasOwnProperty(u)&&H!=null)switch(u){case"value":break;case"multiple":lt=H;default:a.hasOwnProperty(u)||$t(t,e,u,null,a,H)}for(l in a)if(u=a[l],H=n[l],a.hasOwnProperty(l)&&(u!=null||H!=null))switch(l){case"value":nt=u;break;case"defaultValue":M=u;break;case"multiple":v=u;default:u!==H&&$t(t,e,l,u,a,H)}e=M,n=v,a=lt,nt!=null?ma(t,!!n,nt,!1):!!a!=!!n&&(e!=null?ma(t,!!n,e,!0):ma(t,!!n,n?[]:"",!1));return;case"textarea":lt=nt=null;for(M in n)if(l=n[M],n.hasOwnProperty(M)&&l!=null&&!a.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:$t(t,e,M,null,a,l)}for(v in a)if(l=a[v],u=n[v],a.hasOwnProperty(v)&&(l!=null||u!=null))switch(v){case"value":nt=l;break;case"defaultValue":lt=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(o(91));break;default:l!==u&&$t(t,e,v,l,a,u)}Kf(t,nt,lt);return;case"option":for(var Ct in n)if(nt=n[Ct],n.hasOwnProperty(Ct)&&nt!=null&&!a.hasOwnProperty(Ct))switch(Ct){case"selected":t.selected=!1;break;default:$t(t,e,Ct,null,a,nt)}for(H in a)if(nt=a[H],lt=n[H],a.hasOwnProperty(H)&&nt!==lt&&(nt!=null||lt!=null))switch(H){case"selected":t.selected=nt&&typeof nt!="function"&&typeof nt!="symbol";break;default:$t(t,e,H,nt,a,lt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var zt in n)nt=n[zt],n.hasOwnProperty(zt)&&nt!=null&&!a.hasOwnProperty(zt)&&$t(t,e,zt,null,a,nt);for(J in a)if(nt=a[J],lt=n[J],a.hasOwnProperty(J)&&nt!==lt&&(nt!=null||lt!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(o(137,e));break;default:$t(t,e,J,nt,a,lt)}return;default:if(ll(e)){for(var Wt in n)nt=n[Wt],n.hasOwnProperty(Wt)&&nt!==void 0&&!a.hasOwnProperty(Wt)&&Xc(t,e,Wt,void 0,a,nt);for(ut in a)nt=a[ut],lt=n[ut],!a.hasOwnProperty(ut)||nt===lt||nt===void 0&&lt===void 0||Xc(t,e,ut,nt,a,lt);return}}for(var K in n)nt=n[K],n.hasOwnProperty(K)&&nt!=null&&!a.hasOwnProperty(K)&&$t(t,e,K,null,a,nt);for(ht in a)nt=a[ht],lt=n[ht],!a.hasOwnProperty(ht)||nt===lt||nt==null&&lt==null||$t(t,e,ht,nt,a,lt)}function Jm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function d1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var l=n[a],u=l.transferSize,v=l.initiatorType,M=l.duration;if(u&&M&&Jm(v)){for(v=0,M=l.responseEnd,a+=1;a<n.length;a++){var H=n[a],J=H.startTime;if(J>M)break;var ut=H.transferSize,ht=H.initiatorType;ut&&Jm(ht)&&(H=H.responseEnd,v+=ut*(H<M?1:(M-J)/(H-J)))}if(--a,e+=8*(u+v)/(l.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Kc=null,Qc=null;function ho(t){return t.nodeType===9?t:t.ownerDocument}function tp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ep(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function $c(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wc=null;function h1(){var t=window.event;return t&&t.type==="popstate"?t===Wc?!1:(Wc=t,!0):(Wc=null,!1)}var np=typeof setTimeout=="function"?setTimeout:void 0,m1=typeof clearTimeout=="function"?clearTimeout:void 0,ip=typeof Promise=="function"?Promise:void 0,p1=typeof queueMicrotask=="function"?queueMicrotask:typeof ip<"u"?function(t){return ip.resolve(null).then(t).catch(g1)}:np;function g1(t){setTimeout(function(){throw t})}function gi(t){return t==="head"}function ap(t,e){var n=e,a=0;do{var l=n.nextSibling;if(t.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"||n==="/&"){if(a===0){t.removeChild(l),Ya(e);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Hs(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Hs(n);for(var u=n.firstChild;u;){var v=u.nextSibling,M=u.nodeName;u[as]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=v}}else n==="body"&&Hs(t.ownerDocument.body);n=l}while(n);Ya(e)}function sp(t,e){var n=t;t=0;do{var a=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=a}while(n)}function Jc(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Jc(n),al(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function y1(t,e,n,a){for(;t.nodeType===1;){var l=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[as])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(u=t.getAttribute("rel"),u==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(u!==l.rel||t.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||t.getAttribute("title")!==(l.title==null?null:l.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(u=t.getAttribute("src"),(u!==(l.src==null?null:l.src)||t.getAttribute("type")!==(l.type==null?null:l.type)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&u&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var u=l.name==null?null:""+l.name;if(l.type==="hidden"&&t.getAttribute("name")===u)return t}else return t;if(t=un(t.nextSibling),t===null)break}return null}function v1(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=un(t.nextSibling),t===null))return null;return t}function rp(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=un(t.nextSibling),t===null))return null;return t}function tu(t){return t.data==="$?"||t.data==="$~"}function eu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function b1(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var a=function(){e(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function un(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var nu=null;function op(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return un(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function lp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function cp(t,e,n){switch(e=ho(n),t){case"html":if(t=e.documentElement,!t)throw Error(o(452));return t;case"head":if(t=e.head,!t)throw Error(o(453));return t;case"body":if(t=e.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function Hs(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);al(t)}var fn=new Map,up=new Set;function mo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qn=V.d;V.d={f:x1,r:w1,D:S1,C:T1,L:_1,m:C1,X:k1,S:E1,M:A1};function x1(){var t=qn.f(),e=ao();return t||e}function w1(t){var e=fa(t);e!==null&&e.tag===5&&e.type==="form"?kh(e):qn.r(t)}var Ia=typeof document>"u"?null:document;function fp(t,e,n){var a=Ia;if(a&&typeof e=="string"&&e){var l=nn(e);l='link[rel="'+t+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),up.has(l)||(up.add(l),t={rel:t,crossOrigin:n,href:e},a.querySelector(l)===null&&(e=a.createElement("link"),_e(e,"link",t),ye(e),a.head.appendChild(e)))}}function S1(t){qn.D(t),fp("dns-prefetch",t,null)}function T1(t,e){qn.C(t,e),fp("preconnect",t,e)}function _1(t,e,n){qn.L(t,e,n);var a=Ia;if(a&&t&&e){var l='link[rel="preload"][as="'+nn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+nn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+nn(n.imageSizes)+'"]')):l+='[href="'+nn(t)+'"]';var u=l;switch(e){case"style":u=qa(t);break;case"script":u=Ga(t)}fn.has(u)||(t=y({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),fn.set(u,t),a.querySelector(l)!==null||e==="style"&&a.querySelector(Fs(u))||e==="script"&&a.querySelector(Ps(u))||(e=a.createElement("link"),_e(e,"link",t),ye(e),a.head.appendChild(e)))}}function C1(t,e){qn.m(t,e);var n=Ia;if(n&&t){var a=e&&typeof e.as=="string"?e.as:"script",l='link[rel="modulepreload"][as="'+nn(a)+'"][href="'+nn(t)+'"]',u=l;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Ga(t)}if(!fn.has(u)&&(t=y({rel:"modulepreload",href:t},e),fn.set(u,t),n.querySelector(l)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ps(u)))return}a=n.createElement("link"),_e(a,"link",t),ye(a),n.head.appendChild(a)}}}function E1(t,e,n){qn.S(t,e,n);var a=Ia;if(a&&t){var l=da(a).hoistableStyles,u=qa(t);e=e||"default";var v=l.get(u);if(!v){var M={loading:0,preload:null};if(v=a.querySelector(Fs(u)))M.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":e},n),(n=fn.get(u))&&iu(t,n);var H=v=a.createElement("link");ye(H),_e(H,"link",t),H._p=new Promise(function(J,ut){H.onload=J,H.onerror=ut}),H.addEventListener("load",function(){M.loading|=1}),H.addEventListener("error",function(){M.loading|=2}),M.loading|=4,po(v,e,a)}v={type:"stylesheet",instance:v,count:1,state:M},l.set(u,v)}}}function k1(t,e){qn.X(t,e);var n=Ia;if(n&&t){var a=da(n).hoistableScripts,l=Ga(t),u=a.get(l);u||(u=n.querySelector(Ps(l)),u||(t=y({src:t,async:!0},e),(e=fn.get(l))&&au(t,e),u=n.createElement("script"),ye(u),_e(u,"link",t),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},a.set(l,u))}}function A1(t,e){qn.M(t,e);var n=Ia;if(n&&t){var a=da(n).hoistableScripts,l=Ga(t),u=a.get(l);u||(u=n.querySelector(Ps(l)),u||(t=y({src:t,async:!0,type:"module"},e),(e=fn.get(l))&&au(t,e),u=n.createElement("script"),ye(u),_e(u,"link",t),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},a.set(l,u))}}function dp(t,e,n,a){var l=(l=_t.current)?mo(l):null;if(!l)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=qa(n.href),n=da(l).hoistableStyles,a=n.get(e),a||(a={type:"style",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=qa(n.href);var u=da(l).hoistableStyles,v=u.get(t);if(v||(l=l.ownerDocument||l,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(t,v),(u=l.querySelector(Fs(t)))&&!u._p&&(v.instance=u,v.state.loading=5),fn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},fn.set(t,n),u||j1(l,t,n,v.state))),e&&a===null)throw Error(o(528,""));return v}if(e&&a!==null)throw Error(o(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Ga(n),n=da(l).hoistableScripts,a=n.get(e),a||(a={type:"script",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function qa(t){return'href="'+nn(t)+'"'}function Fs(t){return'link[rel="stylesheet"]['+t+"]"}function hp(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function j1(t,e,n,a){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?a.loading=1:(e=t.createElement("link"),a.preload=e,e.addEventListener("load",function(){return a.loading|=1}),e.addEventListener("error",function(){return a.loading|=2}),_e(e,"link",n),ye(e),t.head.appendChild(e))}function Ga(t){return'[src="'+nn(t)+'"]'}function Ps(t){return"script[async]"+t}function mp(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var a=t.querySelector('style[data-href~="'+nn(n.href)+'"]');if(a)return e.instance=a,ye(a),a;var l=y({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),ye(a),_e(a,"style",l),po(a,n.precedence,t),e.instance=a;case"stylesheet":l=qa(n.href);var u=t.querySelector(Fs(l));if(u)return e.state.loading|=4,e.instance=u,ye(u),u;a=hp(n),(l=fn.get(l))&&iu(a,l),u=(t.ownerDocument||t).createElement("link"),ye(u);var v=u;return v._p=new Promise(function(M,H){v.onload=M,v.onerror=H}),_e(u,"link",a),e.state.loading|=4,po(u,n.precedence,t),e.instance=u;case"script":return u=Ga(n.src),(l=t.querySelector(Ps(u)))?(e.instance=l,ye(l),l):(a=n,(l=fn.get(u))&&(a=y({},n),au(a,l)),t=t.ownerDocument||t,l=t.createElement("script"),ye(l),_e(l,"link",a),t.head.appendChild(l),e.instance=l);case"void":return null;default:throw Error(o(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(a=e.instance,e.state.loading|=4,po(a,n.precedence,t));return e.instance}function po(t,e,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=a.length?a[a.length-1]:null,u=l,v=0;v<a.length;v++){var M=a[v];if(M.dataset.precedence===e)u=M;else if(u!==l)break}u?u.parentNode.insertBefore(t,u.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function iu(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function au(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var go=null;function pp(t,e,n){if(go===null){var a=new Map,l=go=new Map;l.set(n,a)}else l=go,a=l.get(n),a||(a=new Map,l.set(n,a));if(a.has(t))return a;for(a.set(t,null),n=n.getElementsByTagName(t),l=0;l<n.length;l++){var u=n[l];if(!(u[as]||u[xe]||t==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var v=u.getAttribute(e)||"";v=t+v;var M=a.get(v);M?M.push(u):a.set(v,[u])}}return a}function gp(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function z1(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function yp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function M1(t,e,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var l=qa(a.href),u=e.querySelector(Fs(l));if(u){e=u._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=yo.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=u,ye(u);return}u=e.ownerDocument||e,a=hp(a),(l=fn.get(l))&&iu(a,l),u=u.createElement("link"),ye(u);var v=u;v._p=new Promise(function(M,H){v.onload=M,v.onerror=H}),_e(u,"link",a),n.instance=u}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(t.count++,n=yo.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var su=0;function N1(t,e){return t.stylesheets&&t.count===0&&bo(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var a=setTimeout(function(){if(t.stylesheets&&bo(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4+e);0<t.imgBytes&&su===0&&(su=62500*d1());var l=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&bo(t,t.stylesheets),t.unsuspend)){var u=t.unsuspend;t.unsuspend=null,u()}},(t.imgBytes>su?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(l)}}:null}function yo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vo=null;function bo(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vo=new Map,e.forEach(R1,t),vo=null,yo.call(t))}function R1(t,e){if(!(e.state.loading&4)){var n=vo.get(t);if(n)var a=n.get(null);else{n=new Map,vo.set(t,n);for(var l=t.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<l.length;u++){var v=l[u];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(n.set(v.dataset.precedence,v),a=v)}a&&n.set(null,a)}l=e.instance,v=l.getAttribute("data-precedence"),u=n.get(v)||a,u===a&&n.set(null,l),n.set(v,l),this.count++,a=yo.bind(this),l.addEventListener("load",a),l.addEventListener("error",a),u?u.parentNode.insertBefore(l,u.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(l,t.firstChild)),e.state.loading|=4}}var Is={$$typeof:E,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function D1(t,e,n,a,l,u,v,M,H){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tl(0),this.hiddenUpdates=tl(null),this.identifierPrefix=a,this.onUncaughtError=l,this.onCaughtError=u,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function vp(t,e,n,a,l,u,v,M,H,J,ut,ht){return t=new D1(t,e,n,v,H,J,ut,ht,M),e=1,u===!0&&(e|=24),u=Ge(3,null,null,e),t.current=u,u.stateNode=t,e=Ll(),e.refCount++,t.pooledCache=e,e.refCount++,u.memoizedState={element:a,isDehydrated:n,cache:e},Pl(u),t}function bp(t){return t?(t=Sa,t):Sa}function xp(t,e,n,a,l,u){l=bp(l),a.context===null?a.context=l:a.pendingContext=l,a=si(e),a.payload={element:n},u=u===void 0?null:u,u!==null&&(a.callback=u),n=ri(t,a,e),n!==null&&(He(n,t,e),ws(n,t,e))}function wp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ru(t,e){wp(t,e),(t=t.alternate)&&wp(t,e)}function Sp(t){if(t.tag===13||t.tag===31){var e=Vi(t,67108864);e!==null&&He(e,t,67108864),ru(t,67108864)}}function Tp(t){if(t.tag===13||t.tag===31){var e=Qe();e=el(e);var n=Vi(t,e);n!==null&&He(n,t,e),ru(t,e)}}var xo=!0;function O1(t,e,n,a){var l=X.T;X.T=null;var u=V.p;try{V.p=2,ou(t,e,n,a)}finally{V.p=u,X.T=l}}function B1(t,e,n,a){var l=X.T;X.T=null;var u=V.p;try{V.p=8,ou(t,e,n,a)}finally{V.p=u,X.T=l}}function ou(t,e,n,a){if(xo){var l=lu(a);if(l===null)Zc(t,e,a,wo,n),Cp(t,a);else if(L1(l,t,e,n,a))a.stopPropagation();else if(Cp(t,a),e&4&&-1<U1.indexOf(t)){for(;l!==null;){var u=fa(l);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var v=tn(u.pendingLanes);if(v!==0){var M=u;for(M.pendingLanes|=2,M.entangledLanes|=2;v;){var H=1<<31-ae(v);M.entanglements[1]|=H,v&=~H}Tn(u),(Yt&6)===0&&(no=wt()+500,Us(0))}}break;case 31:case 13:M=Vi(u,2),M!==null&&He(M,u,2),ao(),ru(u,2)}if(u=lu(a),u===null&&Zc(t,e,a,wo,n),u===l)break;l=u}l!==null&&a.stopPropagation()}else Zc(t,e,a,null,n)}}function lu(t){return t=ul(t),cu(t)}var wo=null;function cu(t){if(wo=null,t=ua(t),t!==null){var e=d(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=f(e),t!==null)return t;t=null}else if(n===31){if(t=h(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return wo=t,null}function _p(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xt()){case Et:return 2;case Zt:return 8;case Ut:case Re:return 32;case $n:return 268435456;default:return 32}default:return 32}}var uu=!1,yi=null,vi=null,bi=null,qs=new Map,Gs=new Map,xi=[],U1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cp(t,e){switch(t){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":qs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gs.delete(e.pointerId)}}function Ys(t,e,n,a,l,u){return t===null||t.nativeEvent!==u?(t={blockedOn:e,domEventName:n,eventSystemFlags:a,nativeEvent:u,targetContainers:[l]},e!==null&&(e=fa(e),e!==null&&Sp(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),t)}function L1(t,e,n,a,l){switch(e){case"focusin":return yi=Ys(yi,t,e,n,a,l),!0;case"dragenter":return vi=Ys(vi,t,e,n,a,l),!0;case"mouseover":return bi=Ys(bi,t,e,n,a,l),!0;case"pointerover":var u=l.pointerId;return qs.set(u,Ys(qs.get(u)||null,t,e,n,a,l)),!0;case"gotpointercapture":return u=l.pointerId,Gs.set(u,Ys(Gs.get(u)||null,t,e,n,a,l)),!0}return!1}function Ep(t){var e=ua(t.target);if(e!==null){var n=d(e);if(n!==null){if(e=n.tag,e===13){if(e=f(n),e!==null){t.blockedOn=e,Hf(t.priority,function(){Tp(n)});return}}else if(e===31){if(e=h(n),e!==null){t.blockedOn=e,Hf(t.priority,function(){Tp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function So(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lu(t.nativeEvent);if(n===null){n=t.nativeEvent;var a=new n.constructor(n.type,n);cl=a,n.target.dispatchEvent(a),cl=null}else return e=fa(n),e!==null&&Sp(e),t.blockedOn=n,!1;e.shift()}return!0}function kp(t,e,n){So(t)&&n.delete(e)}function V1(){uu=!1,yi!==null&&So(yi)&&(yi=null),vi!==null&&So(vi)&&(vi=null),bi!==null&&So(bi)&&(bi=null),qs.forEach(kp),Gs.forEach(kp)}function To(t,e){t.blockedOn===e&&(t.blockedOn=null,uu||(uu=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,V1)))}var _o=null;function Ap(t){_o!==t&&(_o=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){_o===t&&(_o=null);for(var e=0;e<t.length;e+=3){var n=t[e],a=t[e+1],l=t[e+2];if(typeof a!="function"){if(cu(a||n)===null)continue;break}var u=fa(n);u!==null&&(t.splice(e,3),e-=3,lc(u,{pending:!0,data:l,method:n.method,action:a},a,l))}}))}function Ya(t){function e(H){return To(H,t)}yi!==null&&To(yi,t),vi!==null&&To(vi,t),bi!==null&&To(bi,t),qs.forEach(e),Gs.forEach(e);for(var n=0;n<xi.length;n++){var a=xi[n];a.blockedOn===t&&(a.blockedOn=null)}for(;0<xi.length&&(n=xi[0],n.blockedOn===null);)Ep(n),n.blockedOn===null&&xi.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var l=n[a],u=n[a+1],v=l[De]||null;if(typeof u=="function")v||Ap(n);else if(v){var M=null;if(u&&u.hasAttribute("formAction")){if(l=u,v=u[De]||null)M=v.formAction;else if(cu(l)!==null)continue}else M=v.action;typeof M=="function"?n[a+1]=M:(n.splice(a,3),a-=3),Ap(n)}}}function jp(){function t(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(v){return l=v})},focusReset:"manual",scroll:"manual"})}function e(){l!==null&&(l(),l=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,l=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),l!==null&&(l(),l=null)}}}function fu(t){this._internalRoot=t}Co.prototype.render=fu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(o(409));var n=e.current,a=Qe();xp(n,a,t,e,null,null)},Co.prototype.unmount=fu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xp(t.current,2,null,t,null,null),ao(),e[ca]=null}};function Co(t){this._internalRoot=t}Co.prototype.unstable_scheduleHydration=function(t){if(t){var e=Vf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xi.length&&e!==0&&e<xi[n].priority;n++);xi.splice(n,0,t),n===0&&Ep(t)}};var zp=i.version;if(zp!=="19.2.3")throw Error(o(527,zp,"19.2.3"));V.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=p(e),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var H1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eo.isDisabled&&Eo.supportsFiber)try{Jt=Eo.inject(H1),ge=Eo}catch{}}return Xs.createRoot=function(t,e){if(!c(t))throw Error(o(299));var n=!1,a="",l=Uh,u=Lh,v=Vh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onUncaughtError!==void 0&&(l=e.onUncaughtError),e.onCaughtError!==void 0&&(u=e.onCaughtError),e.onRecoverableError!==void 0&&(v=e.onRecoverableError)),e=vp(t,1,!1,null,null,n,a,null,l,u,v,jp),t[ca]=e.current,Yc(t),new fu(e)},Xs.hydrateRoot=function(t,e,n){if(!c(t))throw Error(o(299));var a=!1,l="",u=Uh,v=Lh,M=Vh,H=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(v=n.onCaughtError),n.onRecoverableError!==void 0&&(M=n.onRecoverableError),n.formState!==void 0&&(H=n.formState)),e=vp(t,1,!0,e,n??null,a,l,H,u,v,M,jp),e.context=bp(null),n=e.current,a=Qe(),a=el(a),l=si(a),l.callback=null,ri(n,l,a),n=a,e.current.lanes=n,is(e,n),Tn(e),t[ca]=e.current,Yc(t),new Co(e)},Xs.version="19.2.3",Xs}var Fp;function W1(){if(Fp)return mu.exports;Fp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(i){console.error(i)}}return s(),mu.exports=$1(),mu.exports}var J1=W1();const tb=Ju(J1);var eb=t0();const ef=P.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"}),Go=P.createContext({}),Yo=P.createContext(null),nf=typeof document<"u",af=nf?P.useLayoutEffect:P.useEffect,e0=P.createContext({strict:!1}),sf=s=>s.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),nb="framerAppearId",n0="data-"+sf(nb),ib={useManualTiming:!1};class Pp{constructor(){this.order=[],this.scheduled=new Set}add(i){if(!this.scheduled.has(i))return this.scheduled.add(i),this.order.push(i),!0}remove(i){const r=this.order.indexOf(i);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(i))}clear(){this.order.length=0,this.scheduled.clear()}}function ab(s){let i=new Pp,r=new Pp,o=0,c=!1,d=!1;const f=new WeakSet,h={schedule:(m,p=!1,g=!1)=>{const y=g&&c,w=y?i:r;return p&&f.add(m),w.add(m)&&y&&c&&(o=i.order.length),m},cancel:m=>{r.remove(m),f.delete(m)},process:m=>{if(c){d=!0;return}if(c=!0,[i,r]=[r,i],r.clear(),o=i.order.length,o)for(let p=0;p<o;p++){const g=i.order[p];f.has(g)&&(h.schedule(g),s()),g(m)}c=!1,d&&(d=!1,h.process(m))}};return h}const Ao=["read","resolveKeyframes","update","preRender","render","postRender"],sb=40;function i0(s,i){let r=!1,o=!0;const c={delta:0,timestamp:0,isProcessing:!1},d=Ao.reduce((y,w)=>(y[w]=ab(()=>r=!0),y),{}),f=y=>{d[y].process(c)},h=()=>{const y=performance.now();r=!1,c.delta=o?1e3/60:Math.max(Math.min(y-c.timestamp,sb),1),c.timestamp=y,c.isProcessing=!0,Ao.forEach(f),c.isProcessing=!1,r&&i&&(o=!1,s(h))},m=()=>{r=!0,o=!0,c.isProcessing||s(h)};return{schedule:Ao.reduce((y,w)=>{const b=d[w];return y[w]=(A,S=!1,z=!1)=>(r||m(),b.schedule(A,S,z)),y},{}),cancel:y=>Ao.forEach(w=>d[w].cancel(y)),state:c,steps:d}}const{schedule:rf}=i0(queueMicrotask,!1);function rb(s,i,r,o){const{visualElement:c}=P.useContext(Go),d=P.useContext(e0),f=P.useContext(Yo),h=P.useContext(ef).reducedMotion,m=P.useRef();o=o||d.renderer,!m.current&&o&&(m.current=o(s,{visualState:i,parent:c,props:r,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:h}));const p=m.current;P.useInsertionEffect(()=>{p&&p.update(r,f)});const g=P.useRef(!!(r[n0]&&!window.HandoffComplete));return af(()=>{p&&(rf.postRender(p.render),g.current&&p.animationState&&p.animationState.animateChanges())}),P.useEffect(()=>{p&&(p.updateFeatures(),!g.current&&p.animationState&&p.animationState.animateChanges(),g.current&&(g.current=!1,window.HandoffComplete=!0))}),p}function Xa(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function ob(s,i,r){return P.useCallback(o=>{o&&s.mount&&s.mount(o),i&&(o?i.mount(o):i.unmount()),r&&(typeof r=="function"?r(o):Xa(r)&&(r.current=o))},[i])}function nr(s){return typeof s=="string"||Array.isArray(s)}function Zo(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}const of=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],lf=["initial",...of];function Xo(s){return Zo(s.animate)||lf.some(i=>nr(s[i]))}function a0(s){return!!(Xo(s)||s.variants)}function lb(s,i){if(Xo(s)){const{initial:r,animate:o}=s;return{initial:r===!1||nr(r)?r:void 0,animate:nr(o)?o:void 0}}return s.inherit!==!1?i:{}}function cb(s){const{initial:i,animate:r}=lb(s,P.useContext(Go));return P.useMemo(()=>({initial:i,animate:r}),[Ip(i),Ip(r)])}function Ip(s){return Array.isArray(s)?s.join(" "):s}const qp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ir={};for(const s in qp)ir[s]={isEnabled:i=>qp[s].some(r=>!!i[r])};function ub(s){for(const i in s)ir[i]={...ir[i],...s[i]}}const cf=P.createContext({}),s0=P.createContext({}),fb=Symbol.for("motionComponentSymbol");function db({preloadedFeatures:s,createVisualElement:i,useRender:r,useVisualState:o,Component:c}){s&&ub(s);function d(h,m){let p;const g={...P.useContext(ef),...h,layoutId:hb(h)},{isStatic:y}=g,w=cb(h),b=o(h,y);if(!y&&nf){w.visualElement=rb(c,b,g,i);const A=P.useContext(s0),S=P.useContext(e0).strict;w.visualElement&&(p=w.visualElement.loadFeatures(g,S,s,A))}return T.jsxs(Go.Provider,{value:w,children:[p&&w.visualElement?T.jsx(p,{visualElement:w.visualElement,...g}):null,r(c,h,ob(b,w.visualElement,m),b,y,w.visualElement)]})}const f=P.forwardRef(d);return f[fb]=c,f}function hb({layoutId:s}){const i=P.useContext(cf).id;return i&&s!==void 0?i+"-"+s:s}function mb(s){function i(o,c={}){return db(s(o,c))}if(typeof Proxy>"u")return i;const r=new Map;return new Proxy(i,{get:(o,c)=>(r.has(c)||r.set(c,i(c)),r.get(c))})}const pb=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function uf(s){return typeof s!="string"||s.includes("-")?!1:!!(pb.indexOf(s)>-1||/[A-Z]/u.test(s))}const Oo={};function gb(s){Object.assign(Oo,s)}const or=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],oa=new Set(or);function r0(s,{layout:i,layoutId:r}){return oa.has(s)||s.startsWith("origin")||(i||r!==void 0)&&(!!Oo[s]||s==="opacity")}const ze=s=>!!(s&&s.getVelocity),yb={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vb=or.length;function bb(s,{enableHardwareAcceleration:i=!0,allowTransformNone:r=!0},o,c){let d="";for(let f=0;f<vb;f++){const h=or[f];if(s[h]!==void 0){const m=yb[h]||h;d+=`${m}(${s[h]}) `}}return i&&!s.z&&(d+="translateZ(0)"),d=d.trim(),c?d=c(s,o?"":d):r&&o&&(d="none"),d}const o0=s=>i=>typeof i=="string"&&i.startsWith(s),l0=o0("--"),xb=o0("var(--"),ff=s=>xb(s)?wb.test(s.split("/*")[0].trim()):!1,wb=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Sb=(s,i)=>i&&typeof s=="number"?i.transform(s):s,ji=(s,i,r)=>r>i?i:r<s?s:r,es={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},Ws={...es,transform:s=>ji(0,1,s)},jo={...es,default:1},Js=s=>Math.round(s*1e5)/1e5,df=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,Tb=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,_b=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function lr(s){return typeof s=="string"}const cr=s=>({test:i=>lr(i)&&i.endsWith(s)&&i.split(" ").length===1,parse:parseFloat,transform:i=>`${i}${s}`}),Ti=cr("deg"),En=cr("%"),Mt=cr("px"),Cb=cr("vh"),Eb=cr("vw"),Gp={...En,parse:s=>En.parse(s)/100,transform:s=>En.transform(s*100)},Yp={...es,transform:Math.round},c0={borderWidth:Mt,borderTopWidth:Mt,borderRightWidth:Mt,borderBottomWidth:Mt,borderLeftWidth:Mt,borderRadius:Mt,radius:Mt,borderTopLeftRadius:Mt,borderTopRightRadius:Mt,borderBottomRightRadius:Mt,borderBottomLeftRadius:Mt,width:Mt,maxWidth:Mt,height:Mt,maxHeight:Mt,size:Mt,top:Mt,right:Mt,bottom:Mt,left:Mt,padding:Mt,paddingTop:Mt,paddingRight:Mt,paddingBottom:Mt,paddingLeft:Mt,margin:Mt,marginTop:Mt,marginRight:Mt,marginBottom:Mt,marginLeft:Mt,rotate:Ti,rotateX:Ti,rotateY:Ti,rotateZ:Ti,scale:jo,scaleX:jo,scaleY:jo,scaleZ:jo,skew:Ti,skewX:Ti,skewY:Ti,distance:Mt,translateX:Mt,translateY:Mt,translateZ:Mt,x:Mt,y:Mt,z:Mt,perspective:Mt,transformPerspective:Mt,opacity:Ws,originX:Gp,originY:Gp,originZ:Mt,zIndex:Yp,backgroundPositionX:Mt,backgroundPositionY:Mt,fillOpacity:Ws,strokeOpacity:Ws,numOctaves:Yp};function hf(s,i,r,o){const{style:c,vars:d,transform:f,transformOrigin:h}=s;let m=!1,p=!1,g=!0;for(const y in i){const w=i[y];if(l0(y)){d[y]=w;continue}const b=c0[y],A=Sb(w,b);if(oa.has(y)){if(m=!0,f[y]=A,!g)continue;w!==(b.default||0)&&(g=!1)}else y.startsWith("origin")?(p=!0,h[y]=A):c[y]=A}if(i.transform||(m||o?c.transform=bb(s.transform,r,g,o):c.transform&&(c.transform="none")),p){const{originX:y="50%",originY:w="50%",originZ:b=0}=h;c.transformOrigin=`${y} ${w} ${b}`}}const mf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function u0(s,i,r){for(const o in i)!ze(i[o])&&!r0(o,r)&&(s[o]=i[o])}function kb({transformTemplate:s},i,r){return P.useMemo(()=>{const o=mf();return hf(o,i,{enableHardwareAcceleration:!r},s),Object.assign({},o.vars,o.style)},[i])}function Ab(s,i,r){const o=s.style||{},c={};return u0(c,o,s),Object.assign(c,kb(s,i,r)),c}function jb(s,i,r){const o={},c=Ab(s,i,r);return s.drag&&s.dragListener!==!1&&(o.draggable=!1,c.userSelect=c.WebkitUserSelect=c.WebkitTouchCallout="none",c.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(o.tabIndex=0),o.style=c,o}const zb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bo(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||zb.has(s)}let f0=s=>!Bo(s);function Mb(s){s&&(f0=i=>i.startsWith("on")?!Bo(i):s(i))}try{Mb(require("@emotion/is-prop-valid").default)}catch{}function Nb(s,i,r){const o={};for(const c in s)c==="values"&&typeof s.values=="object"||(f0(c)||r===!0&&Bo(c)||!i&&!Bo(c)||s.draggable&&c.startsWith("onDrag"))&&(o[c]=s[c]);return o}function Zp(s,i,r){return typeof s=="string"?s:Mt.transform(i+r*s)}function Rb(s,i,r){const o=Zp(i,s.x,s.width),c=Zp(r,s.y,s.height);return`${o} ${c}`}const Db={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ob={offset:"strokeDashoffset",array:"strokeDasharray"};function Bb(s,i,r=1,o=0,c=!0){s.pathLength=1;const d=c?Db:Ob;s[d.offset]=Mt.transform(-o);const f=Mt.transform(i),h=Mt.transform(r);s[d.array]=`${f} ${h}`}function pf(s,{attrX:i,attrY:r,attrScale:o,originX:c,originY:d,pathLength:f,pathSpacing:h=1,pathOffset:m=0,...p},g,y,w){if(hf(s,p,g,w),y){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:b,style:A,dimensions:S}=s;b.transform&&(S&&(A.transform=b.transform),delete b.transform),S&&(c!==void 0||d!==void 0||A.transform)&&(A.transformOrigin=Rb(S,c!==void 0?c:.5,d!==void 0?d:.5)),i!==void 0&&(b.x=i),r!==void 0&&(b.y=r),o!==void 0&&(b.scale=o),f!==void 0&&Bb(b,f,h,m,!1)}const d0=()=>({...mf(),attrs:{}}),gf=s=>typeof s=="string"&&s.toLowerCase()==="svg";function Ub(s,i,r,o){const c=P.useMemo(()=>{const d=d0();return pf(d,i,{enableHardwareAcceleration:!1},gf(o),s.transformTemplate),{...d.attrs,style:{...d.style}}},[i]);if(s.style){const d={};u0(d,s.style,s),c.style={...d,...c.style}}return c}function Lb(s=!1){return(r,o,c,{latestValues:d},f)=>{const m=(uf(r)?Ub:jb)(o,d,f,r),p=Nb(o,typeof r=="string",s),g=r!==P.Fragment?{...p,...m,ref:c}:{},{children:y}=o,w=P.useMemo(()=>ze(y)?y.get():y,[y]);return P.createElement(r,{...g,children:w})}}function h0(s,{style:i,vars:r},o,c){Object.assign(s.style,i,c&&c.getProjectionStyles(o));for(const d in r)s.style.setProperty(d,r[d])}const m0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function p0(s,i,r,o){h0(s,i,void 0,o);for(const c in i.attrs)s.setAttribute(m0.has(c)?c:sf(c),i.attrs[c])}function yf(s,i,r){var o;const{style:c}=s,d={};for(const f in c)(ze(c[f])||i.style&&ze(i.style[f])||r0(f,s)||((o=r==null?void 0:r.getValue(f))===null||o===void 0?void 0:o.liveStyle)!==void 0)&&(d[f]=c[f]);return d}function g0(s,i,r){const o=yf(s,i,r);for(const c in s)if(ze(s[c])||ze(i[c])){const d=or.indexOf(c)!==-1?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c;o[d]=s[c]}return o}function vf(s,i,r,o={},c={}){return typeof i=="function"&&(i=i(r!==void 0?r:s.custom,o,c)),typeof i=="string"&&(i=s.variants&&s.variants[i]),typeof i=="function"&&(i=i(r!==void 0?r:s.custom,o,c)),i}function y0(s){const i=P.useRef(null);return i.current===null&&(i.current=s()),i.current}const Bu=s=>Array.isArray(s),Vb=s=>!!(s&&typeof s=="object"&&s.mix&&s.toValue),Hb=s=>Bu(s)?s[s.length-1]||0:s;function No(s){const i=ze(s)?s.get():s;return Vb(i)?i.toValue():i}function Fb({scrapeMotionValuesFromProps:s,createRenderState:i,onMount:r},o,c,d){const f={latestValues:Pb(o,c,d,s),renderState:i()};return r&&(f.mount=h=>r(o,h,f)),f}const v0=s=>(i,r)=>{const o=P.useContext(Go),c=P.useContext(Yo),d=()=>Fb(s,i,o,c);return r?d():y0(d)};function Pb(s,i,r,o){const c={},d=o(s,{});for(const w in d)c[w]=No(d[w]);let{initial:f,animate:h}=s;const m=Xo(s),p=a0(s);i&&p&&!m&&s.inherit!==!1&&(f===void 0&&(f=i.initial),h===void 0&&(h=i.animate));let g=r?r.initial===!1:!1;g=g||f===!1;const y=g?h:f;return y&&typeof y!="boolean"&&!Zo(y)&&(Array.isArray(y)?y:[y]).forEach(b=>{const A=vf(s,b);if(!A)return;const{transitionEnd:S,transition:z,...C}=A;for(const k in C){let E=C[k];if(Array.isArray(E)){const B=g?E.length-1:0;E=E[B]}E!==null&&(c[k]=E)}for(const k in S)c[k]=S[k]}),c}const Me=s=>s,{schedule:be,cancel:zi,state:Ce,steps:vu}=i0(typeof requestAnimationFrame<"u"?requestAnimationFrame:Me,!0),Ib={useVisualState:v0({scrapeMotionValuesFromProps:g0,createRenderState:d0,onMount:(s,i,{renderState:r,latestValues:o})=>{be.read(()=>{try{r.dimensions=typeof i.getBBox=="function"?i.getBBox():i.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),be.render(()=>{pf(r,o,{enableHardwareAcceleration:!1},gf(i.tagName),s.transformTemplate),p0(i,r)})}})},qb={useVisualState:v0({scrapeMotionValuesFromProps:yf,createRenderState:mf})};function Gb(s,{forwardMotionProps:i=!1},r,o){return{...uf(s)?Ib:qb,preloadedFeatures:r,useRender:Lb(i),createVisualElement:o,Component:s}}function Gn(s,i,r,o={passive:!0}){return s.addEventListener(i,r,o),()=>s.removeEventListener(i,r)}const b0=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1;function Ko(s,i="page"){return{point:{x:s[`${i}X`],y:s[`${i}Y`]}}}const Yb=s=>i=>b0(i)&&s(i,Ko(i));function Xn(s,i,r,o){return Gn(s,i,Yb(r),o)}const Zb=(s,i)=>r=>i(s(r)),Kn=(...s)=>s.reduce(Zb);function x0(s){let i=null;return()=>{const r=()=>{i=null};return i===null?(i=s,r):!1}}const Xp=x0("dragHorizontal"),Kp=x0("dragVertical");function w0(s){let i=!1;if(s==="y")i=Kp();else if(s==="x")i=Xp();else{const r=Xp(),o=Kp();r&&o?i=()=>{r(),o()}:(r&&r(),o&&o())}return i}function S0(){const s=w0(!0);return s?(s(),!1):!0}class Ni{constructor(i){this.isMounted=!1,this.node=i}update(){}}function Qp(s,i){const r=i?"pointerenter":"pointerleave",o=i?"onHoverStart":"onHoverEnd",c=(d,f)=>{if(d.pointerType==="touch"||S0())return;const h=s.getProps();s.animationState&&h.whileHover&&s.animationState.setActive("whileHover",i);const m=h[o];m&&m(d,f)};return Xn(s.current,r,c,{passive:!s.getProps()[o]})}class Xb extends Ni{mount(){this.unmount=Kn(Qp(this.node,!0),Qp(this.node,!1))}unmount(){}}class Kb extends Ni{constructor(){super(...arguments),this.isActive=!1}onFocus(){let i=!1;try{i=this.node.current.matches(":focus-visible")}catch{i=!0}!i||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kn(Gn(this.node.current,"focus",()=>this.onFocus()),Gn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const T0=(s,i)=>i?s===i?!0:T0(s,i.parentElement):!1;function bu(s,i){if(!i)return;const r=new PointerEvent("pointer"+s);i(r,Ko(r))}class Qb extends Ni{constructor(){super(...arguments),this.removeStartListeners=Me,this.removeEndListeners=Me,this.removeAccessibleListeners=Me,this.startPointerPress=(i,r)=>{if(this.isPressing)return;this.removeEndListeners();const o=this.node.getProps(),d=Xn(window,"pointerup",(h,m)=>{if(!this.checkPressEnd())return;const{onTap:p,onTapCancel:g,globalTapTarget:y}=this.node.getProps();!y&&!T0(this.node.current,h.target)?g&&g(h,m):p&&p(h,m)},{passive:!(o.onTap||o.onPointerUp)}),f=Xn(window,"pointercancel",(h,m)=>this.cancelPress(h,m),{passive:!(o.onTapCancel||o.onPointerCancel)});this.removeEndListeners=Kn(d,f),this.startPress(i,r)},this.startAccessiblePress=()=>{const i=d=>{if(d.key!=="Enter"||this.isPressing)return;const f=h=>{h.key!=="Enter"||!this.checkPressEnd()||bu("up",(m,p)=>{const{onTap:g}=this.node.getProps();g&&g(m,p)})};this.removeEndListeners(),this.removeEndListeners=Gn(this.node.current,"keyup",f),bu("down",(h,m)=>{this.startPress(h,m)})},r=Gn(this.node.current,"keydown",i),o=()=>{this.isPressing&&bu("cancel",(d,f)=>this.cancelPress(d,f))},c=Gn(this.node.current,"blur",o);this.removeAccessibleListeners=Kn(r,c)}}startPress(i,r){this.isPressing=!0;const{onTapStart:o,whileTap:c}=this.node.getProps();c&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),o&&o(i,r)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!S0()}cancelPress(i,r){if(!this.checkPressEnd())return;const{onTapCancel:o}=this.node.getProps();o&&o(i,r)}mount(){const i=this.node.getProps(),r=Xn(i.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(i.onTapStart||i.onPointerStart)}),o=Gn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Kn(r,o)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Uu=new WeakMap,xu=new WeakMap,$b=s=>{const i=Uu.get(s.target);i&&i(s)},Wb=s=>{s.forEach($b)};function Jb({root:s,...i}){const r=s||document;xu.has(r)||xu.set(r,{});const o=xu.get(r),c=JSON.stringify(i);return o[c]||(o[c]=new IntersectionObserver(Wb,{root:s,...i})),o[c]}function tx(s,i,r){const o=Jb(i);return Uu.set(s,r),o.observe(s),()=>{Uu.delete(s),o.unobserve(s)}}const ex={some:0,all:1};class nx extends Ni{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:i={}}=this.node.getProps(),{root:r,margin:o,amount:c="some",once:d}=i,f={root:r?r.current:void 0,rootMargin:o,threshold:typeof c=="number"?c:ex[c]},h=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,d&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),w=p?g:y;w&&w(m)};return tx(this.node.current,f,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:i,prevProps:r}=this.node;["amount","margin","root"].some(ix(i,r))&&this.startObserver()}unmount(){}}function ix({viewport:s={}},{viewport:i={}}={}){return r=>s[r]!==i[r]}const ax={inView:{Feature:nx},tap:{Feature:Qb},focus:{Feature:Kb},hover:{Feature:Xb}};function _0(s,i){if(!Array.isArray(i))return!1;const r=i.length;if(r!==s.length)return!1;for(let o=0;o<r;o++)if(i[o]!==s[o])return!1;return!0}function sx(s){const i={};return s.values.forEach((r,o)=>i[o]=r.get()),i}function rx(s){const i={};return s.values.forEach((r,o)=>i[o]=r.getVelocity()),i}function Qo(s,i,r){const o=s.getProps();return vf(o,i,r!==void 0?r:o.custom,sx(s),rx(s))}const ki=s=>s*1e3,Qn=s=>s/1e3,ox={type:"spring",stiffness:500,damping:25,restSpeed:10},lx=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),cx={type:"keyframes",duration:.8},ux={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fx=(s,{keyframes:i})=>i.length>2?cx:oa.has(s)?s.startsWith("scale")?lx(i[1]):ox:ux;function dx({when:s,delay:i,delayChildren:r,staggerChildren:o,staggerDirection:c,repeat:d,repeatType:f,repeatDelay:h,from:m,elapsed:p,...g}){return!!Object.keys(g).length}function bf(s,i){return s[i]||s.default||s}const hx=s=>s!==null;function $o(s,{repeat:i,repeatType:r="loop"},o){const c=s.filter(hx),d=i&&r!=="loop"&&i%2===1?0:c.length-1;return!d||o===void 0?c[d]:o}let Ro;function mx(){Ro=void 0}const Ai={now:()=>(Ro===void 0&&Ai.set(Ce.isProcessing||ib.useManualTiming?Ce.timestamp:performance.now()),Ro),set:s=>{Ro=s,queueMicrotask(mx)}},C0=s=>/^0[^.\s]+$/u.test(s);function px(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||C0(s):!0}let E0=Me;const k0=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s),gx=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yx(s){const i=gx.exec(s);if(!i)return[,];const[,r,o,c]=i;return[`--${r??o}`,c]}function A0(s,i,r=1){const[o,c]=yx(s);if(!o)return;const d=window.getComputedStyle(i).getPropertyValue(o);if(d){const f=d.trim();return k0(f)?parseFloat(f):f}return ff(c)?A0(c,i,r+1):c}const vx=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),$p=s=>s===es||s===Mt,Wp=(s,i)=>parseFloat(s.split(", ")[i]),Jp=(s,i)=>(r,{transform:o})=>{if(o==="none"||!o)return 0;const c=o.match(/^matrix3d\((.+)\)$/u);if(c)return Wp(c[1],i);{const d=o.match(/^matrix\((.+)\)$/u);return d?Wp(d[1],s):0}},bx=new Set(["x","y","z"]),xx=or.filter(s=>!bx.has(s));function wx(s){const i=[];return xx.forEach(r=>{const o=s.getValue(r);o!==void 0&&(i.push([r,o.get()]),o.set(r.startsWith("scale")?1:0))}),i}const ts={width:({x:s},{paddingLeft:i="0",paddingRight:r="0"})=>s.max-s.min-parseFloat(i)-parseFloat(r),height:({y:s},{paddingTop:i="0",paddingBottom:r="0"})=>s.max-s.min-parseFloat(i)-parseFloat(r),top:(s,{top:i})=>parseFloat(i),left:(s,{left:i})=>parseFloat(i),bottom:({y:s},{top:i})=>parseFloat(i)+(s.max-s.min),right:({x:s},{left:i})=>parseFloat(i)+(s.max-s.min),x:Jp(4,13),y:Jp(5,14)};ts.translateX=ts.x;ts.translateY=ts.y;const j0=s=>i=>i.test(s),Sx={test:s=>s==="auto",parse:s=>s},z0=[es,Mt,En,Ti,Eb,Cb,Sx],tg=s=>z0.find(j0(s)),ra=new Set;let Lu=!1,Vu=!1;function M0(){if(Vu){const s=Array.from(ra).filter(o=>o.needsMeasurement),i=new Set(s.map(o=>o.element)),r=new Map;i.forEach(o=>{const c=wx(o);c.length&&(r.set(o,c),o.render())}),s.forEach(o=>o.measureInitialState()),i.forEach(o=>{o.render();const c=r.get(o);c&&c.forEach(([d,f])=>{var h;(h=o.getValue(d))===null||h===void 0||h.set(f)})}),s.forEach(o=>o.measureEndState()),s.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}Vu=!1,Lu=!1,ra.forEach(s=>s.complete()),ra.clear()}function N0(){ra.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(Vu=!0)})}function Tx(){N0(),M0()}class xf{constructor(i,r,o,c,d,f=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...i],this.onComplete=r,this.name=o,this.motionValue=c,this.element=d,this.isAsync=f}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ra.add(this),Lu||(Lu=!0,be.read(N0),be.resolveKeyframes(M0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:i,name:r,element:o,motionValue:c}=this;for(let d=0;d<i.length;d++)if(i[d]===null)if(d===0){const f=c==null?void 0:c.get(),h=i[i.length-1];if(f!==void 0)i[0]=f;else if(o&&r){const m=o.readValue(r,h);m!=null&&(i[0]=m)}i[0]===void 0&&(i[0]=h),c&&f===void 0&&c.set(i[0])}else i[d]=i[d-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ra.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ra.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const wf=(s,i)=>r=>!!(lr(r)&&_b.test(r)&&r.startsWith(s)||i&&Object.prototype.hasOwnProperty.call(r,i)),R0=(s,i,r)=>o=>{if(!lr(o))return o;const[c,d,f,h]=o.match(df);return{[s]:parseFloat(c),[i]:parseFloat(d),[r]:parseFloat(f),alpha:h!==void 0?parseFloat(h):1}},_x=s=>ji(0,255,s),wu={...es,transform:s=>Math.round(_x(s))},ia={test:wf("rgb","red"),parse:R0("red","green","blue"),transform:({red:s,green:i,blue:r,alpha:o=1})=>"rgba("+wu.transform(s)+", "+wu.transform(i)+", "+wu.transform(r)+", "+Js(Ws.transform(o))+")"};function Cx(s){let i="",r="",o="",c="";return s.length>5?(i=s.substring(1,3),r=s.substring(3,5),o=s.substring(5,7),c=s.substring(7,9)):(i=s.substring(1,2),r=s.substring(2,3),o=s.substring(3,4),c=s.substring(4,5),i+=i,r+=r,o+=o,c+=c),{red:parseInt(i,16),green:parseInt(r,16),blue:parseInt(o,16),alpha:c?parseInt(c,16)/255:1}}const Hu={test:wf("#"),parse:Cx,transform:ia.transform},Ka={test:wf("hsl","hue"),parse:R0("hue","saturation","lightness"),transform:({hue:s,saturation:i,lightness:r,alpha:o=1})=>"hsla("+Math.round(s)+", "+En.transform(Js(i))+", "+En.transform(Js(r))+", "+Js(Ws.transform(o))+")"},ke={test:s=>ia.test(s)||Hu.test(s)||Ka.test(s),parse:s=>ia.test(s)?ia.parse(s):Ka.test(s)?Ka.parse(s):Hu.parse(s),transform:s=>lr(s)?s:s.hasOwnProperty("red")?ia.transform(s):Ka.transform(s)};function Ex(s){var i,r;return isNaN(s)&&lr(s)&&(((i=s.match(df))===null||i===void 0?void 0:i.length)||0)+(((r=s.match(Tb))===null||r===void 0?void 0:r.length)||0)>0}const D0="number",O0="color",kx="var",Ax="var(",eg="${}",jx=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uo(s){const i=s.toString(),r=[],o={color:[],number:[],var:[]},c=[];let d=0;const h=i.replace(jx,m=>(ke.test(m)?(o.color.push(d),c.push(O0),r.push(ke.parse(m))):m.startsWith(Ax)?(o.var.push(d),c.push(kx),r.push(m)):(o.number.push(d),c.push(D0),r.push(parseFloat(m))),++d,eg)).split(eg);return{values:r,split:h,indexes:o,types:c}}function B0(s){return Uo(s).values}function U0(s){const{split:i,types:r}=Uo(s),o=i.length;return c=>{let d="";for(let f=0;f<o;f++)if(d+=i[f],c[f]!==void 0){const h=r[f];h===D0?d+=Js(c[f]):h===O0?d+=ke.transform(c[f]):d+=c[f]}return d}}const zx=s=>typeof s=="number"?0:s;function Mx(s){const i=B0(s);return U0(s)(i.map(zx))}const Mi={test:Ex,parse:B0,createTransformer:U0,getAnimatableNone:Mx},Nx=new Set(["brightness","contrast","saturate","opacity"]);function Rx(s){const[i,r]=s.slice(0,-1).split("(");if(i==="drop-shadow")return s;const[o]=r.match(df)||[];if(!o)return s;const c=r.replace(o,"");let d=Nx.has(i)?1:0;return o!==r&&(d*=100),i+"("+d+c+")"}const Dx=/\b([a-z-]*)\(.*?\)/gu,Fu={...Mi,getAnimatableNone:s=>{const i=s.match(Dx);return i?i.map(Rx).join(" "):s}},Ox={...c0,color:ke,backgroundColor:ke,outlineColor:ke,fill:ke,stroke:ke,borderColor:ke,borderTopColor:ke,borderRightColor:ke,borderBottomColor:ke,borderLeftColor:ke,filter:Fu,WebkitFilter:Fu},Sf=s=>Ox[s];function L0(s,i){let r=Sf(s);return r!==Fu&&(r=Mi),r.getAnimatableNone?r.getAnimatableNone(i):void 0}function Bx(s,i,r){let o=0,c;for(;o<s.length&&!c;)typeof s[o]=="string"&&s[o]!=="none"&&s[o]!=="0"&&(c=s[o]),o++;if(c&&r)for(const d of i)s[d]=L0(r,c)}class V0 extends xf{constructor(i,r,o,c){super(i,r,o,c,c==null?void 0:c.owner,!0)}readKeyframes(){const{unresolvedKeyframes:i,element:r,name:o}=this;if(!r.current)return;super.readKeyframes();for(let m=0;m<i.length;m++){const p=i[m];if(typeof p=="string"&&ff(p)){const g=A0(p,r.current);g!==void 0&&(i[m]=g),m===i.length-1&&(this.finalKeyframe=p)}}if(!vx.has(o)||i.length!==2)return this.resolveNoneKeyframes();const[c,d]=i,f=tg(c),h=tg(d);if(f!==h)if($p(f)&&$p(h))for(let m=0;m<i.length;m++){const p=i[m];typeof p=="string"&&(i[m]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:i,name:r}=this,o=[];for(let c=0;c<i.length;c++)px(i[c])&&o.push(c);o.length&&Bx(i,o,r)}measureInitialState(){const{element:i,unresolvedKeyframes:r,name:o}=this;if(!i.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ts[o](i.measureViewportBox(),window.getComputedStyle(i.current)),r[0]=this.measuredOrigin;const c=r[r.length-1];c!==void 0&&i.getValue(o,c).jump(c,!1)}measureEndState(){var i;const{element:r,name:o,unresolvedKeyframes:c}=this;if(!r.current)return;const d=r.getValue(o);d&&d.jump(this.measuredOrigin,!1);const f=c.length-1,h=c[f];c[f]=ts[o](r.measureViewportBox(),window.getComputedStyle(r.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((i=this.removedTransforms)===null||i===void 0)&&i.length&&this.removedTransforms.forEach(([m,p])=>{r.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function Ux(s){let i;return()=>(i===void 0&&(i=s()),i)}const ng=(s,i)=>i==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(Mi.test(s)||s==="0")&&!s.startsWith("url("));function Lx(s){const i=s[0];if(s.length===1)return!0;for(let r=0;r<s.length;r++)if(s[r]!==i)return!0}function Vx(s,i,r,o){const c=s[0];if(c===null)return!1;const d=s[s.length-1],f=ng(c,i),h=ng(d,i);return!f||!h?!1:Lx(s)||r==="spring"&&o}class H0{constructor({autoplay:i=!0,delay:r=0,type:o="keyframes",repeat:c=0,repeatDelay:d=0,repeatType:f="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:i,delay:r,type:o,repeat:c,repeatDelay:d,repeatType:f,...h},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Tx(),this._resolved}onKeyframesResolved(i,r){this.hasAttemptedResolve=!0;const{name:o,type:c,velocity:d,delay:f,onComplete:h,onUpdate:m,isGenerator:p}=this.options;if(!p&&!Vx(i,o,c,d))if(f)this.options.duration=0;else{m==null||m($o(i,this.options,r)),h==null||h(),this.resolveFinishedPromise();return}const g=this.initPlayback(i,r);g!==!1&&(this._resolved={keyframes:i,finalKeyframe:r,...g},this.onPostResolved())}onPostResolved(){}then(i,r){return this.currentFinishedPromise.then(i,r)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(i=>{this.resolveFinishedPromise=i})}}function F0(s,i){return i?s*(1e3/i):0}const Hx=5;function P0(s,i,r){const o=Math.max(i-Hx,0);return F0(r-s(o),i-o)}const Su=.001,Fx=.01,Px=10,Ix=.05,qx=1;function Gx({duration:s=800,bounce:i=.25,velocity:r=0,mass:o=1}){let c,d,f=1-i;f=ji(Ix,qx,f),s=ji(Fx,Px,Qn(s)),f<1?(c=p=>{const g=p*f,y=g*s,w=g-r,b=Pu(p,f),A=Math.exp(-y);return Su-w/b*A},d=p=>{const y=p*f*s,w=y*r+r,b=Math.pow(f,2)*Math.pow(p,2)*s,A=Math.exp(-y),S=Pu(Math.pow(p,2),f);return(-c(p)+Su>0?-1:1)*((w-b)*A)/S}):(c=p=>{const g=Math.exp(-p*s),y=(p-r)*s+1;return-Su+g*y},d=p=>{const g=Math.exp(-p*s),y=(r-p)*(s*s);return g*y});const h=5/s,m=Zx(c,d,h);if(s=ki(s),isNaN(m))return{stiffness:100,damping:10,duration:s};{const p=Math.pow(m,2)*o;return{stiffness:p,damping:f*2*Math.sqrt(o*p),duration:s}}}const Yx=12;function Zx(s,i,r){let o=r;for(let c=1;c<Yx;c++)o=o-s(o)/i(o);return o}function Pu(s,i){return s*Math.sqrt(1-i*i)}const Xx=["duration","bounce"],Kx=["stiffness","damping","mass"];function ig(s,i){return i.some(r=>s[r]!==void 0)}function Qx(s){let i={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...s};if(!ig(s,Kx)&&ig(s,Xx)){const r=Gx(s);i={...i,...r,mass:1},i.isResolvedFromDuration=!0}return i}function I0({keyframes:s,restDelta:i,restSpeed:r,...o}){const c=s[0],d=s[s.length-1],f={done:!1,value:c},{stiffness:h,damping:m,mass:p,duration:g,velocity:y,isResolvedFromDuration:w}=Qx({...o,velocity:-Qn(o.velocity||0)}),b=y||0,A=m/(2*Math.sqrt(h*p)),S=d-c,z=Qn(Math.sqrt(h/p)),C=Math.abs(S)<5;r||(r=C?.01:2),i||(i=C?.005:.5);let k;if(A<1){const E=Pu(z,A);k=B=>{const D=Math.exp(-A*z*B);return d-D*((b+A*z*S)/E*Math.sin(E*B)+S*Math.cos(E*B))}}else if(A===1)k=E=>d-Math.exp(-z*E)*(S+(b+z*S)*E);else{const E=z*Math.sqrt(A*A-1);k=B=>{const D=Math.exp(-A*z*B),q=Math.min(E*B,300);return d-D*((b+A*z*S)*Math.sinh(q)+E*S*Math.cosh(q))/E}}return{calculatedDuration:w&&g||null,next:E=>{const B=k(E);if(w)f.done=E>=g;else{let D=b;E!==0&&(A<1?D=P0(k,E,B):D=0);const q=Math.abs(D)<=r,L=Math.abs(d-B)<=i;f.done=q&&L}return f.value=f.done?d:B,f}}}function ag({keyframes:s,velocity:i=0,power:r=.8,timeConstant:o=325,bounceDamping:c=10,bounceStiffness:d=500,modifyTarget:f,min:h,max:m,restDelta:p=.5,restSpeed:g}){const y=s[0],w={done:!1,value:y},b=G=>h!==void 0&&G<h||m!==void 0&&G>m,A=G=>h===void 0?m:m===void 0||Math.abs(h-G)<Math.abs(m-G)?h:m;let S=r*i;const z=y+S,C=f===void 0?z:f(z);C!==z&&(S=C-y);const k=G=>-S*Math.exp(-G/o),E=G=>C+k(G),B=G=>{const Z=k(G),$=E(G);w.done=Math.abs(Z)<=p,w.value=w.done?C:$};let D,q;const L=G=>{b(w.value)&&(D=G,q=I0({keyframes:[w.value,A(w.value)],velocity:P0(E,G,w.value),damping:c,stiffness:d,restDelta:p,restSpeed:g}))};return L(0),{calculatedDuration:null,next:G=>{let Z=!1;return!q&&D===void 0&&(Z=!0,B(G),L(G)),D!==void 0&&G>=D?q.next(G-D):(!Z&&B(G),w)}}}const q0=(s,i,r)=>(((1-3*r+3*i)*s+(3*r-6*i))*s+3*i)*s,$x=1e-7,Wx=12;function Jx(s,i,r,o,c){let d,f,h=0;do f=i+(r-i)/2,d=q0(f,o,c)-s,d>0?r=f:i=f;while(Math.abs(d)>$x&&++h<Wx);return f}function ur(s,i,r,o){if(s===i&&r===o)return Me;const c=d=>Jx(d,0,1,s,r);return d=>d===0||d===1?d:q0(c(d),i,o)}const t2=ur(.42,0,1,1),e2=ur(0,0,.58,1),G0=ur(.42,0,.58,1),n2=s=>Array.isArray(s)&&typeof s[0]!="number",Y0=s=>i=>i<=.5?s(2*i)/2:(2-s(2*(1-i)))/2,Z0=s=>i=>1-s(1-i),Tf=s=>1-Math.sin(Math.acos(s)),X0=Z0(Tf),i2=Y0(Tf),K0=ur(.33,1.53,.69,.99),_f=Z0(K0),a2=Y0(_f),s2=s=>(s*=2)<1?.5*_f(s):.5*(2-Math.pow(2,-10*(s-1))),r2={linear:Me,easeIn:t2,easeInOut:G0,easeOut:e2,circIn:Tf,circInOut:i2,circOut:X0,backIn:_f,backInOut:a2,backOut:K0,anticipate:s2},sg=s=>{if(Array.isArray(s)){E0(s.length===4);const[i,r,o,c]=s;return ur(i,r,o,c)}else if(typeof s=="string")return r2[s];return s},ar=(s,i,r)=>{const o=i-s;return o===0?1:(r-s)/o},se=(s,i,r)=>s+(i-s)*r;function Tu(s,i,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?s+(i-s)*6*r:r<1/2?i:r<2/3?s+(i-s)*(2/3-r)*6:s}function o2({hue:s,saturation:i,lightness:r,alpha:o}){s/=360,i/=100,r/=100;let c=0,d=0,f=0;if(!i)c=d=f=r;else{const h=r<.5?r*(1+i):r+i-r*i,m=2*r-h;c=Tu(m,h,s+1/3),d=Tu(m,h,s),f=Tu(m,h,s-1/3)}return{red:Math.round(c*255),green:Math.round(d*255),blue:Math.round(f*255),alpha:o}}const _u=(s,i,r)=>{const o=s*s,c=r*(i*i-o)+o;return c<0?0:Math.sqrt(c)},l2=[Hu,ia,Ka],c2=s=>l2.find(i=>i.test(s));function rg(s){const i=c2(s);let r=i.parse(s);return i===Ka&&(r=o2(r)),r}const og=(s,i)=>{const r=rg(s),o=rg(i),c={...r};return d=>(c.red=_u(r.red,o.red,d),c.green=_u(r.green,o.green,d),c.blue=_u(r.blue,o.blue,d),c.alpha=se(r.alpha,o.alpha,d),ia.transform(c))};function Iu(s,i){return r=>r>0?i:s}function u2(s,i){return r=>se(s,i,r)}function Cf(s){return typeof s=="number"?u2:typeof s=="string"?ff(s)?Iu:ke.test(s)?og:h2:Array.isArray(s)?Q0:typeof s=="object"?ke.test(s)?og:f2:Iu}function Q0(s,i){const r=[...s],o=r.length,c=s.map((d,f)=>Cf(d)(d,i[f]));return d=>{for(let f=0;f<o;f++)r[f]=c[f](d);return r}}function f2(s,i){const r={...s,...i},o={};for(const c in r)s[c]!==void 0&&i[c]!==void 0&&(o[c]=Cf(s[c])(s[c],i[c]));return c=>{for(const d in o)r[d]=o[d](c);return r}}function d2(s,i){var r;const o=[],c={color:0,var:0,number:0};for(let d=0;d<i.values.length;d++){const f=i.types[d],h=s.indexes[f][c[f]],m=(r=s.values[h])!==null&&r!==void 0?r:0;o[d]=m,c[f]++}return o}const h2=(s,i)=>{const r=Mi.createTransformer(i),o=Uo(s),c=Uo(i);return o.indexes.var.length===c.indexes.var.length&&o.indexes.color.length===c.indexes.color.length&&o.indexes.number.length>=c.indexes.number.length?Kn(Q0(d2(o,c),c.values),r):Iu(s,i)};function $0(s,i,r){return typeof s=="number"&&typeof i=="number"&&typeof r=="number"?se(s,i,r):Cf(s)(s,i)}function m2(s,i,r){const o=[],c=r||$0,d=s.length-1;for(let f=0;f<d;f++){let h=c(s[f],s[f+1]);if(i){const m=Array.isArray(i)?i[f]||Me:i;h=Kn(m,h)}o.push(h)}return o}function p2(s,i,{clamp:r=!0,ease:o,mixer:c}={}){const d=s.length;if(E0(d===i.length),d===1)return()=>i[0];if(d===2&&s[0]===s[1])return()=>i[1];s[0]>s[d-1]&&(s=[...s].reverse(),i=[...i].reverse());const f=m2(i,o,c),h=f.length,m=p=>{let g=0;if(h>1)for(;g<s.length-2&&!(p<s[g+1]);g++);const y=ar(s[g],s[g+1],p);return f[g](y)};return r?p=>m(ji(s[0],s[d-1],p)):m}function g2(s,i){const r=s[s.length-1];for(let o=1;o<=i;o++){const c=ar(0,i,o);s.push(se(r,1,c))}}function y2(s){const i=[0];return g2(i,s.length-1),i}function v2(s,i){return s.map(r=>r*i)}function b2(s,i){return s.map(()=>i||G0).splice(0,s.length-1)}function Lo({duration:s=300,keyframes:i,times:r,ease:o="easeInOut"}){const c=n2(o)?o.map(sg):sg(o),d={done:!1,value:i[0]},f=v2(r&&r.length===i.length?r:y2(i),s),h=p2(f,i,{ease:Array.isArray(c)?c:b2(i,c)});return{calculatedDuration:s,next:m=>(d.value=h(m),d.done=m>=s,d)}}const lg=2e4;function x2(s){let i=0;const r=50;let o=s.next(i);for(;!o.done&&i<lg;)i+=r,o=s.next(i);return i>=lg?1/0:i}const w2=s=>{const i=({timestamp:r})=>s(r);return{start:()=>be.update(i,!0),stop:()=>zi(i),now:()=>Ce.isProcessing?Ce.timestamp:Ai.now()}},S2={decay:ag,inertia:ag,tween:Lo,keyframes:Lo,spring:I0},T2=s=>s/100;class Ef extends H0{constructor({KeyframeResolver:i=xf,...r}){super(r),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:o,motionValue:c,keyframes:d}=this.options,f=(h,m)=>this.onKeyframesResolved(h,m);o&&c&&c.owner?this.resolver=c.owner.resolveKeyframes(d,f,o,c):this.resolver=new i(d,f,o,c),this.resolver.scheduleResolve()}initPlayback(i){const{type:r="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:d,velocity:f=0}=this.options,h=S2[r]||Lo;let m,p;h!==Lo&&typeof i[0]!="number"&&(m=Kn(T2,$0(i[0],i[1])),i=[0,100]);const g=h({...this.options,keyframes:i});d==="mirror"&&(p=h({...this.options,keyframes:[...i].reverse(),velocity:-f})),g.calculatedDuration===null&&(g.calculatedDuration=x2(g));const{calculatedDuration:y}=g,w=y+c,b=w*(o+1)-c;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:m,calculatedDuration:y,resolvedDuration:w,totalDuration:b}}onPostResolved(){const{autoplay:i=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!i?this.pause():this.state=this.pendingPlayState}tick(i,r=!1){const{resolved:o}=this;if(!o){const{keyframes:G}=this.options;return{done:!0,value:G[G.length-1]}}const{finalKeyframe:c,generator:d,mirroredGenerator:f,mapPercentToKeyframes:h,keyframes:m,calculatedDuration:p,totalDuration:g,resolvedDuration:y}=o;if(this.startTime===null)return d.next(0);const{delay:w,repeat:b,repeatType:A,repeatDelay:S,onUpdate:z}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,i):this.speed<0&&(this.startTime=Math.min(i-g/this.speed,this.startTime)),r?this.currentTime=i:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(i-this.startTime)*this.speed;const C=this.currentTime-w*(this.speed>=0?1:-1),k=this.speed>=0?C<0:C>g;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let E=this.currentTime,B=d;if(b){const G=Math.min(this.currentTime,g)/y;let Z=Math.floor(G),$=G%1;!$&&G>=1&&($=1),$===1&&Z--,Z=Math.min(Z,b+1),!!(Z%2)&&(A==="reverse"?($=1-$,S&&($-=S/y)):A==="mirror"&&(B=f)),E=ji(0,1,$)*y}const D=k?{done:!1,value:m[0]}:B.next(E);h&&(D.value=h(D.value));let{done:q}=D;!k&&p!==null&&(q=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&q);return L&&c!==void 0&&(D.value=$o(m,this.options,c)),z&&z(D.value),L&&this.finish(),D}get duration(){const{resolved:i}=this;return i?Qn(i.calculatedDuration):0}get time(){return Qn(this.currentTime)}set time(i){i=ki(i),this.currentTime=i,this.holdTime!==null||this.speed===0?this.holdTime=i:this.driver&&(this.startTime=this.driver.now()-i/this.speed)}get speed(){return this.playbackSpeed}set speed(i){const r=this.playbackSpeed!==i;this.playbackSpeed=i,r&&(this.time=Qn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:i=w2,onPlay:r}=this.options;this.driver||(this.driver=i(c=>this.tick(c))),r&&r();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=o),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var i;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(i=this.currentTime)!==null&&i!==void 0?i:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:i}=this.options;i&&i()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(i){return this.startTime=0,this.tick(i,!0)}}const W0=s=>Array.isArray(s)&&typeof s[0]=="number";function J0(s){return!!(!s||typeof s=="string"&&s in kf||W0(s)||Array.isArray(s)&&s.every(J0))}const $s=([s,i,r,o])=>`cubic-bezier(${s}, ${i}, ${r}, ${o})`,kf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$s([0,.65,.55,1]),circOut:$s([.55,0,1,.45]),backIn:$s([.31,.01,.66,-.59]),backOut:$s([.33,1.53,.69,.99])};function _2(s){return ty(s)||kf.easeOut}function ty(s){if(s)return W0(s)?$s(s):Array.isArray(s)?s.map(_2):kf[s]}function C2(s,i,r,{delay:o=0,duration:c=300,repeat:d=0,repeatType:f="loop",ease:h,times:m}={}){const p={[i]:r};m&&(p.offset=m);const g=ty(h);return Array.isArray(g)&&(p.easing=g),s.animate(p,{delay:o,duration:c,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:d+1,direction:f==="reverse"?"alternate":"normal"})}const E2=Ux(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),k2=new Set(["opacity","clipPath","filter","transform"]),Vo=10,A2=2e4;function j2(s){return s.type==="spring"||s.name==="backgroundColor"||!J0(s.ease)}function z2(s,i){const r=new Ef({...i,keyframes:s,repeat:0,delay:0,isGenerator:!0});let o={done:!1,value:s[0]};const c=[];let d=0;for(;!o.done&&d<A2;)o=r.sample(d),c.push(o.value),d+=Vo;return{times:void 0,keyframes:c,duration:d-Vo,ease:"linear"}}class cg extends H0{constructor(i){super(i);const{name:r,motionValue:o,keyframes:c}=this.options;this.resolver=new V0(c,(d,f)=>this.onKeyframesResolved(d,f),r,o),this.resolver.scheduleResolve()}initPlayback(i,r){var o;let{duration:c=300,times:d,ease:f,type:h,motionValue:m,name:p}=this.options;if(!(!((o=m.owner)===null||o===void 0)&&o.current))return!1;if(j2(this.options)){const{onComplete:y,onUpdate:w,motionValue:b,...A}=this.options,S=z2(i,A);i=S.keyframes,i.length===1&&(i[1]=i[0]),c=S.duration,d=S.times,f=S.ease,h="keyframes"}const g=C2(m.owner.current,p,i,{...this.options,duration:c,times:d,ease:f});return g.startTime=Ai.now(),this.pendingTimeline?(g.timeline=this.pendingTimeline,this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:y}=this.options;m.set($o(i,this.options,r)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:c,times:d,type:h,ease:f,keyframes:i}}get duration(){const{resolved:i}=this;if(!i)return 0;const{duration:r}=i;return Qn(r)}get time(){const{resolved:i}=this;if(!i)return 0;const{animation:r}=i;return Qn(r.currentTime||0)}set time(i){const{resolved:r}=this;if(!r)return;const{animation:o}=r;o.currentTime=ki(i)}get speed(){const{resolved:i}=this;if(!i)return 1;const{animation:r}=i;return r.playbackRate}set speed(i){const{resolved:r}=this;if(!r)return;const{animation:o}=r;o.playbackRate=i}get state(){const{resolved:i}=this;if(!i)return"idle";const{animation:r}=i;return r.playState}attachTimeline(i){if(!this._resolved)this.pendingTimeline=i;else{const{resolved:r}=this;if(!r)return Me;const{animation:o}=r;o.timeline=i,o.onfinish=null}return Me}play(){if(this.isStopped)return;const{resolved:i}=this;if(!i)return;const{animation:r}=i;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:i}=this;if(!i)return;const{animation:r}=i;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:i}=this;if(!i)return;const{animation:r,keyframes:o,duration:c,type:d,ease:f,times:h}=i;if(!(r.playState==="idle"||r.playState==="finished")){if(this.time){const{motionValue:m,onUpdate:p,onComplete:g,...y}=this.options,w=new Ef({...y,keyframes:o,duration:c,type:d,ease:f,times:h,isGenerator:!0}),b=ki(this.time);m.setWithVelocity(w.sample(b-Vo).value,w.sample(b).value,Vo)}this.cancel()}}complete(){const{resolved:i}=this;i&&i.animation.finish()}cancel(){const{resolved:i}=this;i&&i.animation.cancel()}static supports(i){const{motionValue:r,name:o,repeatDelay:c,repeatType:d,damping:f,type:h}=i;return E2()&&o&&k2.has(o)&&r&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate&&!c&&d!=="mirror"&&f!==0&&h!=="inertia"}}const Af=(s,i,r,o={},c,d)=>f=>{const h=bf(o,s)||{},m=h.delay||o.delay||0;let{elapsed:p=0}=o;p=p-ki(m);let g={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:i.getVelocity(),...h,delay:-p,onUpdate:w=>{i.set(w),h.onUpdate&&h.onUpdate(w)},onComplete:()=>{f(),h.onComplete&&h.onComplete()},name:s,motionValue:i,element:d?void 0:c};dx(h)||(g={...g,...fx(s,g)}),g.duration&&(g.duration=ki(g.duration)),g.repeatDelay&&(g.repeatDelay=ki(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),y&&!d&&i.get()!==void 0){const w=$o(g.keyframes,h);if(w!==void 0){be.update(()=>{g.onUpdate(w),g.onComplete()});return}}return!d&&cg.supports(g)?new cg(g):new Ef(g)};function Ho(s){return!!(ze(s)&&s.add)}function jf(s,i){s.indexOf(i)===-1&&s.push(i)}function zf(s,i){const r=s.indexOf(i);r>-1&&s.splice(r,1)}class Mf{constructor(){this.subscriptions=[]}add(i){return jf(this.subscriptions,i),()=>zf(this.subscriptions,i)}notify(i,r,o){const c=this.subscriptions.length;if(c)if(c===1)this.subscriptions[0](i,r,o);else for(let d=0;d<c;d++){const f=this.subscriptions[d];f&&f(i,r,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ug=30,M2=s=>!isNaN(parseFloat(s));class N2{constructor(i,r={}){this.version="11.1.7",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(o,c=!0)=>{const d=Ai.now();this.updatedAt!==d&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),c&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(i),this.canTrackVelocity=M2(this.current),this.owner=r.owner}setCurrent(i){this.current=i,this.updatedAt=Ai.now()}setPrevFrameValue(i=this.current){this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt}onChange(i){return this.on("change",i)}on(i,r){this.events[i]||(this.events[i]=new Mf);const o=this.events[i].add(r);return i==="change"?()=>{o(),be.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const i in this.events)this.events[i].clear()}attach(i,r){this.passiveEffect=i,this.stopPassiveEffect=r}set(i,r=!0){!r||!this.passiveEffect?this.updateAndNotify(i,r):this.passiveEffect(i,this.updateAndNotify)}setWithVelocity(i,r,o){this.set(r),this.prev=void 0,this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt-o}jump(i,r=!0){this.updateAndNotify(i),this.prev=i,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const i=Ai.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||i-this.updatedAt>ug)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,ug);return F0(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(i){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=i(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sr(s,i){return new N2(s,i)}function R2(s,i,r){s.hasValue(i)?s.getValue(i).set(r):s.addValue(i,sr(r))}function D2(s,i){const r=Qo(s,i);let{transitionEnd:o={},transition:c={},...d}=r||{};d={...d,...o};for(const f in d){const h=Hb(d[f]);R2(s,f,h)}}function O2({protectedKeys:s,needsAnimating:i},r){const o=s.hasOwnProperty(r)&&i[r]!==!0;return i[r]=!1,o}function ey(s,i,{delay:r=0,transitionOverride:o,type:c}={}){var d;let{transition:f=s.getDefaultTransition(),transitionEnd:h,...m}=i;const p=s.getValue("willChange");o&&(f=o);const g=[],y=c&&s.animationState&&s.animationState.getState()[c];for(const w in m){const b=s.getValue(w,(d=s.latestValues[w])!==null&&d!==void 0?d:null),A=m[w];if(A===void 0||y&&O2(y,w))continue;const S={delay:r,elapsed:0,...bf(f||{},w)};let z=!1;if(window.HandoffAppearAnimations){const E=s.getProps()[n0];if(E){const B=window.HandoffAppearAnimations(E,w);B!==null&&(S.elapsed=B,z=!0)}}b.start(Af(w,b,A,s.shouldReduceMotion&&oa.has(w)?{type:!1}:S,s,z));const C=b.animation;C&&(Ho(p)&&(p.add(w),C.then(()=>p.remove(w))),g.push(C))}return h&&Promise.all(g).then(()=>{be.update(()=>{h&&D2(s,h)})}),g}function qu(s,i,r={}){var o;const c=Qo(s,i,r.type==="exit"?(o=s.presenceContext)===null||o===void 0?void 0:o.custom:void 0);let{transition:d=s.getDefaultTransition()||{}}=c||{};r.transitionOverride&&(d=r.transitionOverride);const f=c?()=>Promise.all(ey(s,c,r)):()=>Promise.resolve(),h=s.variantChildren&&s.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:w}=d;return B2(s,i,g+p,y,w,r)}:()=>Promise.resolve(),{when:m}=d;if(m){const[p,g]=m==="beforeChildren"?[f,h]:[h,f];return p().then(()=>g())}else return Promise.all([f(),h(r.delay)])}function B2(s,i,r=0,o=0,c=1,d){const f=[],h=(s.variantChildren.size-1)*o,m=c===1?(p=0)=>p*o:(p=0)=>h-p*o;return Array.from(s.variantChildren).sort(U2).forEach((p,g)=>{p.notify("AnimationStart",i),f.push(qu(p,i,{...d,delay:r+m(g)}).then(()=>p.notify("AnimationComplete",i)))}),Promise.all(f)}function U2(s,i){return s.sortNodePosition(i)}function L2(s,i,r={}){s.notify("AnimationStart",i);let o;if(Array.isArray(i)){const c=i.map(d=>qu(s,d,r));o=Promise.all(c)}else if(typeof i=="string")o=qu(s,i,r);else{const c=typeof i=="function"?Qo(s,i,r.custom):i;o=Promise.all(ey(s,c,r))}return o.then(()=>{be.postRender(()=>{s.notify("AnimationComplete",i)})})}const V2=[...of].reverse(),H2=of.length;function F2(s){return i=>Promise.all(i.map(({animation:r,options:o})=>L2(s,r,o)))}function P2(s){let i=F2(s);const r=q2();let o=!0;const c=m=>(p,g)=>{var y;const w=Qo(s,g,m==="exit"?(y=s.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(w){const{transition:b,transitionEnd:A,...S}=w;p={...p,...S,...A}}return p};function d(m){i=m(s)}function f(m){const p=s.getProps(),g=s.getVariantContext(!0)||{},y=[],w=new Set;let b={},A=1/0;for(let z=0;z<H2;z++){const C=V2[z],k=r[C],E=p[C]!==void 0?p[C]:g[C],B=nr(E),D=C===m?k.isActive:null;D===!1&&(A=z);let q=E===g[C]&&E!==p[C]&&B;if(q&&o&&s.manuallyAnimateOnMount&&(q=!1),k.protectedKeys={...b},!k.isActive&&D===null||!E&&!k.prevProp||Zo(E)||typeof E=="boolean")continue;let G=I2(k.prevProp,E)||C===m&&k.isActive&&!q&&B||z>A&&B,Z=!1;const $=Array.isArray(E)?E:[E];let mt=$.reduce(c(C),{});D===!1&&(mt={});const{prevResolvedValues:U={}}=k,st={...U,...mt},_=tt=>{G=!0,w.has(tt)&&(Z=!0,w.delete(tt)),k.needsAnimating[tt]=!0;const X=s.getValue(tt);X&&(X.liveStyle=!1)};for(const tt in st){const X=mt[tt],V=U[tt];if(b.hasOwnProperty(tt))continue;let ot=!1;Bu(X)&&Bu(V)?ot=!_0(X,V):ot=X!==V,ot?X!=null?_(tt):w.add(tt):X!==void 0&&w.has(tt)?_(tt):k.protectedKeys[tt]=!0}k.prevProp=E,k.prevResolvedValues=mt,k.isActive&&(b={...b,...mt}),o&&s.blockInitialAnimation&&(G=!1),G&&(!q||Z)&&y.push(...$.map(tt=>({animation:tt,options:{type:C}})))}if(w.size){const z={};w.forEach(C=>{const k=s.getBaseTarget(C),E=s.getValue(C);E&&(E.liveStyle=!0),z[C]=k??null}),y.push({animation:z})}let S=!!y.length;return o&&(p.initial===!1||p.initial===p.animate)&&!s.manuallyAnimateOnMount&&(S=!1),o=!1,S?i(y):Promise.resolve()}function h(m,p){var g;if(r[m].isActive===p)return Promise.resolve();(g=s.variantChildren)===null||g===void 0||g.forEach(w=>{var b;return(b=w.animationState)===null||b===void 0?void 0:b.setActive(m,p)}),r[m].isActive=p;const y=f(m);for(const w in r)r[w].protectedKeys={};return y}return{animateChanges:f,setActive:h,setAnimateFunction:d,getState:()=>r}}function I2(s,i){return typeof i=="string"?i!==s:Array.isArray(i)?!_0(i,s):!1}function Wi(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function q2(){return{animate:Wi(!0),whileInView:Wi(),whileHover:Wi(),whileTap:Wi(),whileDrag:Wi(),whileFocus:Wi(),exit:Wi()}}class G2 extends Ni{constructor(i){super(i),i.animationState||(i.animationState=P2(i))}updateAnimationControlsSubscription(){const{animate:i}=this.node.getProps();this.unmount(),Zo(i)&&(this.unmount=i.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:i}=this.node.getProps(),{animate:r}=this.node.prevProps||{};i!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let Y2=0;class Z2 extends Ni{constructor(){super(...arguments),this.id=Y2++}update(){if(!this.node.presenceContext)return;const{isPresent:i,onExitComplete:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||i===o)return;const c=this.node.animationState.setActive("exit",!i);r&&!i&&c.then(()=>r(this.id))}mount(){const{register:i}=this.node.presenceContext||{};i&&(this.unmount=i(this.id))}unmount(){}}const X2={animation:{Feature:G2},exit:{Feature:Z2}},fg=(s,i)=>Math.abs(s-i);function K2(s,i){const r=fg(s.x,i.x),o=fg(s.y,i.y);return Math.sqrt(r**2+o**2)}class ny{constructor(i,r,{transformPagePoint:o,contextWindow:c,dragSnapToOrigin:d=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Eu(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,b=K2(y.offset,{x:0,y:0})>=3;if(!w&&!b)return;const{point:A}=y,{timestamp:S}=Ce;this.history.push({...A,timestamp:S});const{onStart:z,onMove:C}=this.handlers;w||(z&&z(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,y)},this.handlePointerMove=(y,w)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Cu(w,this.transformPagePoint),be.update(this.updatePoint,!0)},this.handlePointerUp=(y,w)=>{this.end();const{onEnd:b,onSessionEnd:A,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const z=Eu(y.type==="pointercancel"?this.lastMoveEventInfo:Cu(w,this.transformPagePoint),this.history);this.startEvent&&b&&b(y,z),A&&A(y,z)},!b0(i))return;this.dragSnapToOrigin=d,this.handlers=r,this.transformPagePoint=o,this.contextWindow=c||window;const f=Ko(i),h=Cu(f,this.transformPagePoint),{point:m}=h,{timestamp:p}=Ce;this.history=[{...m,timestamp:p}];const{onSessionStart:g}=r;g&&g(i,Eu(h,this.history)),this.removeListeners=Kn(Xn(this.contextWindow,"pointermove",this.handlePointerMove),Xn(this.contextWindow,"pointerup",this.handlePointerUp),Xn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(i){this.handlers=i}end(){this.removeListeners&&this.removeListeners(),zi(this.updatePoint)}}function Cu(s,i){return i?{point:i(s.point)}:s}function dg(s,i){return{x:s.x-i.x,y:s.y-i.y}}function Eu({point:s},i){return{point:s,delta:dg(s,iy(i)),offset:dg(s,Q2(i)),velocity:$2(i,.1)}}function Q2(s){return s[0]}function iy(s){return s[s.length-1]}function $2(s,i){if(s.length<2)return{x:0,y:0};let r=s.length-1,o=null;const c=iy(s);for(;r>=0&&(o=s[r],!(c.timestamp-o.timestamp>ki(i)));)r--;if(!o)return{x:0,y:0};const d=Qn(c.timestamp-o.timestamp);if(d===0)return{x:0,y:0};const f={x:(c.x-o.x)/d,y:(c.y-o.y)/d};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function $e(s){return s.max-s.min}function Gu(s,i=0,r=.01){return Math.abs(s-i)<=r}function hg(s,i,r,o=.5){s.origin=o,s.originPoint=se(i.min,i.max,s.origin),s.scale=$e(r)/$e(i),(Gu(s.scale,1,1e-4)||isNaN(s.scale))&&(s.scale=1),s.translate=se(r.min,r.max,s.origin)-s.originPoint,(Gu(s.translate)||isNaN(s.translate))&&(s.translate=0)}function tr(s,i,r,o){hg(s.x,i.x,r.x,o?o.originX:void 0),hg(s.y,i.y,r.y,o?o.originY:void 0)}function mg(s,i,r){s.min=r.min+i.min,s.max=s.min+$e(i)}function W2(s,i,r){mg(s.x,i.x,r.x),mg(s.y,i.y,r.y)}function pg(s,i,r){s.min=i.min-r.min,s.max=s.min+$e(i)}function er(s,i,r){pg(s.x,i.x,r.x),pg(s.y,i.y,r.y)}function J2(s,{min:i,max:r},o){return i!==void 0&&s<i?s=o?se(i,s,o.min):Math.max(s,i):r!==void 0&&s>r&&(s=o?se(r,s,o.max):Math.min(s,r)),s}function gg(s,i,r){return{min:i!==void 0?s.min+i:void 0,max:r!==void 0?s.max+r-(s.max-s.min):void 0}}function tw(s,{top:i,left:r,bottom:o,right:c}){return{x:gg(s.x,r,c),y:gg(s.y,i,o)}}function yg(s,i){let r=i.min-s.min,o=i.max-s.max;return i.max-i.min<s.max-s.min&&([r,o]=[o,r]),{min:r,max:o}}function ew(s,i){return{x:yg(s.x,i.x),y:yg(s.y,i.y)}}function nw(s,i){let r=.5;const o=$e(s),c=$e(i);return c>o?r=ar(i.min,i.max-o,s.min):o>c&&(r=ar(s.min,s.max-c,i.min)),ji(0,1,r)}function iw(s,i){const r={};return i.min!==void 0&&(r.min=i.min-s.min),i.max!==void 0&&(r.max=i.max-s.min),r}const Yu=.35;function aw(s=Yu){return s===!1?s=0:s===!0&&(s=Yu),{x:vg(s,"left","right"),y:vg(s,"top","bottom")}}function vg(s,i,r){return{min:bg(s,i),max:bg(s,r)}}function bg(s,i){return typeof s=="number"?s:s[i]||0}const xg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qa=()=>({x:xg(),y:xg()}),wg=()=>({min:0,max:0}),ue=()=>({x:wg(),y:wg()});function hn(s){return[s("x"),s("y")]}function ay({top:s,left:i,right:r,bottom:o}){return{x:{min:i,max:r},y:{min:s,max:o}}}function sw({x:s,y:i}){return{top:i.min,right:s.max,bottom:i.max,left:s.min}}function rw(s,i){if(!i)return s;const r=i({x:s.left,y:s.top}),o=i({x:s.right,y:s.bottom});return{top:r.y,left:r.x,bottom:o.y,right:o.x}}function ku(s){return s===void 0||s===1}function Zu({scale:s,scaleX:i,scaleY:r}){return!ku(s)||!ku(i)||!ku(r)}function Ji(s){return Zu(s)||sy(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function sy(s){return Sg(s.x)||Sg(s.y)}function Sg(s){return s&&s!=="0%"}function Fo(s,i,r){const o=s-r,c=i*o;return r+c}function Tg(s,i,r,o,c){return c!==void 0&&(s=Fo(s,c,o)),Fo(s,r,o)+i}function Xu(s,i=0,r=1,o,c){s.min=Tg(s.min,i,r,o,c),s.max=Tg(s.max,i,r,o,c)}function ry(s,{x:i,y:r}){Xu(s.x,i.translate,i.scale,i.originPoint),Xu(s.y,r.translate,r.scale,r.originPoint)}function ow(s,i,r,o=!1){const c=r.length;if(!c)return;i.x=i.y=1;let d,f;for(let h=0;h<c;h++){d=r[h],f=d.projectionDelta;const m=d.instance;m&&m.style&&m.style.display==="contents"||(o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&$a(s,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),f&&(i.x*=f.x.scale,i.y*=f.y.scale,ry(s,f)),o&&Ji(d.latestValues)&&$a(s,d.latestValues))}i.x=_g(i.x),i.y=_g(i.y)}function _g(s){return Number.isInteger(s)||s>1.0000000000001||s<.999999999999?s:1}function Ci(s,i){s.min=s.min+i,s.max=s.max+i}function Cg(s,i,[r,o,c]){const d=i[c]!==void 0?i[c]:.5,f=se(s.min,s.max,d);Xu(s,i[r],i[o],f,i.scale)}const lw=["x","scaleX","originX"],cw=["y","scaleY","originY"];function $a(s,i){Cg(s.x,i,lw),Cg(s.y,i,cw)}function oy(s,i){return ay(rw(s.getBoundingClientRect(),i))}function uw(s,i,r){const o=oy(s,r),{scroll:c}=i;return c&&(Ci(o.x,c.offset.x),Ci(o.y,c.offset.y)),o}const ly=({current:s})=>s?s.ownerDocument.defaultView:null,fw=new WeakMap;class dw{constructor(i){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ue(),this.visualElement=i}start(i,{snapToCursor:r=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ko(g,"page").point)},d=(g,y)=>{const{drag:w,dragPropagation:b,onDragStart:A}=this.getProps();if(w&&!b&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=w0(w),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hn(z=>{let C=this.getAxisMotionValue(z).get()||0;if(En.test(C)){const{projection:k}=this.visualElement;if(k&&k.layout){const E=k.layout.layoutBox[z];E&&(C=$e(E)*(parseFloat(C)/100))}}this.originPoint[z]=C}),A&&A(g,y);const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},f=(g,y)=>{const{dragPropagation:w,dragDirectionLock:b,onDirectionLock:A,onDrag:S}=this.getProps();if(!w&&!this.openGlobalLock)return;const{offset:z}=y;if(b&&this.currentDirection===null){this.currentDirection=hw(z),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",y.point,z),this.updateAxis("y",y.point,z),this.visualElement.render(),S&&S(g,y)},h=(g,y)=>this.stop(g,y),m=()=>hn(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new ny(i,{onSessionStart:c,onStart:d,onMove:f,onSessionEnd:h,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:ly(this.visualElement)})}stop(i,r){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:c}=r;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&d(i,r)}cancel(){this.isDragging=!1;const{projection:i,animationState:r}=this.visualElement;i&&(i.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(i,r,o){const{drag:c}=this.getProps();if(!o||!zo(i,c,this.currentDirection))return;const d=this.getAxisMotionValue(i);let f=this.originPoint[i]+o[i];this.constraints&&this.constraints[i]&&(f=J2(f,this.constraints[i],this.elastic[i])),d.set(f)}resolveConstraints(){var i;const{dragConstraints:r,dragElastic:o}=this.getProps(),c=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)===null||i===void 0?void 0:i.layout,d=this.constraints;r&&Xa(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&c?this.constraints=tw(c.layoutBox,r):this.constraints=!1,this.elastic=aw(o),d!==this.constraints&&c&&this.constraints&&!this.hasMutatedConstraints&&hn(f=>{this.constraints!==!1&&this.getAxisMotionValue(f)&&(this.constraints[f]=iw(c.layoutBox[f],this.constraints[f]))})}resolveRefConstraints(){const{dragConstraints:i,onMeasureDragConstraints:r}=this.getProps();if(!i||!Xa(i))return!1;const o=i.current,{projection:c}=this.visualElement;if(!c||!c.layout)return!1;const d=uw(o,c.root,this.visualElement.getTransformPagePoint());let f=ew(c.layout.layoutBox,d);if(r){const h=r(sw(f));this.hasMutatedConstraints=!!h,h&&(f=ay(h))}return f}startAnimation(i){const{drag:r,dragMomentum:o,dragElastic:c,dragTransition:d,dragSnapToOrigin:f,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},p=hn(g=>{if(!zo(g,r,this.currentDirection))return;let y=m&&m[g]||{};f&&(y={min:0,max:0});const w=c?200:1e6,b=c?40:1e7,A={type:"inertia",velocity:o?i[g]:0,bounceStiffness:w,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...d,...y};return this.startAxisValueAnimation(g,A)});return Promise.all(p).then(h)}startAxisValueAnimation(i,r){const o=this.getAxisMotionValue(i);return o.start(Af(i,o,0,r,this.visualElement))}stopAnimation(){hn(i=>this.getAxisMotionValue(i).stop())}pauseAnimation(){hn(i=>{var r;return(r=this.getAxisMotionValue(i).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(i){var r;return(r=this.getAxisMotionValue(i).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(i){const r=`_drag${i.toUpperCase()}`,o=this.visualElement.getProps(),c=o[r];return c||this.visualElement.getValue(i,(o.initial?o.initial[i]:void 0)||0)}snapToCursor(i){hn(r=>{const{drag:o}=this.getProps();if(!zo(r,o,this.currentDirection))return;const{projection:c}=this.visualElement,d=this.getAxisMotionValue(r);if(c&&c.layout){const{min:f,max:h}=c.layout.layoutBox[r];d.set(i[r]-se(f,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:i,dragConstraints:r}=this.getProps(),{projection:o}=this.visualElement;if(!Xa(r)||!o||!this.constraints)return;this.stopAnimation();const c={x:0,y:0};hn(f=>{const h=this.getAxisMotionValue(f);if(h&&this.constraints!==!1){const m=h.get();c[f]=nw({min:m,max:m},this.constraints[f])}});const{transformTemplate:d}=this.visualElement.getProps();this.visualElement.current.style.transform=d?d({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),hn(f=>{if(!zo(f,i,null))return;const h=this.getAxisMotionValue(f),{min:m,max:p}=this.constraints[f];h.set(se(m,p,c[f]))})}addListeners(){if(!this.visualElement.current)return;fw.set(this.visualElement,this);const i=this.visualElement.current,r=Xn(i,"pointerdown",m=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(m)}),o=()=>{const{dragConstraints:m}=this.getProps();Xa(m)&&(this.constraints=this.resolveRefConstraints())},{projection:c}=this.visualElement,d=c.addEventListener("measure",o);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),o();const f=Gn(window,"resize",()=>this.scalePositionWithinConstraints()),h=c.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(hn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=m[g].translate,y.set(y.get()+m[g].translate))}),this.visualElement.render())}));return()=>{f(),r(),d(),h&&h()}}getProps(){const i=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:o=!1,dragPropagation:c=!1,dragConstraints:d=!1,dragElastic:f=Yu,dragMomentum:h=!0}=i;return{...i,drag:r,dragDirectionLock:o,dragPropagation:c,dragConstraints:d,dragElastic:f,dragMomentum:h}}}function zo(s,i,r){return(i===!0||i===s)&&(r===null||r===s)}function hw(s,i=10){let r=null;return Math.abs(s.y)>i?r="y":Math.abs(s.x)>i&&(r="x"),r}class mw extends Ni{constructor(i){super(i),this.removeGroupControls=Me,this.removeListeners=Me,this.controls=new dw(i)}mount(){const{dragControls:i}=this.node.getProps();i&&(this.removeGroupControls=i.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Me}unmount(){this.removeGroupControls(),this.removeListeners()}}const Eg=s=>(i,r)=>{s&&s(i,r)};class pw extends Ni{constructor(){super(...arguments),this.removePointerDownListener=Me}onPointerDown(i){this.session=new ny(i,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ly(this.node)})}createPanHandlers(){const{onPanSessionStart:i,onPanStart:r,onPan:o,onPanEnd:c}=this.node.getProps();return{onSessionStart:Eg(i),onStart:Eg(r),onMove:o,onEnd:(d,f)=>{delete this.session,c&&c(d,f)}}}mount(){this.removePointerDownListener=Xn(this.node.current,"pointerdown",i=>this.onPointerDown(i))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function gw(){const s=P.useContext(Yo);if(s===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=s,c=P.useId();return P.useEffect(()=>o(c),[]),!i&&r?[!1,()=>r&&r(c)]:[!0]}const Do={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function kg(s,i){return i.max===i.min?0:s/(i.max-i.min)*100}const Ks={correct:(s,i)=>{if(!i.target)return s;if(typeof s=="string")if(Mt.test(s))s=parseFloat(s);else return s;const r=kg(s,i.target.x),o=kg(s,i.target.y);return`${r}% ${o}%`}},yw={correct:(s,{treeScale:i,projectionDelta:r})=>{const o=s,c=Mi.parse(s);if(c.length>5)return o;const d=Mi.createTransformer(s),f=typeof c[0]!="number"?1:0,h=r.x.scale*i.x,m=r.y.scale*i.y;c[0+f]/=h,c[1+f]/=m;const p=se(h,m,.5);return typeof c[2+f]=="number"&&(c[2+f]/=p),typeof c[3+f]=="number"&&(c[3+f]/=p),d(c)}};class vw extends P.Component{componentDidMount(){const{visualElement:i,layoutGroup:r,switchLayoutGroup:o,layoutId:c}=this.props,{projection:d}=i;gb(bw),d&&(r.group&&r.group.add(d),o&&o.register&&c&&o.register(d),d.root.didUpdate(),d.addEventListener("animationComplete",()=>{this.safeToRemove()}),d.setOptions({...d.options,onExitComplete:()=>this.safeToRemove()})),Do.hasEverUpdated=!0}getSnapshotBeforeUpdate(i){const{layoutDependency:r,visualElement:o,drag:c,isPresent:d}=this.props,f=o.projection;return f&&(f.isPresent=d,c||i.layoutDependency!==r||r===void 0?f.willUpdate():this.safeToRemove(),i.isPresent!==d&&(d?f.promote():f.relegate()||be.postRender(()=>{const h=f.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:i}=this.props.visualElement;i&&(i.root.didUpdate(),rf.postRender(()=>{!i.currentAnimation&&i.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:i,layoutGroup:r,switchLayoutGroup:o}=this.props,{projection:c}=i;c&&(c.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(c),o&&o.deregister&&o.deregister(c))}safeToRemove(){const{safeToRemove:i}=this.props;i&&i()}render(){return null}}function cy(s){const[i,r]=gw(),o=P.useContext(cf);return T.jsx(vw,{...s,layoutGroup:o,switchLayoutGroup:P.useContext(s0),isPresent:i,safeToRemove:r})}const bw={borderRadius:{...Ks,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ks,borderTopRightRadius:Ks,borderBottomLeftRadius:Ks,borderBottomRightRadius:Ks,boxShadow:yw},uy=["TopLeft","TopRight","BottomLeft","BottomRight"],xw=uy.length,Ag=s=>typeof s=="string"?parseFloat(s):s,jg=s=>typeof s=="number"||Mt.test(s);function ww(s,i,r,o,c,d){c?(s.opacity=se(0,r.opacity!==void 0?r.opacity:1,Sw(o)),s.opacityExit=se(i.opacity!==void 0?i.opacity:1,0,Tw(o))):d&&(s.opacity=se(i.opacity!==void 0?i.opacity:1,r.opacity!==void 0?r.opacity:1,o));for(let f=0;f<xw;f++){const h=`border${uy[f]}Radius`;let m=zg(i,h),p=zg(r,h);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||jg(m)===jg(p)?(s[h]=Math.max(se(Ag(m),Ag(p),o),0),(En.test(p)||En.test(m))&&(s[h]+="%")):s[h]=p}(i.rotate||r.rotate)&&(s.rotate=se(i.rotate||0,r.rotate||0,o))}function zg(s,i){return s[i]!==void 0?s[i]:s.borderRadius}const Sw=fy(0,.5,X0),Tw=fy(.5,.95,Me);function fy(s,i,r){return o=>o<s?0:o>i?1:r(ar(s,i,o))}function Mg(s,i){s.min=i.min,s.max=i.max}function dn(s,i){Mg(s.x,i.x),Mg(s.y,i.y)}function Ng(s,i,r,o,c){return s-=i,s=Fo(s,1/r,o),c!==void 0&&(s=Fo(s,1/c,o)),s}function _w(s,i=0,r=1,o=.5,c,d=s,f=s){if(En.test(i)&&(i=parseFloat(i),i=se(f.min,f.max,i/100)-f.min),typeof i!="number")return;let h=se(d.min,d.max,o);s===d&&(h-=i),s.min=Ng(s.min,i,r,h,c),s.max=Ng(s.max,i,r,h,c)}function Rg(s,i,[r,o,c],d,f){_w(s,i[r],i[o],i[c],i.scale,d,f)}const Cw=["x","scaleX","originX"],Ew=["y","scaleY","originY"];function Dg(s,i,r,o){Rg(s.x,i,Cw,r?r.x:void 0,o?o.x:void 0),Rg(s.y,i,Ew,r?r.y:void 0,o?o.y:void 0)}function Og(s){return s.translate===0&&s.scale===1}function dy(s){return Og(s.x)&&Og(s.y)}function kw(s,i){return s.x.min===i.x.min&&s.x.max===i.x.max&&s.y.min===i.y.min&&s.y.max===i.y.max}function hy(s,i){return Math.round(s.x.min)===Math.round(i.x.min)&&Math.round(s.x.max)===Math.round(i.x.max)&&Math.round(s.y.min)===Math.round(i.y.min)&&Math.round(s.y.max)===Math.round(i.y.max)}function Bg(s){return $e(s.x)/$e(s.y)}class Aw{constructor(){this.members=[]}add(i){jf(this.members,i),i.scheduleRender()}remove(i){if(zf(this.members,i),i===this.prevLead&&(this.prevLead=void 0),i===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(i){const r=this.members.findIndex(c=>i===c);if(r===0)return!1;let o;for(let c=r;c>=0;c--){const d=this.members[c];if(d.isPresent!==!1){o=d;break}}return o?(this.promote(o),!0):!1}promote(i,r){const o=this.lead;if(i!==o&&(this.prevLead=o,this.lead=i,i.show(),o)){o.instance&&o.scheduleRender(),i.scheduleRender(),i.resumeFrom=o,r&&(i.resumeFrom.preserveOpacity=!0),o.snapshot&&(i.snapshot=o.snapshot,i.snapshot.latestValues=o.animationValues||o.latestValues),i.root&&i.root.isUpdating&&(i.isLayoutDirty=!0);const{crossfade:c}=i.options;c===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(i=>{const{options:r,resumingFrom:o}=i;r.onExitComplete&&r.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(i=>{i.instance&&i.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ug(s,i,r){let o="";const c=s.x.translate/i.x,d=s.y.translate/i.y,f=(r==null?void 0:r.z)||0;if((c||d||f)&&(o=`translate3d(${c}px, ${d}px, ${f}px) `),(i.x!==1||i.y!==1)&&(o+=`scale(${1/i.x}, ${1/i.y}) `),r){const{transformPerspective:p,rotate:g,rotateX:y,rotateY:w,skewX:b,skewY:A}=r;p&&(o=`perspective(${p}px) ${o}`),g&&(o+=`rotate(${g}deg) `),y&&(o+=`rotateX(${y}deg) `),w&&(o+=`rotateY(${w}deg) `),b&&(o+=`skewX(${b}deg) `),A&&(o+=`skewY(${A}deg) `)}const h=s.x.scale*i.x,m=s.y.scale*i.y;return(h!==1||m!==1)&&(o+=`scale(${h}, ${m})`),o||"none"}const jw=(s,i)=>s.depth-i.depth;class zw{constructor(){this.children=[],this.isDirty=!1}add(i){jf(this.children,i),this.isDirty=!0}remove(i){zf(this.children,i),this.isDirty=!0}forEach(i){this.isDirty&&this.children.sort(jw),this.isDirty=!1,this.children.forEach(i)}}function Mw(s,i){const r=Ai.now(),o=({timestamp:c})=>{const d=c-r;d>=i&&(zi(o),s(d-i))};return be.read(o,!0),()=>zi(o)}function Nw(s){window.MotionDebug&&window.MotionDebug.record(s)}function Rw(s){return s instanceof SVGElement&&s.tagName!=="svg"}function Dw(s,i,r){const o=ze(s)?s:sr(s);return o.start(Af("",o,i,r)),o.animation}const Au=["","X","Y","Z"],Ow={visibility:"hidden"},Lg=1e3;let Bw=0;const ta={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function ju(s,i,r,o){const{latestValues:c}=i;c[s]&&(r[s]=c[s],i.setStaticValue(s,0),o&&(o[s]=0))}function my({attachResizeListener:s,defaultParent:i,measureScroll:r,checkIsScrollRoot:o,resetTransform:c}){return class{constructor(f={},h=i==null?void 0:i()){this.id=Bw++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ta.totalNodes=ta.resolvedTargetDeltas=ta.recalculatedProjection=0,this.nodes.forEach(Vw),this.nodes.forEach(qw),this.nodes.forEach(Gw),this.nodes.forEach(Hw),Nw(ta)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new zw)}addEventListener(f,h){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new Mf),this.eventHandlers.get(f).add(h)}notifyListeners(f,...h){const m=this.eventHandlers.get(f);m&&m.notify(...h)}hasListeners(f){return this.eventHandlers.has(f)}mount(f,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Rw(f),this.instance=f;const{layoutId:m,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||m)&&(this.isLayoutDirty=!0),s){let y;const w=()=>this.root.updateBlockedByResize=!1;s(f,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=Mw(w,250),Do.hasAnimatedSinceResize&&(Do.hasAnimatedSinceResize=!1,this.nodes.forEach(Hg))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:w,hasRelativeTargetChanged:b,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||g.getDefaultTransition()||Qw,{onLayoutAnimationStart:z,onLayoutAnimationComplete:C}=g.getProps(),k=!this.targetLayout||!hy(this.targetLayout,A)||b,E=!w&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||w&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,E);const B={...bf(S,"layout"),onPlay:z,onComplete:C};(g.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B)}else w||Hg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Yw),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Vg);return}this.isUpdating||this.nodes.forEach(Pw),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(Iw),this.nodes.forEach(Uw),this.nodes.forEach(Lw),this.clearAllSnapshots();const h=Ai.now();Ce.delta=ji(0,1e3/60,h-Ce.timestamp),Ce.timestamp=h,Ce.isProcessing=!0,vu.update.process(Ce),vu.preRender.process(Ce),vu.render.process(Ce),Ce.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rf.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Fw),this.sharedNodes.forEach(Zw)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ue(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let h=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(h=!1),h&&(this.scroll={animationId:this.root.animationId,phase:f,isRoot:o(this.instance),offset:r(this.instance)})}resetTransform(){if(!c)return;const f=this.isLayoutDirty||this.shouldResetTransform,h=this.projectionDelta&&!dy(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;f&&(h||Ji(this.latestValues)||g)&&(c(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return f&&(m=this.removeTransform(m)),$w(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:f}=this.options;if(!f)return ue();const h=f.measureViewportBox(),{scroll:m}=this.root;return m&&(Ci(h.x,m.offset.x),Ci(h.y,m.offset.y)),h}removeElementScroll(f){const h=ue();dn(h,f);for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:g,options:y}=p;if(p!==this.root&&g&&y.layoutScroll){if(g.isRoot){dn(h,f);const{scroll:w}=this.root;w&&(Ci(h.x,-w.offset.x),Ci(h.y,-w.offset.y))}Ci(h.x,g.offset.x),Ci(h.y,g.offset.y)}}return h}applyTransform(f,h=!1){const m=ue();dn(m,f);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&$a(m,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ji(g.latestValues)&&$a(m,g.latestValues)}return Ji(this.latestValues)&&$a(m,this.latestValues),m}removeTransform(f){const h=ue();dn(h,f);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Ji(p.latestValues))continue;Zu(p.latestValues)&&p.updateSnapshot();const g=ue(),y=p.measurePageBox();dn(g,y),Dg(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Ji(this.latestValues)&&Dg(h,this.latestValues),h}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ce.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){var h;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(f||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:y,layoutId:w}=this.options;if(!(!this.layout||!(y||w))){if(this.resolvedRelativeTargetAt=Ce.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ue(),this.relativeTargetOrigin=ue(),er(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ue(),this.targetWithTransforms=ue()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),W2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dn(this.target,this.layout.layoutBox),ry(this.target,this.targetDelta)):dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ue(),this.relativeTargetOrigin=ue(),er(this.relativeTargetOrigin,this.target,b.target),dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ta.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Zu(this.parent.latestValues)||sy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var f;const h=this.getLead(),m=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Ce.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;dn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,b=this.treeScale.y;ow(this.layoutCorrected,this.treeScale,this.path,m),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=ue());const{target:A}=h;if(!A){this.projectionTransform&&(this.projectionDelta=Qa(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Qa(),this.projectionDeltaWithTransform=Qa());const S=this.projectionTransform;tr(this.projectionDelta,this.layoutCorrected,A,this.latestValues),this.projectionTransform=Ug(this.projectionDelta,this.treeScale),(this.projectionTransform!==S||this.treeScale.x!==w||this.treeScale.y!==b)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A)),ta.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),f){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(f,h=!1){const m=this.snapshot,p=m?m.latestValues:{},g={...this.latestValues},y=Qa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const w=ue(),b=m?m.source:void 0,A=this.layout?this.layout.source:void 0,S=b!==A,z=this.getStack(),C=!z||z.members.length<=1,k=!!(S&&!C&&this.options.crossfade===!0&&!this.path.some(Kw));this.animationProgress=0;let E;this.mixTargetDelta=B=>{const D=B/1e3;Fg(y.x,f.x,D),Fg(y.y,f.y,D),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(er(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Xw(this.relativeTarget,this.relativeTargetOrigin,w,D),E&&kw(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=ue()),dn(E,this.relativeTarget)),S&&(this.animationValues=g,ww(g,p,this.latestValues,D,k,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=be.update(()=>{Do.hasAnimatedSinceResize=!0,this.currentAnimation=Dw(0,Lg,{...f,onUpdate:h=>{this.mixTargetDelta(h),f.onUpdate&&f.onUpdate(h)},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Lg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:h,target:m,layout:p,latestValues:g}=f;if(!(!h||!m||!p)){if(this!==f&&this.layout&&p&&py(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||ue();const y=$e(this.layout.layoutBox.x);m.x.min=f.target.x.min,m.x.max=m.x.min+y;const w=$e(this.layout.layoutBox.y);m.y.min=f.target.y.min,m.y.max=m.y.min+w}dn(h,m),$a(h,g),tr(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(f,h){this.sharedNodes.has(f)||this.sharedNodes.set(f,new Aw),this.sharedNodes.get(f).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){var f;const{layoutId:h}=this.options;return h?((f=this.getStack())===null||f===void 0?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:h}=this.options;return h?(f=this.getStack())===null||f===void 0?void 0:f.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:h,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),f&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let h=!1;const{latestValues:m}=f;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const p={};m.z&&ju("z",f,p,this.animationValues);for(let g=0;g<Au.length;g++)ju(`rotate${Au[g]}`,f,p,this.animationValues),ju(`skew${Au[g]}`,f,p,this.animationValues);f.render();for(const g in p)f.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);f.scheduleRender()}getProjectionStyles(f){var h,m;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Ow;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=No(f==null?void 0:f.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=No(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!Ji(this.latestValues)&&(S.transform=g?g({},""):"none",this.hasProjected=!1),S}const w=y.animationValues||y.latestValues;this.applyTransformsToTarget(),p.transform=Ug(this.projectionDeltaWithTransform,this.treeScale,w),g&&(p.transform=g(w,p.transform));const{x:b,y:A}=this.projectionDelta;p.transformOrigin=`${b.origin*100}% ${A.origin*100}% 0`,y.animationValues?p.opacity=y===this?(m=(h=w.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&m!==void 0?m:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:p.opacity=y===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const S in Oo){if(w[S]===void 0)continue;const{correct:z,applyTo:C}=Oo[S],k=p.transform==="none"?w[S]:z(w[S],y);if(C){const E=C.length;for(let B=0;B<E;B++)p[C[B]]=k}else p[S]=k}return this.options.layoutId&&(p.pointerEvents=y===this?No(f==null?void 0:f.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>{var h;return(h=f.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(Vg),this.root.sharedNodes.clear()}}}function Uw(s){s.updateLayout()}function Lw(s){var i;const r=((i=s.resumeFrom)===null||i===void 0?void 0:i.snapshot)||s.snapshot;if(s.isLead()&&s.layout&&r&&s.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:c}=s.layout,{animationType:d}=s.options,f=r.source!==s.layout.source;d==="size"?hn(y=>{const w=f?r.measuredBox[y]:r.layoutBox[y],b=$e(w);w.min=o[y].min,w.max=w.min+b}):py(d,r.layoutBox,o)&&hn(y=>{const w=f?r.measuredBox[y]:r.layoutBox[y],b=$e(o[y]);w.max=w.min+b,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[y].max=s.relativeTarget[y].min+b)});const h=Qa();tr(h,o,r.layoutBox);const m=Qa();f?tr(m,s.applyTransform(c,!0),r.measuredBox):tr(m,o,r.layoutBox);const p=!dy(h);let g=!1;if(!s.resumeFrom){const y=s.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:w,layout:b}=y;if(w&&b){const A=ue();er(A,r.layoutBox,w.layoutBox);const S=ue();er(S,o,b.layoutBox),hy(A,S)||(g=!0),y.options.layoutRoot&&(s.relativeTarget=S,s.relativeTargetOrigin=A,s.relativeParent=y)}}}s.notifyListeners("didUpdate",{layout:o,snapshot:r,delta:m,layoutDelta:h,hasLayoutChanged:p,hasRelativeTargetChanged:g})}else if(s.isLead()){const{onExitComplete:o}=s.options;o&&o()}s.options.transition=void 0}function Vw(s){ta.totalNodes++,s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function Hw(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function Fw(s){s.clearSnapshot()}function Vg(s){s.clearMeasurements()}function Pw(s){s.isLayoutDirty=!1}function Iw(s){const{visualElement:i}=s.options;i&&i.getProps().onBeforeLayoutMeasure&&i.notify("BeforeLayoutMeasure"),s.resetTransform()}function Hg(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function qw(s){s.resolveTargetDelta()}function Gw(s){s.calcProjection()}function Yw(s){s.resetSkewAndRotation()}function Zw(s){s.removeLeadSnapshot()}function Fg(s,i,r){s.translate=se(i.translate,0,r),s.scale=se(i.scale,1,r),s.origin=i.origin,s.originPoint=i.originPoint}function Pg(s,i,r,o){s.min=se(i.min,r.min,o),s.max=se(i.max,r.max,o)}function Xw(s,i,r,o){Pg(s.x,i.x,r.x,o),Pg(s.y,i.y,r.y,o)}function Kw(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const Qw={duration:.45,ease:[.4,0,.1,1]},Ig=s=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),qg=Ig("applewebkit/")&&!Ig("chrome/")?Math.round:Me;function Gg(s){s.min=qg(s.min),s.max=qg(s.max)}function $w(s){Gg(s.x),Gg(s.y)}function py(s,i,r){return s==="position"||s==="preserve-aspect"&&!Gu(Bg(i),Bg(r),.2)}const Ww=my({attachResizeListener:(s,i)=>Gn(s,"resize",i),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zu={current:void 0},gy=my({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!zu.current){const s=new Ww({});s.mount(window),s.setOptions({layoutScroll:!0}),zu.current=s}return zu.current},resetTransform:(s,i)=>{s.style.transform=i!==void 0?i:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),Jw={pan:{Feature:pw},drag:{Feature:mw,ProjectionNode:gy,MeasureLayout:cy}},Ku={current:null},yy={current:!1};function tS(){if(yy.current=!0,!!nf)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),i=()=>Ku.current=s.matches;s.addListener(i),i()}else Ku.current=!1}function eS(s,i,r){const{willChange:o}=i;for(const c in i){const d=i[c],f=r[c];if(ze(d))s.addValue(c,d),Ho(o)&&o.add(c);else if(ze(f))s.addValue(c,sr(d,{owner:s})),Ho(o)&&o.remove(c);else if(f!==d)if(s.hasValue(c)){const h=s.getValue(c);h.liveStyle===!0?h.jump(d):h.hasAnimated||h.set(d)}else{const h=s.getStaticValue(c);s.addValue(c,sr(h!==void 0?h:d,{owner:s}))}}for(const c in r)i[c]===void 0&&s.removeValue(c);return i}const Yg=new WeakMap,nS=[...z0,ke,Mi],iS=s=>nS.find(j0(s)),vy=Object.keys(ir),aS=vy.length,Zg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],sS=lf.length;function by(s){if(s)return s.options.allowProjection!==!1?s.projection:by(s.parent)}class rS{scrapeMotionValuesFromProps(i,r,o){return{}}constructor({parent:i,props:r,presenceContext:o,reducedMotionConfig:c,blockInitialAnimation:d,visualState:f},h={}){this.resolveKeyframes=(w,b,A,S)=>new this.KeyframeResolver(w,b,A,S,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>be.render(this.render,!1,!0);const{latestValues:m,renderState:p}=f;this.latestValues=m,this.baseTarget={...m},this.initialValues=r.initial?{...m}:{},this.renderState=p,this.parent=i,this.props=r,this.presenceContext=o,this.depth=i?i.depth+1:0,this.reducedMotionConfig=c,this.options=h,this.blockInitialAnimation=!!d,this.isControllingVariants=Xo(r),this.isVariantNode=a0(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(i&&i.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(r,{},this);for(const w in y){const b=y[w];m[w]!==void 0&&ze(b)&&(b.set(m[w],!1),Ho(g)&&g.add(w))}}mount(i){this.current=i,Yg.set(i,this),this.projection&&!this.projection.instance&&this.projection.mount(i),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,o)=>this.bindToMotionValue(o,r)),yy.current||tS(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ku.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){var i;Yg.delete(this.current),this.projection&&this.projection.unmount(),zi(this.notifyUpdate),zi(this.render),this.valueSubscriptions.forEach(r=>r()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const r in this.events)this.events[r].clear();for(const r in this.features)(i=this.features[r])===null||i===void 0||i.unmount();this.current=null}bindToMotionValue(i,r){const o=oa.has(i),c=r.on("change",f=>{this.latestValues[i]=f,this.props.onUpdate&&be.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0)}),d=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(i,()=>{c(),d(),r.owner&&r.stop()})}sortNodePosition(i){return!this.current||!this.sortInstanceNodePosition||this.type!==i.type?0:this.sortInstanceNodePosition(this.current,i.current)}loadFeatures({children:i,...r},o,c,d){let f,h;for(let m=0;m<aS;m++){const p=vy[m],{isEnabled:g,Feature:y,ProjectionNode:w,MeasureLayout:b}=ir[p];w&&(f=w),g(r)&&(!this.features[p]&&y&&(this.features[p]=new y(this)),b&&(h=b))}if((this.type==="html"||this.type==="svg")&&!this.projection&&f){this.projection=new f(this.latestValues,by(this.parent));const{layoutId:m,layout:p,drag:g,dragConstraints:y,layoutScroll:w,layoutRoot:b}=r;this.projection.setOptions({layoutId:m,layout:p,alwaysMeasureLayout:!!g||y&&Xa(y),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof p=="string"?p:"both",initialPromotionConfig:d,layoutScroll:w,layoutRoot:b})}return h}updateFeatures(){for(const i in this.features){const r=this.features[i];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ue()}getStaticValue(i){return this.latestValues[i]}setStaticValue(i,r){this.latestValues[i]=r}update(i,r){(i.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=i,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let o=0;o<Zg.length;o++){const c=Zg[o];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);const d="on"+c,f=i[d];f&&(this.propEventSubscriptions[c]=this.on(c,f))}this.prevMotionValues=eS(this,this.scrapeMotionValuesFromProps(i,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(i){return this.props.variants?this.props.variants[i]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(i=!1){if(i)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const o=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(o.initial=this.props.initial),o}const r={};for(let o=0;o<sS;o++){const c=lf[o],d=this.props[c];(nr(d)||d===!1)&&(r[c]=d)}return r}addVariantChild(i){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(i),()=>r.variantChildren.delete(i)}addValue(i,r){const o=this.values.get(i);r!==o&&(o&&this.removeValue(i),this.bindToMotionValue(i,r),this.values.set(i,r),this.latestValues[i]=r.get())}removeValue(i){this.values.delete(i);const r=this.valueSubscriptions.get(i);r&&(r(),this.valueSubscriptions.delete(i)),delete this.latestValues[i],this.removeValueFromRenderState(i,this.renderState)}hasValue(i){return this.values.has(i)}getValue(i,r){if(this.props.values&&this.props.values[i])return this.props.values[i];let o=this.values.get(i);return o===void 0&&r!==void 0&&(o=sr(r===null?void 0:r,{owner:this}),this.addValue(i,o)),o}readValue(i,r){var o;let c=this.latestValues[i]!==void 0||!this.current?this.latestValues[i]:(o=this.getBaseTargetFromProps(this.props,i))!==null&&o!==void 0?o:this.readValueFromInstance(this.current,i,this.options);return c!=null&&(typeof c=="string"&&(k0(c)||C0(c))?c=parseFloat(c):!iS(c)&&Mi.test(r)&&(c=L0(i,r)),this.setBaseTarget(i,ze(c)?c.get():c)),ze(c)?c.get():c}setBaseTarget(i,r){this.baseTarget[i]=r}getBaseTarget(i){var r;const{initial:o}=this.props;let c;if(typeof o=="string"||typeof o=="object"){const f=vf(this.props,o,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);f&&(c=f[i])}if(o&&c!==void 0)return c;const d=this.getBaseTargetFromProps(this.props,i);return d!==void 0&&!ze(d)?d:this.initialValues[i]!==void 0&&c===void 0?void 0:this.baseTarget[i]}on(i,r){return this.events[i]||(this.events[i]=new Mf),this.events[i].add(r)}notify(i,...r){this.events[i]&&this.events[i].notify(...r)}}class xy extends rS{constructor(){super(...arguments),this.KeyframeResolver=V0}sortInstanceNodePosition(i,r){return i.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(i,r){return i.style?i.style[r]:void 0}removeValueFromRenderState(i,{vars:r,style:o}){delete r[i],delete o[i]}}function oS(s){return window.getComputedStyle(s)}class lS extends xy{constructor(){super(...arguments),this.type="html"}readValueFromInstance(i,r){if(oa.has(r)){const o=Sf(r);return o&&o.default||0}else{const o=oS(i),c=(l0(r)?o.getPropertyValue(r):o[r])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(i,{transformPagePoint:r}){return oy(i,r)}build(i,r,o,c){hf(i,r,o,c.transformTemplate)}scrapeMotionValuesFromProps(i,r,o){return yf(i,r,o)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:i}=this.props;ze(i)&&(this.childSubscription=i.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(i,r,o,c){h0(i,r,o,c)}}class cS extends xy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(i,r){return i[r]}readValueFromInstance(i,r){if(oa.has(r)){const o=Sf(r);return o&&o.default||0}return r=m0.has(r)?r:sf(r),i.getAttribute(r)}measureInstanceViewportBox(){return ue()}scrapeMotionValuesFromProps(i,r,o){return g0(i,r,o)}build(i,r,o,c){pf(i,r,o,this.isSVGTag,c.transformTemplate)}renderInstance(i,r,o,c){p0(i,r,o,c)}mount(i){this.isSVGTag=gf(i.tagName),super.mount(i)}}const uS=(s,i)=>uf(s)?new cS(i,{enableHardwareAcceleration:!1}):new lS(i,{allowProjection:s!==P.Fragment,enableHardwareAcceleration:!0}),fS={layout:{ProjectionNode:gy,MeasureLayout:cy}},dS={...X2,...ax,...Jw,...fS},Yn=mb((s,i)=>Gb(s,i,dS,uS));function wy(){const s=P.useRef(!1);return af(()=>(s.current=!0,()=>{s.current=!1}),[]),s}function hS(){const s=wy(),[i,r]=P.useState(0),o=P.useCallback(()=>{s.current&&r(i+1)},[i]);return[P.useCallback(()=>be.postRender(o),[o]),i]}class mS extends P.Component{getSnapshotBeforeUpdate(i){const r=this.props.childRef.current;if(r&&i.isPresent&&!this.props.isPresent){const o=this.props.sizeRef.current;o.height=r.offsetHeight||0,o.width=r.offsetWidth||0,o.top=r.offsetTop,o.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function pS({children:s,isPresent:i}){const r=P.useId(),o=P.useRef(null),c=P.useRef({width:0,height:0,top:0,left:0}),{nonce:d}=P.useContext(ef);return P.useInsertionEffect(()=>{const{width:f,height:h,top:m,left:p}=c.current;if(i||!o.current||!f||!h)return;o.current.dataset.motionPopId=r;const g=document.createElement("style");return d&&(g.nonce=d),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${h}px !important;
            top: ${m}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[i]),T.jsx(mS,{isPresent:i,childRef:o,sizeRef:c,children:P.cloneElement(s,{ref:o})})}const Mu=({children:s,initial:i,isPresent:r,onExitComplete:o,custom:c,presenceAffectsLayout:d,mode:f})=>{const h=y0(gS),m=P.useId(),p=P.useMemo(()=>({id:m,initial:i,isPresent:r,custom:c,onExitComplete:g=>{h.set(g,!0);for(const y of h.values())if(!y)return;o&&o()},register:g=>(h.set(g,!1),()=>h.delete(g))}),d?[Math.random()]:[r]);return P.useMemo(()=>{h.forEach((g,y)=>h.set(y,!1))},[r]),P.useEffect(()=>{!r&&!h.size&&o&&o()},[r]),f==="popLayout"&&(s=T.jsx(pS,{isPresent:r,children:s})),T.jsx(Yo.Provider,{value:p,children:s})};function gS(){return new Map}function yS(s){return P.useEffect(()=>()=>s(),[])}const ea=s=>s.key||"";function vS(s,i){s.forEach(r=>{const o=ea(r);i.set(o,r)})}function bS(s){const i=[];return P.Children.forEach(s,r=>{P.isValidElement(r)&&i.push(r)}),i}const Ei=({children:s,custom:i,initial:r=!0,onExitComplete:o,exitBeforeEnter:c,presenceAffectsLayout:d=!0,mode:f="sync"})=>{const h=P.useContext(cf).forceRender||hS()[0],m=wy(),p=bS(s);let g=p;const y=P.useRef(new Map).current,w=P.useRef(g),b=P.useRef(new Map).current,A=P.useRef(!0);if(af(()=>{A.current=!1,vS(p,b),w.current=g}),yS(()=>{A.current=!0,b.clear(),y.clear()}),A.current)return T.jsx(T.Fragment,{children:g.map(k=>T.jsx(Mu,{isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:d,mode:f,children:k},ea(k)))});g=[...g];const S=w.current.map(ea),z=p.map(ea),C=S.length;for(let k=0;k<C;k++){const E=S[k];z.indexOf(E)===-1&&!y.has(E)&&y.set(E,void 0)}return f==="wait"&&y.size&&(g=[]),y.forEach((k,E)=>{if(z.indexOf(E)!==-1)return;const B=b.get(E);if(!B)return;const D=S.indexOf(E);let q=k;if(!q){const L=()=>{y.delete(E);const G=Array.from(b.keys()).filter(Z=>!z.includes(Z));if(G.forEach(Z=>b.delete(Z)),w.current=p.filter(Z=>{const $=ea(Z);return $===E||G.includes($)}),!y.size){if(m.current===!1)return;h(),o&&o()}};q=T.jsx(Mu,{isPresent:!1,onExitComplete:L,custom:i,presenceAffectsLayout:d,mode:f,children:B},ea(B)),y.set(E,q)}g.splice(D,0,q)}),g=g.map(k=>{const E=k.key;return y.has(E)?k:T.jsx(Mu,{isPresent:!0,presenceAffectsLayout:d,mode:f,children:k},ea(k))}),T.jsx(T.Fragment,{children:y.size?g:g.map(k=>P.cloneElement(k))})},xS=s=>!s||!/^#[0-9A-F]{6}$/i.test(s)?"#E25822":s,Wa=s=>s?(s.match(/([^\s]+)/g)||[]).length:0;/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,r,o)=>o?o.toUpperCase():r.toLowerCase()),Xg=s=>{const i=SS(s);return i.charAt(0).toUpperCase()+i.slice(1)},Sy=(...s)=>s.filter((i,r,o)=>!!i&&i.trim()!==""&&o.indexOf(i)===r).join(" ").trim(),TS=s=>{for(const i in s)if(i.startsWith("aria-")||i==="role"||i==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _S={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=P.forwardRef(({color:s="currentColor",size:i=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:f,...h},m)=>P.createElement("svg",{ref:m,..._S,width:i,height:i,stroke:s,strokeWidth:o?Number(r)*24/Number(i):r,className:Sy("lucide",c),...!d&&!TS(h)&&{"aria-hidden":"true"},...h},[...f.map(([p,g])=>P.createElement(p,g)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=(s,i)=>{const r=P.forwardRef(({className:o,...c},d)=>P.createElement(CS,{ref:d,iconNode:i,className:Sy(`lucide-${wS(Xg(s))}`,`lucide-${s}`,o),...c}));return r.displayName=Xg(s),r};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],kS=Pt("arrow-left",ES);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],jS=Pt("book-marked",AS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ty=Pt("book-open",zS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],NS=Pt("bookmark-check",MS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Po=Pt("check",RS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Qu=Pt("chevron-down",DS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],BS=Pt("chevron-left",OS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Kg=Pt("chevron-right",US);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],VS=Pt("circle-alert",LS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_y=Pt("circle-check-big",HS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],PS=Pt("cloud-download",FS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],$u=Pt("cloud",IS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],GS=Pt("download",qS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],ZS=Pt("file-plus",YS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],KS=Pt("heart",XS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],$S=Pt("layout-grid",QS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1",key:"oynpb5"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z",key:"1qboyk"}]],JS=Pt("library-big",WS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],eT=Pt("library",tT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M11 19H3",key:"zflm78"}],["path",{d:"M21 16V5",key:"yxg4q8"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],iT=Pt("list-music",nT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Qg=Pt("loader-circle",aT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],rT=Pt("lock",sT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M5 12h14",key:"1ays0h"}]],lT=Pt("minus",oT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],uT=Pt("palette",cT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],dT=Pt("pause",fT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Nf=Pt("play",hT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Cy=Pt("plus",mT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],gT=Pt("refresh-cw",pT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],vT=Pt("search",yT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xT=Pt("settings",bT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],ST=Pt("skip-back",wT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Rf=Pt("sparkles",TT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CT=Pt("square-check-big",_T);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ey=Pt("trash-2",ET);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],AT=Pt("triangle-alert",kT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Nu=Pt("type",jT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Df=Pt("x",zT),Za={Modern:{background:"#F2F2F7",surface:"#FFFFFF",primaryText:"#000000",secondaryText:"#8A8A8E",accent:"#E25822",dimmer:"rgba(255,255,255,0.85)",borderColor:"#E5E5EA"},Sepia:{background:"#F8F1E3",surface:"#FFFDF5",primaryText:"#5C4033",secondaryText:"#8C7356",accent:"#D45D48",dimmer:"rgba(248,241,227,0.9)",borderColor:"#E6DCC8"},Night:{background:"#000000",surface:"#1C1C1E",primaryText:"#F2F2F7",secondaryText:"#8E8E93",accent:"#E25822",dimmer:"rgba(0,0,0,0.8)",borderColor:"#2C2C2E"},OLED:{background:"#000000",surface:"#121212",primaryText:"#FFFFFF",secondaryText:"#888888",accent:"#E25822",dimmer:"rgba(0,0,0,0.9)",borderColor:"#333333"},System:{background:"#F2F2F7",surface:"#FFFFFF",primaryText:"#000000",secondaryText:"#8A8A8E",accent:"#E25822",dimmer:"rgba(255,255,255,0.9)",borderColor:"#E5E5EA"}};class aa{constructor(){this.listeners=new Set,this._mode="Modern";try{const i=localStorage.getItem("titan_theme_mode");i&&Object.keys(Za).concat(["System"]).includes(i)&&(this._mode=i)}catch(i){console.warn("[TitanTheme] Failed to load theme preference",i)}}static getInstance(){return aa.instance||(aa.instance=new aa),aa.instance}get mode(){return this._mode}setMode(i){this._mode=i;try{localStorage.setItem("titan_theme_mode",i)}catch(r){console.warn("[TitanTheme] Failed to save theme preference",r)}this.notify()}get currentColors(){return this._mode==="System"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Za.Night:Za.Modern:Za[this._mode]||Za.Modern}subscribe(i){return this.listeners.add(i),()=>this.listeners.delete(i)}notify(){this.listeners.forEach(i=>i())}}const Ie=()=>{const s=aa.getInstance(),[i,r]=P.useState(s.currentColors);return P.useEffect(()=>{const o=()=>r(s.currentColors);return s.subscribe(o)},[]),i};class _n{constructor(){this.listeners=new Set,this.STORAGE_KEY="titan_reader_prefs_v15_true_book",this.config=this.loadFromStorage()}static getInstance(){return _n.instance||(_n.instance=new _n),_n.instance}getDefaultConfig(){return{id:"user-default",themeMode:"System",fontFamily:"New York",fontSize:18,lineHeight:1.35,paragraphSpacing:10,motionBlurIntensity:.05,showReflections:!1,rsvpSpeed:200,hasCustomSpeed:!1,showGhostPreview:!0,rsvpColorHighlight:"#FF3B30"}}loadFromStorage(){try{const i=localStorage.getItem(this.STORAGE_KEY);if(i){const r=JSON.parse(i),o={...this.getDefaultConfig(),...r};return o.hasCustomSpeed||(o.rsvpSpeed=200),o}}catch(i){console.warn("[TitanSettings] Failed to load config",i)}return this.getDefaultConfig()}saveToStorage(){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.config))}catch(i){console.warn("[TitanSettings] Failed to save config",i)}}getSettings(){return{...this.config}}updateSettings(i){this.config={...this.config,...i},this.saveToStorage(),this.notify()}subscribe(i){return this.listeners.add(i),()=>this.listeners.delete(i)}notify(){this.listeners.forEach(i=>i())}}const fr=()=>{const s=_n.getInstance(),[i,r]=P.useState(s.getSettings());return P.useEffect(()=>{const o=()=>r(s.getSettings());return s.subscribe(o)},[]),{settings:i,updateSettings:o=>s.updateSettings(o)}},MT=rr.memo(({book:s})=>{const i=xS(s.tintColorHex);return T.jsxs("div",{className:"w-full h-full flex items-center justify-center p-5 relative overflow-hidden",style:{backgroundColor:i},children:[T.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-40",children:[T.jsx("div",{className:"absolute w-32 h-32 bg-white rounded-full blur-3xl transform -translate-x-8 -translate-y-8 opacity-40"}),T.jsx("div",{className:"absolute w-24 h-24 bg-white rounded-full blur-2xl transform translate-x-6 translate-y-6 opacity-30"})]}),T.jsxs("div",{className:"relative z-10 text-center text-black w-full break-words px-2",children:[T.jsx("h3",{className:"font-serif font-bold text-base leading-tight mb-1.5 line-clamp-3 lowercase",children:s.title}),T.jsx("p",{className:"font-sans text-[9px] font-bold uppercase tracking-[0.15em] opacity-40",children:s.author})]})]})}),Ru=rr.memo(({book:s,onSelect:i,isEditing:r,isSelected:o,onToggleSelect:c,onLongPress:d})=>{const f=Ie(),{settings:h}=fr(),m=P.useRef(Math.random()*.2),p=P.useRef(Math.random()>.5?1:-1),g=P.useRef(null),y=P.useRef(!1),w=P.useRef(!1),b=P.useRef({x:0,y:0});P.useEffect(()=>()=>{g.current&&(clearTimeout(g.current),g.current=null)},[]);const A=D=>{y.current=!1,w.current=!1,b.current={x:D.clientX,y:D.clientY},g.current=window.setTimeout(()=>{d&&(y.current=!0,navigator.vibrate&&navigator.vibrate(20),d(s))},500)},S=D=>{Math.hypot(D.clientX-b.current.x,D.clientY-b.current.y)>10&&(w.current=!0,g.current&&(clearTimeout(g.current),g.current=null))},z=D=>{g.current&&(clearTimeout(g.current),g.current=null),!y.current&&!w.current&&(r?c==null||c(s):i(s)),y.current=!1,w.current=!1},C=D=>{g.current&&(clearTimeout(g.current),g.current=null),y.current=!1,w.current=!1};-1.5*p.current,1.5*p.current,-1.5*p.current,m.current;const k=Math.floor((s.bookmarkProgress||0)*100),E=P.useMemo(()=>{if(!s.chapters||s.chapters.length===0||s.isFinished)return null;const q=s.chapters.reduce((mt,U)=>mt+U.wordCount,0)*(1-(s.bookmarkProgress||0)),L=h.rsvpSpeed||250,G=Math.ceil(q/L);if(G<=1)return"< 1m";if(G<60)return`${G}m`;const Z=Math.floor(G/60),$=G%60;return $===0?`${Z}h`:`${Z}h ${$}m`},[s,h.rsvpSpeed]),B=!s.isFinished&&(E!==null||k>0);return T.jsxs("div",{className:"group cursor-pointer relative touch-pan-y",onPointerDown:A,onPointerMove:S,onPointerUp:z,onPointerCancel:C,onContextMenu:D=>{D.preventDefault()},children:[T.jsxs("div",{className:"relative aspect-[2/3] w-full rounded-xl shadow-[0_4px_16px_rgba(0,0,0,0.08)] overflow-hidden z-10 will-change-transform active:scale-[0.97] hover:scale-[1.02] hover:-translate-y-0.5",style:{backgroundColor:f.surface,transform:r?"scale(0.94)":"scale(1.0)",transition:"transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.2s ease-out"},children:[s.coverUrl?T.jsx("img",{src:s.coverUrl,alt:`Cover of ${s.title}`,className:`w-full h-full object-cover transition-all duration-500 ${s.isFinished?"grayscale-[0.5] opacity-90":""}`,loading:"lazy",decoding:"async",style:{backgroundColor:f.borderColor}}):T.jsx(MT,{book:s}),!r&&T.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/10 opacity-0 group-hover:opacity-100 transition-opacity duration-200 backdrop-blur-[1px] z-20",children:T.jsx("div",{className:"w-12 h-12 rounded-full shadow-xl flex items-center justify-center transform translate-y-4 group-hover:translate-y-0 transition-transform duration-200",style:{backgroundColor:f.surface,color:f.accent},children:s.isFinished?T.jsx(_y,{size:24,fill:"currentColor",stroke:"none"}):T.jsx(Ty,{size:20,fill:"currentColor"})})}),r&&T.jsx("div",{className:`absolute inset-0 bg-black/10 transition-opacity duration-200 z-30 ${o?"opacity-40":"opacity-0"}`}),s.isFinished&&T.jsx("div",{className:"absolute top-2 right-2 z-50",children:T.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center shadow-md border border-white/20",style:{backgroundColor:"#10b981",color:"#FFFFFF"},children:T.jsx(Po,{size:14,strokeWidth:4})})}),B&&T.jsx("div",{className:"absolute top-2 right-2 z-50",children:T.jsx("div",{className:"px-2 py-0.5 rounded-md flex items-center justify-center shadow-sm border border-white/20 backdrop-blur-sm",style:{backgroundColor:"rgba(0,0,0,0.7)",color:"#FFFFFF"},children:T.jsx("span",{className:"text-[10px] font-bold tabular-nums leading-none whitespace-nowrap",children:E?`${E} left`:`${k}%`})})}),k>0&&T.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1.5 bg-black/40 z-40",children:T.jsx("div",{className:"h-full",style:{width:`${Math.min(100,k)}%`,backgroundColor:s.isFinished?"#10b981":f.accent}})})]}),r&&T.jsx("div",{className:"absolute -top-1 -left-1 z-50 transition-transform duration-200",style:{transform:"scale(1)"},children:T.jsx("div",{className:"w-8 h-8 rounded-full border-[3px] shadow-sm flex items-center justify-center transition-all duration-200",style:{backgroundColor:o?f.accent:f.surface,borderColor:f.background,color:o?"#FFFFFF":"transparent"},children:o&&T.jsx(Po,{size:16,strokeWidth:4})})}),T.jsxs("div",{className:"mt-2.5 space-y-0.5",children:[T.jsx("h3",{className:"font-serif font-semibold text-sm leading-snug line-clamp-2",style:{color:f.primaryText},children:s.title}),T.jsx("p",{className:"font-sans text-xs opacity-60",style:{color:f.secondaryText},children:s.author})]})]})}),NT=({onImport:s,hasDeleted:i})=>{const r=Ie();return T.jsxs("div",{onClick:s,className:"group flex flex-col items-center justify-center p-12 rounded-[40px] cursor-pointer transition-all duration-500 max-w-sm mx-auto mt-20 hover:scale-[0.98] active:scale-95",style:{backgroundColor:r.surface,border:`1px solid ${r.borderColor}`},children:[T.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mb-8 shadow-2xl group-hover:shadow-ember/20 transition-all duration-500",style:{backgroundColor:r.accent,color:"#FFFFFF"},children:i?T.jsx(Rf,{size:28,strokeWidth:2,className:"animate-pulse"}):T.jsx(ZS,{size:28,strokeWidth:2})}),T.jsx("h2",{className:"text-3xl font-black mb-2 text-center lowercase tracking-tighter leading-none",style:{color:r.primaryText},children:i?"poof. gone.":"clean slate."}),T.jsx("p",{className:"text-[10px] uppercase font-black tracking-[0.2em] text-center mt-3 opacity-30 max-w-[180px]",style:{color:r.secondaryText},children:i?"all cleared out. plenty of room for new magic.":"nothing here yet. tap here to find a story."}),T.jsxs("div",{className:"mt-8 flex items-center gap-2 opacity-20",children:[T.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-current",style:{backgroundColor:r.primaryText}}),T.jsx("div",{className:"w-10 h-[1px] bg-current",style:{backgroundColor:r.primaryText}}),T.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-current",style:{backgroundColor:r.primaryText}})]})]})};function Mo(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Du={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var $g;function RT(){return $g||($g=1,(function(s,i){(function(r){s.exports=r()})(function(){return(function r(o,c,d){function f(p,g){if(!c[p]){if(!o[p]){var y=typeof Mo=="function"&&Mo;if(!g&&y)return y(p,!0);if(h)return h(p,!0);var w=new Error("Cannot find module '"+p+"'");throw w.code="MODULE_NOT_FOUND",w}var b=c[p]={exports:{}};o[p][0].call(b.exports,function(A){var S=o[p][1][A];return f(S||A)},b,b.exports,r,o,c,d)}return c[p].exports}for(var h=typeof Mo=="function"&&Mo,m=0;m<d.length;m++)f(d[m]);return f})({1:[function(r,o,c){var d=r("./utils"),f=r("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.encode=function(m){for(var p,g,y,w,b,A,S,z=[],C=0,k=m.length,E=k,B=d.getTypeOf(m)!=="string";C<m.length;)E=k-C,y=B?(p=m[C++],g=C<k?m[C++]:0,C<k?m[C++]:0):(p=m.charCodeAt(C++),g=C<k?m.charCodeAt(C++):0,C<k?m.charCodeAt(C++):0),w=p>>2,b=(3&p)<<4|g>>4,A=1<E?(15&g)<<2|y>>6:64,S=2<E?63&y:64,z.push(h.charAt(w)+h.charAt(b)+h.charAt(A)+h.charAt(S));return z.join("")},c.decode=function(m){var p,g,y,w,b,A,S=0,z=0,C="data:";if(m.substr(0,C.length)===C)throw new Error("Invalid base64 input, it looks like a data url.");var k,E=3*(m=m.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(m.charAt(m.length-1)===h.charAt(64)&&E--,m.charAt(m.length-2)===h.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(k=f.uint8array?new Uint8Array(0|E):new Array(0|E);S<m.length;)p=h.indexOf(m.charAt(S++))<<2|(w=h.indexOf(m.charAt(S++)))>>4,g=(15&w)<<4|(b=h.indexOf(m.charAt(S++)))>>2,y=(3&b)<<6|(A=h.indexOf(m.charAt(S++))),k[z++]=p,b!==64&&(k[z++]=g),A!==64&&(k[z++]=y);return k}},{"./support":30,"./utils":32}],2:[function(r,o,c){var d=r("./external"),f=r("./stream/DataWorker"),h=r("./stream/Crc32Probe"),m=r("./stream/DataLengthProbe");function p(g,y,w,b,A){this.compressedSize=g,this.uncompressedSize=y,this.crc32=w,this.compression=b,this.compressedContent=A}p.prototype={getContentWorker:function(){var g=new f(d.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new m("data_length")),y=this;return g.on("end",function(){if(this.streamInfo.data_length!==y.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),g},getCompressedWorker:function(){return new f(d.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(g,y,w){return g.pipe(new h).pipe(new m("uncompressedSize")).pipe(y.compressWorker(w)).pipe(new m("compressedSize")).withStreamInfo("compression",y)},o.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,o,c){var d=r("./stream/GenericWorker");c.STORE={magic:"\0\0",compressWorker:function(){return new d("STORE compression")},uncompressWorker:function(){return new d("STORE decompression")}},c.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,o,c){var d=r("./utils"),f=(function(){for(var h,m=[],p=0;p<256;p++){h=p;for(var g=0;g<8;g++)h=1&h?3988292384^h>>>1:h>>>1;m[p]=h}return m})();o.exports=function(h,m){return h!==void 0&&h.length?d.getTypeOf(h)!=="string"?(function(p,g,y,w){var b=f,A=w+y;p^=-1;for(var S=w;S<A;S++)p=p>>>8^b[255&(p^g[S])];return-1^p})(0|m,h,h.length,0):(function(p,g,y,w){var b=f,A=w+y;p^=-1;for(var S=w;S<A;S++)p=p>>>8^b[255&(p^g.charCodeAt(S))];return-1^p})(0|m,h,h.length,0):0}},{"./utils":32}],5:[function(r,o,c){c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!0,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],6:[function(r,o,c){var d=null;d=typeof Promise<"u"?Promise:r("lie"),o.exports={Promise:d}},{lie:37}],7:[function(r,o,c){var d=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",f=r("pako"),h=r("./utils"),m=r("./stream/GenericWorker"),p=d?"uint8array":"array";function g(y,w){m.call(this,"FlateWorker/"+y),this._pako=null,this._pakoAction=y,this._pakoOptions=w,this.meta={}}c.magic="\b\0",h.inherits(g,m),g.prototype.processChunk=function(y){this.meta=y.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(p,y.data),!1)},g.prototype.flush=function(){m.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},g.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this._pako=null},g.prototype._createPako=function(){this._pako=new f[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var y=this;this._pako.onData=function(w){y.push({data:w,meta:y.meta})}},c.compressWorker=function(y){return new g("Deflate",y)},c.uncompressWorker=function(){return new g("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,o,c){function d(b,A){var S,z="";for(S=0;S<A;S++)z+=String.fromCharCode(255&b),b>>>=8;return z}function f(b,A,S,z,C,k){var E,B,D=b.file,q=b.compression,L=k!==p.utf8encode,G=h.transformTo("string",k(D.name)),Z=h.transformTo("string",p.utf8encode(D.name)),$=D.comment,mt=h.transformTo("string",k($)),U=h.transformTo("string",p.utf8encode($)),st=Z.length!==D.name.length,_=U.length!==$.length,tt="",X="",V="",ot=D.dir,it=D.date,gt={crc32:0,compressedSize:0,uncompressedSize:0};A&&!S||(gt.crc32=b.crc32,gt.compressedSize=b.compressedSize,gt.uncompressedSize=b.uncompressedSize);var j=0;A&&(j|=8),L||!st&&!_||(j|=2048);var O=0,et=0;ot&&(O|=16),C==="UNIX"?(et=798,O|=(function(ct,_t){var kt=ct;return ct||(kt=_t?16893:33204),(65535&kt)<<16})(D.unixPermissions,ot)):(et=20,O|=(function(ct){return 63&(ct||0)})(D.dosPermissions)),E=it.getUTCHours(),E<<=6,E|=it.getUTCMinutes(),E<<=5,E|=it.getUTCSeconds()/2,B=it.getUTCFullYear()-1980,B<<=4,B|=it.getUTCMonth()+1,B<<=5,B|=it.getUTCDate(),st&&(X=d(1,1)+d(g(G),4)+Z,tt+="up"+d(X.length,2)+X),_&&(V=d(1,1)+d(g(mt),4)+U,tt+="uc"+d(V.length,2)+V);var at="";return at+=`
\0`,at+=d(j,2),at+=q.magic,at+=d(E,2),at+=d(B,2),at+=d(gt.crc32,4),at+=d(gt.compressedSize,4),at+=d(gt.uncompressedSize,4),at+=d(G.length,2),at+=d(tt.length,2),{fileRecord:y.LOCAL_FILE_HEADER+at+G+tt,dirRecord:y.CENTRAL_FILE_HEADER+d(et,2)+at+d(mt.length,2)+"\0\0\0\0"+d(O,4)+d(z,4)+G+tt+mt}}var h=r("../utils"),m=r("../stream/GenericWorker"),p=r("../utf8"),g=r("../crc32"),y=r("../signature");function w(b,A,S,z){m.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=A,this.zipPlatform=S,this.encodeFileName=z,this.streamFiles=b,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(w,m),w.prototype.push=function(b){var A=b.meta.percent||0,S=this.entriesCount,z=this._sources.length;this.accumulate?this.contentBuffer.push(b):(this.bytesWritten+=b.data.length,m.prototype.push.call(this,{data:b.data,meta:{currentFile:this.currentFile,percent:S?(A+100*(S-z-1))/S:100}}))},w.prototype.openedSource=function(b){this.currentSourceOffset=this.bytesWritten,this.currentFile=b.file.name;var A=this.streamFiles&&!b.file.dir;if(A){var S=f(b,A,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:S.fileRecord,meta:{percent:0}})}else this.accumulate=!0},w.prototype.closedSource=function(b){this.accumulate=!1;var A=this.streamFiles&&!b.file.dir,S=f(b,A,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(S.dirRecord),A)this.push({data:(function(z){return y.DATA_DESCRIPTOR+d(z.crc32,4)+d(z.compressedSize,4)+d(z.uncompressedSize,4)})(b),meta:{percent:100}});else for(this.push({data:S.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},w.prototype.flush=function(){for(var b=this.bytesWritten,A=0;A<this.dirRecords.length;A++)this.push({data:this.dirRecords[A],meta:{percent:100}});var S=this.bytesWritten-b,z=(function(C,k,E,B,D){var q=h.transformTo("string",D(B));return y.CENTRAL_DIRECTORY_END+"\0\0\0\0"+d(C,2)+d(C,2)+d(k,4)+d(E,4)+d(q.length,2)+q})(this.dirRecords.length,S,b,this.zipComment,this.encodeFileName);this.push({data:z,meta:{percent:100}})},w.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},w.prototype.registerPrevious=function(b){this._sources.push(b);var A=this;return b.on("data",function(S){A.processChunk(S)}),b.on("end",function(){A.closedSource(A.previous.streamInfo),A._sources.length?A.prepareNextSource():A.end()}),b.on("error",function(S){A.error(S)}),this},w.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},w.prototype.error=function(b){var A=this._sources;if(!m.prototype.error.call(this,b))return!1;for(var S=0;S<A.length;S++)try{A[S].error(b)}catch{}return!0},w.prototype.lock=function(){m.prototype.lock.call(this);for(var b=this._sources,A=0;A<b.length;A++)b[A].lock()},o.exports=w},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,o,c){var d=r("../compressions"),f=r("./ZipFileWorker");c.generateWorker=function(h,m,p){var g=new f(m.streamFiles,p,m.platform,m.encodeFileName),y=0;try{h.forEach(function(w,b){y++;var A=(function(k,E){var B=k||E,D=d[B];if(!D)throw new Error(B+" is not a valid compression method !");return D})(b.options.compression,m.compression),S=b.options.compressionOptions||m.compressionOptions||{},z=b.dir,C=b.date;b._compressWorker(A,S).withStreamInfo("file",{name:w,dir:z,date:C,comment:b.comment||"",unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions}).pipe(g)}),g.entriesCount=y}catch(w){g.error(w)}return g}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,o,c){function d(){if(!(this instanceof d))return new d;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var f=new d;for(var h in this)typeof this[h]!="function"&&(f[h]=this[h]);return f}}(d.prototype=r("./object")).loadAsync=r("./load"),d.support=r("./support"),d.defaults=r("./defaults"),d.version="3.10.1",d.loadAsync=function(f,h){return new d().loadAsync(f,h)},d.external=r("./external"),o.exports=d},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,o,c){var d=r("./utils"),f=r("./external"),h=r("./utf8"),m=r("./zipEntries"),p=r("./stream/Crc32Probe"),g=r("./nodejsUtils");function y(w){return new f.Promise(function(b,A){var S=w.decompressed.getContentWorker().pipe(new p);S.on("error",function(z){A(z)}).on("end",function(){S.streamInfo.crc32!==w.decompressed.crc32?A(new Error("Corrupted zip : CRC32 mismatch")):b()}).resume()})}o.exports=function(w,b){var A=this;return b=d.extend(b||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),g.isNode&&g.isStream(w)?f.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):d.prepareContent("the loaded zip file",w,!0,b.optimizedBinaryString,b.base64).then(function(S){var z=new m(b);return z.load(S),z}).then(function(S){var z=[f.Promise.resolve(S)],C=S.files;if(b.checkCRC32)for(var k=0;k<C.length;k++)z.push(y(C[k]));return f.Promise.all(z)}).then(function(S){for(var z=S.shift(),C=z.files,k=0;k<C.length;k++){var E=C[k],B=E.fileNameStr,D=d.resolve(E.fileNameStr);A.file(D,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:b.createFolders}),E.dir||(A.file(D).unsafeOriginalName=B)}return z.zipComment.length&&(A.comment=z.zipComment),A})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,o,c){var d=r("../utils"),f=r("../stream/GenericWorker");function h(m,p){f.call(this,"Nodejs stream input adapter for "+m),this._upstreamEnded=!1,this._bindStream(p)}d.inherits(h,f),h.prototype._bindStream=function(m){var p=this;(this._stream=m).pause(),m.on("data",function(g){p.push({data:g,meta:{percent:0}})}).on("error",function(g){p.isPaused?this.generatedError=g:p.error(g)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},h.prototype.pause=function(){return!!f.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,o,c){var d=r("readable-stream").Readable;function f(h,m,p){d.call(this,m),this._helper=h;var g=this;h.on("data",function(y,w){g.push(y)||g._helper.pause(),p&&p(w)}).on("error",function(y){g.emit("error",y)}).on("end",function(){g.push(null)})}r("../utils").inherits(f,d),f.prototype._read=function(){this._helper.resume()},o.exports=f},{"../utils":32,"readable-stream":16}],14:[function(r,o,c){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(d,f){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(d,f);if(typeof d=="number")throw new Error('The "data" argument must not be a number');return new Buffer(d,f)},allocBuffer:function(d){if(Buffer.alloc)return Buffer.alloc(d);var f=new Buffer(d);return f.fill(0),f},isBuffer:function(d){return Buffer.isBuffer(d)},isStream:function(d){return d&&typeof d.on=="function"&&typeof d.pause=="function"&&typeof d.resume=="function"}}},{}],15:[function(r,o,c){function d(D,q,L){var G,Z=h.getTypeOf(q),$=h.extend(L||{},g);$.date=$.date||new Date,$.compression!==null&&($.compression=$.compression.toUpperCase()),typeof $.unixPermissions=="string"&&($.unixPermissions=parseInt($.unixPermissions,8)),$.unixPermissions&&16384&$.unixPermissions&&($.dir=!0),$.dosPermissions&&16&$.dosPermissions&&($.dir=!0),$.dir&&(D=C(D)),$.createFolders&&(G=z(D))&&k.call(this,G,!0);var mt=Z==="string"&&$.binary===!1&&$.base64===!1;L&&L.binary!==void 0||($.binary=!mt),(q instanceof y&&q.uncompressedSize===0||$.dir||!q||q.length===0)&&($.base64=!1,$.binary=!0,q="",$.compression="STORE",Z="string");var U=null;U=q instanceof y||q instanceof m?q:A.isNode&&A.isStream(q)?new S(D,q):h.prepareContent(D,q,$.binary,$.optimizedBinaryString,$.base64);var st=new w(D,U,$);this.files[D]=st}var f=r("./utf8"),h=r("./utils"),m=r("./stream/GenericWorker"),p=r("./stream/StreamHelper"),g=r("./defaults"),y=r("./compressedObject"),w=r("./zipObject"),b=r("./generate"),A=r("./nodejsUtils"),S=r("./nodejs/NodejsStreamInputAdapter"),z=function(D){D.slice(-1)==="/"&&(D=D.substring(0,D.length-1));var q=D.lastIndexOf("/");return 0<q?D.substring(0,q):""},C=function(D){return D.slice(-1)!=="/"&&(D+="/"),D},k=function(D,q){return q=q!==void 0?q:g.createFolders,D=C(D),this.files[D]||d.call(this,D,null,{dir:!0,createFolders:q}),this.files[D]};function E(D){return Object.prototype.toString.call(D)==="[object RegExp]"}var B={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(D){var q,L,G;for(q in this.files)G=this.files[q],(L=q.slice(this.root.length,q.length))&&q.slice(0,this.root.length)===this.root&&D(L,G)},filter:function(D){var q=[];return this.forEach(function(L,G){D(L,G)&&q.push(G)}),q},file:function(D,q,L){if(arguments.length!==1)return D=this.root+D,d.call(this,D,q,L),this;if(E(D)){var G=D;return this.filter(function($,mt){return!mt.dir&&G.test($)})}var Z=this.files[this.root+D];return Z&&!Z.dir?Z:null},folder:function(D){if(!D)return this;if(E(D))return this.filter(function(Z,$){return $.dir&&D.test(Z)});var q=this.root+D,L=k.call(this,q),G=this.clone();return G.root=L.name,G},remove:function(D){D=this.root+D;var q=this.files[D];if(q||(D.slice(-1)!=="/"&&(D+="/"),q=this.files[D]),q&&!q.dir)delete this.files[D];else for(var L=this.filter(function(Z,$){return $.name.slice(0,D.length)===D}),G=0;G<L.length;G++)delete this.files[L[G].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(D){var q,L={};try{if((L=h.extend(D||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:f.utf8encode})).type=L.type.toLowerCase(),L.compression=L.compression.toUpperCase(),L.type==="binarystring"&&(L.type="string"),!L.type)throw new Error("No output type specified.");h.checkSupport(L.type),L.platform!=="darwin"&&L.platform!=="freebsd"&&L.platform!=="linux"&&L.platform!=="sunos"||(L.platform="UNIX"),L.platform==="win32"&&(L.platform="DOS");var G=L.comment||this.comment||"";q=b.generateWorker(this,L,G)}catch(Z){(q=new m("error")).error(Z)}return new p(q,L.type||"string",L.mimeType)},generateAsync:function(D,q){return this.generateInternalStream(D).accumulate(q)},generateNodeStream:function(D,q){return(D=D||{}).type||(D.type="nodebuffer"),this.generateInternalStream(D).toNodejsStream(q)}};o.exports=B},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,o,c){o.exports=r("stream")},{stream:void 0}],17:[function(r,o,c){var d=r("./DataReader");function f(h){d.call(this,h);for(var m=0;m<this.data.length;m++)h[m]=255&h[m]}r("../utils").inherits(f,d),f.prototype.byteAt=function(h){return this.data[this.zero+h]},f.prototype.lastIndexOfSignature=function(h){for(var m=h.charCodeAt(0),p=h.charCodeAt(1),g=h.charCodeAt(2),y=h.charCodeAt(3),w=this.length-4;0<=w;--w)if(this.data[w]===m&&this.data[w+1]===p&&this.data[w+2]===g&&this.data[w+3]===y)return w-this.zero;return-1},f.prototype.readAndCheckSignature=function(h){var m=h.charCodeAt(0),p=h.charCodeAt(1),g=h.charCodeAt(2),y=h.charCodeAt(3),w=this.readData(4);return m===w[0]&&p===w[1]&&g===w[2]&&y===w[3]},f.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var m=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,m},o.exports=f},{"../utils":32,"./DataReader":18}],18:[function(r,o,c){var d=r("../utils");function f(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}f.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var m,p=0;for(this.checkOffset(h),m=this.index+h-1;m>=this.index;m--)p=(p<<8)+this.byteAt(m);return this.index+=h,p},readString:function(h){return d.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC(1980+(h>>25&127),(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(31&h)<<1))}},o.exports=f},{"../utils":32}],19:[function(r,o,c){var d=r("./Uint8ArrayReader");function f(h){d.call(this,h)}r("../utils").inherits(f,d),f.prototype.readData=function(h){this.checkOffset(h);var m=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,m},o.exports=f},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,o,c){var d=r("./DataReader");function f(h){d.call(this,h)}r("../utils").inherits(f,d),f.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},f.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},f.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},f.prototype.readData=function(h){this.checkOffset(h);var m=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,m},o.exports=f},{"../utils":32,"./DataReader":18}],21:[function(r,o,c){var d=r("./ArrayReader");function f(h){d.call(this,h)}r("../utils").inherits(f,d),f.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var m=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,m},o.exports=f},{"../utils":32,"./ArrayReader":17}],22:[function(r,o,c){var d=r("../utils"),f=r("../support"),h=r("./ArrayReader"),m=r("./StringReader"),p=r("./NodeBufferReader"),g=r("./Uint8ArrayReader");o.exports=function(y){var w=d.getTypeOf(y);return d.checkSupport(w),w!=="string"||f.uint8array?w==="nodebuffer"?new p(y):f.uint8array?new g(d.transformTo("uint8array",y)):new h(d.transformTo("array",y)):new m(y)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,o,c){c.LOCAL_FILE_HEADER="PK",c.CENTRAL_FILE_HEADER="PK",c.CENTRAL_DIRECTORY_END="PK",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",c.ZIP64_CENTRAL_DIRECTORY_END="PK",c.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,o,c){var d=r("./GenericWorker"),f=r("../utils");function h(m){d.call(this,"ConvertWorker to "+m),this.destType=m}f.inherits(h,d),h.prototype.processChunk=function(m){this.push({data:f.transformTo(this.destType,m.data),meta:m.meta})},o.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(r,o,c){var d=r("./GenericWorker"),f=r("../crc32");function h(){d.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(h,d),h.prototype.processChunk=function(m){this.streamInfo.crc32=f(m.data,this.streamInfo.crc32||0),this.push(m)},o.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,o,c){var d=r("../utils"),f=r("./GenericWorker");function h(m){f.call(this,"DataLengthProbe for "+m),this.propName=m,this.withStreamInfo(m,0)}d.inherits(h,f),h.prototype.processChunk=function(m){if(m){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+m.data.length}f.prototype.processChunk.call(this,m)},o.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(r,o,c){var d=r("../utils"),f=r("./GenericWorker");function h(m){f.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,m.then(function(g){p.dataIsReady=!0,p.data=g,p.max=g&&g.length||0,p.type=d.getTypeOf(g),p.isPaused||p._tickAndRepeat()},function(g){p.error(g)})}d.inherits(h,f),h.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,d.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(d.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var m=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":m=this.data.substring(this.index,p);break;case"uint8array":m=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":m=this.data.slice(this.index,p)}return this.index=p,this.push({data:m,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(r,o,c){function d(f){this.name=f||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}d.prototype={push:function(f){this.emit("data",f)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(f){this.emit("error",f)}return!0},error:function(f){return!this.isFinished&&(this.isPaused?this.generatedError=f:(this.isFinished=!0,this.emit("error",f),this.previous&&this.previous.error(f),this.cleanUp()),!0)},on:function(f,h){return this._listeners[f].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(f,h){if(this._listeners[f])for(var m=0;m<this._listeners[f].length;m++)this._listeners[f][m].call(this,h)},pipe:function(f){return f.registerPrevious(this)},registerPrevious:function(f){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=f.streamInfo,this.mergeStreamInfo(),this.previous=f;var h=this;return f.on("data",function(m){h.processChunk(m)}),f.on("end",function(){h.end()}),f.on("error",function(m){h.error(m)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var f=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),f=!0),this.previous&&this.previous.resume(),!f},flush:function(){},processChunk:function(f){this.push(f)},withStreamInfo:function(f,h){return this.extraStreamInfo[f]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var f in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,f)&&(this.streamInfo[f]=this.extraStreamInfo[f])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var f="Worker "+this.name;return this.previous?this.previous+" -> "+f:f}},o.exports=d},{}],29:[function(r,o,c){var d=r("../utils"),f=r("./ConvertWorker"),h=r("./GenericWorker"),m=r("../base64"),p=r("../support"),g=r("../external"),y=null;if(p.nodestream)try{y=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function w(A,S){return new g.Promise(function(z,C){var k=[],E=A._internalType,B=A._outputType,D=A._mimeType;A.on("data",function(q,L){k.push(q),S&&S(L)}).on("error",function(q){k=[],C(q)}).on("end",function(){try{var q=(function(L,G,Z){switch(L){case"blob":return d.newBlob(d.transformTo("arraybuffer",G),Z);case"base64":return m.encode(G);default:return d.transformTo(L,G)}})(B,(function(L,G){var Z,$=0,mt=null,U=0;for(Z=0;Z<G.length;Z++)U+=G[Z].length;switch(L){case"string":return G.join("");case"array":return Array.prototype.concat.apply([],G);case"uint8array":for(mt=new Uint8Array(U),Z=0;Z<G.length;Z++)mt.set(G[Z],$),$+=G[Z].length;return mt;case"nodebuffer":return Buffer.concat(G);default:throw new Error("concat : unsupported type '"+L+"'")}})(E,k),D);z(q)}catch(L){C(L)}k=[]}).resume()})}function b(A,S,z){var C=S;switch(S){case"blob":case"arraybuffer":C="uint8array";break;case"base64":C="string"}try{this._internalType=C,this._outputType=S,this._mimeType=z,d.checkSupport(C),this._worker=A.pipe(new f(C)),A.lock()}catch(k){this._worker=new h("error"),this._worker.error(k)}}b.prototype={accumulate:function(A){return w(this,A)},on:function(A,S){var z=this;return A==="data"?this._worker.on(A,function(C){S.call(z,C.data,C.meta)}):this._worker.on(A,function(){d.delay(S,arguments,z)}),this},resume:function(){return d.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(A){if(d.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new y(this,{objectMode:this._outputType!=="nodebuffer"},A)}},o.exports=b},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,o,c){if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",c.nodebuffer=typeof Buffer<"u",c.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")c.blob=!1;else{var d=new ArrayBuffer(0);try{c.blob=new Blob([d],{type:"application/zip"}).size===0}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);f.append(d),c.blob=f.getBlob("application/zip").size===0}catch{c.blob=!1}}}try{c.nodestream=!!r("readable-stream").Readable}catch{c.nodestream=!1}},{"readable-stream":16}],31:[function(r,o,c){for(var d=r("./utils"),f=r("./support"),h=r("./nodejsUtils"),m=r("./stream/GenericWorker"),p=new Array(256),g=0;g<256;g++)p[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;p[254]=p[254]=1;function y(){m.call(this,"utf-8 decode"),this.leftOver=null}function w(){m.call(this,"utf-8 encode")}c.utf8encode=function(b){return f.nodebuffer?h.newBufferFrom(b,"utf-8"):(function(A){var S,z,C,k,E,B=A.length,D=0;for(k=0;k<B;k++)(64512&(z=A.charCodeAt(k)))==55296&&k+1<B&&(64512&(C=A.charCodeAt(k+1)))==56320&&(z=65536+(z-55296<<10)+(C-56320),k++),D+=z<128?1:z<2048?2:z<65536?3:4;for(S=f.uint8array?new Uint8Array(D):new Array(D),k=E=0;E<D;k++)(64512&(z=A.charCodeAt(k)))==55296&&k+1<B&&(64512&(C=A.charCodeAt(k+1)))==56320&&(z=65536+(z-55296<<10)+(C-56320),k++),z<128?S[E++]=z:(z<2048?S[E++]=192|z>>>6:(z<65536?S[E++]=224|z>>>12:(S[E++]=240|z>>>18,S[E++]=128|z>>>12&63),S[E++]=128|z>>>6&63),S[E++]=128|63&z);return S})(b)},c.utf8decode=function(b){return f.nodebuffer?d.transformTo("nodebuffer",b).toString("utf-8"):(function(A){var S,z,C,k,E=A.length,B=new Array(2*E);for(S=z=0;S<E;)if((C=A[S++])<128)B[z++]=C;else if(4<(k=p[C]))B[z++]=65533,S+=k-1;else{for(C&=k===2?31:k===3?15:7;1<k&&S<E;)C=C<<6|63&A[S++],k--;1<k?B[z++]=65533:C<65536?B[z++]=C:(C-=65536,B[z++]=55296|C>>10&1023,B[z++]=56320|1023&C)}return B.length!==z&&(B.subarray?B=B.subarray(0,z):B.length=z),d.applyFromCharCode(B)})(b=d.transformTo(f.uint8array?"uint8array":"array",b))},d.inherits(y,m),y.prototype.processChunk=function(b){var A=d.transformTo(f.uint8array?"uint8array":"array",b.data);if(this.leftOver&&this.leftOver.length){if(f.uint8array){var S=A;(A=new Uint8Array(S.length+this.leftOver.length)).set(this.leftOver,0),A.set(S,this.leftOver.length)}else A=this.leftOver.concat(A);this.leftOver=null}var z=(function(k,E){var B;for((E=E||k.length)>k.length&&(E=k.length),B=E-1;0<=B&&(192&k[B])==128;)B--;return B<0||B===0?E:B+p[k[B]]>E?B:E})(A),C=A;z!==A.length&&(f.uint8array?(C=A.subarray(0,z),this.leftOver=A.subarray(z,A.length)):(C=A.slice(0,z),this.leftOver=A.slice(z,A.length))),this.push({data:c.utf8decode(C),meta:b.meta})},y.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:c.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},c.Utf8DecodeWorker=y,d.inherits(w,m),w.prototype.processChunk=function(b){this.push({data:c.utf8encode(b.data),meta:b.meta})},c.Utf8EncodeWorker=w},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,o,c){var d=r("./support"),f=r("./base64"),h=r("./nodejsUtils"),m=r("./external");function p(S){return S}function g(S,z){for(var C=0;C<S.length;++C)z[C]=255&S.charCodeAt(C);return z}r("setimmediate"),c.newBlob=function(S,z){c.checkSupport("blob");try{return new Blob([S],{type:z})}catch{try{var C=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return C.append(S),C.getBlob(z)}catch{throw new Error("Bug : can't construct the Blob.")}}};var y={stringifyByChunk:function(S,z,C){var k=[],E=0,B=S.length;if(B<=C)return String.fromCharCode.apply(null,S);for(;E<B;)z==="array"||z==="nodebuffer"?k.push(String.fromCharCode.apply(null,S.slice(E,Math.min(E+C,B)))):k.push(String.fromCharCode.apply(null,S.subarray(E,Math.min(E+C,B)))),E+=C;return k.join("")},stringifyByChar:function(S){for(var z="",C=0;C<S.length;C++)z+=String.fromCharCode(S[C]);return z},applyCanBeUsed:{uint8array:(function(){try{return d.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return d.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch{return!1}})()}};function w(S){var z=65536,C=c.getTypeOf(S),k=!0;if(C==="uint8array"?k=y.applyCanBeUsed.uint8array:C==="nodebuffer"&&(k=y.applyCanBeUsed.nodebuffer),k)for(;1<z;)try{return y.stringifyByChunk(S,C,z)}catch{z=Math.floor(z/2)}return y.stringifyByChar(S)}function b(S,z){for(var C=0;C<S.length;C++)z[C]=S[C];return z}c.applyFromCharCode=w;var A={};A.string={string:p,array:function(S){return g(S,new Array(S.length))},arraybuffer:function(S){return A.string.uint8array(S).buffer},uint8array:function(S){return g(S,new Uint8Array(S.length))},nodebuffer:function(S){return g(S,h.allocBuffer(S.length))}},A.array={string:w,array:p,arraybuffer:function(S){return new Uint8Array(S).buffer},uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return h.newBufferFrom(S)}},A.arraybuffer={string:function(S){return w(new Uint8Array(S))},array:function(S){return b(new Uint8Array(S),new Array(S.byteLength))},arraybuffer:p,uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return h.newBufferFrom(new Uint8Array(S))}},A.uint8array={string:w,array:function(S){return b(S,new Array(S.length))},arraybuffer:function(S){return S.buffer},uint8array:p,nodebuffer:function(S){return h.newBufferFrom(S)}},A.nodebuffer={string:w,array:function(S){return b(S,new Array(S.length))},arraybuffer:function(S){return A.nodebuffer.uint8array(S).buffer},uint8array:function(S){return b(S,new Uint8Array(S.length))},nodebuffer:p},c.transformTo=function(S,z){if(z=z||"",!S)return z;c.checkSupport(S);var C=c.getTypeOf(z);return A[C][S](z)},c.resolve=function(S){for(var z=S.split("/"),C=[],k=0;k<z.length;k++){var E=z[k];E==="."||E===""&&k!==0&&k!==z.length-1||(E===".."?C.pop():C.push(E))}return C.join("/")},c.getTypeOf=function(S){return typeof S=="string"?"string":Object.prototype.toString.call(S)==="[object Array]"?"array":d.nodebuffer&&h.isBuffer(S)?"nodebuffer":d.uint8array&&S instanceof Uint8Array?"uint8array":d.arraybuffer&&S instanceof ArrayBuffer?"arraybuffer":void 0},c.checkSupport=function(S){if(!d[S.toLowerCase()])throw new Error(S+" is not supported by this platform")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(S){var z,C,k="";for(C=0;C<(S||"").length;C++)k+="\\x"+((z=S.charCodeAt(C))<16?"0":"")+z.toString(16).toUpperCase();return k},c.delay=function(S,z,C){setImmediate(function(){S.apply(C||null,z||[])})},c.inherits=function(S,z){function C(){}C.prototype=z.prototype,S.prototype=new C},c.extend=function(){var S,z,C={};for(S=0;S<arguments.length;S++)for(z in arguments[S])Object.prototype.hasOwnProperty.call(arguments[S],z)&&C[z]===void 0&&(C[z]=arguments[S][z]);return C},c.prepareContent=function(S,z,C,k,E){return m.Promise.resolve(z).then(function(B){return d.blob&&(B instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(B))!==-1)&&typeof FileReader<"u"?new m.Promise(function(D,q){var L=new FileReader;L.onload=function(G){D(G.target.result)},L.onerror=function(G){q(G.target.error)},L.readAsArrayBuffer(B)}):B}).then(function(B){var D=c.getTypeOf(B);return D?(D==="arraybuffer"?B=c.transformTo("uint8array",B):D==="string"&&(E?B=f.decode(B):C&&k!==!0&&(B=(function(q){return g(q,d.uint8array?new Uint8Array(q.length):new Array(q.length))})(B))),B):m.Promise.reject(new Error("Can't read the data of '"+S+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,o,c){var d=r("./reader/readerFor"),f=r("./utils"),h=r("./signature"),m=r("./zipEntry"),p=r("./support");function g(y){this.files=[],this.loadOptions=y}g.prototype={checkSignature:function(y){if(!this.reader.readAndCheckSignature(y)){this.reader.index-=4;var w=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+f.pretty(w)+", expected "+f.pretty(y)+")")}},isSignature:function(y,w){var b=this.reader.index;this.reader.setIndex(y);var A=this.reader.readString(4)===w;return this.reader.setIndex(b),A},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var y=this.reader.readData(this.zipCommentLength),w=p.uint8array?"uint8array":"array",b=f.transformTo(w,y);this.zipComment=this.loadOptions.decodeFileName(b)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var y,w,b,A=this.zip64EndOfCentralSize-44;0<A;)y=this.reader.readInt(2),w=this.reader.readInt(4),b=this.reader.readData(w),this.zip64ExtensibleData[y]={id:y,length:w,value:b}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var y,w;for(y=0;y<this.files.length;y++)w=this.files[y],this.reader.setIndex(w.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),w.readLocalPart(this.reader),w.handleUTF8(),w.processAttributes()},readCentralDir:function(){var y;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(y=new m({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(y);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var y=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(y<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(y);var w=y;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===f.MAX_VALUE_16BITS||this.diskWithCentralDirStart===f.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===f.MAX_VALUE_16BITS||this.centralDirRecords===f.MAX_VALUE_16BITS||this.centralDirSize===f.MAX_VALUE_32BITS||this.centralDirOffset===f.MAX_VALUE_32BITS){if(this.zip64=!0,(y=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(y),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var b=this.centralDirOffset+this.centralDirSize;this.zip64&&(b+=20,b+=12+this.zip64EndOfCentralSize);var A=w-b;if(0<A)this.isSignature(w,h.CENTRAL_FILE_HEADER)||(this.reader.zero=A);else if(A<0)throw new Error("Corrupted zip: missing "+Math.abs(A)+" bytes.")},prepareReader:function(y){this.reader=d(y)},load:function(y){this.prepareReader(y),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=g},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,o,c){var d=r("./reader/readerFor"),f=r("./utils"),h=r("./compressedObject"),m=r("./crc32"),p=r("./utf8"),g=r("./compressions"),y=r("./support");function w(b,A){this.options=b,this.loadOptions=A}w.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(b){var A,S;if(b.skip(22),this.fileNameLength=b.readInt(2),S=b.readInt(2),this.fileName=b.readData(this.fileNameLength),b.skip(S),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((A=(function(z){for(var C in g)if(Object.prototype.hasOwnProperty.call(g,C)&&g[C].magic===z)return g[C];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+f.pretty(this.compressionMethod)+" unknown (inner file : "+f.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,A,b.readData(this.compressedSize))},readCentralPart:function(b){this.versionMadeBy=b.readInt(2),b.skip(2),this.bitFlag=b.readInt(2),this.compressionMethod=b.readString(2),this.date=b.readDate(),this.crc32=b.readInt(4),this.compressedSize=b.readInt(4),this.uncompressedSize=b.readInt(4);var A=b.readInt(2);if(this.extraFieldsLength=b.readInt(2),this.fileCommentLength=b.readInt(2),this.diskNumberStart=b.readInt(2),this.internalFileAttributes=b.readInt(2),this.externalFileAttributes=b.readInt(4),this.localHeaderOffset=b.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");b.skip(A),this.readExtraFields(b),this.parseZIP64ExtraField(b),this.fileComment=b.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var b=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),b==0&&(this.dosPermissions=63&this.externalFileAttributes),b==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var b=d(this.extraFields[1].value);this.uncompressedSize===f.MAX_VALUE_32BITS&&(this.uncompressedSize=b.readInt(8)),this.compressedSize===f.MAX_VALUE_32BITS&&(this.compressedSize=b.readInt(8)),this.localHeaderOffset===f.MAX_VALUE_32BITS&&(this.localHeaderOffset=b.readInt(8)),this.diskNumberStart===f.MAX_VALUE_32BITS&&(this.diskNumberStart=b.readInt(4))}},readExtraFields:function(b){var A,S,z,C=b.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});b.index+4<C;)A=b.readInt(2),S=b.readInt(2),z=b.readData(S),this.extraFields[A]={id:A,length:S,value:z};b.setIndex(C)},handleUTF8:function(){var b=y.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var A=this.findExtraFieldUnicodePath();if(A!==null)this.fileNameStr=A;else{var S=f.transformTo(b,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(S)}var z=this.findExtraFieldUnicodeComment();if(z!==null)this.fileCommentStr=z;else{var C=f.transformTo(b,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(C)}}},findExtraFieldUnicodePath:function(){var b=this.extraFields[28789];if(b){var A=d(b.value);return A.readInt(1)!==1||m(this.fileName)!==A.readInt(4)?null:p.utf8decode(A.readData(b.length-5))}return null},findExtraFieldUnicodeComment:function(){var b=this.extraFields[25461];if(b){var A=d(b.value);return A.readInt(1)!==1||m(this.fileComment)!==A.readInt(4)?null:p.utf8decode(A.readData(b.length-5))}return null}},o.exports=w},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,o,c){function d(A,S,z){this.name=A,this.dir=z.dir,this.date=z.date,this.comment=z.comment,this.unixPermissions=z.unixPermissions,this.dosPermissions=z.dosPermissions,this._data=S,this._dataBinary=z.binary,this.options={compression:z.compression,compressionOptions:z.compressionOptions}}var f=r("./stream/StreamHelper"),h=r("./stream/DataWorker"),m=r("./utf8"),p=r("./compressedObject"),g=r("./stream/GenericWorker");d.prototype={internalStream:function(A){var S=null,z="string";try{if(!A)throw new Error("No output type specified.");var C=(z=A.toLowerCase())==="string"||z==="text";z!=="binarystring"&&z!=="text"||(z="string"),S=this._decompressWorker();var k=!this._dataBinary;k&&!C&&(S=S.pipe(new m.Utf8EncodeWorker)),!k&&C&&(S=S.pipe(new m.Utf8DecodeWorker))}catch(E){(S=new g("error")).error(E)}return new f(S,z,"")},async:function(A,S){return this.internalStream(A).accumulate(S)},nodeStream:function(A,S){return this.internalStream(A||"nodebuffer").toNodejsStream(S)},_compressWorker:function(A,S){if(this._data instanceof p&&this._data.compression.magic===A.magic)return this._data.getCompressedWorker();var z=this._decompressWorker();return this._dataBinary||(z=z.pipe(new m.Utf8EncodeWorker)),p.createWorkerFrom(z,A,S)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof g?this._data:new h(this._data)}};for(var y=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],w=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},b=0;b<y.length;b++)d.prototype[y[b]]=w;o.exports=d},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,o,c){(function(d){var f,h,m=d.MutationObserver||d.WebKitMutationObserver;if(m){var p=0,g=new m(A),y=d.document.createTextNode("");g.observe(y,{characterData:!0}),f=function(){y.data=p=++p%2}}else if(d.setImmediate||d.MessageChannel===void 0)f="document"in d&&"onreadystatechange"in d.document.createElement("script")?function(){var S=d.document.createElement("script");S.onreadystatechange=function(){A(),S.onreadystatechange=null,S.parentNode.removeChild(S),S=null},d.document.documentElement.appendChild(S)}:function(){setTimeout(A,0)};else{var w=new d.MessageChannel;w.port1.onmessage=A,f=function(){w.port2.postMessage(0)}}var b=[];function A(){var S,z;h=!0;for(var C=b.length;C;){for(z=b,b=[],S=-1;++S<C;)z[S]();C=b.length}h=!1}o.exports=function(S){b.push(S)!==1||h||f()}}).call(this,typeof ko<"u"?ko:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,o,c){var d=r("immediate");function f(){}var h={},m=["REJECTED"],p=["FULFILLED"],g=["PENDING"];function y(C){if(typeof C!="function")throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,C!==f&&S(this,C)}function w(C,k,E){this.promise=C,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function b(C,k,E){d(function(){var B;try{B=k(E)}catch(D){return h.reject(C,D)}B===C?h.reject(C,new TypeError("Cannot resolve promise with itself")):h.resolve(C,B)})}function A(C){var k=C&&C.then;if(C&&(typeof C=="object"||typeof C=="function")&&typeof k=="function")return function(){k.apply(C,arguments)}}function S(C,k){var E=!1;function B(L){E||(E=!0,h.reject(C,L))}function D(L){E||(E=!0,h.resolve(C,L))}var q=z(function(){k(D,B)});q.status==="error"&&B(q.value)}function z(C,k){var E={};try{E.value=C(k),E.status="success"}catch(B){E.status="error",E.value=B}return E}(o.exports=y).prototype.finally=function(C){if(typeof C!="function")return this;var k=this.constructor;return this.then(function(E){return k.resolve(C()).then(function(){return E})},function(E){return k.resolve(C()).then(function(){throw E})})},y.prototype.catch=function(C){return this.then(null,C)},y.prototype.then=function(C,k){if(typeof C!="function"&&this.state===p||typeof k!="function"&&this.state===m)return this;var E=new this.constructor(f);return this.state!==g?b(E,this.state===p?C:k,this.outcome):this.queue.push(new w(E,C,k)),E},w.prototype.callFulfilled=function(C){h.resolve(this.promise,C)},w.prototype.otherCallFulfilled=function(C){b(this.promise,this.onFulfilled,C)},w.prototype.callRejected=function(C){h.reject(this.promise,C)},w.prototype.otherCallRejected=function(C){b(this.promise,this.onRejected,C)},h.resolve=function(C,k){var E=z(A,k);if(E.status==="error")return h.reject(C,E.value);var B=E.value;if(B)S(C,B);else{C.state=p,C.outcome=k;for(var D=-1,q=C.queue.length;++D<q;)C.queue[D].callFulfilled(k)}return C},h.reject=function(C,k){C.state=m,C.outcome=k;for(var E=-1,B=C.queue.length;++E<B;)C.queue[E].callRejected(k);return C},y.resolve=function(C){return C instanceof this?C:h.resolve(new this(f),C)},y.reject=function(C){var k=new this(f);return h.reject(k,C)},y.all=function(C){var k=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=C.length,B=!1;if(!E)return this.resolve([]);for(var D=new Array(E),q=0,L=-1,G=new this(f);++L<E;)Z(C[L],L);return G;function Z($,mt){k.resolve($).then(function(U){D[mt]=U,++q!==E||B||(B=!0,h.resolve(G,D))},function(U){B||(B=!0,h.reject(G,U))})}},y.race=function(C){var k=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=C.length,B=!1;if(!E)return this.resolve([]);for(var D=-1,q=new this(f);++D<E;)L=C[D],k.resolve(L).then(function(G){B||(B=!0,h.resolve(q,G))},function(G){B||(B=!0,h.reject(q,G))});var L;return q}},{immediate:36}],38:[function(r,o,c){var d={};(0,r("./lib/utils/common").assign)(d,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),o.exports=d},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,o,c){var d=r("./zlib/deflate"),f=r("./utils/common"),h=r("./utils/strings"),m=r("./zlib/messages"),p=r("./zlib/zstream"),g=Object.prototype.toString,y=0,w=-1,b=0,A=8;function S(C){if(!(this instanceof S))return new S(C);this.options=f.assign({level:w,method:A,chunkSize:16384,windowBits:15,memLevel:8,strategy:b,to:""},C||{});var k=this.options;k.raw&&0<k.windowBits?k.windowBits=-k.windowBits:k.gzip&&0<k.windowBits&&k.windowBits<16&&(k.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var E=d.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(E!==y)throw new Error(m[E]);if(k.header&&d.deflateSetHeader(this.strm,k.header),k.dictionary){var B;if(B=typeof k.dictionary=="string"?h.string2buf(k.dictionary):g.call(k.dictionary)==="[object ArrayBuffer]"?new Uint8Array(k.dictionary):k.dictionary,(E=d.deflateSetDictionary(this.strm,B))!==y)throw new Error(m[E]);this._dict_set=!0}}function z(C,k){var E=new S(k);if(E.push(C,!0),E.err)throw E.msg||m[E.err];return E.result}S.prototype.push=function(C,k){var E,B,D=this.strm,q=this.options.chunkSize;if(this.ended)return!1;B=k===~~k?k:k===!0?4:0,typeof C=="string"?D.input=h.string2buf(C):g.call(C)==="[object ArrayBuffer]"?D.input=new Uint8Array(C):D.input=C,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new f.Buf8(q),D.next_out=0,D.avail_out=q),(E=d.deflate(D,B))!==1&&E!==y)return this.onEnd(E),!(this.ended=!0);D.avail_out!==0&&(D.avail_in!==0||B!==4&&B!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(f.shrinkBuf(D.output,D.next_out))):this.onData(f.shrinkBuf(D.output,D.next_out)))}while((0<D.avail_in||D.avail_out===0)&&E!==1);return B===4?(E=d.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===y):B!==2||(this.onEnd(y),!(D.avail_out=0))},S.prototype.onData=function(C){this.chunks.push(C)},S.prototype.onEnd=function(C){C===y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg},c.Deflate=S,c.deflate=z,c.deflateRaw=function(C,k){return(k=k||{}).raw=!0,z(C,k)},c.gzip=function(C,k){return(k=k||{}).gzip=!0,z(C,k)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,o,c){var d=r("./zlib/inflate"),f=r("./utils/common"),h=r("./utils/strings"),m=r("./zlib/constants"),p=r("./zlib/messages"),g=r("./zlib/zstream"),y=r("./zlib/gzheader"),w=Object.prototype.toString;function b(S){if(!(this instanceof b))return new b(S);this.options=f.assign({chunkSize:16384,windowBits:0,to:""},S||{});var z=this.options;z.raw&&0<=z.windowBits&&z.windowBits<16&&(z.windowBits=-z.windowBits,z.windowBits===0&&(z.windowBits=-15)),!(0<=z.windowBits&&z.windowBits<16)||S&&S.windowBits||(z.windowBits+=32),15<z.windowBits&&z.windowBits<48&&(15&z.windowBits)==0&&(z.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var C=d.inflateInit2(this.strm,z.windowBits);if(C!==m.Z_OK)throw new Error(p[C]);this.header=new y,d.inflateGetHeader(this.strm,this.header)}function A(S,z){var C=new b(z);if(C.push(S,!0),C.err)throw C.msg||p[C.err];return C.result}b.prototype.push=function(S,z){var C,k,E,B,D,q,L=this.strm,G=this.options.chunkSize,Z=this.options.dictionary,$=!1;if(this.ended)return!1;k=z===~~z?z:z===!0?m.Z_FINISH:m.Z_NO_FLUSH,typeof S=="string"?L.input=h.binstring2buf(S):w.call(S)==="[object ArrayBuffer]"?L.input=new Uint8Array(S):L.input=S,L.next_in=0,L.avail_in=L.input.length;do{if(L.avail_out===0&&(L.output=new f.Buf8(G),L.next_out=0,L.avail_out=G),(C=d.inflate(L,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&Z&&(q=typeof Z=="string"?h.string2buf(Z):w.call(Z)==="[object ArrayBuffer]"?new Uint8Array(Z):Z,C=d.inflateSetDictionary(this.strm,q)),C===m.Z_BUF_ERROR&&$===!0&&(C=m.Z_OK,$=!1),C!==m.Z_STREAM_END&&C!==m.Z_OK)return this.onEnd(C),!(this.ended=!0);L.next_out&&(L.avail_out!==0&&C!==m.Z_STREAM_END&&(L.avail_in!==0||k!==m.Z_FINISH&&k!==m.Z_SYNC_FLUSH)||(this.options.to==="string"?(E=h.utf8border(L.output,L.next_out),B=L.next_out-E,D=h.buf2string(L.output,E),L.next_out=B,L.avail_out=G-B,B&&f.arraySet(L.output,L.output,E,B,0),this.onData(D)):this.onData(f.shrinkBuf(L.output,L.next_out)))),L.avail_in===0&&L.avail_out===0&&($=!0)}while((0<L.avail_in||L.avail_out===0)&&C!==m.Z_STREAM_END);return C===m.Z_STREAM_END&&(k=m.Z_FINISH),k===m.Z_FINISH?(C=d.inflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===m.Z_OK):k!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(L.avail_out=0))},b.prototype.onData=function(S){this.chunks.push(S)},b.prototype.onEnd=function(S){S===m.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},c.Inflate=b,c.inflate=A,c.inflateRaw=function(S,z){return(z=z||{}).raw=!0,A(S,z)},c.ungzip=A},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,o,c){var d=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";c.assign=function(m){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var g=p.shift();if(g){if(typeof g!="object")throw new TypeError(g+"must be non-object");for(var y in g)g.hasOwnProperty(y)&&(m[y]=g[y])}}return m},c.shrinkBuf=function(m,p){return m.length===p?m:m.subarray?m.subarray(0,p):(m.length=p,m)};var f={arraySet:function(m,p,g,y,w){if(p.subarray&&m.subarray)m.set(p.subarray(g,g+y),w);else for(var b=0;b<y;b++)m[w+b]=p[g+b]},flattenChunks:function(m){var p,g,y,w,b,A;for(p=y=0,g=m.length;p<g;p++)y+=m[p].length;for(A=new Uint8Array(y),p=w=0,g=m.length;p<g;p++)b=m[p],A.set(b,w),w+=b.length;return A}},h={arraySet:function(m,p,g,y,w){for(var b=0;b<y;b++)m[w+b]=p[g+b]},flattenChunks:function(m){return[].concat.apply([],m)}};c.setTyped=function(m){m?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,f)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,h))},c.setTyped(d)},{}],42:[function(r,o,c){var d=r("./common"),f=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var m=new d.Buf8(256),p=0;p<256;p++)m[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function g(y,w){if(w<65537&&(y.subarray&&h||!y.subarray&&f))return String.fromCharCode.apply(null,d.shrinkBuf(y,w));for(var b="",A=0;A<w;A++)b+=String.fromCharCode(y[A]);return b}m[254]=m[254]=1,c.string2buf=function(y){var w,b,A,S,z,C=y.length,k=0;for(S=0;S<C;S++)(64512&(b=y.charCodeAt(S)))==55296&&S+1<C&&(64512&(A=y.charCodeAt(S+1)))==56320&&(b=65536+(b-55296<<10)+(A-56320),S++),k+=b<128?1:b<2048?2:b<65536?3:4;for(w=new d.Buf8(k),S=z=0;z<k;S++)(64512&(b=y.charCodeAt(S)))==55296&&S+1<C&&(64512&(A=y.charCodeAt(S+1)))==56320&&(b=65536+(b-55296<<10)+(A-56320),S++),b<128?w[z++]=b:(b<2048?w[z++]=192|b>>>6:(b<65536?w[z++]=224|b>>>12:(w[z++]=240|b>>>18,w[z++]=128|b>>>12&63),w[z++]=128|b>>>6&63),w[z++]=128|63&b);return w},c.buf2binstring=function(y){return g(y,y.length)},c.binstring2buf=function(y){for(var w=new d.Buf8(y.length),b=0,A=w.length;b<A;b++)w[b]=y.charCodeAt(b);return w},c.buf2string=function(y,w){var b,A,S,z,C=w||y.length,k=new Array(2*C);for(b=A=0;b<C;)if((S=y[b++])<128)k[A++]=S;else if(4<(z=m[S]))k[A++]=65533,b+=z-1;else{for(S&=z===2?31:z===3?15:7;1<z&&b<C;)S=S<<6|63&y[b++],z--;1<z?k[A++]=65533:S<65536?k[A++]=S:(S-=65536,k[A++]=55296|S>>10&1023,k[A++]=56320|1023&S)}return g(k,A)},c.utf8border=function(y,w){var b;for((w=w||y.length)>y.length&&(w=y.length),b=w-1;0<=b&&(192&y[b])==128;)b--;return b<0||b===0?w:b+m[y[b]]>w?b:w}},{"./common":41}],43:[function(r,o,c){o.exports=function(d,f,h,m){for(var p=65535&d|0,g=d>>>16&65535|0,y=0;h!==0;){for(h-=y=2e3<h?2e3:h;g=g+(p=p+f[m++]|0)|0,--y;);p%=65521,g%=65521}return p|g<<16|0}},{}],44:[function(r,o,c){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,o,c){var d=(function(){for(var f,h=[],m=0;m<256;m++){f=m;for(var p=0;p<8;p++)f=1&f?3988292384^f>>>1:f>>>1;h[m]=f}return h})();o.exports=function(f,h,m,p){var g=d,y=p+m;f^=-1;for(var w=p;w<y;w++)f=f>>>8^g[255&(f^h[w])];return-1^f}},{}],46:[function(r,o,c){var d,f=r("../utils/common"),h=r("./trees"),m=r("./adler32"),p=r("./crc32"),g=r("./messages"),y=0,w=4,b=0,A=-2,S=-1,z=4,C=2,k=8,E=9,B=286,D=30,q=19,L=2*B+1,G=15,Z=3,$=258,mt=$+Z+1,U=42,st=113,_=1,tt=2,X=3,V=4;function ot(x,rt){return x.msg=g[rt],rt}function it(x){return(x<<1)-(4<x?9:0)}function gt(x){for(var rt=x.length;0<=--rt;)x[rt]=0}function j(x){var rt=x.state,F=rt.pending;F>x.avail_out&&(F=x.avail_out),F!==0&&(f.arraySet(x.output,rt.pending_buf,rt.pending_out,F,x.next_out),x.next_out+=F,rt.pending_out+=F,x.total_out+=F,x.avail_out-=F,rt.pending-=F,rt.pending===0&&(rt.pending_out=0))}function O(x,rt){h._tr_flush_block(x,0<=x.block_start?x.block_start:-1,x.strstart-x.block_start,rt),x.block_start=x.strstart,j(x.strm)}function et(x,rt){x.pending_buf[x.pending++]=rt}function at(x,rt){x.pending_buf[x.pending++]=rt>>>8&255,x.pending_buf[x.pending++]=255&rt}function ct(x,rt){var F,R,N=x.max_chain_length,I=x.strstart,ft=x.prev_length,pt=x.nice_match,Q=x.strstart>x.w_size-mt?x.strstart-(x.w_size-mt):0,vt=x.window,wt=x.w_mask,xt=x.prev,Et=x.strstart+$,Zt=vt[I+ft-1],Ut=vt[I+ft];x.prev_length>=x.good_match&&(N>>=2),pt>x.lookahead&&(pt=x.lookahead);do if(vt[(F=rt)+ft]===Ut&&vt[F+ft-1]===Zt&&vt[F]===vt[I]&&vt[++F]===vt[I+1]){I+=2,F++;do;while(vt[++I]===vt[++F]&&vt[++I]===vt[++F]&&vt[++I]===vt[++F]&&vt[++I]===vt[++F]&&vt[++I]===vt[++F]&&vt[++I]===vt[++F]&&vt[++I]===vt[++F]&&vt[++I]===vt[++F]&&I<Et);if(R=$-(Et-I),I=Et-$,ft<R){if(x.match_start=rt,pt<=(ft=R))break;Zt=vt[I+ft-1],Ut=vt[I+ft]}}while((rt=xt[rt&wt])>Q&&--N!=0);return ft<=x.lookahead?ft:x.lookahead}function _t(x){var rt,F,R,N,I,ft,pt,Q,vt,wt,xt=x.w_size;do{if(N=x.window_size-x.lookahead-x.strstart,x.strstart>=xt+(xt-mt)){for(f.arraySet(x.window,x.window,xt,xt,0),x.match_start-=xt,x.strstart-=xt,x.block_start-=xt,rt=F=x.hash_size;R=x.head[--rt],x.head[rt]=xt<=R?R-xt:0,--F;);for(rt=F=xt;R=x.prev[--rt],x.prev[rt]=xt<=R?R-xt:0,--F;);N+=xt}if(x.strm.avail_in===0)break;if(ft=x.strm,pt=x.window,Q=x.strstart+x.lookahead,vt=N,wt=void 0,wt=ft.avail_in,vt<wt&&(wt=vt),F=wt===0?0:(ft.avail_in-=wt,f.arraySet(pt,ft.input,ft.next_in,wt,Q),ft.state.wrap===1?ft.adler=m(ft.adler,pt,wt,Q):ft.state.wrap===2&&(ft.adler=p(ft.adler,pt,wt,Q)),ft.next_in+=wt,ft.total_in+=wt,wt),x.lookahead+=F,x.lookahead+x.insert>=Z)for(I=x.strstart-x.insert,x.ins_h=x.window[I],x.ins_h=(x.ins_h<<x.hash_shift^x.window[I+1])&x.hash_mask;x.insert&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[I+Z-1])&x.hash_mask,x.prev[I&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=I,I++,x.insert--,!(x.lookahead+x.insert<Z)););}while(x.lookahead<mt&&x.strm.avail_in!==0)}function kt(x,rt){for(var F,R;;){if(x.lookahead<mt){if(_t(x),x.lookahead<mt&&rt===y)return _;if(x.lookahead===0)break}if(F=0,x.lookahead>=Z&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+Z-1])&x.hash_mask,F=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),F!==0&&x.strstart-F<=x.w_size-mt&&(x.match_length=ct(x,F)),x.match_length>=Z)if(R=h._tr_tally(x,x.strstart-x.match_start,x.match_length-Z),x.lookahead-=x.match_length,x.match_length<=x.max_lazy_match&&x.lookahead>=Z){for(x.match_length--;x.strstart++,x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+Z-1])&x.hash_mask,F=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart,--x.match_length!=0;);x.strstart++}else x.strstart+=x.match_length,x.match_length=0,x.ins_h=x.window[x.strstart],x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+1])&x.hash_mask;else R=h._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++;if(R&&(O(x,!1),x.strm.avail_out===0))return _}return x.insert=x.strstart<Z-1?x.strstart:Z-1,rt===w?(O(x,!0),x.strm.avail_out===0?X:V):x.last_lit&&(O(x,!1),x.strm.avail_out===0)?_:tt}function bt(x,rt){for(var F,R,N;;){if(x.lookahead<mt){if(_t(x),x.lookahead<mt&&rt===y)return _;if(x.lookahead===0)break}if(F=0,x.lookahead>=Z&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+Z-1])&x.hash_mask,F=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),x.prev_length=x.match_length,x.prev_match=x.match_start,x.match_length=Z-1,F!==0&&x.prev_length<x.max_lazy_match&&x.strstart-F<=x.w_size-mt&&(x.match_length=ct(x,F),x.match_length<=5&&(x.strategy===1||x.match_length===Z&&4096<x.strstart-x.match_start)&&(x.match_length=Z-1)),x.prev_length>=Z&&x.match_length<=x.prev_length){for(N=x.strstart+x.lookahead-Z,R=h._tr_tally(x,x.strstart-1-x.prev_match,x.prev_length-Z),x.lookahead-=x.prev_length-1,x.prev_length-=2;++x.strstart<=N&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+Z-1])&x.hash_mask,F=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),--x.prev_length!=0;);if(x.match_available=0,x.match_length=Z-1,x.strstart++,R&&(O(x,!1),x.strm.avail_out===0))return _}else if(x.match_available){if((R=h._tr_tally(x,0,x.window[x.strstart-1]))&&O(x,!1),x.strstart++,x.lookahead--,x.strm.avail_out===0)return _}else x.match_available=1,x.strstart++,x.lookahead--}return x.match_available&&(R=h._tr_tally(x,0,x.window[x.strstart-1]),x.match_available=0),x.insert=x.strstart<Z-1?x.strstart:Z-1,rt===w?(O(x,!0),x.strm.avail_out===0?X:V):x.last_lit&&(O(x,!1),x.strm.avail_out===0)?_:tt}function St(x,rt,F,R,N){this.good_length=x,this.max_lazy=rt,this.nice_length=F,this.max_chain=R,this.func=N}function yt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new f.Buf16(2*L),this.dyn_dtree=new f.Buf16(2*(2*D+1)),this.bl_tree=new f.Buf16(2*(2*q+1)),gt(this.dyn_ltree),gt(this.dyn_dtree),gt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new f.Buf16(G+1),this.heap=new f.Buf16(2*B+1),gt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new f.Buf16(2*B+1),gt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Tt(x){var rt;return x&&x.state?(x.total_in=x.total_out=0,x.data_type=C,(rt=x.state).pending=0,rt.pending_out=0,rt.wrap<0&&(rt.wrap=-rt.wrap),rt.status=rt.wrap?U:st,x.adler=rt.wrap===2?0:1,rt.last_flush=y,h._tr_init(rt),b):ot(x,A)}function Nt(x){var rt=Tt(x);return rt===b&&(function(F){F.window_size=2*F.w_size,gt(F.head),F.max_lazy_match=d[F.level].max_lazy,F.good_match=d[F.level].good_length,F.nice_match=d[F.level].nice_length,F.max_chain_length=d[F.level].max_chain,F.strstart=0,F.block_start=0,F.lookahead=0,F.insert=0,F.match_length=F.prev_length=Z-1,F.match_available=0,F.ins_h=0})(x.state),rt}function Rt(x,rt,F,R,N,I){if(!x)return A;var ft=1;if(rt===S&&(rt=6),R<0?(ft=0,R=-R):15<R&&(ft=2,R-=16),N<1||E<N||F!==k||R<8||15<R||rt<0||9<rt||I<0||z<I)return ot(x,A);R===8&&(R=9);var pt=new yt;return(x.state=pt).strm=x,pt.wrap=ft,pt.gzhead=null,pt.w_bits=R,pt.w_size=1<<pt.w_bits,pt.w_mask=pt.w_size-1,pt.hash_bits=N+7,pt.hash_size=1<<pt.hash_bits,pt.hash_mask=pt.hash_size-1,pt.hash_shift=~~((pt.hash_bits+Z-1)/Z),pt.window=new f.Buf8(2*pt.w_size),pt.head=new f.Buf16(pt.hash_size),pt.prev=new f.Buf16(pt.w_size),pt.lit_bufsize=1<<N+6,pt.pending_buf_size=4*pt.lit_bufsize,pt.pending_buf=new f.Buf8(pt.pending_buf_size),pt.d_buf=1*pt.lit_bufsize,pt.l_buf=3*pt.lit_bufsize,pt.level=rt,pt.strategy=I,pt.method=F,Nt(x)}d=[new St(0,0,0,0,function(x,rt){var F=65535;for(F>x.pending_buf_size-5&&(F=x.pending_buf_size-5);;){if(x.lookahead<=1){if(_t(x),x.lookahead===0&&rt===y)return _;if(x.lookahead===0)break}x.strstart+=x.lookahead,x.lookahead=0;var R=x.block_start+F;if((x.strstart===0||x.strstart>=R)&&(x.lookahead=x.strstart-R,x.strstart=R,O(x,!1),x.strm.avail_out===0)||x.strstart-x.block_start>=x.w_size-mt&&(O(x,!1),x.strm.avail_out===0))return _}return x.insert=0,rt===w?(O(x,!0),x.strm.avail_out===0?X:V):(x.strstart>x.block_start&&(O(x,!1),x.strm.avail_out),_)}),new St(4,4,8,4,kt),new St(4,5,16,8,kt),new St(4,6,32,32,kt),new St(4,4,16,16,bt),new St(8,16,32,32,bt),new St(8,16,128,128,bt),new St(8,32,128,256,bt),new St(32,128,258,1024,bt),new St(32,258,258,4096,bt)],c.deflateInit=function(x,rt){return Rt(x,rt,k,15,8,0)},c.deflateInit2=Rt,c.deflateReset=Nt,c.deflateResetKeep=Tt,c.deflateSetHeader=function(x,rt){return x&&x.state?x.state.wrap!==2?A:(x.state.gzhead=rt,b):A},c.deflate=function(x,rt){var F,R,N,I;if(!x||!x.state||5<rt||rt<0)return x?ot(x,A):A;if(R=x.state,!x.output||!x.input&&x.avail_in!==0||R.status===666&&rt!==w)return ot(x,x.avail_out===0?-5:A);if(R.strm=x,F=R.last_flush,R.last_flush=rt,R.status===U)if(R.wrap===2)x.adler=0,et(R,31),et(R,139),et(R,8),R.gzhead?(et(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),et(R,255&R.gzhead.time),et(R,R.gzhead.time>>8&255),et(R,R.gzhead.time>>16&255),et(R,R.gzhead.time>>24&255),et(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),et(R,255&R.gzhead.os),R.gzhead.extra&&R.gzhead.extra.length&&(et(R,255&R.gzhead.extra.length),et(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(x.adler=p(x.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=69):(et(R,0),et(R,0),et(R,0),et(R,0),et(R,0),et(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),et(R,3),R.status=st);else{var ft=k+(R.w_bits-8<<4)<<8;ft|=(2<=R.strategy||R.level<2?0:R.level<6?1:R.level===6?2:3)<<6,R.strstart!==0&&(ft|=32),ft+=31-ft%31,R.status=st,at(R,ft),R.strstart!==0&&(at(R,x.adler>>>16),at(R,65535&x.adler)),x.adler=1}if(R.status===69)if(R.gzhead.extra){for(N=R.pending;R.gzindex<(65535&R.gzhead.extra.length)&&(R.pending!==R.pending_buf_size||(R.gzhead.hcrc&&R.pending>N&&(x.adler=p(x.adler,R.pending_buf,R.pending-N,N)),j(x),N=R.pending,R.pending!==R.pending_buf_size));)et(R,255&R.gzhead.extra[R.gzindex]),R.gzindex++;R.gzhead.hcrc&&R.pending>N&&(x.adler=p(x.adler,R.pending_buf,R.pending-N,N)),R.gzindex===R.gzhead.extra.length&&(R.gzindex=0,R.status=73)}else R.status=73;if(R.status===73)if(R.gzhead.name){N=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>N&&(x.adler=p(x.adler,R.pending_buf,R.pending-N,N)),j(x),N=R.pending,R.pending===R.pending_buf_size)){I=1;break}I=R.gzindex<R.gzhead.name.length?255&R.gzhead.name.charCodeAt(R.gzindex++):0,et(R,I)}while(I!==0);R.gzhead.hcrc&&R.pending>N&&(x.adler=p(x.adler,R.pending_buf,R.pending-N,N)),I===0&&(R.gzindex=0,R.status=91)}else R.status=91;if(R.status===91)if(R.gzhead.comment){N=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>N&&(x.adler=p(x.adler,R.pending_buf,R.pending-N,N)),j(x),N=R.pending,R.pending===R.pending_buf_size)){I=1;break}I=R.gzindex<R.gzhead.comment.length?255&R.gzhead.comment.charCodeAt(R.gzindex++):0,et(R,I)}while(I!==0);R.gzhead.hcrc&&R.pending>N&&(x.adler=p(x.adler,R.pending_buf,R.pending-N,N)),I===0&&(R.status=103)}else R.status=103;if(R.status===103&&(R.gzhead.hcrc?(R.pending+2>R.pending_buf_size&&j(x),R.pending+2<=R.pending_buf_size&&(et(R,255&x.adler),et(R,x.adler>>8&255),x.adler=0,R.status=st)):R.status=st),R.pending!==0){if(j(x),x.avail_out===0)return R.last_flush=-1,b}else if(x.avail_in===0&&it(rt)<=it(F)&&rt!==w)return ot(x,-5);if(R.status===666&&x.avail_in!==0)return ot(x,-5);if(x.avail_in!==0||R.lookahead!==0||rt!==y&&R.status!==666){var pt=R.strategy===2?(function(Q,vt){for(var wt;;){if(Q.lookahead===0&&(_t(Q),Q.lookahead===0)){if(vt===y)return _;break}if(Q.match_length=0,wt=h._tr_tally(Q,0,Q.window[Q.strstart]),Q.lookahead--,Q.strstart++,wt&&(O(Q,!1),Q.strm.avail_out===0))return _}return Q.insert=0,vt===w?(O(Q,!0),Q.strm.avail_out===0?X:V):Q.last_lit&&(O(Q,!1),Q.strm.avail_out===0)?_:tt})(R,rt):R.strategy===3?(function(Q,vt){for(var wt,xt,Et,Zt,Ut=Q.window;;){if(Q.lookahead<=$){if(_t(Q),Q.lookahead<=$&&vt===y)return _;if(Q.lookahead===0)break}if(Q.match_length=0,Q.lookahead>=Z&&0<Q.strstart&&(xt=Ut[Et=Q.strstart-1])===Ut[++Et]&&xt===Ut[++Et]&&xt===Ut[++Et]){Zt=Q.strstart+$;do;while(xt===Ut[++Et]&&xt===Ut[++Et]&&xt===Ut[++Et]&&xt===Ut[++Et]&&xt===Ut[++Et]&&xt===Ut[++Et]&&xt===Ut[++Et]&&xt===Ut[++Et]&&Et<Zt);Q.match_length=$-(Zt-Et),Q.match_length>Q.lookahead&&(Q.match_length=Q.lookahead)}if(Q.match_length>=Z?(wt=h._tr_tally(Q,1,Q.match_length-Z),Q.lookahead-=Q.match_length,Q.strstart+=Q.match_length,Q.match_length=0):(wt=h._tr_tally(Q,0,Q.window[Q.strstart]),Q.lookahead--,Q.strstart++),wt&&(O(Q,!1),Q.strm.avail_out===0))return _}return Q.insert=0,vt===w?(O(Q,!0),Q.strm.avail_out===0?X:V):Q.last_lit&&(O(Q,!1),Q.strm.avail_out===0)?_:tt})(R,rt):d[R.level].func(R,rt);if(pt!==X&&pt!==V||(R.status=666),pt===_||pt===X)return x.avail_out===0&&(R.last_flush=-1),b;if(pt===tt&&(rt===1?h._tr_align(R):rt!==5&&(h._tr_stored_block(R,0,0,!1),rt===3&&(gt(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),j(x),x.avail_out===0))return R.last_flush=-1,b}return rt!==w?b:R.wrap<=0?1:(R.wrap===2?(et(R,255&x.adler),et(R,x.adler>>8&255),et(R,x.adler>>16&255),et(R,x.adler>>24&255),et(R,255&x.total_in),et(R,x.total_in>>8&255),et(R,x.total_in>>16&255),et(R,x.total_in>>24&255)):(at(R,x.adler>>>16),at(R,65535&x.adler)),j(x),0<R.wrap&&(R.wrap=-R.wrap),R.pending!==0?b:1)},c.deflateEnd=function(x){var rt;return x&&x.state?(rt=x.state.status)!==U&&rt!==69&&rt!==73&&rt!==91&&rt!==103&&rt!==st&&rt!==666?ot(x,A):(x.state=null,rt===st?ot(x,-3):b):A},c.deflateSetDictionary=function(x,rt){var F,R,N,I,ft,pt,Q,vt,wt=rt.length;if(!x||!x.state||(I=(F=x.state).wrap)===2||I===1&&F.status!==U||F.lookahead)return A;for(I===1&&(x.adler=m(x.adler,rt,wt,0)),F.wrap=0,wt>=F.w_size&&(I===0&&(gt(F.head),F.strstart=0,F.block_start=0,F.insert=0),vt=new f.Buf8(F.w_size),f.arraySet(vt,rt,wt-F.w_size,F.w_size,0),rt=vt,wt=F.w_size),ft=x.avail_in,pt=x.next_in,Q=x.input,x.avail_in=wt,x.next_in=0,x.input=rt,_t(F);F.lookahead>=Z;){for(R=F.strstart,N=F.lookahead-(Z-1);F.ins_h=(F.ins_h<<F.hash_shift^F.window[R+Z-1])&F.hash_mask,F.prev[R&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=R,R++,--N;);F.strstart=R,F.lookahead=Z-1,_t(F)}return F.strstart+=F.lookahead,F.block_start=F.strstart,F.insert=F.lookahead,F.lookahead=0,F.match_length=F.prev_length=Z-1,F.match_available=0,x.next_in=pt,x.input=Q,x.avail_in=ft,F.wrap=I,b},c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,o,c){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,o,c){o.exports=function(d,f){var h,m,p,g,y,w,b,A,S,z,C,k,E,B,D,q,L,G,Z,$,mt,U,st,_,tt;h=d.state,m=d.next_in,_=d.input,p=m+(d.avail_in-5),g=d.next_out,tt=d.output,y=g-(f-d.avail_out),w=g+(d.avail_out-257),b=h.dmax,A=h.wsize,S=h.whave,z=h.wnext,C=h.window,k=h.hold,E=h.bits,B=h.lencode,D=h.distcode,q=(1<<h.lenbits)-1,L=(1<<h.distbits)-1;t:do{E<15&&(k+=_[m++]<<E,E+=8,k+=_[m++]<<E,E+=8),G=B[k&q];e:for(;;){if(k>>>=Z=G>>>24,E-=Z,(Z=G>>>16&255)===0)tt[g++]=65535&G;else{if(!(16&Z)){if((64&Z)==0){G=B[(65535&G)+(k&(1<<Z)-1)];continue e}if(32&Z){h.mode=12;break t}d.msg="invalid literal/length code",h.mode=30;break t}$=65535&G,(Z&=15)&&(E<Z&&(k+=_[m++]<<E,E+=8),$+=k&(1<<Z)-1,k>>>=Z,E-=Z),E<15&&(k+=_[m++]<<E,E+=8,k+=_[m++]<<E,E+=8),G=D[k&L];n:for(;;){if(k>>>=Z=G>>>24,E-=Z,!(16&(Z=G>>>16&255))){if((64&Z)==0){G=D[(65535&G)+(k&(1<<Z)-1)];continue n}d.msg="invalid distance code",h.mode=30;break t}if(mt=65535&G,E<(Z&=15)&&(k+=_[m++]<<E,(E+=8)<Z&&(k+=_[m++]<<E,E+=8)),b<(mt+=k&(1<<Z)-1)){d.msg="invalid distance too far back",h.mode=30;break t}if(k>>>=Z,E-=Z,(Z=g-y)<mt){if(S<(Z=mt-Z)&&h.sane){d.msg="invalid distance too far back",h.mode=30;break t}if(st=C,(U=0)===z){if(U+=A-Z,Z<$){for($-=Z;tt[g++]=C[U++],--Z;);U=g-mt,st=tt}}else if(z<Z){if(U+=A+z-Z,(Z-=z)<$){for($-=Z;tt[g++]=C[U++],--Z;);if(U=0,z<$){for($-=Z=z;tt[g++]=C[U++],--Z;);U=g-mt,st=tt}}}else if(U+=z-Z,Z<$){for($-=Z;tt[g++]=C[U++],--Z;);U=g-mt,st=tt}for(;2<$;)tt[g++]=st[U++],tt[g++]=st[U++],tt[g++]=st[U++],$-=3;$&&(tt[g++]=st[U++],1<$&&(tt[g++]=st[U++]))}else{for(U=g-mt;tt[g++]=tt[U++],tt[g++]=tt[U++],tt[g++]=tt[U++],2<($-=3););$&&(tt[g++]=tt[U++],1<$&&(tt[g++]=tt[U++]))}break}}break}}while(m<p&&g<w);m-=$=E>>3,k&=(1<<(E-=$<<3))-1,d.next_in=m,d.next_out=g,d.avail_in=m<p?p-m+5:5-(m-p),d.avail_out=g<w?w-g+257:257-(g-w),h.hold=k,h.bits=E}},{}],49:[function(r,o,c){var d=r("../utils/common"),f=r("./adler32"),h=r("./crc32"),m=r("./inffast"),p=r("./inftrees"),g=1,y=2,w=0,b=-2,A=1,S=852,z=592;function C(U){return(U>>>24&255)+(U>>>8&65280)+((65280&U)<<8)+((255&U)<<24)}function k(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function E(U){var st;return U&&U.state?(st=U.state,U.total_in=U.total_out=st.total=0,U.msg="",st.wrap&&(U.adler=1&st.wrap),st.mode=A,st.last=0,st.havedict=0,st.dmax=32768,st.head=null,st.hold=0,st.bits=0,st.lencode=st.lendyn=new d.Buf32(S),st.distcode=st.distdyn=new d.Buf32(z),st.sane=1,st.back=-1,w):b}function B(U){var st;return U&&U.state?((st=U.state).wsize=0,st.whave=0,st.wnext=0,E(U)):b}function D(U,st){var _,tt;return U&&U.state?(tt=U.state,st<0?(_=0,st=-st):(_=1+(st>>4),st<48&&(st&=15)),st&&(st<8||15<st)?b:(tt.window!==null&&tt.wbits!==st&&(tt.window=null),tt.wrap=_,tt.wbits=st,B(U))):b}function q(U,st){var _,tt;return U?(tt=new k,(U.state=tt).window=null,(_=D(U,st))!==w&&(U.state=null),_):b}var L,G,Z=!0;function $(U){if(Z){var st;for(L=new d.Buf32(512),G=new d.Buf32(32),st=0;st<144;)U.lens[st++]=8;for(;st<256;)U.lens[st++]=9;for(;st<280;)U.lens[st++]=7;for(;st<288;)U.lens[st++]=8;for(p(g,U.lens,0,288,L,0,U.work,{bits:9}),st=0;st<32;)U.lens[st++]=5;p(y,U.lens,0,32,G,0,U.work,{bits:5}),Z=!1}U.lencode=L,U.lenbits=9,U.distcode=G,U.distbits=5}function mt(U,st,_,tt){var X,V=U.state;return V.window===null&&(V.wsize=1<<V.wbits,V.wnext=0,V.whave=0,V.window=new d.Buf8(V.wsize)),tt>=V.wsize?(d.arraySet(V.window,st,_-V.wsize,V.wsize,0),V.wnext=0,V.whave=V.wsize):(tt<(X=V.wsize-V.wnext)&&(X=tt),d.arraySet(V.window,st,_-tt,X,V.wnext),(tt-=X)?(d.arraySet(V.window,st,_-tt,tt,0),V.wnext=tt,V.whave=V.wsize):(V.wnext+=X,V.wnext===V.wsize&&(V.wnext=0),V.whave<V.wsize&&(V.whave+=X))),0}c.inflateReset=B,c.inflateReset2=D,c.inflateResetKeep=E,c.inflateInit=function(U){return q(U,15)},c.inflateInit2=q,c.inflate=function(U,st){var _,tt,X,V,ot,it,gt,j,O,et,at,ct,_t,kt,bt,St,yt,Tt,Nt,Rt,x,rt,F,R,N=0,I=new d.Buf8(4),ft=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!U||!U.state||!U.output||!U.input&&U.avail_in!==0)return b;(_=U.state).mode===12&&(_.mode=13),ot=U.next_out,X=U.output,gt=U.avail_out,V=U.next_in,tt=U.input,it=U.avail_in,j=_.hold,O=_.bits,et=it,at=gt,rt=w;t:for(;;)switch(_.mode){case A:if(_.wrap===0){_.mode=13;break}for(;O<16;){if(it===0)break t;it--,j+=tt[V++]<<O,O+=8}if(2&_.wrap&&j===35615){I[_.check=0]=255&j,I[1]=j>>>8&255,_.check=h(_.check,I,2,0),O=j=0,_.mode=2;break}if(_.flags=0,_.head&&(_.head.done=!1),!(1&_.wrap)||(((255&j)<<8)+(j>>8))%31){U.msg="incorrect header check",_.mode=30;break}if((15&j)!=8){U.msg="unknown compression method",_.mode=30;break}if(O-=4,x=8+(15&(j>>>=4)),_.wbits===0)_.wbits=x;else if(x>_.wbits){U.msg="invalid window size",_.mode=30;break}_.dmax=1<<x,U.adler=_.check=1,_.mode=512&j?10:12,O=j=0;break;case 2:for(;O<16;){if(it===0)break t;it--,j+=tt[V++]<<O,O+=8}if(_.flags=j,(255&_.flags)!=8){U.msg="unknown compression method",_.mode=30;break}if(57344&_.flags){U.msg="unknown header flags set",_.mode=30;break}_.head&&(_.head.text=j>>8&1),512&_.flags&&(I[0]=255&j,I[1]=j>>>8&255,_.check=h(_.check,I,2,0)),O=j=0,_.mode=3;case 3:for(;O<32;){if(it===0)break t;it--,j+=tt[V++]<<O,O+=8}_.head&&(_.head.time=j),512&_.flags&&(I[0]=255&j,I[1]=j>>>8&255,I[2]=j>>>16&255,I[3]=j>>>24&255,_.check=h(_.check,I,4,0)),O=j=0,_.mode=4;case 4:for(;O<16;){if(it===0)break t;it--,j+=tt[V++]<<O,O+=8}_.head&&(_.head.xflags=255&j,_.head.os=j>>8),512&_.flags&&(I[0]=255&j,I[1]=j>>>8&255,_.check=h(_.check,I,2,0)),O=j=0,_.mode=5;case 5:if(1024&_.flags){for(;O<16;){if(it===0)break t;it--,j+=tt[V++]<<O,O+=8}_.length=j,_.head&&(_.head.extra_len=j),512&_.flags&&(I[0]=255&j,I[1]=j>>>8&255,_.check=h(_.check,I,2,0)),O=j=0}else _.head&&(_.head.extra=null);_.mode=6;case 6:if(1024&_.flags&&(it<(ct=_.length)&&(ct=it),ct&&(_.head&&(x=_.head.extra_len-_.length,_.head.extra||(_.head.extra=new Array(_.head.extra_len)),d.arraySet(_.head.extra,tt,V,ct,x)),512&_.flags&&(_.check=h(_.check,tt,ct,V)),it-=ct,V+=ct,_.length-=ct),_.length))break t;_.length=0,_.mode=7;case 7:if(2048&_.flags){if(it===0)break t;for(ct=0;x=tt[V+ct++],_.head&&x&&_.length<65536&&(_.head.name+=String.fromCharCode(x)),x&&ct<it;);if(512&_.flags&&(_.check=h(_.check,tt,ct,V)),it-=ct,V+=ct,x)break t}else _.head&&(_.head.name=null);_.length=0,_.mode=8;case 8:if(4096&_.flags){if(it===0)break t;for(ct=0;x=tt[V+ct++],_.head&&x&&_.length<65536&&(_.head.comment+=String.fromCharCode(x)),x&&ct<it;);if(512&_.flags&&(_.check=h(_.check,tt,ct,V)),it-=ct,V+=ct,x)break t}else _.head&&(_.head.comment=null);_.mode=9;case 9:if(512&_.flags){for(;O<16;){if(it===0)break t;it--,j+=tt[V++]<<O,O+=8}if(j!==(65535&_.check)){U.msg="header crc mismatch",_.mode=30;break}O=j=0}_.head&&(_.head.hcrc=_.flags>>9&1,_.head.done=!0),U.adler=_.check=0,_.mode=12;break;case 10:for(;O<32;){if(it===0)break t;it--,j+=tt[V++]<<O,O+=8}U.adler=_.check=C(j),O=j=0,_.mode=11;case 11:if(_.havedict===0)return U.next_out=ot,U.avail_out=gt,U.next_in=V,U.avail_in=it,_.hold=j,_.bits=O,2;U.adler=_.check=1,_.mode=12;case 12:if(st===5||st===6)break t;case 13:if(_.last){j>>>=7&O,O-=7&O,_.mode=27;break}for(;O<3;){if(it===0)break t;it--,j+=tt[V++]<<O,O+=8}switch(_.last=1&j,O-=1,3&(j>>>=1)){case 0:_.mode=14;break;case 1:if($(_),_.mode=20,st!==6)break;j>>>=2,O-=2;break t;case 2:_.mode=17;break;case 3:U.msg="invalid block type",_.mode=30}j>>>=2,O-=2;break;case 14:for(j>>>=7&O,O-=7&O;O<32;){if(it===0)break t;it--,j+=tt[V++]<<O,O+=8}if((65535&j)!=(j>>>16^65535)){U.msg="invalid stored block lengths",_.mode=30;break}if(_.length=65535&j,O=j=0,_.mode=15,st===6)break t;case 15:_.mode=16;case 16:if(ct=_.length){if(it<ct&&(ct=it),gt<ct&&(ct=gt),ct===0)break t;d.arraySet(X,tt,V,ct,ot),it-=ct,V+=ct,gt-=ct,ot+=ct,_.length-=ct;break}_.mode=12;break;case 17:for(;O<14;){if(it===0)break t;it--,j+=tt[V++]<<O,O+=8}if(_.nlen=257+(31&j),j>>>=5,O-=5,_.ndist=1+(31&j),j>>>=5,O-=5,_.ncode=4+(15&j),j>>>=4,O-=4,286<_.nlen||30<_.ndist){U.msg="too many length or distance symbols",_.mode=30;break}_.have=0,_.mode=18;case 18:for(;_.have<_.ncode;){for(;O<3;){if(it===0)break t;it--,j+=tt[V++]<<O,O+=8}_.lens[ft[_.have++]]=7&j,j>>>=3,O-=3}for(;_.have<19;)_.lens[ft[_.have++]]=0;if(_.lencode=_.lendyn,_.lenbits=7,F={bits:_.lenbits},rt=p(0,_.lens,0,19,_.lencode,0,_.work,F),_.lenbits=F.bits,rt){U.msg="invalid code lengths set",_.mode=30;break}_.have=0,_.mode=19;case 19:for(;_.have<_.nlen+_.ndist;){for(;St=(N=_.lencode[j&(1<<_.lenbits)-1])>>>16&255,yt=65535&N,!((bt=N>>>24)<=O);){if(it===0)break t;it--,j+=tt[V++]<<O,O+=8}if(yt<16)j>>>=bt,O-=bt,_.lens[_.have++]=yt;else{if(yt===16){for(R=bt+2;O<R;){if(it===0)break t;it--,j+=tt[V++]<<O,O+=8}if(j>>>=bt,O-=bt,_.have===0){U.msg="invalid bit length repeat",_.mode=30;break}x=_.lens[_.have-1],ct=3+(3&j),j>>>=2,O-=2}else if(yt===17){for(R=bt+3;O<R;){if(it===0)break t;it--,j+=tt[V++]<<O,O+=8}O-=bt,x=0,ct=3+(7&(j>>>=bt)),j>>>=3,O-=3}else{for(R=bt+7;O<R;){if(it===0)break t;it--,j+=tt[V++]<<O,O+=8}O-=bt,x=0,ct=11+(127&(j>>>=bt)),j>>>=7,O-=7}if(_.have+ct>_.nlen+_.ndist){U.msg="invalid bit length repeat",_.mode=30;break}for(;ct--;)_.lens[_.have++]=x}}if(_.mode===30)break;if(_.lens[256]===0){U.msg="invalid code -- missing end-of-block",_.mode=30;break}if(_.lenbits=9,F={bits:_.lenbits},rt=p(g,_.lens,0,_.nlen,_.lencode,0,_.work,F),_.lenbits=F.bits,rt){U.msg="invalid literal/lengths set",_.mode=30;break}if(_.distbits=6,_.distcode=_.distdyn,F={bits:_.distbits},rt=p(y,_.lens,_.nlen,_.ndist,_.distcode,0,_.work,F),_.distbits=F.bits,rt){U.msg="invalid distances set",_.mode=30;break}if(_.mode=20,st===6)break t;case 20:_.mode=21;case 21:if(6<=it&&258<=gt){U.next_out=ot,U.avail_out=gt,U.next_in=V,U.avail_in=it,_.hold=j,_.bits=O,m(U,at),ot=U.next_out,X=U.output,gt=U.avail_out,V=U.next_in,tt=U.input,it=U.avail_in,j=_.hold,O=_.bits,_.mode===12&&(_.back=-1);break}for(_.back=0;St=(N=_.lencode[j&(1<<_.lenbits)-1])>>>16&255,yt=65535&N,!((bt=N>>>24)<=O);){if(it===0)break t;it--,j+=tt[V++]<<O,O+=8}if(St&&(240&St)==0){for(Tt=bt,Nt=St,Rt=yt;St=(N=_.lencode[Rt+((j&(1<<Tt+Nt)-1)>>Tt)])>>>16&255,yt=65535&N,!(Tt+(bt=N>>>24)<=O);){if(it===0)break t;it--,j+=tt[V++]<<O,O+=8}j>>>=Tt,O-=Tt,_.back+=Tt}if(j>>>=bt,O-=bt,_.back+=bt,_.length=yt,St===0){_.mode=26;break}if(32&St){_.back=-1,_.mode=12;break}if(64&St){U.msg="invalid literal/length code",_.mode=30;break}_.extra=15&St,_.mode=22;case 22:if(_.extra){for(R=_.extra;O<R;){if(it===0)break t;it--,j+=tt[V++]<<O,O+=8}_.length+=j&(1<<_.extra)-1,j>>>=_.extra,O-=_.extra,_.back+=_.extra}_.was=_.length,_.mode=23;case 23:for(;St=(N=_.distcode[j&(1<<_.distbits)-1])>>>16&255,yt=65535&N,!((bt=N>>>24)<=O);){if(it===0)break t;it--,j+=tt[V++]<<O,O+=8}if((240&St)==0){for(Tt=bt,Nt=St,Rt=yt;St=(N=_.distcode[Rt+((j&(1<<Tt+Nt)-1)>>Tt)])>>>16&255,yt=65535&N,!(Tt+(bt=N>>>24)<=O);){if(it===0)break t;it--,j+=tt[V++]<<O,O+=8}j>>>=Tt,O-=Tt,_.back+=Tt}if(j>>>=bt,O-=bt,_.back+=bt,64&St){U.msg="invalid distance code",_.mode=30;break}_.offset=yt,_.extra=15&St,_.mode=24;case 24:if(_.extra){for(R=_.extra;O<R;){if(it===0)break t;it--,j+=tt[V++]<<O,O+=8}_.offset+=j&(1<<_.extra)-1,j>>>=_.extra,O-=_.extra,_.back+=_.extra}if(_.offset>_.dmax){U.msg="invalid distance too far back",_.mode=30;break}_.mode=25;case 25:if(gt===0)break t;if(ct=at-gt,_.offset>ct){if((ct=_.offset-ct)>_.whave&&_.sane){U.msg="invalid distance too far back",_.mode=30;break}_t=ct>_.wnext?(ct-=_.wnext,_.wsize-ct):_.wnext-ct,ct>_.length&&(ct=_.length),kt=_.window}else kt=X,_t=ot-_.offset,ct=_.length;for(gt<ct&&(ct=gt),gt-=ct,_.length-=ct;X[ot++]=kt[_t++],--ct;);_.length===0&&(_.mode=21);break;case 26:if(gt===0)break t;X[ot++]=_.length,gt--,_.mode=21;break;case 27:if(_.wrap){for(;O<32;){if(it===0)break t;it--,j|=tt[V++]<<O,O+=8}if(at-=gt,U.total_out+=at,_.total+=at,at&&(U.adler=_.check=_.flags?h(_.check,X,at,ot-at):f(_.check,X,at,ot-at)),at=gt,(_.flags?j:C(j))!==_.check){U.msg="incorrect data check",_.mode=30;break}O=j=0}_.mode=28;case 28:if(_.wrap&&_.flags){for(;O<32;){if(it===0)break t;it--,j+=tt[V++]<<O,O+=8}if(j!==(4294967295&_.total)){U.msg="incorrect length check",_.mode=30;break}O=j=0}_.mode=29;case 29:rt=1;break t;case 30:rt=-3;break t;case 31:return-4;case 32:default:return b}return U.next_out=ot,U.avail_out=gt,U.next_in=V,U.avail_in=it,_.hold=j,_.bits=O,(_.wsize||at!==U.avail_out&&_.mode<30&&(_.mode<27||st!==4))&&mt(U,U.output,U.next_out,at-U.avail_out)?(_.mode=31,-4):(et-=U.avail_in,at-=U.avail_out,U.total_in+=et,U.total_out+=at,_.total+=at,_.wrap&&at&&(U.adler=_.check=_.flags?h(_.check,X,at,U.next_out-at):f(_.check,X,at,U.next_out-at)),U.data_type=_.bits+(_.last?64:0)+(_.mode===12?128:0)+(_.mode===20||_.mode===15?256:0),(et==0&&at===0||st===4)&&rt===w&&(rt=-5),rt)},c.inflateEnd=function(U){if(!U||!U.state)return b;var st=U.state;return st.window&&(st.window=null),U.state=null,w},c.inflateGetHeader=function(U,st){var _;return U&&U.state?(2&(_=U.state).wrap)==0?b:((_.head=st).done=!1,w):b},c.inflateSetDictionary=function(U,st){var _,tt=st.length;return U&&U.state?(_=U.state).wrap!==0&&_.mode!==11?b:_.mode===11&&f(1,st,tt,0)!==_.check?-3:mt(U,st,tt,tt)?(_.mode=31,-4):(_.havedict=1,w):b},c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,o,c){var d=r("../utils/common"),f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(g,y,w,b,A,S,z,C){var k,E,B,D,q,L,G,Z,$,mt=C.bits,U=0,st=0,_=0,tt=0,X=0,V=0,ot=0,it=0,gt=0,j=0,O=null,et=0,at=new d.Buf16(16),ct=new d.Buf16(16),_t=null,kt=0;for(U=0;U<=15;U++)at[U]=0;for(st=0;st<b;st++)at[y[w+st]]++;for(X=mt,tt=15;1<=tt&&at[tt]===0;tt--);if(tt<X&&(X=tt),tt===0)return A[S++]=20971520,A[S++]=20971520,C.bits=1,0;for(_=1;_<tt&&at[_]===0;_++);for(X<_&&(X=_),U=it=1;U<=15;U++)if(it<<=1,(it-=at[U])<0)return-1;if(0<it&&(g===0||tt!==1))return-1;for(ct[1]=0,U=1;U<15;U++)ct[U+1]=ct[U]+at[U];for(st=0;st<b;st++)y[w+st]!==0&&(z[ct[y[w+st]]++]=st);if(L=g===0?(O=_t=z,19):g===1?(O=f,et-=257,_t=h,kt-=257,256):(O=m,_t=p,-1),U=_,q=S,ot=st=j=0,B=-1,D=(gt=1<<(V=X))-1,g===1&&852<gt||g===2&&592<gt)return 1;for(;;){for(G=U-ot,$=z[st]<L?(Z=0,z[st]):z[st]>L?(Z=_t[kt+z[st]],O[et+z[st]]):(Z=96,0),k=1<<U-ot,_=E=1<<V;A[q+(j>>ot)+(E-=k)]=G<<24|Z<<16|$|0,E!==0;);for(k=1<<U-1;j&k;)k>>=1;if(k!==0?(j&=k-1,j+=k):j=0,st++,--at[U]==0){if(U===tt)break;U=y[w+z[st]]}if(X<U&&(j&D)!==B){for(ot===0&&(ot=X),q+=_,it=1<<(V=U-ot);V+ot<tt&&!((it-=at[V+ot])<=0);)V++,it<<=1;if(gt+=1<<V,g===1&&852<gt||g===2&&592<gt)return 1;A[B=j&D]=X<<24|V<<16|q-S|0}}return j!==0&&(A[q+j]=U-ot<<24|64<<16|0),C.bits=X,0}},{"../utils/common":41}],51:[function(r,o,c){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,o,c){var d=r("../utils/common"),f=0,h=1;function m(N){for(var I=N.length;0<=--I;)N[I]=0}var p=0,g=29,y=256,w=y+1+g,b=30,A=19,S=2*w+1,z=15,C=16,k=7,E=256,B=16,D=17,q=18,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],G=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],mt=new Array(2*(w+2));m(mt);var U=new Array(2*b);m(U);var st=new Array(512);m(st);var _=new Array(256);m(_);var tt=new Array(g);m(tt);var X,V,ot,it=new Array(b);function gt(N,I,ft,pt,Q){this.static_tree=N,this.extra_bits=I,this.extra_base=ft,this.elems=pt,this.max_length=Q,this.has_stree=N&&N.length}function j(N,I){this.dyn_tree=N,this.max_code=0,this.stat_desc=I}function O(N){return N<256?st[N]:st[256+(N>>>7)]}function et(N,I){N.pending_buf[N.pending++]=255&I,N.pending_buf[N.pending++]=I>>>8&255}function at(N,I,ft){N.bi_valid>C-ft?(N.bi_buf|=I<<N.bi_valid&65535,et(N,N.bi_buf),N.bi_buf=I>>C-N.bi_valid,N.bi_valid+=ft-C):(N.bi_buf|=I<<N.bi_valid&65535,N.bi_valid+=ft)}function ct(N,I,ft){at(N,ft[2*I],ft[2*I+1])}function _t(N,I){for(var ft=0;ft|=1&N,N>>>=1,ft<<=1,0<--I;);return ft>>>1}function kt(N,I,ft){var pt,Q,vt=new Array(z+1),wt=0;for(pt=1;pt<=z;pt++)vt[pt]=wt=wt+ft[pt-1]<<1;for(Q=0;Q<=I;Q++){var xt=N[2*Q+1];xt!==0&&(N[2*Q]=_t(vt[xt]++,xt))}}function bt(N){var I;for(I=0;I<w;I++)N.dyn_ltree[2*I]=0;for(I=0;I<b;I++)N.dyn_dtree[2*I]=0;for(I=0;I<A;I++)N.bl_tree[2*I]=0;N.dyn_ltree[2*E]=1,N.opt_len=N.static_len=0,N.last_lit=N.matches=0}function St(N){8<N.bi_valid?et(N,N.bi_buf):0<N.bi_valid&&(N.pending_buf[N.pending++]=N.bi_buf),N.bi_buf=0,N.bi_valid=0}function yt(N,I,ft,pt){var Q=2*I,vt=2*ft;return N[Q]<N[vt]||N[Q]===N[vt]&&pt[I]<=pt[ft]}function Tt(N,I,ft){for(var pt=N.heap[ft],Q=ft<<1;Q<=N.heap_len&&(Q<N.heap_len&&yt(I,N.heap[Q+1],N.heap[Q],N.depth)&&Q++,!yt(I,pt,N.heap[Q],N.depth));)N.heap[ft]=N.heap[Q],ft=Q,Q<<=1;N.heap[ft]=pt}function Nt(N,I,ft){var pt,Q,vt,wt,xt=0;if(N.last_lit!==0)for(;pt=N.pending_buf[N.d_buf+2*xt]<<8|N.pending_buf[N.d_buf+2*xt+1],Q=N.pending_buf[N.l_buf+xt],xt++,pt===0?ct(N,Q,I):(ct(N,(vt=_[Q])+y+1,I),(wt=L[vt])!==0&&at(N,Q-=tt[vt],wt),ct(N,vt=O(--pt),ft),(wt=G[vt])!==0&&at(N,pt-=it[vt],wt)),xt<N.last_lit;);ct(N,E,I)}function Rt(N,I){var ft,pt,Q,vt=I.dyn_tree,wt=I.stat_desc.static_tree,xt=I.stat_desc.has_stree,Et=I.stat_desc.elems,Zt=-1;for(N.heap_len=0,N.heap_max=S,ft=0;ft<Et;ft++)vt[2*ft]!==0?(N.heap[++N.heap_len]=Zt=ft,N.depth[ft]=0):vt[2*ft+1]=0;for(;N.heap_len<2;)vt[2*(Q=N.heap[++N.heap_len]=Zt<2?++Zt:0)]=1,N.depth[Q]=0,N.opt_len--,xt&&(N.static_len-=wt[2*Q+1]);for(I.max_code=Zt,ft=N.heap_len>>1;1<=ft;ft--)Tt(N,vt,ft);for(Q=Et;ft=N.heap[1],N.heap[1]=N.heap[N.heap_len--],Tt(N,vt,1),pt=N.heap[1],N.heap[--N.heap_max]=ft,N.heap[--N.heap_max]=pt,vt[2*Q]=vt[2*ft]+vt[2*pt],N.depth[Q]=(N.depth[ft]>=N.depth[pt]?N.depth[ft]:N.depth[pt])+1,vt[2*ft+1]=vt[2*pt+1]=Q,N.heap[1]=Q++,Tt(N,vt,1),2<=N.heap_len;);N.heap[--N.heap_max]=N.heap[1],(function(Ut,Re){var $n,We,Ri,Jt,ge,Je,ae=Re.dyn_tree,dr=Re.max_code,Wo=Re.stat_desc.static_tree,Jo=Re.stat_desc.has_stree,la=Re.stat_desc.extra_bits,Di=Re.stat_desc.extra_base,bn=Re.stat_desc.max_length,tn=0;for(Jt=0;Jt<=z;Jt++)Ut.bl_count[Jt]=0;for(ae[2*Ut.heap[Ut.heap_max]+1]=0,$n=Ut.heap_max+1;$n<S;$n++)bn<(Jt=ae[2*ae[2*(We=Ut.heap[$n])+1]+1]+1)&&(Jt=bn,tn++),ae[2*We+1]=Jt,dr<We||(Ut.bl_count[Jt]++,ge=0,Di<=We&&(ge=la[We-Di]),Je=ae[2*We],Ut.opt_len+=Je*(Jt+ge),Jo&&(Ut.static_len+=Je*(Wo[2*We+1]+ge)));if(tn!==0){do{for(Jt=bn-1;Ut.bl_count[Jt]===0;)Jt--;Ut.bl_count[Jt]--,Ut.bl_count[Jt+1]+=2,Ut.bl_count[bn]--,tn-=2}while(0<tn);for(Jt=bn;Jt!==0;Jt--)for(We=Ut.bl_count[Jt];We!==0;)dr<(Ri=Ut.heap[--$n])||(ae[2*Ri+1]!==Jt&&(Ut.opt_len+=(Jt-ae[2*Ri+1])*ae[2*Ri],ae[2*Ri+1]=Jt),We--)}})(N,I),kt(vt,Zt,N.bl_count)}function x(N,I,ft){var pt,Q,vt=-1,wt=I[1],xt=0,Et=7,Zt=4;for(wt===0&&(Et=138,Zt=3),I[2*(ft+1)+1]=65535,pt=0;pt<=ft;pt++)Q=wt,wt=I[2*(pt+1)+1],++xt<Et&&Q===wt||(xt<Zt?N.bl_tree[2*Q]+=xt:Q!==0?(Q!==vt&&N.bl_tree[2*Q]++,N.bl_tree[2*B]++):xt<=10?N.bl_tree[2*D]++:N.bl_tree[2*q]++,vt=Q,Zt=(xt=0)===wt?(Et=138,3):Q===wt?(Et=6,3):(Et=7,4))}function rt(N,I,ft){var pt,Q,vt=-1,wt=I[1],xt=0,Et=7,Zt=4;for(wt===0&&(Et=138,Zt=3),pt=0;pt<=ft;pt++)if(Q=wt,wt=I[2*(pt+1)+1],!(++xt<Et&&Q===wt)){if(xt<Zt)for(;ct(N,Q,N.bl_tree),--xt!=0;);else Q!==0?(Q!==vt&&(ct(N,Q,N.bl_tree),xt--),ct(N,B,N.bl_tree),at(N,xt-3,2)):xt<=10?(ct(N,D,N.bl_tree),at(N,xt-3,3)):(ct(N,q,N.bl_tree),at(N,xt-11,7));vt=Q,Zt=(xt=0)===wt?(Et=138,3):Q===wt?(Et=6,3):(Et=7,4)}}m(it);var F=!1;function R(N,I,ft,pt){at(N,(p<<1)+(pt?1:0),3),(function(Q,vt,wt,xt){St(Q),et(Q,wt),et(Q,~wt),d.arraySet(Q.pending_buf,Q.window,vt,wt,Q.pending),Q.pending+=wt})(N,I,ft)}c._tr_init=function(N){F||((function(){var I,ft,pt,Q,vt,wt=new Array(z+1);for(Q=pt=0;Q<g-1;Q++)for(tt[Q]=pt,I=0;I<1<<L[Q];I++)_[pt++]=Q;for(_[pt-1]=Q,Q=vt=0;Q<16;Q++)for(it[Q]=vt,I=0;I<1<<G[Q];I++)st[vt++]=Q;for(vt>>=7;Q<b;Q++)for(it[Q]=vt<<7,I=0;I<1<<G[Q]-7;I++)st[256+vt++]=Q;for(ft=0;ft<=z;ft++)wt[ft]=0;for(I=0;I<=143;)mt[2*I+1]=8,I++,wt[8]++;for(;I<=255;)mt[2*I+1]=9,I++,wt[9]++;for(;I<=279;)mt[2*I+1]=7,I++,wt[7]++;for(;I<=287;)mt[2*I+1]=8,I++,wt[8]++;for(kt(mt,w+1,wt),I=0;I<b;I++)U[2*I+1]=5,U[2*I]=_t(I,5);X=new gt(mt,L,y+1,w,z),V=new gt(U,G,0,b,z),ot=new gt(new Array(0),Z,0,A,k)})(),F=!0),N.l_desc=new j(N.dyn_ltree,X),N.d_desc=new j(N.dyn_dtree,V),N.bl_desc=new j(N.bl_tree,ot),N.bi_buf=0,N.bi_valid=0,bt(N)},c._tr_stored_block=R,c._tr_flush_block=function(N,I,ft,pt){var Q,vt,wt=0;0<N.level?(N.strm.data_type===2&&(N.strm.data_type=(function(xt){var Et,Zt=4093624447;for(Et=0;Et<=31;Et++,Zt>>>=1)if(1&Zt&&xt.dyn_ltree[2*Et]!==0)return f;if(xt.dyn_ltree[18]!==0||xt.dyn_ltree[20]!==0||xt.dyn_ltree[26]!==0)return h;for(Et=32;Et<y;Et++)if(xt.dyn_ltree[2*Et]!==0)return h;return f})(N)),Rt(N,N.l_desc),Rt(N,N.d_desc),wt=(function(xt){var Et;for(x(xt,xt.dyn_ltree,xt.l_desc.max_code),x(xt,xt.dyn_dtree,xt.d_desc.max_code),Rt(xt,xt.bl_desc),Et=A-1;3<=Et&&xt.bl_tree[2*$[Et]+1]===0;Et--);return xt.opt_len+=3*(Et+1)+5+5+4,Et})(N),Q=N.opt_len+3+7>>>3,(vt=N.static_len+3+7>>>3)<=Q&&(Q=vt)):Q=vt=ft+5,ft+4<=Q&&I!==-1?R(N,I,ft,pt):N.strategy===4||vt===Q?(at(N,2+(pt?1:0),3),Nt(N,mt,U)):(at(N,4+(pt?1:0),3),(function(xt,Et,Zt,Ut){var Re;for(at(xt,Et-257,5),at(xt,Zt-1,5),at(xt,Ut-4,4),Re=0;Re<Ut;Re++)at(xt,xt.bl_tree[2*$[Re]+1],3);rt(xt,xt.dyn_ltree,Et-1),rt(xt,xt.dyn_dtree,Zt-1)})(N,N.l_desc.max_code+1,N.d_desc.max_code+1,wt+1),Nt(N,N.dyn_ltree,N.dyn_dtree)),bt(N),pt&&St(N)},c._tr_tally=function(N,I,ft){return N.pending_buf[N.d_buf+2*N.last_lit]=I>>>8&255,N.pending_buf[N.d_buf+2*N.last_lit+1]=255&I,N.pending_buf[N.l_buf+N.last_lit]=255&ft,N.last_lit++,I===0?N.dyn_ltree[2*ft]++:(N.matches++,I--,N.dyn_ltree[2*(_[ft]+y+1)]++,N.dyn_dtree[2*O(I)]++),N.last_lit===N.lit_bufsize-1},c._tr_align=function(N){at(N,2,3),ct(N,E,mt),(function(I){I.bi_valid===16?(et(I,I.bi_buf),I.bi_buf=0,I.bi_valid=0):8<=I.bi_valid&&(I.pending_buf[I.pending++]=255&I.bi_buf,I.bi_buf>>=8,I.bi_valid-=8)})(N)}},{"../utils/common":41}],53:[function(r,o,c){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,o,c){(function(d){(function(f,h){if(!f.setImmediate){var m,p,g,y,w=1,b={},A=!1,S=f.document,z=Object.getPrototypeOf&&Object.getPrototypeOf(f);z=z&&z.setTimeout?z:f,m={}.toString.call(f.process)==="[object process]"?function(B){process.nextTick(function(){k(B)})}:(function(){if(f.postMessage&&!f.importScripts){var B=!0,D=f.onmessage;return f.onmessage=function(){B=!1},f.postMessage("","*"),f.onmessage=D,B}})()?(y="setImmediate$"+Math.random()+"$",f.addEventListener?f.addEventListener("message",E,!1):f.attachEvent("onmessage",E),function(B){f.postMessage(y+B,"*")}):f.MessageChannel?((g=new MessageChannel).port1.onmessage=function(B){k(B.data)},function(B){g.port2.postMessage(B)}):S&&"onreadystatechange"in S.createElement("script")?(p=S.documentElement,function(B){var D=S.createElement("script");D.onreadystatechange=function(){k(B),D.onreadystatechange=null,p.removeChild(D),D=null},p.appendChild(D)}):function(B){setTimeout(k,0,B)},z.setImmediate=function(B){typeof B!="function"&&(B=new Function(""+B));for(var D=new Array(arguments.length-1),q=0;q<D.length;q++)D[q]=arguments[q+1];var L={callback:B,args:D};return b[w]=L,m(w),w++},z.clearImmediate=C}function C(B){delete b[B]}function k(B){if(A)setTimeout(k,0,B);else{var D=b[B];if(D){A=!0;try{(function(q){var L=q.callback,G=q.args;switch(G.length){case 0:L();break;case 1:L(G[0]);break;case 2:L(G[0],G[1]);break;case 3:L(G[0],G[1],G[2]);break;default:L.apply(h,G)}})(D)}finally{C(B),A=!1}}}}function E(B){B.source===f&&typeof B.data=="string"&&B.data.indexOf(y)===0&&k(+B.data.slice(y.length))}})(typeof self>"u"?d===void 0?this:d:self)}).call(this,typeof ko<"u"?ko:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Du)),Du.exports}var DT=RT();const OT=Ju(DT);var _i=(s=>(s.INVALID_FILE="INVALID_FILE",s.MISSING_MANIFEST="MISSING_MANIFEST",s.CORRUPTION="CORRUPTION",s.DATABASE_ERROR="DATABASE_ERROR",s.UNKNOWN="UNKNOWN",s))(_i||{});class Si extends Error{constructor(i,r){super(r),this.type=i,this.name="IngestionError"}}const qo=class qo{static async findCover(i,r){var o,c;try{const d=i.replace(/\(.*\)/,"").trim(),f=r.replace(/\(.*\)/,"").trim(),h=encodeURIComponent(`${d} ${f}`),m=new AbortController,p=setTimeout(()=>m.abort(),2500),g=await fetch(`${this.SEARCH_URL}?q=${h}&limit=1&fields=cover_i`,{signal:m.signal});if(clearTimeout(p),!g.ok)return;const w=(c=(o=(await g.json()).docs)==null?void 0:o[0])==null?void 0:c.cover_i;if(w)return`${this.IMAGE_URL}/${w}-L.jpg`}catch{}}};qo.SEARCH_URL="https://openlibrary.org/search.json",qo.IMAGE_URL="https://covers.openlibrary.org/b/id";let Io=qo;class Ae{constructor(){this.dbName="FlowLibraryDB",this.version=2,this.db=null}static getInstance(){return Ae.instance||(Ae.instance=new Ae),Ae.instance}async init(){if(!this.db)return new Promise((i,r)=>{const o=indexedDB.open(this.dbName,this.version);o.onerror=()=>r(o.error),o.onupgradeneeded=c=>{const d=c.target.result;d.objectStoreNames.contains("books")||d.createObjectStore("books",{keyPath:"id"}),d.objectStoreNames.contains("metadata")||d.createObjectStore("metadata",{keyPath:"id"}),d.objectStoreNames.contains("sources")||d.createObjectStore("sources")},o.onsuccess=c=>{this.db=c.target.result,i()}})}async saveBook(i){await this.init();const{chapters:r,...o}=i;await this.put("books",i),await this.put("metadata",o)}async saveSource(i,r){await this.init(),await this.put("sources",r,i)}async getSource(i){return await this.init(),this.get("sources",i)}async deleteBook(i){await this.init(),await this.delete("books",i),await this.delete("metadata",i),await this.delete("sources",i)}async getAllMetadata(){return await this.init(),this.getAll("metadata")}async getFullBook(i){return await this.init(),this.get("books",i)}async put(i,r,o){return new Promise((c,d)=>{const h=this.db.transaction(i,"readwrite").objectStore(i),m=o?h.put(r,o):h.put(r);m.onsuccess=()=>c(),m.onerror=()=>d(m.error)})}async get(i,r){return new Promise((o,c)=>{const h=this.db.transaction(i,"readonly").objectStore(i).get(r);h.onsuccess=()=>o(h.result),h.onerror=()=>c(h.error)})}async getAll(i){return new Promise((r,o)=>{const f=this.db.transaction(i,"readonly").objectStore(i).getAll();f.onsuccess=()=>r(f.result),f.onerror=()=>o(f.error)})}async delete(i,r){return new Promise((o,c)=>{const h=this.db.transaction(i,"readwrite").objectStore(i).delete(r);h.onsuccess=()=>o(),h.onerror=()=>c(h.error)})}}class Zn{constructor(){}static getInstance(){return Zn.instance||(Zn.instance=new Zn),Zn.instance}async ingest(i){try{console.log(`[Ingestion] Starting import of: ${i.name} (${(i.size/1024).toFixed(1)} KB)`),this.validateFile(i);let r;try{r=await i.arrayBuffer(),console.log(`[Ingestion] File loaded into memory: ${r.byteLength} bytes`)}catch(h){throw console.error("[Ingestion] Failed to read file:",h),new Si(_i.UNKNOWN,`Failed to read file: ${h instanceof Error?h.message:"Unknown error"}`)}const o=await this.unzipFromBuffer(r);console.log("[Ingestion] ZIP extracted, files:",Object.keys(o.files).length);const c=await this.parseContainer(o);console.log(`[Ingestion] OPF path: ${c}`);const d=await this.parseOPF(o,c);console.log(`[Ingestion] OPF parsed - Title: "${d.metadata.title}", Spine items: ${d.spine.length}`);const f=await this.constructBookFromZip(o,d);return console.log(`[Ingestion] Book constructed with ${f.chapters.length} chapters`),f.coverUrl||(f.coverUrl=await Io.findCover(f.title,f.author)),f.sourceType="epub",await this.persistBook(f,r),console.log("[Ingestion] Book persisted to storage"),f}catch(r){throw console.error("[Ingestion] Import failed:",r),r instanceof Si?r:new Si(_i.UNKNOWN,r.message||"Unknown import error")}}async ingestFromText(i,r,o,c,d){const f=crypto.randomUUID(),h=this.heuristicChaptering(o),m={id:f,title:i,author:r,coverUrl:d,tintColorHex:c,lastOpened:new Date,isFinished:!1,bookmarkProgress:0,chapters:h,sourceType:"text"};m.coverUrl||(m.coverUrl=await Io.findCover(i,r));const g=new TextEncoder().encode(o).buffer;return await this.persistBook(m,g),m}async persistBook(i,r){const o=Ae.getInstance();await o.saveBook(i),await o.saveSource(i.id,r)}heuristicChaptering(i){let r=i;const o=r.indexOf("*** START OF"),c=r.indexOf("*** END OF");if(o!==-1){const y=r.substring(o),w=y.indexOf(`
`,y.indexOf(`
`)+1);r=y.substring(w)}c!==-1&&(r=r.substring(0,c));const d=r.split(/\n\s*\n/),f=[];let h=[],m="Preface",p=1;const g=400;for(let y=0;y<d.length;y++){const b=d[y].replace(/\s+/g," ").trim();if(!b)continue;const A=/^(chapter|book|part|letter|prologue|epilogue|foreword|preface|stave|volume|vol\.)\s*([ivxlcdm\d]+|the\s+\w+)?/i.test(b),S=/^[IVXLCDM]+\.?$/.test(b),z=/^\d+\.?$/.test(b);if((A||S&&b.length<10||z&&b.length<5)&&b.length<100)if(Wa(h.join(" "))>50||f.length===0){this.flushChapter(f,h,m,p++),h=[],m=b;continue}else{m=b;continue}h.push(b),h.length>=g&&(this.flushChapter(f,h,m,p++),h=[],m=`Part ${p}`)}return h.length>0&&this.flushChapter(f,h,m,p++),f}flushChapter(i,r,o,c){const d=r.map(m=>`<p>${m}</p>`).join(`
`),f=Wa(d);let h=o.trim();i.push({id:crypto.randomUUID(),title:h,content:d,sortOrder:i.length,wordCount:f,estimatedReadTime:Math.ceil(f/250)})}async constructBookFromZip(i,r){const o=crypto.randomUUID();let c;if(r.coverPath){const h=i.file(r.coverPath);if(h){const m=await h.async("blob");c=URL.createObjectURL(m)}}const d=[],f=20;console.log(`[Ingestion] Processing ${r.spine.length} spine items for "${r.metadata.title}"`);for(let h=0;h<r.spine.length;h+=f){const m=r.spine.slice(h,h+f);(await Promise.all(m.map((g,y)=>this.processEpubChapter(i,g,h+y)))).forEach(g=>{g&&d.push(g)}),h+f<r.spine.length&&await new Promise(g=>setTimeout(g,0))}if(console.log(`[Ingestion] Extracted ${d.length} chapters from "${r.metadata.title}"`),d.length===0&&r.spine.length>0){console.warn("[Ingestion] No chapters extracted, trying without front-matter filter...");for(let h=0;h<r.spine.length;h++){const m=await this.processEpubChapterPermissive(i,r.spine[h],h);m&&d.push(m)}console.log(`[Ingestion] Permissive mode extracted ${d.length} chapters`)}return{id:o,title:r.metadata.title,author:r.metadata.author,coverUrl:c,lastOpened:new Date,isFinished:!1,bookmarkProgress:0,chapters:d}}async processEpubChapterPermissive(i,r,o){const c=i.file(r);if(!c)return console.warn(`[Ingestion] File not found: ${r}`),null;const d=await c.async("uint8array"),f=this.cleanTextAggressive(d),h=f.replace(/<[^>]+>/g," ").trim(),m=Wa(h);return m<3?null:{id:crypto.randomUUID(),title:`Section ${o+1}`,content:f,sortOrder:o,wordCount:m,estimatedReadTime:Math.ceil(m/250)}}async processEpubChapter(i,r,o){const c=i.file(r);if(!c)return null;const d=await c.async("uint8array"),f=this.cleanTextAggressive(d),h=f.replace(/<[^>]+>/g," ").trim(),m=Wa(h);return m<10||o<10&&this.isLikelyFrontMatter(h,m)?null:{id:crypto.randomUUID(),title:`Chapter ${o+1}`,content:f,sortOrder:o,wordCount:m,estimatedReadTime:Math.ceil(m/250)}}cleanTextAggressive(i){let r="";try{r=new TextDecoder("utf-8",{fatal:!0}).decode(i)}catch{r=new TextDecoder("windows-1252").decode(i)}return r=r.replace(/<(script|style|head)[^>]*>[\s\S]*?<\/\1>/gi,""),r=r.replace(/<br\s*\/?>/gi,"___BR___"),r=r.replace(/<\/(p|div|h\d|li|blockquote)>/gi,"___P___"),r=r.replace(/<[^>]+>/g,""),r=this.decodeEntities(r),r=r.replace(/\s+/g," "),r=r.replace(/___BR___/g,`
`),r=r.replace(/___P___/g,`

`),r.split(`

`).map(o=>o.trim()).filter(o=>o.length>0&&!/^\d+$/.test(o)).map(o=>`<p>${o}</p>`).join(`
`)}isLikelyFrontMatter(i,r){if(r>600)return!1;const o=i.toLowerCase().slice(0,1e3);return r<200&&/copyright|rights reserved|isbn|published by|table of contents|acknowledgments/.test(o)}decodeEntities(i){const r=document.createElement("textarea");return r.innerHTML=i,r.value}validateFile(i){if(!i.name.toLowerCase().endsWith(".epub")||i.size===0)throw new Si(_i.INVALID_FILE,"Invalid EPUB file.")}async unzipFromBuffer(i){try{const r=new OT;console.log(`[Ingestion] Loading ZIP from ArrayBuffer (${i.byteLength} bytes)...`);const o=await r.loadAsync(i);return console.log("[Ingestion] ZIP loaded successfully"),o}catch(r){throw console.error("[Ingestion] ZIP extraction failed:",r),new Si(_i.CORRUPTION,`Corrupted archive: ${r instanceof Error?r.message:"Unknown error"}`)}}async unzip(i){const r=await i.arrayBuffer();return this.unzipFromBuffer(r)}async parseContainer(i){const r=i.file("META-INF/container.xml");if(!r)throw new Si(_i.MISSING_MANIFEST,"Missing container.xml");const c=(await r.async("string")).match(/full-path=["']([^"']+)["']/i);if(!c)throw new Si(_i.MISSING_MANIFEST,"Invalid container.xml");return c[1]}async parseOPF(i,r){var S,z,C,k,E;const o=i.file(r);if(!o)throw new Si(_i.MISSING_MANIFEST,"Missing OPF");const c=await o.async("string"),d=((z=(S=c.match(/<dc:title[^>]*>(.*?)<\/dc:title>/is))==null?void 0:S[1])==null?void 0:z.trim())||"Unknown",f=((k=(C=c.match(/<dc:creator[^>]*>(.*?)<\/dc:creator>/is))==null?void 0:C[1])==null?void 0:k.trim())||"Unknown",h=new Map,m=/<item\s+([^>]+?)\s*\/?>/gi;let p;for(;(p=m.exec(c))!==null;){const B=p[1],D=B.match(/id=["']([^"']+)["']/i),q=B.match(/href=["']([^"']+)["']/i);D&&q&&h.set(D[1],q[1])}console.log(`[Ingestion] Manifest has ${h.size} items`);const g=[],y=/<itemref\s+[^>]*idref=["']([^"']+)["'][^>]*\/?>/gi;let w;for(;(w=y.exec(c))!==null;){const B=w[1],D=h.get(B);D&&g.push(this.resolvePath(r,D))}if(console.log(`[Ingestion] Spine has ${g.length} items`),g.length===0){console.warn("[Ingestion] Empty spine, falling back to manifest HTML files");for(const[B,D]of h)/\.(x?html?|htm)$/i.test(D)&&g.push(this.resolvePath(r,D));g.sort(),console.log(`[Ingestion] Fallback found ${g.length} HTML files`)}const b=(E=c.match(/<meta\s+name=["']cover["']\s+content=["']([^"']+)["']/i))==null?void 0:E[1];let A=b?h.get(b):void 0;return A&&(A=this.resolvePath(r,A)),{metadata:{title:d,author:f},spine:g,coverPath:A}}resolvePath(i,r){return(i.substring(0,i.lastIndexOf("/")+1)+r).replace(/\/+/g,"/")}}class je{static pulse(i){if(typeof navigator>"u"||!navigator.vibrate)return;const r=i.punctuation||"";if(/[.?!]/.test(r)){navigator.vibrate(15);return}if(/[,;:]/.test(r)){navigator.vibrate(5);return}}static impactMedium(){typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(20)}static impactLight(){typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(5)}static selectionChanged(){typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(3)}}const BT=()=>{const s=aa.getInstance(),i=s.mode,r=Ie(),o=d=>{s.setMode(d)},c=["Modern","Sepia","Night","OLED"];return T.jsxs("div",{className:"flex flex-col gap-3",children:[T.jsx("h3",{className:"text-[11px] font-medium opacity-50 lowercase",style:{color:r.secondaryText},children:"appearance"}),T.jsx("div",{className:"grid grid-cols-4 gap-2",children:c.map(d=>{const f=Za[d],h=i===d;return T.jsxs("button",{onClick:()=>o(d),className:"group relative flex flex-col items-center gap-1.5 outline-none",children:[T.jsxs("div",{className:`relative w-full aspect-[4/5] rounded-xl border transition-all duration-200 ease-out overflow-hidden ${h?"ring-2 ring-offset-1 scale-[1.03]":"hover:scale-[1.02]"}`,style:{backgroundColor:f.background,borderColor:h?"transparent":"rgba(128,128,128,0.15)",ringColor:r.accent},children:[T.jsxs("div",{className:"absolute inset-3 flex flex-col items-center justify-center",children:[T.jsx("div",{className:"font-serif text-xl font-semibold",style:{color:f.primaryText},children:"Aa"}),T.jsx("div",{className:"w-full h-0.5 rounded-full mt-2 opacity-15",style:{backgroundColor:f.primaryText}}),T.jsx("div",{className:"w-2/3 h-0.5 rounded-full mt-1 opacity-15",style:{backgroundColor:f.primaryText}})]}),h&&T.jsx("div",{className:"absolute bottom-1.5 right-1.5 w-3.5 h-3.5 rounded-full flex items-center justify-center",style:{backgroundColor:r.accent},children:T.jsx("svg",{width:"8",height:"6",viewBox:"0 0 10 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:T.jsx("path",{d:"M1 4L3.5 6.5L9 1",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),T.jsx("span",{className:"text-[9px] font-medium transition-colors lowercase",style:{color:h?r.accent:r.secondaryText,opacity:h?1:.6},children:d})]},d)})}),T.jsxs("div",{className:"mt-1 flex items-center justify-between p-3 rounded-xl border",style:{backgroundColor:r.surface,borderColor:r.borderColor},children:[T.jsx("span",{className:"text-xs font-medium lowercase",style:{color:r.primaryText},children:"follow system"}),T.jsx("button",{onClick:()=>o(i==="System"?"Modern":"System"),className:"relative w-10 h-5 rounded-full transition-colors duration-200 focus:outline-none",style:{backgroundColor:i==="System"?r.accent:r.borderColor},children:T.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white w-4 h-4 rounded-full shadow-sm transition-transform duration-200 ${i==="System"?"translate-x-5":"translate-x-0"}`})})]})]})},UT="570686176836-dtbdhnverff6qo63tfbgvmrts2oadqmp.apps.googleusercontent.com",LT="https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/drive.appdata";class sa{constructor(){this.accessToken=null,this.tokenExpiry=0,this.libraryFolderId=null}static getInstance(){return sa.instance||(sa.instance=new sa),sa.instance}get isAuthenticated(){return!!this.accessToken&&Date.now()<this.tokenExpiry}async init(){window.google&&(this.tokenClient=window.google.accounts.oauth2.initTokenClient({client_id:UT,scope:LT,callback:i=>{if(i.error!==void 0)throw i;this.accessToken=i.access_token,this.tokenExpiry=Date.now()+Number(i.expires_in)*1e3-6e4}}))}async signIn(){return this.tokenClient||await this.init(),new Promise(i=>{this.tokenClient.callback=r=>{r.access_token&&(this.accessToken=r.access_token,this.tokenExpiry=Date.now()+Number(r.expires_in)*1e3-6e4,i())},this.accessToken&&Date.now()<this.tokenExpiry?i():this.tokenClient.requestAccessToken({prompt:"consent"})})}async fetch(i,r={}){this.isAuthenticated||await this.signIn();const o={Authorization:`Bearer ${this.accessToken}`,...r.headers||{}};r.body instanceof FormData?delete o["Content-Type"]:o["Content-Type"]||(o["Content-Type"]="application/json");const c=async f=>fetch(i,{...r,headers:f});let d=await c(o);return d.status===401&&(await this.signIn(),o.Authorization=`Bearer ${this.accessToken}`,d=await c(o)),!d.ok&&d.status!==404&&console.warn(`[DriveService] Request failed: ${i} (${d.status})`),d}async getUserInfo(){return(await(await this.fetch("https://www.googleapis.com/oauth2/v3/userinfo")).json()).email}async ensureLibraryFolder(){if(this.libraryFolderId)return this.libraryFolderId;const o=await(await this.fetch(`https://www.googleapis.com/drive/v3/files?q=${encodeURIComponent("mimeType='application/vnd.google-apps.folder' and name='Flow Library' and trashed=false")}`)).json();if(o.files&&o.files.length>0)return this.libraryFolderId=o.files[0].id,this.libraryFolderId;const d=await(await this.fetch("https://www.googleapis.com/drive/v3/files",{method:"POST",body:JSON.stringify({name:"Flow Library",mimeType:"application/vnd.google-apps.folder"})})).json();return this.libraryFolderId=d.id,this.libraryFolderId}async uploadFile(i,r){const o=await this.ensureLibraryFolder(),c={name:i,parents:[o]},d=new FormData;return d.append("metadata",new Blob([JSON.stringify(c)],{type:"application/json"})),d.append("file",r),(await(await this.fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",body:d})).json()).id}async listBooks(){const r=`'${await this.ensureLibraryFolder()}' in parents and mimeType!='application/vnd.google-apps.folder' and trashed=false`;return(await(await this.fetch(`https://www.googleapis.com/drive/v3/files?q=${encodeURIComponent(r)}&fields=files(id, name, modifiedTime, size, mimeType)`)).json()).files||[]}async downloadFile(i){return(await this.fetch(`https://www.googleapis.com/drive/v3/files/${i}?alt=media`)).arrayBuffer()}async getSyncState(){const o=await(await this.fetch(`https://www.googleapis.com/drive/v3/files?q=${encodeURIComponent("name='flow_state.json' and 'appDataFolder' in parents and trashed=false")}&spaces=appDataFolder`)).json();if(!o.files||o.files.length===0)return null;const c=o.files[0].id,d=await this.fetch(`https://www.googleapis.com/drive/v3/files/${c}?alt=media`);try{return await d.json()}catch{return null}}async saveSyncState(i){const c=await(await this.fetch(`https://www.googleapis.com/drive/v3/files?q=${encodeURIComponent("name='flow_state.json' and 'appDataFolder' in parents and trashed=false")}&spaces=appDataFolder`)).json(),d=new Blob([JSON.stringify(i)],{type:"application/json"});if(c.files&&c.files.length>0){const f=c.files[0].id;await this.fetch(`https://www.googleapis.com/upload/drive/v3/files/${f}?uploadType=media`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:d})}else{const f={name:"flow_state.json",parents:["appDataFolder"]},h=new FormData;h.append("metadata",new Blob([JSON.stringify(f)],{type:"application/json"})),h.append("file",d),await this.fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",body:h})}}}class Fe{constructor(){this.status="idle",this.listeners=new Set,this.isSyncing=!1,this.pendingSync=!1,this.drive=sa.getInstance(),this.storage=Ae.getInstance(),this.ingestion=Zn.getInstance(),this.settings=_n.getInstance()}static getInstance(){return Fe.instance||(Fe.instance=new Fe),Fe.instance}subscribe(i){return this.listeners.add(i),()=>this.listeners.delete(i)}notifyStatus(i){this.status=i,this.listeners.forEach(r=>{var o;return(o=r.onStatusChange)==null?void 0:o.call(r,i)})}async connect(){try{await this.drive.signIn();const i=await this.drive.getUserInfo();return this.settings.updateSettings({isSyncEnabled:!0,googleDriveEmail:i}),this.syncNow(!0),this.syncTimer&&clearInterval(this.syncTimer),this.syncTimer=setInterval(()=>this.syncNow(!1),3e5),i}catch(i){throw console.error(i),new Error("Failed to connect Google Drive")}}requestSync(){this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{this.syncNow(!1)},2e3)}async syncNow(i=!1){if(this.settings.getSettings().isSyncEnabled&&!(!i&&!this.drive.isAuthenticated)){if(this.isSyncing){this.pendingSync=!0;return}this.isSyncing=!0,this.notifyStatus("syncing");try{await this.syncState(),await this.syncBooks(),this.notifyStatus("success"),setTimeout(()=>this.notifyStatus("idle"),3e3)}catch(r){console.error("[SyncManager] Sync failed",r),this.notifyStatus("error")}finally{this.isSyncing=!1,this.pendingSync&&(this.pendingSync=!1,this.syncNow(!1))}}}async syncState(){const i=await this.storage.getAllMetadata(),r=await this.drive.getSyncState();if(!r){const d=this.buildSyncState(i);await this.drive.saveSyncState(d);return}if(r.preferences){const d=this.settings.getSettings();JSON.stringify(d)!==JSON.stringify(r.preferences)&&this.settings.updateSettings(r.preferences)}let o=!1;const c=r.books||{};for(const d of i){this.getFingerprint(d);let f=Object.keys(c).find(h=>{const m=c[h];return!!(d.driveId&&m.driveId===d.driveId)});if(f){const h=c[f],m=new Date(d.lastOpened).getTime(),p=h.lastOpened,g=p>m+1e4,y=m>p+1e4;g?await this.applyRemoteUpdate(d,h):y?(c[f]=this.mapBookToSyncEntry(d),o=!0):(h.progress||0)>(d.bookmarkProgress||0)?await this.applyRemoteUpdate(d,h):(d.bookmarkProgress||0)>(h.progress||0)&&(c[f]=this.mapBookToSyncEntry(d),o=!0)}else c[d.id]=this.mapBookToSyncEntry(d),o=!0}o&&(r.timestamp=Date.now(),r.books=c,await this.drive.saveSyncState(r))}async syncBooks(){const i=await this.drive.listBooks(),r=await this.storage.getAllMetadata(),o=new Map,c=new Map;r.forEach(d=>{d.driveId&&o.set(d.driveId,d),c.set(this.getFingerprint(d),d)});for(const d of i){if(o.has(d.id))continue;const f=this.parseFilename(d.name),h=`${f.title}|${f.author}`,m=c.get(h);if(m){console.log(`[Sync] Linking existing book "${m.title}" to Drive ID: ${d.id}`),m.driveId=d.id,await this.storage.saveBook(m);continue}try{console.log(`[Sync] Downloading new book: ${d.name}`);const p=await this.drive.downloadFile(d.id);let g;const y=d.name.toLowerCase().endsWith(".txt")||d.mimeType==="text/plain";if(y){const b=new TextDecoder().decode(p);g=await this.ingestion.ingestFromText(f.title,f.author,b)}else{const w=new Blob([p],{type:"application/epub+zip"}),b=new File([w],d.name,{type:"application/epub+zip"});g=await this.ingestion.ingest(b)}g.driveId=d.id,g.sourceType=y?"text":"epub",await this.storage.saveBook(g),this.listeners.forEach(w=>{var b;return(b=w.onNewBook)==null?void 0:b.call(w,g)})}catch(p){console.error(`[Sync] Download failed for ${d.name}`,p)}}for(const d of r)if(!d.driveId)try{const f=await this.storage.getSource(d.id);if(f){console.log(`[Sync] Uploading: ${d.title}`);let h,m;d.sourceType==="text"?(h=new Blob([f],{type:"text/plain"}),m=`${this.sanitizeFilename(d.title)} - ${this.sanitizeFilename(d.author)}.txt`):(h=new Blob([f],{type:"application/epub+zip"}),m=`${this.sanitizeFilename(d.title)}.epub`);const p=await this.drive.uploadFile(m,h);d.driveId=p,await this.storage.saveBook(d)}}catch(f){console.error(`[Sync] Upload failed for ${d.title}`,f)}}async applyRemoteUpdate(i,r){(i.bookmarkProgress!==r.progress||i.isFinished!==r.isFinished)&&(i.bookmarkProgress=r.progress,i.lastTokenIndex=r.lastTokenIndex,i.isFinished=r.isFinished,i.lastOpened=new Date(r.lastOpened),await this.storage.saveBook(i),this.listeners.forEach(o=>{var c;return(c=o.onNewBook)==null?void 0:c.call(o,i)}))}buildSyncState(i){const r={version:1,timestamp:Date.now(),books:{},preferences:this.settings.getSettings()};return i.forEach(o=>{r.books[o.id]=this.mapBookToSyncEntry(o)}),r}mapBookToSyncEntry(i){return{progress:i.bookmarkProgress,lastTokenIndex:i.lastTokenIndex,isFinished:i.isFinished,lastOpened:new Date(i.lastOpened).getTime(),driveId:i.driveId}}getFingerprint(i){return`${i.title.trim().toLowerCase()}|${i.author.trim().toLowerCase()}`}parseFilename(i){const r=i.replace(/\.(txt|epub)$/i,""),o=r.split(" - ");return o.length>=2?{title:o[0].trim(),author:o.slice(1).join(" - ").trim()}:{title:r.trim(),author:"Unknown Author"}}sanitizeFilename(i){return i.replace(/[^a-z0-9 \-_]/gi,"").trim()}resolveConflict(i,r){i.bookmarkProgress=r,this.storage.saveBook(i),this.listeners.forEach(o=>{var c;return(c=o.onNewBook)==null?void 0:c.call(o,i)})}}const ky=({onClose:s})=>{const[i,r]=P.useState("optical"),o=Ie(),{settings:c}=fr(),[d,f]=P.useState(!1),h=async()=>{f(!0);try{await Fe.getInstance().connect()}catch{alert("Could not connect to Google Drive.")}finally{f(!1)}},m=sa.getInstance().isAuthenticated;return T.jsxs("div",{className:"flex flex-col h-full transition-colors duration-300",style:{backgroundColor:o.background},children:[T.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b",style:{borderColor:o.borderColor},children:[T.jsx("div",{children:T.jsx("h2",{className:"text-xl font-bold lowercase tracking-tight",style:{color:o.primaryText},children:"settings"})}),T.jsx("button",{onClick:s,className:"w-11 h-11 rounded-full flex items-center justify-center transition-all active:scale-95",style:{backgroundColor:`${o.primaryText}08`},children:T.jsx(Df,{size:20,style:{color:o.primaryText}})})]}),(!c.isSyncEnabled||!m)&&T.jsx("div",{className:"px-6 pt-5",children:T.jsxs("button",{onClick:h,disabled:d,className:"w-full p-4 rounded-2xl flex items-center justify-between active:scale-[0.98] transition-all",style:{backgroundColor:o.surface,border:`1px solid ${o.borderColor}`},children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"p-2 rounded-xl bg-blue-500 text-white",children:T.jsx($u,{size:16})}),T.jsxs("div",{className:"text-left",children:[T.jsx("h3",{className:"text-sm font-semibold lowercase",style:{color:o.primaryText},children:c.isSyncEnabled?"reconnect cloud":"enable cloud sync"}),T.jsx("p",{className:"text-[10px] opacity-40",style:{color:o.secondaryText},children:c.isSyncEnabled?"session expired":"sync via google drive"})]})]}),T.jsx("span",{className:"text-xs font-semibold text-blue-500",children:d?"...":"connect"})]})}),c.isSyncEnabled&&m&&T.jsx("div",{className:"px-6 pt-5",children:T.jsxs("div",{className:"w-full p-4 rounded-2xl flex items-center gap-3 border",style:{backgroundColor:o.surface,borderColor:o.borderColor},children:[T.jsx("div",{className:"p-2 rounded-xl bg-emerald-500 text-white",children:T.jsx($u,{size:16})}),T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsx("h3",{className:"text-sm font-semibold lowercase",style:{color:o.primaryText},children:"synced"}),T.jsx("p",{className:"text-[10px] opacity-40 truncate",style:{color:o.secondaryText},children:c.googleDriveEmail||"connected"})]}),T.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"})]})}),T.jsx("div",{className:"px-6 pt-5 z-10",children:T.jsx("div",{className:"flex p-0.5 rounded-xl border",style:{borderColor:o.borderColor},children:T.jsxs("button",{onClick:()=>r("optical"),className:"flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg text-xs font-medium transition-all lowercase",style:{backgroundColor:i==="optical"?o.surface:"transparent",color:i==="optical"?o.primaryText:o.secondaryText,opacity:i==="optical"?1:.5},children:[T.jsx(uT,{size:14})," theme"]})})}),T.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar px-6 pb-10 pt-5",children:T.jsx("div",{className:`transition-opacity duration-200 ${i==="optical"?"block":"hidden"}`,children:T.jsx(BT,{})})})]})},VT=[{title:"Frankenstein",author:"Mary Shelley",summary:"A scientist creates a sentient creature in a unorthodox scientific experiment. Gothic sci-fi vibes.",moodColor:"#56494E",genre:"Gothic Fiction",tags:["Sci-Fi","Classic","Horror"],gutenbergId:"84"},{title:"Pride and Prejudice",author:"Jane Austen",summary:"The turbulent relationship between Elizabeth Bennet and Fitzwilliam Darcy. Witty and romantic.",moodColor:"#D8A49B",genre:"Romance",tags:["Social Commentary","Classic"],gutenbergId:"1342"},{title:"Dracula",author:"Bram Stoker",summary:"Count Dracula's attempt to move from Transylvania to England. The ultimate vampire horror.",moodColor:"#740001",genre:"Horror",tags:["Epistolary","Classic","Vampires"],gutenbergId:"345"},{title:"The Great Gatsby",author:"F. Scott Fitzgerald",summary:"A portrait of the Jazz Age in all its decadence and excess. Tragic glamour.",moodColor:"#E3C565",genre:"Modernist Fiction",tags:["Jazz Age","American Classic"],gutenbergId:"64317"},{title:"Moby Dick",author:"Herman Melville",summary:"The narrative of the sailor Ishmael and the obsessive quest of Ahab. Deep ocean madness.",moodColor:"#476C9B",genre:"Adventure",tags:["Nautical","Classic"],gutenbergId:"2701"},{title:"Alice's Adventures in Wonderland",author:"Lewis Carroll",summary:"A young girl named Alice falls through a rabbit hole into a fantasy world. Surreal and trippy.",moodColor:"#6D9DC5",genre:"Fantasy",tags:["Surrealism","Classic","Children"],gutenbergId:"11"},{title:"The Picture of Dorian Gray",author:"Oscar Wilde",summary:"A philosophical novel about a man whose portrait ages while he stays young. Aesthetic hedonism.",moodColor:"#2E4052",genre:"Philosophical Fiction",tags:["Aestheticism","Classic"],gutenbergId:"174"},{title:"The Adventures of Sherlock Holmes",author:"Arthur Conan Doyle",summary:"A consulting detective known for his proficiency with observation and deduction. Foggy London mystery.",moodColor:"#5C5C5C",genre:"Mystery",tags:["Detective","Classic"],gutenbergId:"1661"},{title:"The Metamorphosis",author:"Franz Kafka",summary:"Salesman Gregor Samsa wakes one morning to find himself inexplicably transformed. Existential dread.",moodColor:"#556B2F",genre:"Existentialism",tags:["Absurdist","Classic"],gutenbergId:"5200"},{title:"Wuthering Heights",author:"Emily Bront",summary:"A tale of the all-encompassing and passionate, yet thwarted, love. Windy moors and ghosts.",moodColor:"#483C46",genre:"Gothic Romance",tags:["Moors","Classic"],gutenbergId:"768"}],HT=s=>{let i=0;for(let o=0;o<s.length;o++)i=s.charCodeAt(o)+((i<<5)-i);const r=(i&16777215).toString(16).toUpperCase();return"#"+"00000".substring(0,6-r.length)+r};class Ja{constructor(){}static getInstance(){return Ja.instance||(Ja.instance=new Ja),Ja.instance}getFeaturedBooks(){return VT.map(i=>({...i,coverUrl:i.coverUrl||`https://www.gutenberg.org/cache/epub/${i.gutenbergId}/pg${i.gutenbergId}.cover.medium.jpg`}))}async searchCuratedBooks(i){const r=i.trim();if(!r)return this.getFeaturedBooks();const o=`https://gutendex.com/books/?search=${encodeURIComponent(r)}`,c=`https://gutendex.com/books/?topic=${encodeURIComponent(r)}`;try{const[d,f]=await Promise.all([fetch(o).then(y=>y.json()),fetch(c).then(y=>y.json())]),h=d.results||[],m=f.results||[],p=new Set,g=[];return[...h,...m].forEach(y=>{p.has(y.id)||(p.add(y.id),g.push(y))}),g.filter(y=>y.formats["text/plain"]||y.formats["text/plain; charset=utf-8"]).slice(0,20).map(y=>{const w=y.authors.length>0?y.authors[0].name.replace(/,/,""):"Unknown Author",b=y.formats["image/jpeg"]||y.formats["image/png"]||`https://www.gutenberg.org/cache/epub/${y.id}/pg${y.id}.cover.medium.jpg`,A=y.subjects.length>0?y.subjects[0].split(" -- ")[0]:"Classic",S=y.subjects.map(z=>z.split(" -- ")[0]).slice(0,3);return{title:y.title,author:w,summary:y.summaries&&y.summaries.length>0?y.summaries[0]:`A ${A} masterpiece by ${w}.`,genre:A,tags:S,moodColor:HT(y.title),gutenbergId:y.id.toString(),coverUrl:b}})}catch(d){return console.error("Discovery search failed",d),[]}}async downloadBook(i){if(console.log(`[CloudService] Initiating acquisition for: ${i.title} (ID: ${i.gutenbergId})`),!i.gutenbergId)throw new Error("Cannot download book without Gutenberg ID");try{const r=i.gutenbergId,o=`https://api.github.com/search/repositories?q=${r}+in:name+user:GITenberg`;console.log(`[CloudService] Locating repo: ${o}`);const c=await fetch(o);if(!c.ok)throw new Error("Could not locate book repository.");const d=await c.json();if(!d.items||d.items.length===0)throw new Error("Book not found in GITenberg archives.");const f=d.items[0],h=f.default_branch||"master",m=f.name,p=[`${r}.txt`,`${r}_utf8.txt`,`${r}_utf-8.txt`,`cache/epub/${r}/${r}-0.txt`,`cache/epub/${r}/pg${r}.txt`,`pg${r}.txt`];let g="",y="";for(const w of p){const b=`https://raw.githubusercontent.com/GITenberg/${m}/${h}/${w}`;try{const A=await fetch(b);if(A.ok){const S=await A.text();if(!S.trim().startsWith("<!DOCTYPE html>")&&!S.trim().startsWith("<")&&S.length>1e3){g=S,y=w,console.log(`[CloudService] Successfully fetched from: ${b}`);break}}}catch{continue}}if(!g)throw new Error("Could not retrieve text content from any known location in the archive.");return Zn.getInstance().ingestFromText(i.title,i.author,g,i.moodColor,i.coverUrl)}catch(r){throw console.error("[CloudService] Download failed",r),new Error("Could not download book. Please try another title.")}}}const FT=["philosophy","gothic","sci-fi","adventure","poetry","mystery"],PT=({existingBooks:s,onClose:i,onImport:r,onOpen:o})=>{const c=Ie(),d=Ja.getInstance(),[f,h]=P.useState(""),[m,p]=P.useState([]),[g,y]=P.useState(!1),[w,b]=P.useState({});P.useEffect(()=>{const E=d.getFeaturedBooks();console.log("TitanCloudLibrary: Loading featured books",E.length,E),p(E)},[]);const A=async(E,B)=>{E==null||E.preventDefault();const D=B!==void 0?B:f;if(!D.trim()){p(d.getFeaturedBooks());return}y(!0),p([]);try{const q=await d.searchCuratedBooks(D);p(q)}catch(q){console.error(q)}finally{y(!1)}};P.useEffect(()=>{f.trim()===""&&p(d.getFeaturedBooks())},[f]);const S=async E=>{const B=w[E.title]||"idle";if(!(B==="loading"||B==="success")){b(D=>({...D,[E.title]:"loading"}));try{const D=await d.downloadBook(E);r(D),b(q=>({...q,[E.title]:"success"}))}catch(D){console.error(`Failed to download ${E.title}`,D),b(q=>({...q,[E.title]:"error"})),setTimeout(()=>{b(q=>({...q,[E.title]:"idle"}))},3e3)}}},z=(E,B)=>{switch(E){case"loading":return T.jsxs("div",{className:"flex items-center gap-2 relative w-full justify-center h-full",children:[T.jsx("span",{className:"lowercase z-10",children:"retrieving..."}),T.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-black/10 overflow-hidden",children:T.jsx("div",{className:"h-full bg-current opacity-50 w-full origin-left animate-[progress-scan_1.5s_ease-in-out_infinite]"})})]});case"success":return T.jsxs(T.Fragment,{children:[T.jsx(Po,{size:16}),T.jsx("span",{className:"lowercase",children:"added to shelf"})]});case"error":return T.jsxs(T.Fragment,{children:[T.jsx(VS,{size:16}),T.jsx("span",{className:"lowercase",children:"failed. retry?"})]});default:return T.jsxs(T.Fragment,{children:[T.jsx(GS,{size:16}),T.jsx("span",{className:"lowercase",children:"add to shelf"})]})}},C=(E,B)=>{const D={border:"none",color:"#FFF",backgroundColor:B||c.accent};return E==="loading"?{...D,backgroundColor:c.surface,color:c.primaryText,border:`1px solid ${c.borderColor}`,cursor:"wait"}:E==="success"?{...D,backgroundColor:"#10b981"}:E==="error"?{...D,backgroundColor:"#ef4444"}:D},k=m.length>0&&m[0].isCopyrightedReplacement;return T.jsxs("div",{className:"flex flex-col h-full bg-[#F2F2F7] dark:bg-black transition-colors",style:{backgroundColor:c.background},children:[T.jsxs("div",{className:"flex items-center justify-between px-6 py-6 border-b",style:{borderColor:c.borderColor},children:[T.jsxs("div",{className:"flex flex-col gap-1",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(eT,{size:24,style:{color:c.accent}}),T.jsx("h2",{className:"text-2xl font-serif font-black lowercase tracking-tight leading-none",style:{color:c.primaryText},children:"visit the library"})]}),T.jsx("p",{className:"text-xs font-medium opacity-60 lowercase max-w-[240px]",style:{color:c.secondaryText},children:"classics from the ether. public domain, free forever."})]}),T.jsx("button",{onClick:i,className:"p-3 -mr-3 rounded-full hover:bg-black/5 transition-colors",children:T.jsx(Df,{size:24,style:{color:c.secondaryText}})})]}),T.jsxs("div",{className:"px-6 pt-6 pb-2",children:[T.jsxs("form",{onSubmit:A,className:"relative group",children:[T.jsx("input",{type:"text",placeholder:"search title, author, genre, or keyword...",value:f,onChange:E=>h(E.target.value),className:"w-full h-14 pl-12 pr-4 rounded-2xl text-lg font-medium outline-none transition-all shadow-sm focus:shadow-md",style:{backgroundColor:c.surface,color:c.primaryText,border:`1px solid ${c.borderColor}`}}),T.jsx(vT,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 opacity-40 group-focus-within:opacity-100 transition-opacity",style:{color:c.primaryText}})]}),!f&&T.jsx("div",{className:"flex flex-wrap gap-2 mt-3 animate-fadeIn",children:FT.map(E=>T.jsx("button",{onClick:()=>{h(E),A(void 0,E)},className:"px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-widest border transition-all active:scale-95 opacity-50 hover:opacity-100",style:{backgroundColor:c.surface,borderColor:c.borderColor,color:c.primaryText},children:E},E))}),T.jsx(Ei,{children:g&&T.jsxs(Yn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center justify-center gap-2 py-4 text-sm font-medium",style:{color:c.secondaryText},children:[T.jsx(Qg,{className:"animate-spin",size:16}),T.jsx("span",{children:"scanning archives..."})]})})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-20 pt-6 custom-scrollbar",children:[T.jsx(Ei,{children:g&&T.jsxs(Yn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center justify-center gap-2 py-4 mb-2 text-sm font-medium",style:{color:c.secondaryText},children:[T.jsx(Qg,{className:"animate-spin",size:16}),T.jsx("span",{children:"scanning archives..."})]})}),T.jsx(Ei,{children:!g&&k&&T.jsxs(Yn.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 rounded-2xl flex items-start gap-4 border",style:{backgroundColor:c.surface,borderColor:c.borderColor},children:[T.jsx("div",{className:"p-2 rounded-full bg-neutral-100 shrink-0",children:T.jsx(rT,{size:16,className:"text-neutral-500"})}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-bold text-sm lowercase mb-1",style:{color:c.primaryText},children:"locked in the vault"}),T.jsxs("p",{className:"text-xs font-medium leading-relaxed opacity-70 lowercase",style:{color:c.secondaryText},children:["bad news: that book is still under copyright protection.",T.jsx("br",{}),"good news: we found these public domain classics that share the same soul."]})]})]})}),!g&&!k&&T.jsxs("div",{className:"mb-4 flex items-center gap-2 opacity-50",children:[T.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",style:{color:c.secondaryText},children:f?"results":"curated selection"}),T.jsx("div",{className:"h-px flex-1 bg-current opacity-20",style:{color:c.secondaryText}})]}),!g&&m.length===0&&f&&T.jsx("div",{className:"flex flex-col items-center justify-center h-40 text-center opacity-60",children:T.jsx("p",{className:"font-serif italic text-lg lowercase",style:{color:c.secondaryText},children:'"the library is vast, but this shelf is empty."'})}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:T.jsx(Ei,{mode:"popLayout",children:m.map((E,B)=>{var L;const D=s.find(G=>G.title.trim().toLowerCase()===E.title.trim().toLowerCase()&&G.author.trim().toLowerCase()===E.author.trim().toLowerCase()),q=w[E.title]||"idle";return T.jsxs(Yn.div,{layout:!0,initial:!1,animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:B*.03},className:"relative p-5 rounded-3xl overflow-hidden shadow-sm hover:shadow-md transition-shadow group border",style:{backgroundColor:c.surface,borderColor:c.borderColor},children:[T.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 rounded-full blur-[60px] opacity-[0.15] transition-opacity group-hover:opacity-[0.25]",style:{backgroundColor:E.moodColor||c.accent}}),T.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("h3",{className:"font-serif font-bold text-xl leading-tight mb-1",style:{color:c.primaryText},children:E.title}),T.jsx("p",{className:"text-sm font-medium opacity-60 uppercase tracking-wider mb-2",style:{color:c.primaryText},children:E.author}),T.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[E.genre&&T.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-tighter",style:{backgroundColor:`${c.accent}20`,color:c.accent,border:`1px solid ${c.accent}30`},children:E.genre}),(L=E.tags)==null?void 0:L.slice(0,3).map((G,Z)=>T.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-medium opacity-50 border border-white/10",style:{color:c.primaryText},children:G.toLowerCase()},Z))]}),T.jsx("p",{className:"text-sm leading-relaxed opacity-80 line-clamp-2",style:{color:c.secondaryText},children:E.summary})]}),D?T.jsxs("button",{onClick:()=>o(D),className:"mt-5 flex items-center justify-center gap-2 w-full h-11 rounded-xl font-bold text-sm transition-all active:scale-95 shadow-sm hover:shadow-md",style:{backgroundColor:c.accent,color:"#FFF",border:"none"},children:[T.jsx(Nf,{size:16,fill:"currentColor"}),T.jsx("span",{className:"lowercase",children:"open book"})]}):T.jsx("button",{onClick:()=>S(E),disabled:q==="loading"||q==="success",className:"mt-5 flex items-center justify-center gap-2 w-full h-11 rounded-xl font-bold text-sm transition-all active:scale-95 disabled:opacity-90 disabled:scale-100 shadow-sm hover:shadow-md overflow-hidden relative",style:C(q,E.moodColor),children:z(q,E.moodColor)})]})]},E.title)})})})]})]})},IT=({book:s,onClick:i})=>{const r=P.useMemo(()=>{var p;let d=((p=s.chapters)==null?void 0:p.reduce((g,y)=>g+y.wordCount,0))||s.title.length*500;const f=36,h=64,m=Math.min(1,Math.max(0,d/1e5));return f+m*(h-f)},[s]),o=P.useMemo(()=>{const d=s.author.split(" ");return d.length>0?d[d.length-1]:s.author},[s.author]),c=s.tintColorHex||"#333";return T.jsxs(Yn.div,{layoutId:`spine-${s.id}`,onClick:i,className:"relative h-72 cursor-pointer group mx-[1px] mb-0 rounded-sm overflow-hidden transform-gpu",style:{width:`${r}px`,backgroundColor:c,boxShadow:"inset 0 0 15px rgba(0,0,0,0.3), inset 1px 0 0 rgba(255,255,255,0.1)"},whileHover:{y:-8,zIndex:10,transition:{type:"spring",stiffness:400,damping:25}},children:[T.jsx("div",{className:"absolute inset-0 opacity-30 pointer-events-none mix-blend-multiply grayscale",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`}}),T.jsx("div",{className:"absolute top-0 bottom-0 left-[2px] w-[1px] bg-black/20"}),T.jsx("div",{className:"absolute top-0 bottom-0 right-[2px] w-[1px] bg-black/20"}),T.jsxs("div",{className:"absolute inset-0 flex flex-col items-center py-6 px-1 z-20",children:[T.jsx("div",{className:"flex-none pt-2 pb-6",style:{writingMode:"vertical-rl",textOrientation:"mixed"},children:T.jsx("span",{className:"font-sans text-[9px] font-bold text-white/70 uppercase tracking-[0.15em]",children:o})}),T.jsx("div",{className:"flex-1 flex items-center justify-center w-full overflow-hidden",style:{writingMode:"vertical-rl",textOrientation:"mixed"},children:T.jsx("span",{className:"font-serif font-semibold text-xs md:text-sm tracking-wide text-white/95 text-center leading-relaxed line-clamp-3",style:{textShadow:"0 1px 2px rgba(0,0,0,0.5)",fontVariant:"small-caps"},children:s.title.toLowerCase()})}),T.jsx("div",{className:"flex-none mt-auto pt-4 opacity-50",children:T.jsx("div",{className:"w-4 h-4 border border-white/60 rounded-full flex items-center justify-center",children:T.jsx("div",{className:"w-1.5 h-1.5 bg-white/60 rounded-sm"})})})]}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/20 via-transparent to-black/20 pointer-events-none"})]})},qT=({books:s,onInspectBook:i})=>T.jsx("div",{className:"relative w-full pb-32",children:T.jsxs("div",{className:"flex flex-wrap items-end gap-y-16 px-6 perspective-[1000px]",children:[s.map(r=>T.jsx(IT,{book:r,onClick:()=>i(r)},r.id)),T.jsx("div",{className:"w-full h-2 rounded-full bg-current opacity-[0.03] mt-[-4px] blur-[1px]"})]})}),GT=({book:s,onClose:i,onOpen:r,onToggleFavorite:o,onToggleRead:c,onDelete:d})=>{var g;const f=Ie(),h=P.useRef(0),m=y=>{const w=Date.now();w-h.current<300||(h.current=w,je.impactLight(),y())},p=s.tintColorHex||"#333";return T.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6 perspective-[2000px]",children:[T.jsx("div",{onClick:i,className:"absolute inset-0 bg-black/60 backdrop-blur-md",style:{animation:"fadeIn 400ms cubic-bezier(0.16, 1, 0.3, 1)"}}),T.jsxs("div",{className:"relative w-full max-w-sm bg-white rounded-3xl shadow-2xl overflow-hidden flex flex-col origin-left z-50 max-h-[90vh]",style:{backgroundColor:f.surface,animation:"slideUp 500ms cubic-bezier(0.16, 1, 0.3, 1)"},children:[T.jsxs("div",{className:"relative overflow-hidden flex items-center justify-center p-8 min-h-[280px]",style:{backgroundColor:s.tintColorHex?`${s.tintColorHex}08`:"#f5f5f7"},children:[T.jsx("div",{className:"relative w-36 h-52 shadow-[0_16px_40px_rgba(0,0,0,0.25)] rounded-sm",style:{animation:"fadeIn 400ms cubic-bezier(0.16, 1, 0.3, 1) 100ms both"},children:s.coverUrl?T.jsx("img",{src:s.coverUrl,className:"w-full h-full object-cover rounded-sm",alt:s.title}):T.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-6 text-center border-[6px] border-double",style:{backgroundColor:p,borderColor:"rgba(255,255,255,0.2)",color:"#FFF"},children:[T.jsx(Ty,{size:28,className:"mb-4 opacity-40"}),T.jsx("h2",{className:"font-serif font-black text-base leading-tight line-clamp-3",children:s.title})]})}),T.jsx("div",{className:"absolute inset-y-0 left-0 w-16 bg-gradient-to-r from-black/10 to-transparent pointer-events-none mix-blend-multiply"}),T.jsx("button",{onClick:y=>{y.stopPropagation(),o(s.id,!s.isFavorite)},className:"absolute top-6 right-6 p-3.5 rounded-full bg-black/10 backdrop-blur-md hover:bg-black/20 transition-all text-white z-50 shadow-lg active:scale-90",children:T.jsx(KS,{size:22,fill:s.isFavorite?"#E25822":"none",stroke:s.isFavorite?"#E25822":"currentColor",className:"drop-shadow-sm"})})]}),T.jsxs("div",{className:"p-6 flex flex-col gap-5 border-t relative z-10",style:{backgroundColor:f.surface,borderColor:f.borderColor},children:[T.jsxs("div",{className:"text-center",children:[T.jsx("h2",{className:"font-serif font-bold text-2xl leading-tight lowercase tracking-tight",style:{color:f.primaryText},children:s.title}),T.jsx("p",{className:"font-sans text-xs font-medium opacity-40 mt-1.5",style:{color:f.secondaryText},children:s.author}),T.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mt-6",children:[s.genre&&T.jsx("span",{className:"px-3 py-1 rounded-full text-[9px] font-bold uppercase tracking-widest",style:{backgroundColor:`${f.accent}15`,color:f.accent,border:`1px solid ${f.accent}20`},children:s.genre}),(g=s.tags)==null?void 0:g.slice(0,3).map((y,w)=>T.jsx("span",{className:"px-3 py-1 rounded-full text-[9px] font-bold opacity-30 border border-current uppercase tracking-tighter",style:{color:f.primaryText},children:y.toLowerCase()},w))]}),s.description&&T.jsx("div",{className:"mt-5 text-left max-h-24 overflow-y-auto px-1 custom-scrollbar",children:T.jsxs("p",{className:"text-xs leading-relaxed opacity-60 italic",style:{color:f.secondaryText},children:['"',s.description,'"']})})]}),T.jsxs("button",{onClick:()=>m(()=>r(s)),className:"h-12 w-full rounded-xl flex items-center justify-center gap-2 font-semibold text-white shadow-lg active:scale-[0.98] transition-transform",style:{backgroundColor:f.accent},children:[T.jsx(Nf,{size:16,fill:"currentColor"}),T.jsx("span",{className:"lowercase text-base",children:"start reading"})]})]}),T.jsxs("div",{className:"grid grid-cols-3 divide-x border-t",style:{borderColor:f.borderColor,color:f.secondaryText},children:[T.jsxs("button",{onClick:()=>{je.impactMedium(),confirm("Delete this book?")&&(d(s.id),i())},className:"h-14 flex items-center justify-center gap-1.5 hover:bg-red-500/10 transition-colors text-red-400 hover:text-red-500",children:[T.jsx(Ey,{size:16}),T.jsx("span",{className:"text-xs font-medium",children:"delete"})]}),T.jsxs("button",{onClick:()=>m(()=>c(s.id,!s.isFinished)),className:"h-14 flex items-center justify-center gap-1.5 hover:bg-black/5 transition-colors",style:{color:s.isFinished?"#10b981":f.secondaryText},children:[s.isFinished?T.jsx(jS,{size:16}):T.jsx(_y,{size:16}),T.jsx("span",{className:"text-xs font-medium",children:s.isFinished?"read":"mark read"})]}),T.jsxs("button",{onClick:i,className:"h-12 flex items-center justify-center gap-1.5 hover:bg-black/5 transition-colors",children:[T.jsx(kS,{size:16}),T.jsx("span",{className:"text-xs font-medium",children:"back"})]})]})]})]})},YT=({books:s,onBookSelect:i,onBookImported:r,onDeleteBooks:o,onToggleReadStatus:c,onToggleFavorite:d})=>{const f=P.useRef(null),h=P.useRef(null),m=P.useRef(null),[p,g]=P.useState(!1),y=Ie(),[w,b]=P.useState("grid"),[A,S]=P.useState(!1),[z,C]=P.useState(new Set),[k,E]=P.useState(!1),[B,D]=P.useState(!1),[q,L]=P.useState(!1),G=P.useRef(!1),[Z,$]=P.useState(!1),[mt,U]=P.useState(!1),[st,_]=P.useState(!1),[tt,X]=P.useState(!1),[V,ot]=P.useState(null);P.useEffect(()=>{const F=()=>{G.current||(G.current=!0,V?ot(null):q||mt?gt():(B||Z)&&it(),G.current=!1)};return window.addEventListener("popstate",F),()=>window.removeEventListener("popstate",F)},[V,q,mt,B,Z]);const it=()=>{$(!0),setTimeout(()=>{D(!1),$(!1)},400)},gt=()=>{U(!0),setTimeout(()=>{L(!1),U(!1)},400)},[j,O]=P.useState(0),et=P.useRef(null),at=P.useRef(0);P.useEffect(()=>{const F=h.current;if(!F)return;const R=()=>{if(!m.current)return;const N=F.scrollTop,I=Math.max(.8,1-N/300),ft=Math.max(0,1-N/150);m.current.style.transform=`scale(${I})`,m.current.style.opacity=ft.toString()};return F.addEventListener("scroll",R,{passive:!0}),R(),()=>F.removeEventListener("scroll",R)},[]);const{activeBooks:ct,finishedBooks:_t,favoriteBooks:kt}=P.useMemo(()=>{const F=[...s].sort((R,N)=>new Date(N.lastOpened).getTime()-new Date(R.lastOpened).getTime());return{favoriteBooks:F.filter(R=>R.isFavorite),activeBooks:F.filter(R=>!R.isFinished),finishedBooks:F.filter(R=>R.isFinished)}},[s]);P.useEffect(()=>{kt.length>0&&!tt&&s.some(F=>F.isFavorite&&!F.isFinished)},[kt.length]);const bt=async F=>{var N;const R=(N=F.target.files)==null?void 0:N[0];if(R){g(!0);try{const I=await Zn.getInstance().ingest(R);if(!I.chapters||I.chapters.length===0){console.error("[TitanLibrary] Book imported but has 0 chapters:",{title:I.title,author:I.author,id:I.id});const ft=[`Date: ${new Date().toISOString()}`,`UserAgent: ${navigator.userAgent}`,`Platform: ${navigator.platform}`,`File: ${R.name}`,`BookTitle: ${I.title}`,`BookAuthor: ${I.author}`,`BookId: ${I.id}`,`ChaptersLength: ${I.chapters?I.chapters.length:"undefined"}`,"","Notes: Import produced zero chapters. Attach this file when reporting."].join(`
`);((Q,vt=`flow-diagnostics-${Date.now()}.txt`)=>{try{const wt=new Blob([Q],{type:"text/plain"}),xt=URL.createObjectURL(wt),Et=document.createElement("a");Et.href=xt,Et.download=vt,document.body.appendChild(Et),Et.click(),Et.remove(),setTimeout(()=>URL.revokeObjectURL(xt),1500)}catch(wt){console.error("Failed to create diagnostics download",wt)}})(ft),alert(`Import failed: "${I.title}" was processed but no readable content was found. A diagnostic file has been downloaded to help with reporting.`);return}console.log(`[TitanLibrary] Successfully imported "${I.title}" with ${I.chapters.length} chapters`),r(I)}catch(I){console.error("[TitanLibrary] Import error:",I);try{const ft=[`Date: ${new Date().toISOString()}`,`UserAgent: ${navigator.userAgent}`,`Platform: ${navigator.platform}`,`File: ${R?R.name:"unknown"}`,`Error: ${I instanceof Error?I.message:String(I)}`,`Stack: ${I instanceof Error&&I.stack?I.stack:"no-stack"}`,"","Notes: Import threw an exception. Attach this file when reporting."].join(`
`),pt=new Blob([ft],{type:"text/plain"}),Q=URL.createObjectURL(pt),vt=document.createElement("a");vt.href=Q,vt.download=`flow-import-error-${Date.now()}.txt`,document.body.appendChild(vt),vt.click(),vt.remove(),setTimeout(()=>URL.revokeObjectURL(Q),1500)}catch(ft){console.error("Failed to create diagnostics download",ft)}alert(`Import failed: ${I instanceof Error?I.message:"Unknown error. A diagnostic file has been downloaded."}`)}finally{g(!1),f.current&&(f.current.value="")}}},St=()=>{var F;return(F=f.current)==null?void 0:F.click()},yt=()=>{je.impactMedium(),S(F=>(F&&(C(new Set),O(0)),!F))},Tt=F=>{je.impactLight(),C(R=>{const N=new Set(R);return N.has(F.id)?N.delete(F.id):N.add(F.id),N})},Nt=()=>{if(z.size===0)return;const N=!s.filter(I=>z.has(I.id)).every(I=>I.isFinished);c(Array.from(z),N),je.impactMedium(),S(!1),C(new Set)},Rt=F=>{if(z.size===0)return;F.preventDefault(),at.current=performance.now(),F.target.setPointerCapture(F.pointerId);const R=()=>{const N=performance.now()-at.current,I=Math.min(N/600,1);O(I),I<1?et.current=requestAnimationFrame(R):rt()};et.current=requestAnimationFrame(R)},x=F=>{et.current&&(cancelAnimationFrame(et.current),et.current=null),O(0),F.target.releasePointerCapture(F.pointerId)},rt=()=>{et.current&&cancelAnimationFrame(et.current),navigator.vibrate&&navigator.vibrate([40,30,40]),o(Array.from(z)),C(new Set),O(0),E(!0),S(!1)};return T.jsxs("div",{className:"relative h-full w-full overflow-hidden",style:{backgroundColor:y.background},children:[T.jsx("input",{type:"file",ref:f,onChange:bt,accept:".epub",className:"hidden"}),T.jsx("button",{onClick:()=>{G.current||window.history.pushState({modal:"settings"},"",window.location.href),D(!0)},className:"absolute top-6 right-6 z-40 p-3 rounded-full hover:bg-black/5 transition-colors",style:{color:y.secondaryText},children:T.jsx(xT,{size:24})}),T.jsxs("div",{ref:h,className:"h-full w-full overflow-y-auto custom-scrollbar pt-24 pb-48 px-6 md:px-12",children:[T.jsxs("div",{ref:m,className:"mb-8 origin-left will-change-transform flex items-end justify-between",style:{transform:"scale(1)",opacity:1},children:[T.jsxs("div",{children:[T.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-black tracking-tight lowercase leading-none",style:{color:y.primaryText},children:"bookshelf"}),T.jsxs("p",{className:"text-sm font-sans font-medium mt-2 lowercase opacity-50",style:{color:y.secondaryText},children:[ct.length," ",ct.length===1?"book":"books"," in progress"]})]}),s.length>0&&T.jsxs("div",{className:"flex p-0.5 rounded-xl border",style:{borderColor:y.borderColor,backgroundColor:y.surface},children:[T.jsx("button",{onClick:()=>b("grid"),className:`p-2 rounded-lg transition-all active:scale-90 ${w==="grid"?"shadow-sm":"opacity-40 hover:opacity-70"}`,style:{backgroundColor:w==="grid"?y.background:"transparent",color:y.primaryText},children:T.jsx($S,{size:18})}),T.jsx("button",{onClick:()=>b("shelf"),className:`p-2 rounded-lg transition-all active:scale-90 ${w==="shelf"?"shadow-sm":"opacity-40 hover:opacity-70"}`,style:{backgroundColor:w==="shelf"?y.background:"transparent",color:y.primaryText},children:T.jsx(JS,{size:18})})]})]}),s.length===0?T.jsx(NT,{onImport:St,hasDeleted:k}):w==="shelf"?T.jsx("div",{className:"transition-opacity duration-400",style:{transitionTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)"},children:T.jsx(qT,{books:s,onBookSelect:i,onInspectBook:F=>{G.current||window.history.pushState({modal:"detail"},"",window.location.href),ot(F)}})}):T.jsxs("div",{className:"flex flex-col gap-12 transition-opacity duration-400",style:{transitionTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)"},children:[T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-x-4 gap-y-6 md:gap-x-6 md:gap-y-8",children:T.jsx(Ei,{mode:"popLayout",children:ct.map(F=>T.jsx(Yn.div,{initial:!1,animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},children:T.jsx(Ru,{book:F,onSelect:i,isEditing:A,isSelected:z.has(F.id),onToggleSelect:Tt,onRequestManage:()=>{S(!0),C(new Set([F.id]))},onLongPress:R=>{G.current||window.history.pushState({modal:"detail"},"",window.location.href),ot(R)}})},F.id))})}),kt.length>0&&T.jsxs("div",{className:"mt-6 border-t pt-6",style:{borderColor:y.borderColor},children:[T.jsxs("button",{onClick:F=>{F.stopPropagation(),X(R=>!R)},className:"flex items-center gap-1.5 text-sm font-medium lowercase hover:opacity-80 transition-opacity mb-4",style:{color:y.secondaryText,opacity:.6},children:[tt?T.jsx(Qu,{size:16}):T.jsx(Kg,{size:16}),T.jsxs("span",{children:["favorites (",kt.length,")"]})]}),tt&&T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-x-4 gap-y-6 md:gap-x-6 md:gap-y-8 pb-6",children:kt.map(F=>T.jsx("div",{children:T.jsx(Ru,{book:F,onSelect:i,isEditing:A,isSelected:z.has(F.id),onToggleSelect:Tt,onLongPress:R=>{G.current||window.history.pushState({modal:"detail"},"",window.location.href),ot(R)}})},`fav-${F.id}`))})]}),_t.length>0&&T.jsxs("div",{className:"mt-2 border-t pt-6",style:{borderColor:y.borderColor},children:[T.jsxs("button",{onClick:F=>{F.stopPropagation(),_(R=>!R)},className:"flex items-center gap-1.5 text-sm font-medium lowercase hover:opacity-80 transition-opacity mb-4",style:{color:y.secondaryText,opacity:.6},children:[st?T.jsx(Qu,{size:16}):T.jsx(Kg,{size:16}),T.jsxs("span",{children:["finished (",_t.length,")"]})]}),st&&T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-x-4 gap-y-6 md:gap-x-6 md:gap-y-8 pb-6",children:_t.map(F=>T.jsx("div",{children:T.jsx(Ru,{book:F,onSelect:i,isEditing:A,isSelected:z.has(F.id),onToggleSelect:Tt,onLongPress:R=>{G.current||window.history.pushState({modal:"detail"},"",window.location.href),ot(R)}})},`fin-${F.id}`))})]}),T.jsx("div",{className:"h-24"})]})]}),T.jsx("div",{className:"absolute left-0 right-0 flex justify-center pointer-events-none z-30",style:{bottom:"calc(1.5rem + env(safe-area-inset-bottom))"},children:T.jsx(Yn.div,{layout:!0,initial:!1,className:"pointer-events-auto shadow-xl backdrop-blur-2xl border flex items-center p-1.5 rounded-2xl gap-1 relative overflow-hidden",style:{backgroundColor:y.surface+"f0",borderColor:y.borderColor,minWidth:"180px"},children:T.jsx(Ei,{mode:"wait",children:A?T.jsxs(Yn.div,{initial:!1,animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex items-center w-full gap-2 px-1",children:[T.jsx("button",{onClick:yt,className:"w-9 h-9 rounded-xl flex items-center justify-center hover:bg-black/5 transition-colors",style:{color:y.primaryText},children:T.jsx(Df,{size:18})}),T.jsx("div",{className:"w-px h-5 bg-black/10"}),T.jsx("button",{onClick:Nt,disabled:z.size===0,className:"w-9 h-9 rounded-xl flex items-center justify-center hover:bg-black/5 transition-colors disabled:opacity-30",style:{color:y.primaryText},children:T.jsx(NS,{size:18})}),T.jsx("div",{className:"w-px h-5 bg-black/10"}),T.jsxs("button",{onPointerDown:Rt,onPointerUp:x,onPointerLeave:x,disabled:z.size===0,className:"flex-1 relative flex items-center justify-center gap-1.5 px-4 h-9 rounded-xl font-semibold text-white shadow-md active:scale-[0.98] transition-transform overflow-hidden disabled:opacity-50 disabled:active:scale-100 lowercase text-sm",style:{backgroundColor:y.accent},children:[T.jsx("div",{className:"absolute inset-0 bg-white mix-blend-overlay origin-left",style:{transform:`scaleX(${j})`,transition:"transform 0.05s linear"}}),T.jsxs("div",{className:"relative z-10 flex items-center gap-1.5",children:[T.jsx(Ey,{size:16}),T.jsx("span",{children:z.size>0?`delete ${z.size}`:"select"})]})]})]},"edit-dock"):T.jsxs(Yn.div,{initial:!1,animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex items-center w-full gap-2 px-1",children:[T.jsx("button",{onClick:yt,disabled:s.length===0,className:"w-9 h-9 rounded-xl flex items-center justify-center hover:bg-black/5 disabled:opacity-30 transition-colors",style:{color:y.secondaryText},children:T.jsx(CT,{size:18})}),T.jsx("div",{className:"w-px h-5 bg-black/10"}),T.jsx("button",{onClick:()=>{G.current||window.history.pushState({modal:"cloud"},"",window.location.href),L(!0)},className:"w-9 h-9 rounded-xl flex items-center justify-center hover:bg-black/5 transition-colors",style:{color:y.accent},children:T.jsx(PS,{size:18})}),T.jsx("div",{className:"w-px h-5 bg-black/10"}),T.jsxs("button",{onClick:St,className:"flex-1 flex items-center justify-center gap-1.5 px-4 h-9 rounded-xl font-semibold text-white shadow-md active:scale-[0.98] transition-transform lowercase text-sm",style:{backgroundColor:y.accent},children:[p?T.jsx(Rf,{size:16,className:"animate-spin"}):T.jsx(Cy,{size:16,strokeWidth:3}),T.jsx("span",{children:"import"})]})]},"normal-dock")})})}),T.jsx(Ei,{children:V&&T.jsx(GT,{book:s.find(F=>F.id===V.id)||V,onClose:()=>ot(null),onOpen:F=>{ot(null),i(F)},onToggleFavorite:(F,R)=>d(F,R),onToggleRead:(F,R)=>c([F],R),onDelete:F=>{o([F]),ot(null),s.length===1&&E(!0)}})}),(q||mt)&&T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"fixed inset-0 z-[100]",style:{backgroundColor:"rgba(0,0,0,0.5)",backdropFilter:"blur(2px)",animation:mt?"fadeOut 0.4s ease-out":"fadeIn 0.6s ease-out"},onClick:gt}),T.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[101] rounded-t-[32px] h-[90vh] shadow-2xl overflow-hidden",style:{backgroundColor:y.background,animation:mt?"slideDown 0.5s cubic-bezier(0.7, 0, 0.84, 0)":"slideUp 0.8s cubic-bezier(0.16, 1, 0.3, 1)"},children:T.jsx(PT,{existingBooks:s,onClose:gt,onImport:F=>{r(F)},onOpen:F=>{L(!1),i(F)}})})]}),(B||Z)&&T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"fixed inset-0 z-[100]",style:{backgroundColor:"rgba(0,0,0,0.5)",backdropFilter:"blur(2px)",animation:Z?"fadeOut 0.4s ease-out":"fadeIn 0.6s ease-out"},onClick:it}),T.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[101] rounded-t-[32px] h-[70vh] shadow-2xl overflow-hidden",style:{backgroundColor:y.background,animation:Z?"slideDown 0.5s cubic-bezier(0.7, 0, 0.84, 0)":"slideUp 0.8s cubic-bezier(0.16, 1, 0.3, 1)"},children:T.jsx(ky,{onClose:it})})]})]})};class vn{constructor(){this.tokens=[],this.currentIndex=0,this.wpm=150,this.rampStep=3,this._isPlaying=!1,this.animationFrameId=null,this.lastFrameTime=0,this.accumulatedTime=0,this.listeners=new Set,this.completionListeners=new Set,this.notifyScheduled=!1,this.loop=i=>{if(!this._isPlaying)return;if(this.lastFrameTime===0){this.lastFrameTime=i,this.animationFrameId=requestAnimationFrame(this.loop);return}const r=(i-this.lastFrameTime)/1e3;this.lastFrameTime=i;const o=Math.min(r,.1);this.accumulatedTime+=o;const c=this.currentToken;if(!c){this.finish();return}const d=60/this.wpm;let f=1;this.rampStep===0?f=2:this.rampStep===1?f=1.5:this.rampStep===2&&(f=1.2);const h=d*c.durationMultiplier*f;this.accumulatedTime>=h&&(this.advance(),this.accumulatedTime-=h),this._isPlaying&&(this.animationFrameId=requestAnimationFrame(this.loop))}}static getInstance(){return vn.instance||(vn.instance=new vn),vn.instance}get currentToken(){return this.currentIndex>=0&&this.currentIndex<this.tokens.length?this.tokens[this.currentIndex]:null}get isPlaying(){return this._isPlaying}setTokens(i){this.tokens=i,this.currentIndex>=i.length&&(this.currentIndex=0),this.notify()}clear(){this.pause(),this.tokens=[],this.currentIndex=0,this.notify()}play(){this._isPlaying||this.tokens.length!==0&&(this.currentIndex>=this.tokens.length-1&&(this.currentIndex=0),this._isPlaying=!0,this.lastFrameTime=0,this.accumulatedTime=0,this.currentIndex===0&&(this.rampStep=0),this.loop(performance.now()),this.notify())}pause(){this._isPlaying&&(this._isPlaying=!1,this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.notify())}stop(){this.pause(),this.accumulatedTime=0,this.rampStep=3,this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.notify()}toggle(){this._isPlaying?this.pause():this.play()}seek(i){const r=this._isPlaying;r&&this.pause(),this.currentIndex=Math.max(0,Math.min(i,this.tokens.length-1)),this.accumulatedTime=0,this.notify(),r&&this.play()}updateWPM(i){this.wpm=Math.max(50,Math.min(2e3,i)),this.notify()}advance(){this.currentIndex<this.tokens.length-1?(this.currentIndex++,this.rampStep<3&&this.rampStep++,this.notify()):this.finish()}finish(){this.pause(),this.currentIndex=this.tokens.length-1,this.notify(),this.completionListeners.forEach(i=>i())}subscribe(i){return this.listeners.add(i),()=>this.listeners.delete(i)}onComplete(i){return this.completionListeners.add(i),()=>this.completionListeners.delete(i)}notify(){this._isPlaying&&!this.notifyScheduled?(this.notifyScheduled=!0,queueMicrotask(()=>{this.notifyScheduled=!1,this.listeners.forEach(i=>i())})):this._isPlaying||this.listeners.forEach(i=>i())}}const ZT=`
self.onmessage = function(e) {
    const { text, startingIndex } = e.data;
    const tokens = [];
    let currentTokenIndex = startingIndex;
    
    // 
    // WORD SETS (Inlined for worker)
    // 
    
    const FUNCTION_WORDS = new Set([
      'a', 'an', 'the', 'i', 'me', 'my', 'mine', 'we', 'us', 'our', 'ours',
      'you', 'your', 'yours', 'he', 'him', 'his', 'she', 'her', 'hers',
      'it', 'its', 'they', 'them', 'their', 'theirs', 'this', 'that', 'these', 'those',
      'who', 'whom', 'whose', 'which', 'what', 'at', 'by', 'for', 'from', 'in', 'of',
      'on', 'to', 'with', 'about', 'after', 'before', 'between', 'into', 'through',
      'during', 'above', 'below', 'under', 'over', 'behind', 'beside', 'beyond',
      'am', 'is', 'are', 'was', 'were', 'be', 'been', 'being', 'have', 'has', 'had',
      'do', 'does', 'did', 'will', 'would', 'shall', 'should', 'may', 'might',
      'must', 'can', 'could', 'and', 'or', 'but', 'nor', 'so', 'yet', 'as', 'if',
      'then', 'than', 'when', 'while', 'where', 'there', 'here', 'not', "n't", 'no',
      'yes', 'very', 'just', 'only', 'also', 'even', 'still', 'too'
    ]);
    
    const CLAUSE_STARTERS = new Set([
      'although', 'because', 'before', 'after', 'unless', 'until', 'while',
      'whereas', 'whenever', 'wherever', 'whether', 'though', 'since',
      'however', 'therefore', 'moreover', 'furthermore', 'nevertheless',
      'meanwhile', 'otherwise', 'consequently', 'accordingly'
    ]);
    
    const EMPHASIS_WORDS = new Set([
      'never', 'always', 'absolutely', 'definitely', 'certainly', 'surely',
      'suddenly', 'finally', 'immediately', 'instantly', 'important', 'critical',
      'crucial', 'essential', 'significant', 'amazing', 'incredible', 'extraordinary',
      'remarkable', 'astonishing', 'terrible', 'horrible', 'devastating',
      'catastrophic', 'beautiful', 'gorgeous', 'magnificent', 'stunning',
      'first', 'second', 'third', 'lastly'
    ]);
    
    const PUNCT_PAUSES = {
      '.': 1.4, '?': 1.5, '!': 1.3, ';': 0.9, ':': 0.8, ',': 0.35,
      '\\u2014': 0.6, '\\u2013': 0.4, '-': 0.1, '"': 0.25, "'": 0.15, '\\u201C': 0.25,
      '\\u201D': 0.25, '\\u2018': 0.15, '\\u2019': 0.15, '(': 0.2, ')': 0.3, '\\u2026': 1.8
    };
    
    // 
    // STATE TRACKING
    // 
    
    let sentencePosition = 0;
    let quoteDepth = 0;
    let prevPunctuation = '';
    
    // 
    // DURATION CALCULATOR (Inlined)
    // 
    
    function calcDuration(word, punct, prevPunct, sentPos, isDialogue) {
        const lowerWord = word.toLowerCase();
        const len = word.length;
        let dur = 1.0;
        
        // Estimate syllables using proven syllable count algorithm
        // (correlates strongly with reading time)
        const syllables = estimateSyllables(word);
        
        // Syllable-based timing (more reliable than character length)
        // Most English words: ~1-2 syllables, average 1.5
        // 1 syllable = 0.85x (faster), 2 syllables = 1.0x (normal), 3+ = 1.0 + 0.2*(n-2)
        if (syllables <= 1) dur *= 0.85;
        else if (syllables === 2) dur *= 1.0;
        else if (syllables >= 3) dur *= (1.0 + (syllables - 2) * 0.2);
        
        // Category-based adjustments (these still apply)
        if (FUNCTION_WORDS.has(lowerWord)) dur *= 0.85;
        if (EMPHASIS_WORDS.has(lowerWord)) dur *= 1.15;
        if (sentPos === 0) dur *= 1.1;
        if (CLAUSE_STARTERS.has(lowerWord)) dur *= 1.05;
        
        // Punctuation (critical for natural pacing)
        if (punct) {
            let pPause = 0;
            for (let c of punct) {
                pPause += PUNCT_PAUSES[c] || 0;
            }
            if (punct.includes('...') || punct.includes('')) pPause = Math.max(pPause, 1.5);
            dur += Math.min(pPause, 2.0);
        }
        
        // Dialogue pacing (slightly faster)
        if (isDialogue) dur *= 0.92;
        
        // Special patterns
        if (/d/.test(word)) dur *= 1.15;  // Numbers take longer to parse
        if (word === word.toUpperCase() && len > 1 && /[A-Z]/.test(word)) dur *= 1.1;
        if (word.includes('-') && len > 5) dur *= 1.05;  // Hyphenated words
        if (word.includes("'") && len < 8) dur *= 0.9;   // Contractions
        
        return Math.max(0.5, Math.min(3.5, dur));
    }
    
    // Syllable counter using proven linguistics algorithm
    // Accuracy ~82% on English text (good enough for timing)
    function estimateSyllables(word) {
        word = word.toLowerCase().replace(/[^a-z]/g, '');
        if (!word) return 1;
        if (word.length <= 3) return 1;
        
        let count = 0;
        let prevWasVowel = false;
        const vowels = 'aeiouy';
        
        for (let i = 0; i < word.length; i++) {
            const isVowel = vowels.includes(word[i]);
            if (isVowel && !prevWasVowel) {
                count++;
            }
            prevWasVowel = isVowel;
        }
        
        // Adjustments for silent 'e' and other patterns
        if (word.endsWith('e')) count--;
        if (word.endsWith('le') && word.length > 2 && !vowels.includes(word[word.length - 3])) count++;
        if (count === 0) count = 1;
        
        return Math.max(1, count);
    }
    
    // 
    // PROCESSING LOOP
    // 
    
    const CHUNK_SIZE = 10000;
    let match;
    const regex = /([^\\s]+)(\\s*)/g;
    const punctuationRegex = /^(.+?)([.,;:!?"')\\]}\\u201C\\u201D\\u2018\\u2019\\u00BB\\u203A\\u2026\\u2014\\u2013-]+)?$/;
    const sentenceEndRegex = /[.?!\\u2026]/;
    const quoteChars = new Set(['"', '\\u201C', '\\u201D', '\\u2018', '\\u2019', "'", '\\u00AB', '\\u00BB']);
    
    function calculateORP(len) {
        if (len <= 1) return 0;
        if (len >= 2 && len <= 5) return 1;
        if (len >= 6 && len <= 10) return 2;
        return 3;
    }
    
    function processChunk() {
        let count = 0;
        
        while (count < CHUNK_SIZE) {
            match = regex.exec(text);
            if (!match) break;
            
            const fullChunk = match[1];
            const trailingSpace = match[2];
            const matchIndex = match.index;
            
            const separationMatch = fullChunk.match(punctuationRegex);
            let wordContent = fullChunk;
            let punctuationStr = "";
            
            if (separationMatch) {
                wordContent = separationMatch[1];
                punctuationStr = separationMatch[2] || "";
            }
            
            const len = wordContent.length;
            const orpIndex = (len <= 10) ? calculateORP(len) : 3;
            const leftSegment = wordContent.slice(0, orpIndex);
            const centerCharacter = wordContent[orpIndex] || "";
            const rightSegment = wordContent.slice(orpIndex + 1);
            
            // Update quote depth for dialogue tracking
            let isDialogue = quoteDepth > 0;
            for (let c of fullChunk) {
                if (c === '"' || c === '\\u201C' || c === '\\u00AB') quoteDepth++;
                else if (c === '"' || c === '\\u201D' || c === '\\u00BB') quoteDepth = Math.max(0, quoteDepth - 1);
            }
            
            // Calculate grammar-aware duration
            const duration = calcDuration(
                wordContent, 
                punctuationStr, 
                prevPunctuation,
                sentencePosition,
                isDialogue
            );
            
            // Track sentence position
            const isSentenceEnd = sentenceEndRegex.test(punctuationStr);
            if (isSentenceEnd) {
                sentencePosition = 0;
            } else {
                sentencePosition++;
            }
            prevPunctuation = punctuationStr;
            
            const isParagraphEnd = trailingSpace.indexOf('\\n') !== -1;
            
            // Add paragraph pause
            let finalDuration = duration;
            if (isParagraphEnd) finalDuration += 1.8;
            
            tokens.push({
                id: 't-' + currentTokenIndex,
                originalText: fullChunk,
                leftSegment,
                centerCharacter,
                rightSegment,
                punctuation: punctuationStr || undefined,
                durationMultiplier: finalDuration,
                isSentenceEnd,
                isParagraphEnd,
                globalIndex: currentTokenIndex,
                startOffset: matchIndex
            });
            
            currentTokenIndex++;
            count++;
        }
        
        if (!match) {
            self.postMessage(tokens);
        } else {
            setTimeout(processChunk, 0);
        }
    }
    
    processChunk();
};
`,XT=ZT,na=class na{static initWorker(){if(!this.worker)try{const i=new Blob([XT],{type:"application/javascript"});this.workerUrl=URL.createObjectURL(i),this.worker=new Worker(this.workerUrl),this.worker.onmessage=r=>{const o=r.data;this.isProcessing=!1,this.pendingResolve&&(this.pendingResolve(o),this.pendingResolve=null,this.pendingReject=null)},this.worker.onerror=r=>{console.error("RSVP Worker Error",r),this.isProcessing=!1,this.pendingReject&&(this.pendingReject(r),this.pendingResolve=null,this.pendingReject=null),this.terminate()}}catch(i){console.error("Failed to initialize RSVP Worker",i)}}static async process(i,r=0){return this.isProcessing&&this.pendingReject&&(this.pendingReject(new Error("Cancelled by new process request")),this.pendingResolve=null,this.pendingReject=null,this.terminate()),this.worker||this.initWorker(),new Promise((o,c)=>{this.pendingResolve=o,this.pendingReject=c,this.isProcessing=!0,this.worker?this.worker.postMessage({text:i,startingIndex:r}):c(new Error("Worker failed to initialize"))})}static terminate(){this.worker&&(this.worker.terminate(),this.worker=null),this.workerUrl&&(URL.revokeObjectURL(this.workerUrl),this.workerUrl=null),this.isProcessing=!1}};na.worker=null,na.workerUrl=null,na.pendingResolve=null,na.pendingReject=null,na.isProcessing=!1;let Wu=na;var Cn=(s=>(s.IDLE="IDLE",s.PLAYING="PLAYING",s.PAUSED="PAUSED",s.FINISHED="FINISHED",s))(Cn||{});class mn{constructor(){this.state="IDLE",this.listeners=new Set,this.lastSavedIndex=-1,this.lastContentRef=null,this.preparationPromise=null,this.wakeLock=null,this.notifyScheduled=!1,this.heartbeat=vn.getInstance(),this.core=Pe.getInstance(),this.heartbeat.subscribe(()=>this.handleHeartbeatUpdate()),this.heartbeat.onComplete(()=>{this.state="FINISHED",this.releaseWakeLock(),this.notify()});const i=_n.getInstance(),r=i.getSettings().rsvpSpeed;this.updateWPM(r),i.subscribe(()=>{const o=i.getSettings().rsvpSpeed;this.heartbeat.wpm!==o&&this.updateWPM(o)}),document.addEventListener("visibilitychange",async()=>{this.wakeLock!==null&&document.visibilityState==="visible"&&this.state==="PLAYING"&&await this.requestWakeLock()})}static getInstance(){return mn.instance||(mn.instance=new mn),mn.instance}async prepare(i,r={}){if(this.lastContentRef===i&&this.heartbeat.tokens.length>0){this.applyConfig(r);return}if(this.preparationPromise)try{if(await this.preparationPromise,this.lastContentRef===i){this.applyConfig(r);return}}catch{}this.preparationPromise=(async()=>{try{const o=await Wu.process(i);this.heartbeat.setTokens(o),this.lastContentRef=i}finally{this.preparationPromise=null}})(),await this.preparationPromise,this.applyConfig(r)}applyConfig(i){const r=this.heartbeat.tokens;let o=0;if(i.index!==void 0)o=Math.max(0,Math.min(i.index,r.length-1));else if(i.offset!==void 0){const c=i.offset,d=r.findIndex(f=>f.startOffset>=c);d!==-1?o=d:o=Math.max(0,r.length-1)}else{const c=i.progress??0;o=Math.max(0,Math.min(Math.floor(r.length*c),r.length-1))}this.heartbeat.seek(o),this.state="PAUSED",this.lastSavedIndex=o,this.notify()}togglePlay(){this.state==="PLAYING"?this.pause():this.play()}play(){this.state==="FINISHED"&&(this.heartbeat.seek(0),this.state="PAUSED",je.impactMedium()),this.heartbeat.tokens.length!==0&&(this.state="PLAYING",this.heartbeat.play(),this.requestWakeLock(),this.notify())}pause(i=!1){if(this.state="PAUSED",this.heartbeat.pause(),this.releaseWakeLock(),!i){const r=this.heartbeat.currentIndex,c=Math.max(0,r-1);c!==r&&this.heartbeat.seek(c)}this.syncProgressToCore(!0),this.notify()}seekRelative(i){const r=this.heartbeat.currentIndex,o=r+i;o!==r&&(this.state==="PLAYING"&&this.pause(!0),this.heartbeat.seek(o),this.syncProgressToCore(!0))}shutdown(i=!0){i&&this.syncProgressToCore(!0),this.heartbeat.stop(),this.state="IDLE",this.releaseWakeLock(),this.lastContentRef=null,this.heartbeat.clear(),this.notify()}updateWPM(i){this.heartbeat.updateWPM(i)}async requestWakeLock(){if("wakeLock"in navigator)try{this.wakeLock=await navigator.wakeLock.request("screen")}catch(i){console.warn("Wake Lock request failed:",i)}}releaseWakeLock(){this.wakeLock&&this.wakeLock.release().then(()=>{this.wakeLock=null}).catch(i=>console.error(i))}handleHeartbeatUpdate(){!this.heartbeat.isPlaying&&this.state==="PLAYING"&&(this.state="PAUSED",this.releaseWakeLock());const i=this.heartbeat.currentIndex;Math.abs(i-this.lastSavedIndex)>=100&&(this.syncProgressToCore(),this.lastSavedIndex=i),this.notify()}syncProgressToCore(i=!1){if(this.heartbeat.tokens.length===0)return;const o=this.heartbeat.currentToken,c=this.heartbeat.currentIndex;o?this.core.syncFromRSVP(o.startOffset,c):c>0&&this.core.saveProgress(c)}subscribe(i){return this.listeners.add(i),()=>this.listeners.delete(i)}notify(){this.notifyScheduled||(this.notifyScheduled=!0,queueMicrotask(()=>{this.notifyScheduled=!1,this.listeners.forEach(i=>i())}))}}class KT{constructor(){this._content="",this.attributes={},this.layoutManagers=[]}get string(){return this._content}set string(i){this._content=i}addLayoutManager(i){this.layoutManagers.push(i)}}class QT{constructor(i){this.widthTracksTextView=!1,this.heightTracksTextView=!1,this.lineFragmentPadding=5,this.size=i}}class Wg{constructor(i){this.textContainers=[],this.id=i}addTextContainer(i){this.textContainers.push(i)}enumerateTextSegments(i,r,o){o({x:0,y:0,width:0,height:0})}}class Pe{constructor(){this.listeners=new Set,this.jumpListeners=new Set,this.offsetJumpListeners=new Set,this.progressListeners=new Set,this.isLoading=!1,this.loadingProgress=0,this.currentBook=null,this.currentProgress=0,this.isRSVPMode=!1,this.globalCharacterOffset=0,this.userSelectionOffset=null,this.totalTokens=1,this.chapterTokenOffsets=[],this._loadTimestamp=0,this._lastSavedTokenIndex=-1,this._userIntentionalRewind=!1,this.contentStorage=new KT,this.primaryLayout=new Wg("primary"),this.ghostLayout=new Wg("ghost"),this.configurePipeline(),_n.getInstance().subscribe(()=>this.updateTypography())}static getInstance(){return Pe.instance||(Pe.instance=new Pe),Pe.instance}configurePipeline(){this.contentStorage.addLayoutManager(this.primaryLayout),this.contentStorage.addLayoutManager(this.ghostLayout)}async load(i){var o;this._loadTimestamp=Date.now(),this._lastSavedTokenIndex=-1,this._userIntentionalRewind=!1,this.isLoading=!0,this.loadingProgress=.1,this.notify();const r={...i};if(((o=this.currentBook)==null?void 0:o.id)===i.id&&this.contentStorage.string.length>0){r.lastTokenIndex!==void 0&&(this.currentBook.lastTokenIndex=r.lastTokenIndex,this.totalTokens>0&&(this.currentProgress=Math.min(1,r.lastTokenIndex/this.totalTokens))),this.currentBook.bookmarkProgress=r.bookmarkProgress||this.currentProgress,this.isLoading=!1,this.loadingProgress=1,this.notify();return}this.unload(),this.notify(),await new Promise(c=>setTimeout(c,50));try{const c=r.chapters?[...r.chapters]:[];c.sort((m,p)=>m.sortOrder-p.sortOrder),this.chapterTokenOffsets=[];let d=0;const f=[],h=c.length;for(let m=0;m<h;m++){m%3===0&&(this.loadingProgress=.1+.8*(m/h),this.notify(),await new Promise(w=>setTimeout(w,0)));const g=(c[m].content||"").replace(/<(?:.|\n)*?>/gm," ").replace(/&nbsp;/g," ").replace(/\s+/g," ").trim(),y=Wa(g);this.chapterTokenOffsets.push(d),d+=y,f.push(g)}this.totalTokens=Math.max(1,d),this.contentStorage.string=f.join(`

`),this.currentBook=r,r.lastTokenIndex!==void 0?(this.currentBook.lastTokenIndex=r.lastTokenIndex,this.currentProgress=Math.min(1,r.lastTokenIndex/this.totalTokens)):(this.currentProgress=r.bookmarkProgress||0,this.currentProgress>0&&(this.currentBook.lastTokenIndex=Math.floor(this.currentProgress*this.totalTokens))),this.currentBook.bookmarkProgress=this.currentProgress,this.updateTypography(),mn.getInstance().prepare(this.contentStorage.string).catch(()=>{})}catch(c){console.error("[TitanCore] Critical Error loading book:",c)}finally{this.isLoading=!1,this.loadingProgress=1,this.notify()}}unload(){this.currentBook=null,this.contentStorage.string="",this.userSelectionOffset=null,this.isRSVPMode=!1,this.totalTokens=1,this.chapterTokenOffsets=[]}updateTypography(){const i=_n.getInstance().getSettings();let r='"New York Extra Large", "Times New Roman", serif';i.fontFamily==="SF Pro"&&(r='"SF Pro Rounded", -apple-system, sans-serif'),i.fontFamily==="OpenDyslexic"&&(r='"OpenDyslexic", "Comic Sans MS", sans-serif'),i.fontFamily==="Atkinson Hyperlegible"&&(r='"Atkinson Hyperlegible", sans-serif');const o=i.fontSize<18?"500":i.fontSize>32?"300":"400";this.contentStorage.attributes={fontFamily:r,fontSize:`${i.fontSize}px`,lineHeight:`${i.lineHeight}`,paragraphSpacing:`${i.paragraphSpacing}px`,letterSpacing:"0.2px",fontWeight:o,color:"inherit"},this.notify()}updateLayout(i){this.primaryLayout.textContainers=[];const r=new QT(i);r.widthTracksTextView=!0,this.primaryLayout.addTextContainer(r),this.notify()}saveProgress(i,r=!1){if(!this.currentBook||typeof i!="number"||i<0||i===this._lastSavedTokenIndex&&!r)return;r&&i===0&&(this._userIntentionalRewind=!0);const o=Date.now()-this._loadTimestamp,c=this.currentBook.lastTokenIndex||0;if(i===0&&c>50&&o<3e3&&!this._userIntentionalRewind)return;this._lastSavedTokenIndex=i,this.currentBook.lastTokenIndex=i;let d=0;this.totalTokens>0&&(d=i/this.totalTokens),(isNaN(d)||!isFinite(d))&&(d=0),this.currentProgress=Math.min(1,Math.max(0,d)),this.currentBook.bookmarkProgress=this.currentProgress,this.currentBook.lastOpened=new Date,this.currentProgress>=.99&&(this.currentBook.isFinished=!0),this.progressListeners.forEach(f=>f(this.currentProgress)),this.notify()}restorePosition(i,r){return 0}jump(i){if(this.currentProgress=Math.max(0,Math.min(1,i)),this.currentBook&&this.totalTokens>0){const r=Math.floor(i*this.totalTokens);this.currentBook.lastTokenIndex=r,this.currentBook.bookmarkProgress=this.currentProgress,this.jumpListeners.forEach(o=>o(i)),this.progressListeners.forEach(o=>o(i))}this.notify()}jumpToChapter(i){if(i<0||i>=this.chapterTokenOffsets.length)return;const r=this.chapterTokenOffsets[i];i===0&&(this._userIntentionalRewind=!0),this.currentBook.lastTokenIndex=r,this.totalTokens>0&&(this.currentProgress=r/this.totalTokens,this.currentBook.bookmarkProgress=this.currentProgress),this.jumpListeners.forEach(o=>o(this.currentProgress)),this.progressListeners.forEach(o=>o(this.currentProgress)),this.notify()}syncFromRSVP(i,r){this.globalCharacterOffset=i,this.saveProgress(r),this.offsetJumpListeners.forEach(o=>o(i))}selectText(i){this.userSelectionOffset=i,this.notify()}onJump(i){return this.jumpListeners.add(i),()=>this.jumpListeners.delete(i)}onOffsetJump(i){return this.offsetJumpListeners.add(i),()=>this.offsetJumpListeners.delete(i)}onProgress(i){return this.progressListeners.add(i),()=>this.progressListeners.delete(i)}rectForRange(i){return null}subscribe(i){return this.listeners.add(i),()=>this.listeners.delete(i)}notify(){this.listeners.forEach(i=>i())}}const $T=P.memo(({token:s,isActive:i,theme:r})=>T.jsx("span",{id:`w-${s.globalIndex}`,"data-idx":s.globalIndex,"data-off":s.startOffset,className:`inline py-0.5 rounded-[2px] cursor-pointer select-none transition-colors duration-200 ${i?"":"hover:opacity-60"}`,style:{backgroundColor:i?r.accent:"transparent",color:i?"#FFFFFF":"inherit",boxDecorationBreak:"clone",WebkitBoxDecorationBreak:"clone"},children:s.originalText})),WT=P.memo(({text:s,settings:i,startTokenIndex:r,onParagraphClick:o})=>T.jsx("p",{id:`p-${r}`,"data-start-index":r,onClick:()=>o(r),className:"max-w-[60ch] mx-auto box-border relative cursor-pointer hover:opacity-100 transition-opacity scroll-mt-32",style:{fontSize:`${i.fontSize}px`,lineHeight:i.lineHeight,marginBottom:i.paragraphSpacing,fontFamily:i.fontFamily==="New York"?"serif":"sans-serif",color:"inherit",opacity:.9,whiteSpace:"pre-line",textAlign:"justify",hyphens:"auto",WebkitHyphens:"auto"},children:s})),JT=P.memo(({tokens:s,activeIndex:i,onWordClick:r,settings:o,theme:c,startTokenIndex:d})=>{const f=P.useCallback(h=>{const m=h.target;if(m.dataset.idx){h.stopPropagation();const p=parseInt(m.dataset.idx||"-1"),g=parseInt(m.dataset.off||"0");p>=0&&r(p,g)}},[r]);return T.jsx("p",{id:`p-${d}`,"data-start-index":d,onClick:f,className:"max-w-[60ch] mx-auto box-border relative scroll-mt-32",style:{fontSize:`${o.fontSize}px`,lineHeight:o.lineHeight,marginBottom:o.paragraphSpacing,fontFamily:o.fontFamily==="New York"?"serif":"sans-serif",opacity:.9,whiteSpace:"pre-line",textAlign:"justify",hyphens:"auto",WebkitHyphens:"auto"},children:s.map((h,m)=>T.jsxs(rr.Fragment,{children:[T.jsx($T,{token:h,isActive:h.globalIndex===i,theme:c})," "]},h.id))})}),t_=P.memo(({sectionIndex:s,paragraphs:i,activeParagraphIndex:r,activeIndex:o,onWordClick:c,onParagraphClick:d,settings:f,theme:h})=>T.jsx("div",{children:i.map((m,p)=>{const g=s*30+p;return Math.abs(g-r)<=1?T.jsx(JT,{startTokenIndex:m.startIndex,tokens:m.tokens,activeIndex:o,onWordClick:c,settings:f,theme:h},g):T.jsx(WT,{text:m.plainText,settings:f,startTokenIndex:m.startIndex,onParagraphClick:d},g)})})),e_=({book:s,onToggleChrome:i,onRequestRSVP:r,isActive:o})=>{const c=Pe.getInstance(),d=mn.getInstance(),f=vn.getInstance(),h=Ie(),{settings:m}=fr(),p=P.useRef(null),[g,y]=P.useState([]),[w,b]=P.useState(-1),A=P.useRef(-1),[S,z]=P.useState(!1),[C,k]=P.useState(0),[E,B]=P.useState(!1),D=P.useRef(!1),q=P.useRef(null);P.useRef(null);const L=P.useCallback(V=>{b(V),A.current=V},[]),G=P.useCallback((V,ot)=>{if(!p.current)return;let it=document.getElementById(`w-${V}`);if(!it){const ct=Array.from(p.current.querySelectorAll("p[data-start-index]"));let _t=null,kt=-1;for(const bt of ct){const St=parseInt(bt.dataset.startIndex||"-1");St<=V&&St>kt&&(_t=bt,kt=St)}it=_t}if(!it){if(c.totalTokens>0){const ct=V/c.totalTokens,kt=p.current.scrollHeight*ct;p.current.scrollTo({top:kt,behavior:ot?"smooth":"instant"})}return}D.current=!0;const gt=p.current,j=gt.clientHeight*.15;let O=it.offsetTop,et=it.offsetParent;for(;et&&et!==gt;)O+=et.offsetTop,et=et.offsetParent;const at=O-j;gt.scrollTo({top:Math.max(0,at),behavior:ot?"smooth":"instant"}),setTimeout(()=>{D.current=!1},ot?600:100)},[]);P.useEffect(()=>{var j;"scrollRestoration"in history&&(history.scrollRestoration="manual"),z(!1),B(!1),D.current=!0;const ot=(((j=c.currentBook)==null?void 0:j.id)===s.id?c.currentBook.lastTokenIndex:void 0)??s.lastTokenIndex;ot!==void 0&&L(ot);const it=c.subscribe(()=>{k(c.loadingProgress)});return(async()=>{var O;if(z(!1),B(!1),k(0),y([]),!s.chapters||s.chapters.length===0){console.error("[TitanReaderView] Book has no chapters! This indicates a data loading issue.",{bookId:s.id,title:s.title,hasChapters:!!s.chapters,chaptersLength:(O=s.chapters)==null?void 0:O.length}),z(!0),B(!0);return}try{await c.load(s);const et=c.contentStorage.string;et||console.warn("[TitanReaderView] Loaded book has no content string."),await d.prepare(et,{progress:0})}catch(et){console.error("[TitanReaderView] Initialization pipeline failed:",et)}finally{const et=f.tokens;y(et),z(!0),requestAnimationFrame(()=>{B(!0)})}})(),()=>it()},[s.id,L]),P.useEffect(()=>{const V=()=>{var et;const j=(et=c.currentBook)==null?void 0:et.lastTokenIndex;if(j===void 0)return;const O=Math.abs(j-A.current);if(O>0&&(L(j),O>10)){const at=c.isRSVPMode;G(j,at)}},ot=j=>{if(c.totalTokens>0){const O=Math.floor(j*c.totalTokens);L(O),G(O,c.isRSVPMode)}},it=c.subscribe(V),gt=c.onJump(ot);return()=>{it(),gt()}},[L,G]),P.useEffect(()=>{const V=mn.getInstance(),ot=vn.getInstance();let it=V.state;const gt=()=>{const O=V.state;if(it==="PLAYING"&&O==="PAUSED"){const et=ot.currentIndex;L(et),G(et,!0)}it=O},j=V.subscribe(gt);return()=>j()},[L,G]),P.useLayoutEffect(()=>{if(!S||g.length===0)return;requestAnimationFrame(()=>{var it;const ot=(((it=c.currentBook)==null?void 0:it.id)===s.id?c.currentBook.lastTokenIndex:s.lastTokenIndex)??-1;ot<=10?(p.current&&(p.current.scrollTop=0),setTimeout(()=>{B(!0),D.current=!1},100)):(G(ot,!1),setTimeout(()=>B(!0),100))})},[S,g.length,s.id,G]);const Z=P.useRef(null),$=P.useRef(-1),mt=P.useCallback(V=>{$.current=V,Z.current&&clearTimeout(Z.current),Z.current=window.setTimeout(()=>{$.current>=0&&c.saveProgress($.current),Z.current=null},500)},[]);P.useEffect(()=>()=>{Z.current&&($.current>=0&&c.saveProgress($.current),clearTimeout(Z.current))},[]),P.useEffect(()=>{var gt;if(!E||!o){q.current&&q.current.disconnect();return}q.current&&q.current.disconnect();const V=j=>{if(!D.current){for(const O of j)if(O.isIntersecting){const et=O.target,at=parseInt(et.dataset.startIndex||"-1");if(at>=0){L(at),mt(at);break}}}},ot={root:p.current,rootMargin:"-10% 0px -60% 0px",threshold:0};q.current=new IntersectionObserver(V,ot);const it=(gt=p.current)==null?void 0:gt.querySelectorAll("p[data-start-index]");return it==null||it.forEach(j=>{var O;return(O=q.current)==null?void 0:O.observe(j)}),()=>{var j;return(j=q.current)==null?void 0:j.disconnect()}},[E,g.length,L]);const U=P.useMemo(()=>{const V=[];let ot=[],it=-1;for(const gt of g)ot.length===0&&(it=gt.globalIndex),ot.push(gt),gt.isParagraphEnd&&(V.push({tokens:ot,startIndex:it,plainText:ot.map(j=>j.originalText).join(" ")}),ot=[]);return ot.length>0&&V.push({tokens:ot,startIndex:it===-1?0:it,plainText:ot.map(gt=>gt.originalText).join(" ")}),V},[g]),st=P.useCallback((V,ot)=>{L(V),c.saveProgress(V),r&&r(ot,V)},[r,L]),_=P.useCallback(V=>{L(V),c.saveProgress(V)},[L]),tt=P.useMemo(()=>U.findIndex(V=>w>=V.startIndex&&w<V.startIndex+V.tokens.length),[U,w]),X=P.useMemo(()=>{const V=[];for(let ot=0;ot<U.length;ot+=30)V.push(U.slice(ot,ot+30));return V},[U]);return T.jsxs("div",{ref:p,className:"absolute inset-0 z-10 w-full h-full overflow-y-auto overflow-x-hidden custom-scrollbar box-border",style:{backgroundColor:h.background,color:h.primaryText,scrollBehavior:"auto",WebkitOverflowScrolling:"touch",touchAction:"pan-y",overscrollBehaviorY:"contain",transform:"translateZ(0)"},onClick:V=>{V.target===V.currentTarget&&i()},children:[!S&&T.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[100] pointer-events-auto",style:{backgroundColor:h.background},children:T.jsxs("div",{className:"flex flex-col items-center gap-6",children:[T.jsxs("div",{className:"w-12 h-12 relative",children:[T.jsx("div",{className:"absolute inset-0 rounded-full border-2 opacity-20",style:{borderColor:h.accent}}),T.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-t-transparent animate-spin",style:{borderColor:h.accent,borderTopColor:"transparent"}})]}),T.jsxs("div",{className:"flex flex-col items-center",children:[T.jsx("span",{className:"text-sm font-bold tracking-widest lowercase",style:{color:h.secondaryText},children:"loading"}),T.jsxs("span",{className:"text-xs font-mono mt-1 opacity-50",style:{color:h.primaryText},children:[Math.floor(C*100),"%"]})]})]})}),S&&g.length===0&&T.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[50] pointer-events-none",style:{backgroundColor:h.background},children:T.jsxs("div",{className:"flex flex-col items-center gap-4 px-8 text-center",children:[T.jsx("div",{className:"text-4xl opacity-30",children:""}),T.jsx("span",{className:"text-lg font-medium",style:{color:h.secondaryText},children:"No content available"}),T.jsx("span",{className:"text-sm opacity-60",style:{color:h.secondaryText},children:"This book appears to be empty or failed to load."})]})}),T.jsxs("div",{className:"w-full min-h-[100dvh] px-6 md:px-0 py-24 md:py-32 box-border relative",children:[X.map((V,ot)=>T.jsx(t_,{sectionIndex:ot,paragraphs:V,activeParagraphIndex:tt,activeIndex:w,onWordClick:st,onParagraphClick:_,settings:m,theme:h},ot)),T.jsx("div",{className:"h-[40vh]"})]})]})},n_=({onTap:s,onLongPressExit:i,onRewindStateChange:r})=>{const o=mn.getInstance(),c=vn.getInstance(),d=Ie(),{settings:f}=fr(),h=P.useRef(null),m=P.useRef(null),[p,g]=P.useState(0),[y,w]=P.useState([]),[b,A]=P.useState(!1),[S,z]=P.useState(0),[C,k]=P.useState(!1),E=P.useRef(-1),B=P.useRef([]),D=P.useRef({x:0,y:0,time:0}),q=P.useRef(null),L=P.useRef(null),G=P.useRef(0),Z=P.useRef(new Map),$=300,mt="#E25822",U=35.5,st="clamp(2.5rem, 10vw, 4rem)";P.useEffect(()=>{w(c.tokens),B.current=c.tokens,E.current=c.currentIndex,g(c.currentIndex),A(o.state===Cn.PLAYING);const bt=()=>{const Tt=c.currentIndex,Nt=o.state===Cn.PLAYING,Rt=c.tokens;A(Nt);const x=Rt!==B.current,rt=Tt!==E.current;x&&(w(Rt),B.current=Rt),rt&&(E.current=Tt,g(Tt))},St=o.subscribe(bt),yt=c.subscribe(bt);return bt(),()=>{St(),yt()}},[]);const _=P.useMemo(()=>y[p]||null,[y,p]),tt=!b||f.showGhostPreview,X=5,V=P.useMemo(()=>{if(y.length===0)return[];if(!tt)return _?[{token:_,globalIdx:p}]:[];const bt=Math.max(0,p-X),St=Math.min(y.length-1,p+X);return y.slice(bt,St+1).map((yt,Tt)=>({token:yt,globalIdx:bt+Tt}))},[y,p,tt,X,_]);P.useLayoutEffect(()=>{var Rt;if(!m.current)return;const bt=m.current,St=Array.from(bt.children),Tt=(((Rt=h.current)==null?void 0:Rt.clientWidth)||window.innerWidth)*(U/100);Z.current.clear(),St.forEach(x=>{const rt=parseInt(x.dataset.idx||"0"),F=x.getBoundingClientRect(),R=bt.getBoundingClientRect(),N=F.left-R.left;let I=N+F.width/2;if(rt===p&&_){const ft=_.originalText,pt=Math.floor(ft.length/2),Q=document.createElement("span");Q.style.visibility="hidden",Q.style.position="absolute",Q.style.whiteSpace="nowrap",Q.style.font=window.getComputedStyle(x).font,Q.textContent=ft.substring(0,pt+1),x.appendChild(Q);const vt=Q.getBoundingClientRect().width;x.removeChild(Q),Q.textContent=ft.substring(0,pt),x.appendChild(Q);const wt=Q.getBoundingClientRect().width;x.removeChild(Q);const xt=vt-wt,Et=wt+xt/2;I=N+Et}Z.current.set(rt,{left:N,width:F.width,center:I})});const Nt=Z.current.get(p);Nt&&z(Tt-Nt.center)},[V,p,_]),P.useEffect(()=>()=>{q.current&&clearTimeout(q.current),L.current&&clearInterval(L.current)},[]);const ot=bt=>{var Tt,Nt;bt.stopPropagation(),(Nt=(Tt=bt.target).setPointerCapture)==null||Nt.call(Tt,bt.pointerId);const St=bt.target,yt=St.dataset.idx?parseInt(St.dataset.idx):null;if(yt!==null){c.seek(yt),g(yt),je.impactMedium();return}if(!b){i==null||i();return}D.current={x:bt.clientX,y:bt.clientY,time:Date.now()},q.current=setTimeout(()=>{k(!0),je.impactLight(),G.current=p,o.pause(),L.current=setInterval(()=>{G.current=Math.max(0,G.current-1),g(G.current),je.selectionChanged()},300)},$)},it=bt=>{if(C){const St=Math.abs(bt.clientX-D.current.x),yt=Math.abs(bt.clientY-D.current.y);(St>50||yt>50)&&O()}},gt=bt=>{var St,yt;(yt=(St=bt.target).releasePointerCapture)==null||yt.call(St,bt.pointerId),q.current&&(clearTimeout(q.current),q.current=null),O()},j=bt=>{var St,yt;(yt=(St=bt.target).releasePointerCapture)==null||yt.call(St,bt.pointerId),q.current&&(clearTimeout(q.current),q.current=null),O()},O=()=>{C&&(L.current&&(clearInterval(L.current),L.current=null),k(!1),c.pause(),c.currentIndex=Math.max(0,Math.min(G.current,c.tokens.length-1)),c.notify(),o.play(),je.impactMedium())};if(P.useEffect(()=>{!C&&p!==c.currentIndex&&g(c.currentIndex)},[C]),P.useEffect(()=>{r==null||r(C)},[C,r]),!_)return null;const at=(bt=>Math.floor(bt.length/2))(_.originalText),ct=_.originalText.slice(0,at),_t=_.originalText[at]||"",kt=_.originalText.slice(at+1);return T.jsxs("div",{ref:h,className:"absolute inset-0 select-none overflow-hidden touch-none",style:{backgroundColor:d.background},onPointerDown:ot,onPointerMove:it,onPointerUp:gt,onPointerCancel:j,onPointerLeave:j,children:[T.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundColor:d.background,opacity:.95}}),T.jsx("div",{className:"absolute inset-0 z-10 pointer-events-none",style:{background:`radial-gradient(ellipse 80% 50% at ${U}% 42%, transparent 0%, ${d.background} 100%)`}}),T.jsx("div",{className:"absolute top-[20%] bottom-[20%] w-[2px] z-0 pointer-events-none transition-all duration-200",style:{left:`${U}%`,backgroundColor:mt,opacity:C?.6:.15,boxShadow:C?`0 0 30px ${mt}80`:"none"}}),T.jsxs("div",{className:"absolute inset-x-0 top-[42%] -translate-y-1/2 flex items-center justify-start overflow-visible z-20",children:[tt&&T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"absolute left-0 top-[-50%] bottom-[-50%] w-32 z-30 pointer-events-none",style:{background:`linear-gradient(to right, ${d.background}, transparent)`}}),T.jsx("div",{className:"absolute right-0 top-[-50%] bottom-[-50%] w-32 z-30 pointer-events-none",style:{background:`linear-gradient(to left, ${d.background}, transparent)`}})]}),T.jsx("div",{ref:m,className:"flex items-baseline gap-5 whitespace-nowrap",style:{transform:`translateX(${S}px)`,transition:C?"transform 0.05s linear":"none",opacity:C?.85:1},children:V.map(({token:bt,globalIdx:St})=>{const yt=St===p,Tt=Math.abs(St-p),Nt=Math.max(.12,.55-Tt*.1);return yt?T.jsxs("span",{"data-idx":St,className:"inline-flex items-baseline font-sans font-semibold cursor-pointer transition-opacity hover:opacity-100",style:{fontSize:st},children:[T.jsx("span",{style:{color:d.primaryText},children:ct}),T.jsx("span",{style:{color:mt,textShadow:C?`0 0 10px ${mt}60`:`0 0 20px ${mt}40`},children:_t}),T.jsx("span",{style:{color:d.primaryText},children:kt}),bt.punctuation&&T.jsx("span",{style:{color:d.secondaryText,opacity:.5,marginLeft:"1px"},children:bt.punctuation})]},bt.id):T.jsx("span",{"data-idx":St,className:"font-sans cursor-pointer transition-opacity hover:opacity-100",style:{fontSize:st,fontWeight:400,color:d.primaryText,opacity:Nt},children:bt.originalText},bt.id)})})]})]})},i_=({book:s,currentProgress:i,preciseThresholds:r,onSelectChapter:o,onSelect:c,onClose:d,readSpeed:f})=>{const h=Ie(),m=P.useRef(null),p=P.useMemo(()=>!s.chapters||s.chapters.length===0?[]:s.chapters.map((b,A)=>{const S=r[A]??0;let z=b.title.trim();const C=z.match(/^(?:chapter|part|book|letter|section)\s+(?:[\divxlcdm]+)\s*[:.-]\s+(.+)$/i),k=z.match(/^\d+\.\s+(.+)$/i);C&&C[1]?z=C[1]:k&&k[1]&&(z=k[1]);const E=Math.ceil(b.wordCount/f);return{original:b,index:A,cleanTitle:z,startProgress:S,durationLabel:E<1?"< 1m":`${E}m`}}),[s,f,r]),g=P.useMemo(()=>{let b=0;for(let A=0;A<p.length&&i>=p[A].startProgress-1e-4;A++)b=A;return b},[p,i]);P.useEffect(()=>{if(m.current){const A=Math.max(0,g*64-100);m.current.scrollTo({top:A,behavior:"smooth"})}},[]);const y=b=>{je.impactMedium(),o?o(b):c&&c(p[b].startProgress),d()},w=P.useRef(Date.now());return T.jsxs("div",{className:"absolute bottom-full mb-4 left-2 right-2 z-50 flex flex-col max-h-[60vh] rounded-3xl overflow-hidden shadow-2xl border backdrop-blur-3xl origin-bottom animate-slideUp",style:{backgroundColor:`${h.dimmer}f5`,borderColor:h.borderColor},children:[T.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b shrink-0",style:{borderColor:h.borderColor},children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-base font-bold lowercase",style:{color:h.primaryText},children:"chapters"}),T.jsxs("span",{className:"text-[10px] opacity-40",style:{color:h.secondaryText},children:[p.length," ",p.length!==1?"sections":"section"]})]}),T.jsx("button",{onClick:d,className:"w-11 h-11 rounded-full flex items-center justify-center transition-all active:scale-95",style:{backgroundColor:`${h.primaryText}08`,color:h.primaryText},children:T.jsx(Qu,{size:20})})]}),T.jsx("div",{ref:m,className:"overflow-y-auto custom-scrollbar px-2 pb-4 pt-1",children:p.map((b,A)=>{const S=A===g;return T.jsxs("button",{onClick:()=>y(b.index),className:`w-full text-left flex items-center gap-3 p-3 rounded-2xl transition-all duration-200 group ${S?"shadow-md":"hover:bg-white/5 opacity-50"}`,style:{backgroundColor:S?h.surface:"transparent"},children:[T.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 transition-all ${S?"bg-white/5":"bg-transparent"}`,style:{color:S?h.accent:h.secondaryText},children:S?T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"absolute inset-0 bg-current opacity-30 animate-ping rounded-full"}),T.jsx("div",{className:"w-2.5 h-2.5 bg-current rounded-full"})]}):T.jsx("span",{className:"text-xs font-semibold opacity-40 tabular-nums",children:A+1})}),T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsx("h4",{className:"text-sm font-semibold truncate lowercase",style:{color:h.primaryText},children:b.cleanTitle}),b.cleanTitle!==b.original.title&&T.jsx("span",{className:"text-[10px] opacity-30 truncate block",style:{color:h.primaryText},children:b.original.title})]}),T.jsx("div",{className:"flex items-center gap-1 opacity-40 shrink-0",style:{color:h.primaryText},children:T.jsx("span",{className:"text-[11px] font-medium tabular-nums",children:b.durationLabel})})]},b.original.id)})})]},w.current)},a_=({book:s,onToggleRSVP:i,isRSVPActive:r,isRewinding:o=!1,onSettingsClick:c})=>{const d=Pe.getInstance(),f=mn.getInstance(),h=vn.getInstance(),{settings:m,updateSettings:p}=fr(),g=Ie(),[y,w]=P.useState(!1),[b,A]=P.useState(!1),[S,z]=P.useState(0),[C,k]=P.useState(0),[E,B]=P.useState(!1),D=P.useRef(!1),q=P.useRef(null),L=P.useRef(null),G=P.useRef(null),Z=P.useRef(!1),$=P.useRef(null),mt=P.useRef(0),U=P.useRef(0),st=P.useRef(!1),_=P.useRef(0),tt=P.useRef(0),X=g.accent,V=P.useMemo(()=>{if(d.chapterTokenOffsets.length>0&&d.totalTokens>0)return d.chapterTokenOffsets.map(Nt=>Nt/d.totalTokens);if(!s.chapters||s.chapters.length===0)return[];const yt=s.chapters.reduce((Nt,Rt)=>Nt+Rt.wordCount,0);if(yt===0)return s.chapters.map((Nt,Rt)=>Rt/s.chapters.length);let Tt=0;return s.chapters.map(Nt=>{const Rt=Tt/yt;return Tt+=Nt.wordCount,Rt})},[s,d.chapterTokenOffsets,d.totalTokens]),ot=P.useCallback(yt=>{const Tt=Math.max(1,h.tokens.length||d.totalTokens),Nt=Math.floor(yt*Tt),Rt=Tt-Nt,x=m.rsvpSpeed||250,rt=Math.ceil(Rt/x);if(rt<1)return"< 1m";if(rt>=60){const F=Math.floor(rt/60),R=rt%60;return`${F}h ${R}m`}return`${rt}m`},[m.rsvpSpeed,h.tokens.length,d.totalTokens]),it=P.useCallback(yt=>{if(!s.chapters||s.chapters.length===0)return"";let Tt=0;for(let F=V.length-1;F>=0;F--)if(yt>=V[F]-1e-4){Tt=F;break}const Nt=s.chapters[Tt];if(!Nt)return"";const Rt=Nt.title.trim(),x=Rt.match(/^(?:chapter|part|book|letter|section)\s+(?:[\divxlcdm]+)\s*[:.-]\s+(.+)$/i),rt=Rt.match(/^\d+\.\s+(.+)$/i);return x&&x[1]?x[1]:rt&&rt[1]?rt[1]:Rt},[s.chapters,V]),gt=P.useRef(0),j=P.useCallback(yt=>{const Tt=Math.max(0,Math.min(1,yt));if(q.current&&(q.current.style.width=`${Tt*100}%`),G.current&&(G.current.style.left=`${Tt*100}%`,G.current.style.transform="translateX(-50%)"),D.current)return;(Math.abs(Tt-gt.current)>.005||Tt===0||Tt===1)&&(gt.current=Tt,k(Tt))},[]);P.useEffect(()=>{const yt=()=>{w(f.state===Cn.PLAYING)},Tt=N=>{Z.current||j(N)},Nt=()=>{if(!Z.current&&d.isRSVPMode&&h.tokens.length>0){const N=h.currentIndex/h.tokens.length;j(N)}};yt();const Rt=d.isRSVPMode&&h.tokens.length>0?h.currentIndex/h.tokens.length:d.currentProgress;gt.current=Rt,k(Rt),j(Rt);const x=d.subscribe(yt),rt=f.subscribe(yt),F=d.onProgress(Tt),R=h.subscribe(Nt);return()=>{x(),rt(),F(),R()}},[j]);const O=yt=>{if(yt.preventDefault(),yt.stopPropagation(),A(!0),Z.current=!0,mt.current=yt.clientY,L.current){const Tt=L.current.getBoundingClientRect();U.current=Math.max(0,Math.min(1,(yt.clientX-Tt.left)/Tt.width))}st.current=f.state===Cn.PLAYING,st.current&&f.pause(),ct(yt.clientX,yt.clientY,!1),yt.target.setPointerCapture(yt.pointerId)},et=yt=>{Z.current&&(yt.preventDefault(),$.current&&cancelAnimationFrame($.current),$.current=requestAnimationFrame(()=>{ct(yt.clientX,yt.clientY,!0)}))},at=yt=>{if(Z.current){if($.current&&cancelAnimationFrame($.current),A(!1),Z.current=!1,yt.target.releasePointerCapture(yt.pointerId),L.current){const Tt=L.current.getBoundingClientRect(),Nt=Math.max(0,Math.min(1,(yt.clientX-Tt.left)/Tt.width));_t(Nt)}st.current&&f.play()}},ct=(yt,Tt,Nt)=>{if(!L.current)return;const Rt=L.current.getBoundingClientRect();let x=(yt-Rt.left)/Rt.width;if(Nt){const F=Math.abs(Tt-mt.current);let R=1;F>200?R=.1:F>100?R=.3:F>50&&(R=.6),R<1&&(x=U.current+(x-U.current)*R)}const rt=Math.max(0,Math.min(1,x));if(z(F=>(V.some(N=>F<N&&rt>=N||F>N&&rt<=N)&&je.impactLight(),rt)),j(rt),d.isRSVPMode){const F=Math.max(1,h.tokens.length);h.seek(Math.floor(rt*F))}else d.jump(rt)},_t=yt=>{if(d.isRSVPMode){const Tt=Math.max(1,h.tokens.length);h.seek(Math.floor(yt*Tt))}else d.jump(yt)},kt=yt=>{yt.stopPropagation();const Tt=Date.now();Tt-_.current<300||(_.current=Tt,navigator.vibrate&&navigator.vibrate(10),i())},bt=yt=>{const Tt=Date.now();if(Tt-tt.current<80)return;tt.current=Tt,je.impactLight();const Nt=m.rsvpSpeed||250,Rt=Math.max(50,Math.min(2e3,Nt+yt));p({rsvpSpeed:Rt,hasCustomSpeed:!0})},St=yt=>{if(je.impactMedium(),d.isRSVPMode){if(yt<d.chapterTokenOffsets.length){const Tt=d.chapterTokenOffsets[yt];h.seek(Tt),d.jumpToChapter(yt)}}else d.jumpToChapter(yt)};return T.jsxs("div",{className:"w-full relative pointer-events-auto",children:[E&&T.jsx(i_,{book:s,currentProgress:C,readSpeed:m.rsvpSpeed,preciseThresholds:V,onSelectChapter:yt=>St(yt),onClose:()=>{D.current=!1,B(!1)}}),b&&!E&&T.jsx("div",{className:"absolute -top-12 left-0 right-0 flex justify-center pointer-events-none z-50",style:{animation:"fadeIn 300ms cubic-bezier(0.16, 1, 0.3, 1)"},children:T.jsxs("div",{className:"px-4 py-1.5 rounded-full shadow-xl border backdrop-blur-md text-xs font-bold font-variant-numeric tabular-nums flex items-center gap-2",style:{backgroundColor:g.surface,borderColor:g.borderColor,color:g.primaryText},children:[T.jsxs("span",{children:[(S*100).toFixed(0),"%"]}),T.jsx("span",{className:"opacity-30",children:"|"}),T.jsx("span",{className:"lowercase",children:ot(S)})]})}),T.jsxs("div",{className:"w-full backdrop-blur-2xl rounded-3xl shadow-2xl border overflow-hidden",style:{backgroundColor:`${g.surface}f5`,borderColor:g.borderColor},children:[T.jsxs("button",{onClick:()=>{je.impactLight(),!E&&f.state===Cn.PLAYING&&f.pause();const yt=!E;D.current=yt,B(yt)},className:"w-full flex justify-between items-center px-5 pt-2.5 pb-0 text-[10px] font-medium select-none hover:opacity-100 transition-opacity active:scale-[0.99]",style:{color:g.primaryText,opacity:E?.8:.4},children:[T.jsxs("div",{className:"flex items-center gap-1.5 truncate max-w-[70%]",children:[T.jsx(iT,{size:10,className:"opacity-60"}),T.jsx("span",{className:"truncate lowercase",children:it(C)})]}),T.jsx("span",{className:"tabular-nums opacity-60 text-[9px]",children:ot(C)})]}),T.jsx("div",{className:"relative h-4 w-full cursor-pointer group touch-none z-20",onPointerDown:O,onPointerMove:et,onPointerUp:at,onPointerCancel:at,children:T.jsxs("div",{ref:L,className:"absolute inset-x-6 inset-y-0 flex items-center",children:[T.jsxs("div",{className:"w-full h-[1.5px] rounded-full overflow-hidden relative",style:{backgroundColor:g.primaryText+"08"},children:[T.jsx("div",{ref:q,className:"absolute top-0 left-0 bottom-0 h-full will-change-transform rounded-full",style:{width:"0%",backgroundColor:X}}),P.useMemo(()=>V.map((yt,Tt)=>T.jsx("div",{className:"absolute top-0 bottom-0 w-[1px] bg-white/10",style:{left:`${yt*100}%`}},Tt)),[V])]}),T.jsx("div",{ref:G,className:`absolute top-1/2 w-3.5 h-3.5 -mt-[7px] rounded-full shadow-lg border-2 border-white transition-all duration-200 will-change-transform ${b?"scale-125":"scale-0 group-hover:scale-75"}`,style:{left:"0%",backgroundColor:g.accent,boxShadow:`0 0 10px ${g.accent}33`}})]})}),T.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center px-5 pb-4 pt-0.5",children:[T.jsxs("div",{className:"flex items-center h-11 rounded-xl overflow-hidden border",style:{borderColor:g.borderColor,backgroundColor:`${g.primaryText}05`},children:[T.jsx("button",{onClick:()=>bt(-25),className:"w-11 h-full flex items-center justify-center hover:bg-white/5 active:scale-90 transition-all outline-none",style:{color:g.secondaryText},children:T.jsx(lT,{size:16})}),T.jsx("div",{className:"w-px h-5",style:{backgroundColor:g.borderColor}}),T.jsx("div",{className:"px-2 text-center flex items-center justify-center min-w-[44px]",children:T.jsx("span",{className:"font-variant-numeric tabular-nums text-xs font-semibold",style:{color:g.primaryText},children:m.rsvpSpeed})}),T.jsx("div",{className:"w-px h-5",style:{backgroundColor:g.borderColor}}),T.jsx("button",{onClick:()=>bt(25),className:"w-11 h-full flex items-center justify-center hover:bg-white/5 active:scale-90 transition-all outline-none",style:{color:g.secondaryText},children:T.jsx(Cy,{size:16})})]}),T.jsx("div",{className:"flex items-center justify-center px-4",children:T.jsx("button",{onClick:kt,className:"w-12 h-12 rounded-full flex items-center justify-center shadow-lg relative text-white border border-white/10 hover:scale-105 active:scale-95 transition-all outline-none",style:{backgroundColor:X,boxShadow:`0 6px 24px -4px ${X}66`},children:o?T.jsx(ST,{size:20,className:"fill-white animate-pulse"}):r&&y?T.jsx(dT,{size:20,className:"fill-white"}):T.jsx(Nf,{size:20,className:"fill-white ml-0.5"})})}),T.jsxs("div",{className:"flex items-center gap-2",children:[r&&T.jsx("button",{className:"flex items-center justify-center w-11 h-11 rounded-xl border transition-all outline-none active:scale-95",style:{borderColor:m.showGhostPreview?g.accent+"40":g.borderColor,backgroundColor:m.showGhostPreview?`${g.accent}15`:`${g.primaryText}05`,color:m.showGhostPreview?g.accent:g.secondaryText},onClick:yt=>{yt.stopPropagation(),je.impactLight(),p({showGhostPreview:!m.showGhostPreview})},title:m.showGhostPreview?"Hide word preview":"Show word preview",children:T.jsx(Rf,{size:16,className:m.showGhostPreview?"fill-current":""})}),T.jsxs("button",{className:"flex items-center justify-center h-11 gap-2 rounded-xl border hover:bg-white/5 active:scale-95 transition-all outline-none px-3",style:{borderColor:g.borderColor,backgroundColor:`${g.primaryText}05`},onClick:yt=>{yt.stopPropagation(),c()},children:[T.jsx(Nu,{size:16,style:{color:g.secondaryText}}),T.jsx("div",{className:"w-px h-4",style:{backgroundColor:g.borderColor}}),T.jsxs("div",{className:"flex items-baseline gap-0.5 opacity-60",children:[T.jsx(Nu,{size:14,style:{color:g.secondaryText}}),T.jsx(Nu,{size:10,style:{color:g.secondaryText}})]})]})]})]})]})]})},s_=({book:s,onClose:i})=>{const r=Pe.getInstance(),o=mn.getInstance(),c=vn.getInstance(),d=Ie(),[f,h]=P.useState(!0),[m,p]=P.useState(!1),[g,y]=P.useState(!1),[w,b]=P.useState(!1),[A,S]=P.useState(0),[z,C]=P.useState(!1),[k,E]=P.useState(!1),B=P.useRef(!1);P.useEffect(()=>{p(r.isRSVPMode);const $=()=>{p(r.isRSVPMode),y(o.state===Cn.PLAYING),S(r.currentProgress)},mt=r.subscribe($),U=o.subscribe($);return $(),()=>{mt(),U()}},[]),P.useEffect(()=>()=>{o.shutdown(r.isRSVPMode),r.isRSVPMode=!1,c.clear()},[]),P.useEffect(()=>{const $=()=>{if(!B.current){if(B.current=!0,z||k)D();else if(m){const mt=Pe.getInstance(),U=mn.getInstance();mt.isRSVPMode&&(U.pause(),U.shutdown(!0),mt.isRSVPMode=!1,mt.notify(),p(!1),h(!0))}B.current=!1}};return window.addEventListener("popstate",$),()=>window.removeEventListener("popstate",$)},[z,k,m]),P.useEffect(()=>{let $;return f&&m&&($=setTimeout(()=>h(!1),2500)),()=>clearTimeout($)},[f,m]),P.useEffect(()=>{z&&o.state===Cn.PLAYING&&o.pause()},[z]);const D=()=>{E(!0),setTimeout(()=>{C(!1),E(!1)},400)},q=()=>{var U;let $=((U=r.currentBook)==null?void 0:U.lastTokenIndex)??(s.lastTokenIndex||0);r.isRSVPMode&&($=c.currentIndex,r.saveProgress($));const mt=r.currentProgress;o.shutdown(r.isRSVPMode),r.isRSVPMode=!1,i(s.id,$,mt)},L=async($,mt,U)=>{var _;if(m&&$===void 0&&mt===void 0&&U===void 0){o.state===Cn.PLAYING?o.pause(!0):o.play();return}const st=$??!r.isRSVPMode;if(!(st===r.isRSVPMode&&mt===void 0&&U===void 0))try{if(st){const tt=r.contentStorage.string,X={offset:mt??r.userSelectionOffset??void 0,index:U??(mt===void 0?((_=r.currentBook)==null?void 0:_.lastTokenIndex)??void 0:void 0),progress:mt===void 0&&U===void 0?r.currentProgress:void 0};await o.prepare(tt,X),r.isRSVPMode=!0,r.notify(),B.current||window.history.pushState({rsvpMode:!0},"",window.location.href),o.play(),h(!1)}else{o.pause();const tt=c.currentIndex;if(r.isRSVPMode=!1,r.saveProgress(tt,!0),r.totalTokens>0){const X=tt/r.totalTokens;r.jump(X)}h(!0)}}catch(tt){console.error("Toggle failed",tt),r.isRSVPMode=!1,r.notify()}},G=()=>{o.state===Cn.PLAYING?o.pause(!0):o.play()},Z=()=>{m&&L(!1)};return T.jsxs("div",{className:"fixed inset-0 z-50 w-full h-[100dvh] overflow-hidden m-0 p-0 animate-fadeIn",style:{backgroundColor:d.background},children:[T.jsx("div",{className:"absolute inset-0 z-10 w-full h-full will-change-transform transition-opacity duration-300",style:{opacity:m?g?0:.4:1,pointerEvents:m?"none":"auto"},children:T.jsx(e_,{book:s,onToggleChrome:()=>h($=>!$),onRequestRSVP:($,mt)=>L(!0,$,mt),isActive:!m})}),T.jsxs("div",{className:`absolute inset-0 z-20 transition-all duration-300 will-change-[transform,opacity] ${m?"opacity-100 scale-100":"opacity-0 scale-95"}`,style:{pointerEvents:m?"auto":"none",transitionTimingFunction:"cubic-bezier(0.2, 0, 0, 1)"},children:[T.jsx(n_,{onTap:G,onLongPressExit:Z,onRewindStateChange:b}),T.jsx("style",{children:`
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .animate-fadeIn { animation: fadeIn 0.3s ease-out forwards; }
      `})]}),T.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 w-[90%] max-w-[450px] z-50 pointer-events-auto",style:{bottom:"calc(2rem + env(safe-area-inset-bottom))"},children:T.jsx(a_,{book:s,onToggleRSVP:$=>L(void 0,$),isRSVPActive:m,isRewinding:w,onSettingsClick:()=>{B.current||window.history.pushState({modal:"settings"},"",window.location.href),C(!0)}})}),T.jsx("div",{className:`absolute top-0 left-0 right-0 z-[60] transition-transform duration-400 pointer-events-none ${f||m&&!g?"translate-y-0":"-translate-y-full"}`,style:{transitionTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)"},children:T.jsxs("div",{className:"backdrop-blur-2xl border-b pt-safe-top py-4 px-5 flex items-center justify-between pointer-events-auto",style:{backgroundColor:d.dimmer,borderColor:d.borderColor},children:[T.jsx("button",{onClick:m?Z:q,className:"w-11 h-11 -ml-1 rounded-full flex items-center justify-center transition-all active:scale-95",style:{backgroundColor:`${d.primaryText}08`,color:d.primaryText},children:T.jsx(BS,{size:20})}),m&&T.jsx("span",{className:"text-xs font-medium",style:{color:d.secondaryText},children:"Tap to exit RSVP"})]})}),(z||k)&&T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"fixed inset-0 z-[100]",style:{backgroundColor:"rgba(0,0,0,0.5)",backdropFilter:"blur(2px)",animation:k?"fadeOut 0.4s ease-out":"fadeIn 0.6s ease-out"},onClick:D}),T.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[101] rounded-t-[32px] h-[70vh] shadow-2xl overflow-hidden",style:{backgroundColor:d.background,animation:k?"slideDown 0.5s cubic-bezier(0.7, 0, 0.84, 0)":"slideUp 0.8s cubic-bezier(0.16, 1, 0.3, 1)"},children:T.jsx(ky,{onClose:D})})]})]})},Qs=(s,i,r,o)=>{const c=Wa(r);return{id:s,title:i,content:r,sortOrder:o,wordCount:c}},r_=`
<p>Yo, dude. The internet is totally bonkers right now. Just way too much noise.</p>
<p>Your brain probably feels like burnt toast. <strong>Flow</strong> is the opposite of that. Its just a chill corner to hang out with a book.</p>
<p>No beeping. No distractions. Just you and the stories, man.</p>
<p>Take a breath. Its gonna be okay.</p>
`,o_=`
<p>Check it out, we got two ways to do this.</p>
<p>First is <strong>Scroll Mode</strong>. That's the classic style. Nice and slow. Like eating a sandwich one bite at a time.</p>
<p>Then, there's <strong>Flow Mode</strong>. Thats the big Play button. It shoots words at you one by one. Sounds crazy, but it's actually super mathematical. It's like the book is reading itself to you. Just tap it and relax.</p>
`,l_=`
<p>Moving your eyes left and right is a lot of work, man. Too much exercise.</p>
<p>In Flow Mode, you don't gotta move at all.</p>
<p>Just look at the <span style="color: #E25822;">red letter</span>. That's the sweet spot. Keep your eyes soft and locked there, and the words just melt into your brain. Its like telepathy, dude.</p>
`,c_=`
<p>That capsule at the bottom? That's your control panel.</p>
<ul>
<li><strong>The Scrubber:</strong> Drag it to jump around time. It clicks! So satisfying.</li>
<li><strong>The Tuner:</strong> Speed is key. If it's too slow, crank it up. If it's too fast, slow it down. Find your groove.</li>
<li><strong>The Visuals:</strong> Tap the settings to change the font. Make it look algebraic.</li>
</ul>
`,u_=`
<p>This guide is nice, but you gotta bring your own loot.</p>
<p>You got some <strong>EPUBs</strong> stashed away, right?</p>
<ol>
<li>Head back to the <strong>Bookshelf</strong>.</li>
<li>Hit the <strong>Add Book</strong> button.</li>
<li>Load 'em up.</li>
</ol>
<p>Well fix the formatting. You just stretch out and enjoy the silence. Maybe make some bacon pancakes.</p>
`,Ou=()=>[{id:"guide-book-v1",title:"welcome to flow",author:"Flowy",coverUrl:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1000&auto=format&fit=crop",tintColorHex:"#E25822",lastOpened:new Date,isFinished:!1,bookmarkProgress:0,chapters:[Qs("g1","The Noise",r_,0),Qs("g2","Two Speeds",o_,1),Qs("g3","The Red Letter",l_,2),Qs("g4","Vibe Check",c_,3),Qs("g5","Your Stash",u_,4)]}],Jg=({status:s,message:i,onAction:r,actionLabel:o})=>{const c=Ie();return T.jsxs("div",{className:"absolute bottom-24 left-1/2 -translate-x-1/2 z-[60] flex items-center gap-3 px-4 py-3 rounded-full shadow-xl backdrop-blur-md border border-white/10",style:{backgroundColor:c.surface,animation:"slideUp 400ms cubic-bezier(0.16, 1, 0.3, 1)"},children:[s==="syncing"&&T.jsx(gT,{size:18,className:"animate-spin text-blue-500"}),s==="error"&&T.jsx(AT,{size:18,className:"text-red-500"}),s==="success"&&T.jsx(Po,{size:18,className:"text-green-500"}),s==="idle"&&T.jsx($u,{size:18,style:{color:c.secondaryText}}),T.jsx("span",{className:"text-sm font-medium pr-1",style:{color:c.primaryText},children:i||(s==="syncing"?"Syncing library...":"Cloud connected")}),r&&T.jsx("button",{onClick:r,className:"ml-2 px-3 py-1 rounded-full text-xs font-bold bg-blue-500 text-white active:scale-95 transition-transform",children:o})]})},f_=()=>{const s=Ie(),[i,r]=P.useState([]),[o,c]=P.useState(null),d=P.useRef(!1),[f,h]=P.useState("idle"),[m,p]=P.useState(null),g=P.useRef([]);P.useEffect(()=>{const k=()=>{if(d.current||!o)return;if(d.current=!0,g.current.find(B=>B.id===o)){const B=Pe.getInstance();w(o,B.currentTokenIndex,B.currentProgress)}d.current=!1};return window.addEventListener("popstate",k),()=>window.removeEventListener("popstate",k)},[o]),P.useEffect(()=>{Pe.getInstance(),Zn.getInstance();const k=Ae.getInstance(),E=Fe.getInstance();(async()=>{try{await k.init();let D=await k.getAllMetadata();if(D.length===0){const L=Ou();for(const G of L)await k.saveBook(G);D=L}else{const L="guide-book-v1",G=D.find(Z=>Z.id===L);if(G){const Z=await k.getFullBook(L);if(!Z||!Z.chapters||Z.chapters.length===0){console.warn("[App] Welcome book content missing, repairing...");const mt=Ou().find(U=>U.id===L);mt&&(mt.bookmarkProgress=G.bookmarkProgress||0,mt.lastTokenIndex=G.lastTokenIndex,mt.lastOpened=G.lastOpened,await k.saveBook(mt),D=D.map(U=>U.id===L?mt:U))}}}const q=D.map(L=>({...L,lastOpened:new Date(L.lastOpened)}));r(q),g.current=q,E.subscribe({onStatusChange:L=>h(L),onNewBook:L=>{r(G=>G.find($=>$.id===L.id)?G.map($=>$.id===L.id?L:$):[L,...G])},onConflict:(L,G)=>{p({book:L,remote:G})}}),E.syncNow(!1)}catch(D){console.error("App boot failed:",D)}})()},[]),P.useEffect(()=>{g.current=i},[i]),P.useEffect(()=>{if(!o)return;const k=Pe.getInstance();let E=-1;const B=async(G=!1)=>{if(!k.isLoading&&k.currentBook&&k.currentBook.id===o){const Z=isNaN(k.currentProgress)||!isFinite(k.currentProgress)?0:k.currentProgress;if(!G&&Math.abs(Z-E)<.001)return;E=Z;const $={...k.currentBook,bookmarkProgress:Z,isFinished:k.currentBook.isFinished,lastTokenIndex:k.currentBook.lastTokenIndex,lastOpened:new Date},U=g.current.map(st=>st.id===$.id?$:st);r(U),await Ae.getInstance().saveBook($),Fe.getInstance().requestSync()}},D=setInterval(()=>B(!1),5e3),q=()=>{B(!0),Fe.getInstance().syncNow(!1)},L=()=>{document.visibilityState==="hidden"&&B(!0)};return window.addEventListener("beforeunload",q),document.addEventListener("visibilitychange",L),()=>{clearInterval(D),window.removeEventListener("beforeunload",q),document.removeEventListener("visibilitychange",L),B(!0)}},[o]);const y=async k=>{if(d.current||window.history.pushState({bookOpen:!0,bookId:k.id},"",window.location.href),!k.chapters||k.chapters.length===0){let E=await Ae.getInstance().getFullBook(k.id);if((!E||!E.chapters||E.chapters.length===0)&&k.id==="guide-book-v1"){console.warn("[App] Welcome book content missing on open, regenerating...");const D=Ou().find(q=>q.id==="guide-book-v1");D&&(D.bookmarkProgress=k.bookmarkProgress||0,D.lastTokenIndex=k.lastTokenIndex,D.lastOpened=k.lastOpened,await Ae.getInstance().saveBook(D),E=D)}E&&E.chapters&&E.chapters.length>0?(eb.flushSync(()=>{r(B=>B.map(D=>D.id===k.id?E:D))}),c(E.id)):(console.error("[App] Failed to load full book from storage:",k.id),c(k.id))}else c(k.id)},w=async(k,E,B)=>{var q;const D=g.current.find(L=>L.id===k);if(D){const L=isNaN(B)||!isFinite(B)?0:B,G={...D,lastTokenIndex:E,bookmarkProgress:L,isFinished:L>=.99||((q=Pe.getInstance().currentBook)==null?void 0:q.isFinished)||!1,lastOpened:new Date},Z=g.current.map($=>$.id===k?G:$);r(Z),await Ae.getInstance().saveBook(G),Fe.getInstance().syncNow(!1)}c(null)},b=async k=>{r(E=>E.filter(B=>!k.includes(B.id)));for(const E of k)await Ae.getInstance().deleteBook(E)},A=async(k,E)=>{const B=[];r(D=>D.map(q=>{if(k.includes(q.id)){const L={...q,isFinished:E,bookmarkProgress:E?1:q.bookmarkProgress>=.99?0:q.bookmarkProgress,lastTokenIndex:E?q.lastTokenIndex:q.bookmarkProgress>=.99?0:q.lastTokenIndex};return B.push(L),L}return q}));for(const D of B)await Ae.getInstance().saveBook(D);Fe.getInstance().requestSync()},S=async(k,E)=>{let B;r(D=>D.map(L=>{if(L.id===k){const G={...L,isFavorite:E};return B=G,G}return L})),B&&(await Ae.getInstance().saveBook(B),Fe.getInstance().requestSync())},z=async k=>{r(E=>[k,...E]),await Ae.getInstance().saveBook(k),Fe.getInstance().syncNow(!1)},C=i.find(k=>k.id===o);return T.jsxs("div",{className:"fixed inset-0 overflow-hidden font-sans select-none antialiased transition-colors duration-500",style:{backgroundColor:s.background,color:s.primaryText},children:[T.jsx("div",{className:`w-full h-full transition-all duration-500 ${C?"scale-95 opacity-50 blur-[2px] pointer-events-none":"scale-100 opacity-100 blur-0"}`,style:{transitionTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)"},children:T.jsx(YT,{books:i,onBookSelect:y,onBookImported:z,onDeleteBooks:b,onToggleReadStatus:A,onToggleFavorite:S})}),C&&T.jsx("div",{style:{animation:"fadeIn 400ms cubic-bezier(0.16, 1, 0.3, 1)"},children:T.jsx(s_,{book:C,onClose:w},C.id)},C.id),T.jsxs(Ei,{children:[(f==="syncing"||f==="error"||f==="success")&&T.jsx(Jg,{status:f}),m&&T.jsx(Jg,{status:"idle",message:`Cloud has different progress for "${m.book.title}"`,actionLabel:`Jump to ${Math.floor(m.remote*100)}%`,onAction:()=>{Fe.getInstance().resolveConflict(m.book,m.remote),p(null)}})]})]})};q1(async()=>{const{registerSW:s}=await import("./virtual_pwa-register-DUk6xtIW.js");return{registerSW:s}},[]).then(({registerSW:s})=>{s({onRegisteredSW(i,r){r&&setInterval(()=>{r.update()},60*1e3),console.log("[SW] Registered:",i)},onOfflineReady(){console.log("[SW] App is ready to work offline")}})}).catch(s=>{console.debug("[SW] PWA register not available",s)});class d_ extends rr.Component{constructor(i){super(i),this.state={hasError:!1,error:null}}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,r){console.error("ErrorBoundary caught:",i,r)}render(){var i,r;return this.state.hasError?T.jsxs("div",{style:{padding:"20px",color:"white",backgroundColor:"black"},children:[T.jsx("h1",{children:"Something went wrong"}),T.jsxs("pre",{style:{color:"red",whiteSpace:"pre-wrap"},children:[(i=this.state.error)==null?void 0:i.toString(),`

`,(r=this.state.error)==null?void 0:r.stack]})]}):this.props.children}}const Ay=document.getElementById("root");if(!Ay)throw new Error("Could not find root element to mount to");console.log("Mounting App...");const h_=tb.createRoot(Ay);h_.render(T.jsx(rr.StrictMode,{children:T.jsx(d_,{children:T.jsx(f_,{})})}));export{q1 as _};
