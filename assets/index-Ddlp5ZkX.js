(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function r(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=r(c);fetch(c.href,d)}})();const q1="modulepreload",G1=function(s){return"/Flow/"+s},Np={},Y1=function(i,r,o){let c=Promise.resolve();if(r&&r.length>0){let u=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));c=u(r.map(p=>{if(p=G1(p),p in Np)return;Np[p]=!0;const y=p.endsWith(".css"),g=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${g}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":q1,y||(w.as="script"),w.crossOrigin="",w.href=p,m&&w.setAttribute("nonce",m),document.head.appendChild(w),y)return new Promise((b,C)=>{w.addEventListener("load",b),w.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${p}`)))})}))}function d(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return c.then(u=>{for(const h of u||[])h.status==="rejected"&&d(h.reason);return i().catch(d)})};var Eo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tf(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var hu={exports:{}},Xs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function Z1(){if(Rp)return Xs;Rp=1;var s=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(o,c,d){var u=null;if(d!==void 0&&(u=""+d),c.key!==void 0&&(u=""+c.key),"key"in c){d={};for(var h in c)h!=="key"&&(d[h]=c[h])}else d=c;return c=d.ref,{$$typeof:s,type:o,key:u,ref:c!==void 0?c:null,props:d}}return Xs.Fragment=i,Xs.jsx=r,Xs.jsxs=r,Xs}var Dp;function X1(){return Dp||(Dp=1,hu.exports=Z1()),hu.exports}var x=X1(),mu={exports:{}},Nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function K1(){if(Op)return Nt;Op=1;var s=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),w=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=w&&z[w]||z["@@iterator"],typeof z=="function"?z:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,j={};function E(z,N,K){this.props=z,this.context=N,this.refs=j,this.updater=K||C}E.prototype.isReactComponent={},E.prototype.setState=function(z,N){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,N,"setState")},E.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function k(){}k.prototype=E.prototype;function A(z,N,K){this.props=z,this.context=N,this.refs=j,this.updater=K||C}var B=A.prototype=new k;B.constructor=A,T(B,E.prototype),B.isPureReactComponent=!0;var D=Array.isArray;function P(){}var V={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function X(z,N,K){var W=K.ref;return{$$typeof:s,type:z,key:N,ref:W!==void 0?W:null,props:K}}function lt(z,N){return X(z.type,N,z.props)}function yt(z){return typeof z=="object"&&z!==null&&z.$$typeof===s}function U(z){var N={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(K){return N[K]})}var st=/\/+/g;function _(z,N){return typeof z=="object"&&z!==null&&z.key!=null?U(""+z.key):N.toString(36)}function nt(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(P,P):(z.status="pending",z.then(function(N){z.status==="pending"&&(z.status="fulfilled",z.value=N)},function(N){z.status==="pending"&&(z.status="rejected",z.reason=N)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Z(z,N,K,W,rt){var St=typeof z;(St==="undefined"||St==="boolean")&&(z=null);var wt=!1;if(z===null)wt=!0;else switch(St){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(z.$$typeof){case s:case i:wt=!0;break;case y:return wt=z._init,Z(wt(z._payload),N,K,W,rt)}}if(wt)return rt=rt(z),wt=W===""?"."+_(z,0):W,D(rt)?(K="",wt!=null&&(K=wt.replace(st,"$&/")+"/"),Z(rt,N,K,"",function(Tt){return Tt})):rt!=null&&(yt(rt)&&(rt=lt(rt,K+(rt.key==null||z&&z.key===rt.key?"":(""+rt.key).replace(st,"$&/")+"/")+wt)),N.push(rt)),1;wt=0;var _t=W===""?".":W+":";if(D(z))for(var ft=0;ft<z.length;ft++)W=z[ft],St=_t+_(W,ft),wt+=Z(W,N,K,St,rt);else if(ft=b(z),typeof ft=="function")for(z=ft.call(z),ft=0;!(W=z.next()).done;)W=W.value,St=_t+_(W,ft++),wt+=Z(W,N,K,St,rt);else if(St==="object"){if(typeof z.then=="function")return Z(nt(z),N,K,W,rt);throw N=String(z),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return wt}function L(z,N,K){if(z==null)return z;var W=[],rt=0;return Z(z,W,"","",function(St){return N.call(K,St,rt++)}),W}function it(z){if(z._status===-1){var N=z._result;N=N(),N.then(function(K){(z._status===0||z._status===-1)&&(z._status=1,z._result=K)},function(K){(z._status===0||z._status===-1)&&(z._status=2,z._result=K)}),z._status===-1&&(z._status=0,z._result=N)}if(z._status===1)return z._result.default;throw z._result}var $=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},pt={map:L,forEach:function(z,N,K){L(z,function(){N.apply(this,arguments)},K)},count:function(z){var N=0;return L(z,function(){N++}),N},toArray:function(z){return L(z,function(N){return N})||[]},only:function(z){if(!yt(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Nt.Activity=g,Nt.Children=pt,Nt.Component=E,Nt.Fragment=r,Nt.Profiler=c,Nt.PureComponent=A,Nt.StrictMode=o,Nt.Suspense=m,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return V.H.useMemoCache(z)}},Nt.cache=function(z){return function(){return z.apply(null,arguments)}},Nt.cacheSignal=function(){return null},Nt.cloneElement=function(z,N,K){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var W=T({},z.props),rt=z.key;if(N!=null)for(St in N.key!==void 0&&(rt=""+N.key),N)!G.call(N,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&N.ref===void 0||(W[St]=N[St]);var St=arguments.length-2;if(St===1)W.children=K;else if(1<St){for(var wt=Array(St),_t=0;_t<St;_t++)wt[_t]=arguments[_t+2];W.children=wt}return X(z.type,rt,W)},Nt.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:d,_context:z},z},Nt.createElement=function(z,N,K){var W,rt={},St=null;if(N!=null)for(W in N.key!==void 0&&(St=""+N.key),N)G.call(N,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(rt[W]=N[W]);var wt=arguments.length-2;if(wt===1)rt.children=K;else if(1<wt){for(var _t=Array(wt),ft=0;ft<wt;ft++)_t[ft]=arguments[ft+2];rt.children=_t}if(z&&z.defaultProps)for(W in wt=z.defaultProps,wt)rt[W]===void 0&&(rt[W]=wt[W]);return X(z,St,rt)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(z){return{$$typeof:h,render:z}},Nt.isValidElement=yt,Nt.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:it}},Nt.memo=function(z,N){return{$$typeof:p,type:z,compare:N===void 0?null:N}},Nt.startTransition=function(z){var N=V.T,K={};V.T=K;try{var W=z(),rt=V.S;rt!==null&&rt(K,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(P,$)}catch(St){$(St)}finally{N!==null&&K.types!==null&&(N.types=K.types),V.T=N}},Nt.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Nt.use=function(z){return V.H.use(z)},Nt.useActionState=function(z,N,K){return V.H.useActionState(z,N,K)},Nt.useCallback=function(z,N){return V.H.useCallback(z,N)},Nt.useContext=function(z){return V.H.useContext(z)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(z,N){return V.H.useDeferredValue(z,N)},Nt.useEffect=function(z,N){return V.H.useEffect(z,N)},Nt.useEffectEvent=function(z){return V.H.useEffectEvent(z)},Nt.useId=function(){return V.H.useId()},Nt.useImperativeHandle=function(z,N,K){return V.H.useImperativeHandle(z,N,K)},Nt.useInsertionEffect=function(z,N){return V.H.useInsertionEffect(z,N)},Nt.useLayoutEffect=function(z,N){return V.H.useLayoutEffect(z,N)},Nt.useMemo=function(z,N){return V.H.useMemo(z,N)},Nt.useOptimistic=function(z,N){return V.H.useOptimistic(z,N)},Nt.useReducer=function(z,N,K){return V.H.useReducer(z,N,K)},Nt.useRef=function(z){return V.H.useRef(z)},Nt.useState=function(z){return V.H.useState(z)},Nt.useSyncExternalStore=function(z,N,K){return V.H.useSyncExternalStore(z,N,K)},Nt.useTransition=function(){return V.H.useTransition()},Nt.version="19.2.3",Nt}var Bp;function ef(){return Bp||(Bp=1,mu.exports=K1()),mu.exports}var H=ef();const es=tf(H);var pu={exports:{}},Ks={},gu={exports:{}},yu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function Q1(){return Lp||(Lp=1,(function(s){function i(Z,L){var it=Z.length;Z.push(L);t:for(;0<it;){var $=it-1>>>1,pt=Z[$];if(0<c(pt,L))Z[$]=L,Z[it]=pt,it=$;else break t}}function r(Z){return Z.length===0?null:Z[0]}function o(Z){if(Z.length===0)return null;var L=Z[0],it=Z.pop();if(it!==L){Z[0]=it;t:for(var $=0,pt=Z.length,z=pt>>>1;$<z;){var N=2*($+1)-1,K=Z[N],W=N+1,rt=Z[W];if(0>c(K,it))W<pt&&0>c(rt,K)?(Z[$]=rt,Z[W]=it,$=W):(Z[$]=K,Z[N]=it,$=N);else if(W<pt&&0>c(rt,it))Z[$]=rt,Z[W]=it,$=W;else break t}}return L}function c(Z,L){var it=Z.sortIndex-L.sortIndex;return it!==0?it:Z.id-L.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var u=Date,h=u.now();s.unstable_now=function(){return u.now()-h}}var m=[],p=[],y=1,g=null,w=3,b=!1,C=!1,T=!1,j=!1,E=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function B(Z){for(var L=r(p);L!==null;){if(L.callback===null)o(p);else if(L.startTime<=Z)o(p),L.sortIndex=L.expirationTime,i(m,L);else break;L=r(p)}}function D(Z){if(T=!1,B(Z),!C)if(r(m)!==null)C=!0,P||(P=!0,U());else{var L=r(p);L!==null&&nt(D,L.startTime-Z)}}var P=!1,V=-1,G=5,X=-1;function lt(){return j?!0:!(s.unstable_now()-X<G)}function yt(){if(j=!1,P){var Z=s.unstable_now();X=Z;var L=!0;try{t:{C=!1,T&&(T=!1,k(V),V=-1),b=!0;var it=w;try{e:{for(B(Z),g=r(m);g!==null&&!(g.expirationTime>Z&&lt());){var $=g.callback;if(typeof $=="function"){g.callback=null,w=g.priorityLevel;var pt=$(g.expirationTime<=Z);if(Z=s.unstable_now(),typeof pt=="function"){g.callback=pt,B(Z),L=!0;break e}g===r(m)&&o(m),B(Z)}else o(m);g=r(m)}if(g!==null)L=!0;else{var z=r(p);z!==null&&nt(D,z.startTime-Z),L=!1}}break t}finally{g=null,w=it,b=!1}L=void 0}}finally{L?U():P=!1}}}var U;if(typeof A=="function")U=function(){A(yt)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,_=st.port2;st.port1.onmessage=yt,U=function(){_.postMessage(null)}}else U=function(){E(yt,0)};function nt(Z,L){V=E(function(){Z(s.unstable_now())},L)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Z){Z.callback=null},s.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<Z?Math.floor(1e3/Z):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(Z){switch(w){case 1:case 2:case 3:var L=3;break;default:L=w}var it=w;w=L;try{return Z()}finally{w=it}},s.unstable_requestPaint=function(){j=!0},s.unstable_runWithPriority=function(Z,L){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var it=w;w=Z;try{return L()}finally{w=it}},s.unstable_scheduleCallback=function(Z,L,it){var $=s.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?$+it:$):it=$,Z){case 1:var pt=-1;break;case 2:pt=250;break;case 5:pt=1073741823;break;case 4:pt=1e4;break;default:pt=5e3}return pt=it+pt,Z={id:y++,callback:L,priorityLevel:Z,startTime:it,expirationTime:pt,sortIndex:-1},it>$?(Z.sortIndex=it,i(p,Z),r(m)===null&&Z===r(p)&&(T?(k(V),V=-1):T=!0,nt(D,it-$))):(Z.sortIndex=pt,i(m,Z),C||b||(C=!0,P||(P=!0,U()))),Z},s.unstable_shouldYield=lt,s.unstable_wrapCallback=function(Z){var L=w;return function(){var it=w;w=L;try{return Z.apply(this,arguments)}finally{w=it}}}})(yu)),yu}var Up;function $1(){return Up||(Up=1,gu.exports=Q1()),gu.exports}var vu={exports:{}},ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp;function W1(){if(Vp)return ke;Vp=1;var s=ef();function i(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(i(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(m,p,y){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:g==null?null:""+g,children:m,containerInfo:p,implementation:y}}var u=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,ke.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(i(299));return d(m,p,null,y)},ke.flushSync=function(m){var p=u.T,y=o.p;try{if(u.T=null,o.p=2,m)return m()}finally{u.T=p,o.p=y,o.d.f()}},ke.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(m,p))},ke.prefetchDNS=function(m){typeof m=="string"&&o.d.D(m)},ke.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,g=h(y,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?o.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:g,integrity:w,fetchPriority:b}):y==="script"&&o.d.X(m,{crossOrigin:g,integrity:w,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ke.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);o.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(m)},ke.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,g=h(y,p.crossOrigin);o.d.L(m,y,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ke.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=h(p.as,p.crossOrigin);o.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(m)},ke.requestFormReset=function(m){o.d.r(m)},ke.unstable_batchedUpdates=function(m,p){return m(p)},ke.useFormState=function(m,p,y){return u.H.useFormState(m,p,y)},ke.useFormStatus=function(){return u.H.useHostTransitionStatus()},ke.version="19.2.3",ke}var Fp;function e0(){if(Fp)return vu.exports;Fp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(i){console.error(i)}}return s(),vu.exports=W1(),vu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function J1(){if(Hp)return Ks;Hp=1;var s=$1(),i=ef(),r=e0();function o(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function u(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function h(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function m(t){if(d(t)!==t)throw Error(o(188))}function p(t){var e=t.alternate;if(!e){if(e=d(t),e===null)throw Error(o(188));return e!==t?null:t}for(var n=t,a=e;;){var l=n.return;if(l===null)break;var f=l.alternate;if(f===null){if(a=l.return,a!==null){n=a;continue}break}if(l.child===f.child){for(f=l.child;f;){if(f===n)return m(l),t;if(f===a)return m(l),e;f=f.sibling}throw Error(o(188))}if(n.return!==a.return)n=l,a=f;else{for(var v=!1,M=l.child;M;){if(M===n){v=!0,n=l,a=f;break}if(M===a){v=!0,a=l,n=f;break}M=M.sibling}if(!v){for(M=f.child;M;){if(M===n){v=!0,n=f,a=l;break}if(M===a){v=!0,a=f,n=l;break}M=M.sibling}if(!v)throw Error(o(189))}}if(n.alternate!==a)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?t:e}function y(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=y(t),e!==null)return e;t=t.sibling}return null}var g=Object.assign,w=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),A=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),lt=Symbol.for("react.memo_cache_sentinel"),yt=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=yt&&t[yt]||t["@@iterator"],typeof t=="function"?t:null)}var st=Symbol.for("react.client.reference");function _(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===st?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case T:return"Fragment";case E:return"Profiler";case j:return"StrictMode";case D:return"Suspense";case P:return"SuspenseList";case X:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case A:return t.displayName||"Context";case k:return(t._context.displayName||"Context")+".Consumer";case B:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return e=t.displayName||null,e!==null?e:_(t.type)||"Memo";case G:e=t._payload,t=t._init;try{return _(t(e))}catch{}}return null}var nt=Array.isArray,Z=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},$=[],pt=-1;function z(t){return{current:t}}function N(t){0>pt||(t.current=$[pt],$[pt]=null,pt--)}function K(t,e){pt++,$[pt]=t.current,t.current=e}var W=z(null),rt=z(null),St=z(null),wt=z(null);function _t(t,e){switch(K(St,e),K(rt,t),K(W,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?ep(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=ep(e),t=np(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}N(W),K(W,t)}function ft(){N(W),N(rt),N(St)}function Tt(t){t.memoizedState!==null&&K(wt,t);var e=W.current,n=np(e,t.type);e!==n&&(K(rt,t),K(W,n))}function Et(t){rt.current===t&&(N(W),N(rt)),wt.current===t&&(N(wt),qs._currentValue=it)}var Rt,It;function S(t){if(Rt===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Rt=e&&e[1]||"",It=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rt+t+It}var ct=!1;function I(t,e){if(!t||ct)return"";ct=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(e){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(ot){var at=ot}Reflect.construct(t,[],mt)}else{try{mt.call()}catch(ot){at=ot}t.call(mt.prototype)}}else{try{throw Error()}catch(ot){at=ot}(mt=t())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(ot){if(ot&&at&&typeof ot.stack=="string")return[ot.stack,at.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=a.DetermineComponentFrameRoot(),v=f[0],M=f[1];if(v&&M){var F=v.split(`
`),et=M.split(`
`);for(l=a=0;a<F.length&&!F[a].includes("DetermineComponentFrameRoot");)a++;for(;l<et.length&&!et[l].includes("DetermineComponentFrameRoot");)l++;if(a===F.length||l===et.length)for(a=F.length-1,l=et.length-1;1<=a&&0<=l&&F[a]!==et[l];)l--;for(;1<=a&&0<=l;a--,l--)if(F[a]!==et[l]){if(a!==1||l!==1)do if(a--,l--,0>l||F[a]!==et[l]){var ut=`
`+F[a].replace(" at new "," at ");return t.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",t.displayName)),ut}while(1<=a&&0<=l);break}}}finally{ct=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?S(n):""}function R(t,e){switch(t.tag){case 26:case 27:case 5:return S(t.type);case 16:return S("Lazy");case 13:return t.child!==e&&e!==null?S("Suspense Fallback"):S("Suspense");case 19:return S("SuspenseList");case 0:case 15:return I(t.type,!1);case 11:return I(t.type.render,!1);case 1:return I(t.type,!0);case 31:return S("Activity");default:return""}}function O(t){try{var e="",n=null;do e+=R(t,n),n=t,t=t.return;while(t);return e}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var q=Object.prototype.hasOwnProperty,ht=s.unstable_scheduleCallback,gt=s.unstable_cancelCallback,tt=s.unstable_shouldYield,vt=s.unstable_requestPaint,xt=s.unstable_now,bt=s.unstable_getCurrentPriorityLevel,kt=s.unstable_ImmediatePriority,Zt=s.unstable_UserBlockingPriority,Bt=s.unstable_NormalPriority,De=s.unstable_LowPriority,$n=s.unstable_IdlePriority,We=s.log,Ri=s.unstable_setDisableYieldValue,Jt=null,ge=null;function Je(t){if(typeof We=="function"&&Ri(t),ge&&typeof ge.setStrictMode=="function")try{ge.setStrictMode(Jt,t)}catch{}}var ae=Math.clz32?Math.clz32:tl,hr=Math.log,Jo=Math.LN2;function tl(t){return t>>>=0,t===0?32:31-(hr(t)/Jo|0)|0}var la=256,Di=262144,bn=4194304;function tn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mr(t,e,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var M=a&134217727;return M!==0?(a=M&~f,a!==0?l=tn(a):(v&=M,v!==0?l=tn(v):n||(n=M&~t,n!==0&&(l=tn(n))))):(M=a&~f,M!==0?l=tn(M):v!==0?l=tn(v):n||(n=a&~t,n!==0&&(l=tn(n)))),l===0?0:e!==0&&e!==l&&(e&f)===0&&(f=l&-l,n=e&-e,f>=n||f===32&&(n&4194048)!==0)?e:l}function is(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function My(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bf(){var t=bn;return bn<<=1,(bn&62914560)===0&&(bn=4194304),t}function el(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function as(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ny(t,e,n,a,l,f){var v=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var M=t.entanglements,F=t.expirationTimes,et=t.hiddenUpdates;for(n=v&~n;0<n;){var ut=31-ae(n),mt=1<<ut;M[ut]=0,F[ut]=-1;var at=et[ut];if(at!==null)for(et[ut]=null,ut=0;ut<at.length;ut++){var ot=at[ut];ot!==null&&(ot.lane&=-536870913)}n&=~mt}a!==0&&Lf(t,a,0),f!==0&&l===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~e))}function Lf(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var a=31-ae(e);t.entangledLanes|=e,t.entanglements[a]=t.entanglements[a]|1073741824|n&261930}function Uf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var a=31-ae(n),l=1<<a;l&e|t[a]&e&&(t[a]|=e),n&=~l}}function Vf(t,e){var n=e&-e;return n=(n&42)!==0?1:nl(n),(n&(t.suspendedLanes|e))!==0?0:n}function nl(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function il(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ff(){var t=L.p;return t!==0?t:(t=window.event,t===void 0?32:Cp(t.type))}function Hf(t,e){var n=L.p;try{return L.p=t,e()}finally{L.p=n}}var Wn=Math.random().toString(36).slice(2),xe="__reactFiber$"+Wn,Oe="__reactProps$"+Wn,ca="__reactContainer$"+Wn,al="__reactEvents$"+Wn,Ry="__reactListeners$"+Wn,Dy="__reactHandles$"+Wn,Pf="__reactResources$"+Wn,ss="__reactMarker$"+Wn;function sl(t){delete t[xe],delete t[Oe],delete t[al],delete t[Ry],delete t[Dy]}function ua(t){var e=t[xe];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ca]||n[xe]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cp(t);t!==null;){if(n=t[xe])return n;t=cp(t)}return e}t=n,n=t.parentNode}return null}function fa(t){if(t=t[xe]||t[ca]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function rs(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(o(33))}function da(t){var e=t[Pf];return e||(e=t[Pf]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ye(t){t[ss]=!0}var If=new Set,qf={};function Oi(t,e){ha(t,e),ha(t+"Capture",e)}function ha(t,e){for(qf[t]=e,t=0;t<e.length;t++)If.add(e[t])}var Oy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gf={},Yf={};function By(t){return q.call(Yf,t)?!0:q.call(Gf,t)?!1:Oy.test(t)?Yf[t]=!0:(Gf[t]=!0,!1)}function pr(t,e,n){if(By(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var a=e.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function gr(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function kn(t,e,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+a)}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ly(t,e,n){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var l=a.get,f=a.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return l.call(this)},set:function(v){n=""+v,f.call(this,v)}}),Object.defineProperty(t,e,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(v){n=""+v},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rl(t){if(!t._valueTracker){var e=Zf(t)?"checked":"value";t._valueTracker=Ly(t,e,""+t[e])}}function Xf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),a="";return t&&(a=Zf(t)?t.checked?"true":"false":t.value),t=a,t!==n?(e.setValue(t),!0):!1}function yr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Uy=/[\n"\\]/g;function nn(t){return t.replace(Uy,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function ol(t,e,n,a,l,f,v,M){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),e!=null?v==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+en(e)):t.value!==""+en(e)&&(t.value=""+en(e)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),e!=null?ll(t,v,en(e)):n!=null?ll(t,v,en(n)):a!=null&&t.removeAttribute("value"),l==null&&f!=null&&(t.defaultChecked=!!f),l!=null&&(t.checked=l&&typeof l!="function"&&typeof l!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+en(M):t.removeAttribute("name")}function Kf(t,e,n,a,l,f,v,M){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),e!=null||n!=null){if(!(f!=="submit"&&f!=="reset"||e!=null)){rl(t);return}n=n!=null?""+en(n):"",e=e!=null?""+en(e):n,M||e===t.value||(t.value=e),t.defaultValue=e}a=a??l,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=M?t.checked:!!a,t.defaultChecked=!!a,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),rl(t)}function ll(t,e,n){e==="number"&&yr(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function ma(t,e,n,a){if(t=t.options,e){e={};for(var l=0;l<n.length;l++)e["$"+n[l]]=!0;for(n=0;n<t.length;n++)l=e.hasOwnProperty("$"+t[n].value),t[n].selected!==l&&(t[n].selected=l),l&&a&&(t[n].defaultSelected=!0)}else{for(n=""+en(n),e=null,l=0;l<t.length;l++){if(t[l].value===n){t[l].selected=!0,a&&(t[l].defaultSelected=!0);return}e!==null||t[l].disabled||(e=t[l])}e!==null&&(e.selected=!0)}}function Qf(t,e,n){if(e!=null&&(e=""+en(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+en(n):""}function $f(t,e,n,a){if(e==null){if(a!=null){if(n!=null)throw Error(o(92));if(nt(a)){if(1<a.length)throw Error(o(93));a=a[0]}n=a}n==null&&(n=""),e=n}n=en(e),t.defaultValue=n,a=t.textContent,a===n&&a!==""&&a!==null&&(t.value=a),rl(t)}function pa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Vy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wf(t,e,n){var a=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":a?t.setProperty(e,n):typeof n!="number"||n===0||Vy.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Jf(t,e,n){if(e!=null&&typeof e!="object")throw Error(o(62));if(t=t.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||e!=null&&e.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var l in e)a=e[l],e.hasOwnProperty(l)&&n[l]!==a&&Wf(t,l,a)}else for(var f in e)e.hasOwnProperty(f)&&Wf(t,f,e[f])}function cl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vr(t){return Hy.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function An(){}var ul=null;function fl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ga=null,ya=null;function td(t){var e=fa(t);if(e&&(t=e.stateNode)){var n=t[Oe]||null;t:switch(t=e.stateNode,e.type){case"input":if(ol(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+nn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var a=n[e];if(a!==t&&a.form===t.form){var l=a[Oe]||null;if(!l)throw Error(o(90));ol(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(e=0;e<n.length;e++)a=n[e],a.form===t.form&&Xf(a)}break t;case"textarea":Qf(t,n.value,n.defaultValue);break t;case"select":e=n.value,e!=null&&ma(t,!!n.multiple,e,!1)}}}var dl=!1;function ed(t,e,n){if(dl)return t(e,n);dl=!0;try{var a=t(e);return a}finally{if(dl=!1,(ga!==null||ya!==null)&&(so(),ga&&(e=ga,t=ya,ya=ga=null,td(e),t)))for(e=0;e<t.length;e++)td(t[e])}}function os(t,e){var n=t.stateNode;if(n===null)return null;var a=n[Oe]||null;if(a===null)return null;n=a[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break t;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(o(231,e,typeof n));return n}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hl=!1;if(En)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){hl=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{hl=!1}var Jn=null,ml=null,br=null;function nd(){if(br)return br;var t,e=ml,n=e.length,a,l="value"in Jn?Jn.value:Jn.textContent,f=l.length;for(t=0;t<n&&e[t]===l[t];t++);var v=n-t;for(a=1;a<=v&&e[n-a]===l[f-a];a++);return br=l.slice(t,1<a?1-a:void 0)}function xr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sr(){return!0}function id(){return!1}function Be(t){function e(n,a,l,f,v){this._reactName=n,this._targetInst=l,this.type=a,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(n=t[M],this[M]=n?n(f):f[M]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Sr:id,this.isPropagationStopped=id,this}return g(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),e}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wr=Be(Bi),cs=g({},Bi,{view:0,detail:0}),Py=Be(cs),pl,gl,us,Tr=g({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==us&&(us&&t.type==="mousemove"?(pl=t.screenX-us.screenX,gl=t.screenY-us.screenY):gl=pl=0,us=t),pl)},movementY:function(t){return"movementY"in t?t.movementY:gl}}),ad=Be(Tr),Iy=g({},Tr,{dataTransfer:0}),qy=Be(Iy),Gy=g({},cs,{relatedTarget:0}),yl=Be(Gy),Yy=g({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Zy=Be(Yy),Xy=g({},Bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ky=Be(Xy),Qy=g({},Bi,{data:0}),sd=Be(Qy),$y={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Jy[t])?!!e[t]:!1}function vl(){return tv}var ev=g({},cs,{key:function(t){if(t.key){var e=$y[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vl,charCode:function(t){return t.type==="keypress"?xr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nv=Be(ev),iv=g({},Tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rd=Be(iv),av=g({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vl}),sv=Be(av),rv=g({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ov=Be(rv),lv=g({},Tr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cv=Be(lv),uv=g({},Bi,{newState:0,oldState:0}),fv=Be(uv),dv=[9,13,27,32],bl=En&&"CompositionEvent"in window,fs=null;En&&"documentMode"in document&&(fs=document.documentMode);var hv=En&&"TextEvent"in window&&!fs,od=En&&(!bl||fs&&8<fs&&11>=fs),ld=" ",cd=!1;function ud(t,e){switch(t){case"keyup":return dv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var va=!1;function mv(t,e){switch(t){case"compositionend":return fd(e);case"keypress":return e.which!==32?null:(cd=!0,ld);case"textInput":return t=e.data,t===ld&&cd?null:t;default:return null}}function pv(t,e){if(va)return t==="compositionend"||!bl&&ud(t,e)?(t=nd(),br=ml=Jn=null,va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return od&&e.locale!=="ko"?null:e.data;default:return null}}var gv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gv[t.type]:e==="textarea"}function hd(t,e,n,a){ga?ya?ya.push(a):ya=[a]:ga=a,e=ho(e,"onChange"),0<e.length&&(n=new wr("onChange","change",null,n,a),t.push({event:n,listeners:e}))}var ds=null,hs=null;function yv(t){Km(t,0)}function _r(t){var e=rs(t);if(Xf(e))return t}function md(t,e){if(t==="change")return e}var pd=!1;if(En){var xl;if(En){var Sl="oninput"in document;if(!Sl){var gd=document.createElement("div");gd.setAttribute("oninput","return;"),Sl=typeof gd.oninput=="function"}xl=Sl}else xl=!1;pd=xl&&(!document.documentMode||9<document.documentMode)}function yd(){ds&&(ds.detachEvent("onpropertychange",vd),hs=ds=null)}function vd(t){if(t.propertyName==="value"&&_r(hs)){var e=[];hd(e,hs,t,fl(t)),ed(yv,e)}}function vv(t,e,n){t==="focusin"?(yd(),ds=e,hs=n,ds.attachEvent("onpropertychange",vd)):t==="focusout"&&yd()}function bv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _r(hs)}function xv(t,e){if(t==="click")return _r(e)}function Sv(t,e){if(t==="input"||t==="change")return _r(e)}function wv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qe=typeof Object.is=="function"?Object.is:wv;function ms(t,e){if(qe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var l=n[a];if(!q.call(e,l)||!qe(t[l],e[l]))return!1}return!0}function bd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xd(t,e){var n=bd(t);t=0;for(var a;n;){if(n.nodeType===3){if(a=t+n.textContent.length,t<=e&&a>=e)return{node:n,offset:e-t};t=a}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=bd(n)}}function Sd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Sd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=yr(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yr(t.document)}return e}function wl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Tv=En&&"documentMode"in document&&11>=document.documentMode,ba=null,Tl=null,ps=null,_l=!1;function Td(t,e,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_l||ba==null||ba!==yr(a)||(a=ba,"selectionStart"in a&&wl(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ps&&ms(ps,a)||(ps=a,a=ho(Tl,"onSelect"),0<a.length&&(e=new wr("onSelect","select",null,e,n),t.push({event:e,listeners:a}),e.target=ba)))}function Li(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xa={animationend:Li("Animation","AnimationEnd"),animationiteration:Li("Animation","AnimationIteration"),animationstart:Li("Animation","AnimationStart"),transitionrun:Li("Transition","TransitionRun"),transitionstart:Li("Transition","TransitionStart"),transitioncancel:Li("Transition","TransitionCancel"),transitionend:Li("Transition","TransitionEnd")},Cl={},_d={};En&&(_d=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Ui(t){if(Cl[t])return Cl[t];if(!xa[t])return t;var e=xa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _d)return Cl[t]=e[n];return t}var Cd=Ui("animationend"),kd=Ui("animationiteration"),Ad=Ui("animationstart"),_v=Ui("transitionrun"),Cv=Ui("transitionstart"),kv=Ui("transitioncancel"),Ed=Ui("transitionend"),jd=new Map,kl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kl.push("scrollEnd");function pn(t,e){jd.set(t,e),Oi(e,[t])}var Cr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},an=[],Sa=0,Al=0;function kr(){for(var t=Sa,e=Al=Sa=0;e<t;){var n=an[e];an[e++]=null;var a=an[e];an[e++]=null;var l=an[e];an[e++]=null;var f=an[e];if(an[e++]=null,a!==null&&l!==null){var v=a.pending;v===null?l.next=l:(l.next=v.next,v.next=l),a.pending=l}f!==0&&zd(n,l,f)}}function Ar(t,e,n,a){an[Sa++]=t,an[Sa++]=e,an[Sa++]=n,an[Sa++]=a,Al|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function El(t,e,n,a){return Ar(t,e,n,a),Er(t)}function Vi(t,e){return Ar(t,null,null,e),Er(t)}function zd(t,e,n){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n);for(var l=!1,f=t.return;f!==null;)f.childLanes|=n,a=f.alternate,a!==null&&(a.childLanes|=n),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(l=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,l&&e!==null&&(l=31-ae(n),t=f.hiddenUpdates,a=t[l],a===null?t[l]=[e]:a.push(e),e.lane=n|536870912),f):null}function Er(t){if(50<Ls)throw Ls=0,Lc=null,Error(o(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var wa={};function Av(t,e,n,a){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(t,e,n,a){return new Av(t,e,n,a)}function jl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jn(t,e){var n=t.alternate;return n===null?(n=Ge(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Md(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function jr(t,e,n,a,l,f){var v=0;if(a=t,typeof t=="function")jl(t)&&(v=1);else if(typeof t=="string")v=N1(t,n,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case X:return t=Ge(31,n,e,l),t.elementType=X,t.lanes=f,t;case T:return Fi(n.children,l,f,e);case j:v=8,l|=24;break;case E:return t=Ge(12,n,e,l|2),t.elementType=E,t.lanes=f,t;case D:return t=Ge(13,n,e,l),t.elementType=D,t.lanes=f,t;case P:return t=Ge(19,n,e,l),t.elementType=P,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:v=10;break t;case k:v=9;break t;case B:v=11;break t;case V:v=14;break t;case G:v=16,a=null;break t}v=29,n=Error(o(130,t===null?"null":typeof t,"")),a=null}return e=Ge(v,n,e,l),e.elementType=t,e.type=a,e.lanes=f,e}function Fi(t,e,n,a){return t=Ge(7,t,a,e),t.lanes=n,t}function zl(t,e,n){return t=Ge(6,t,null,e),t.lanes=n,t}function Nd(t){var e=Ge(18,null,null,0);return e.stateNode=t,e}function Ml(t,e,n){return e=Ge(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Rd=new WeakMap;function sn(t,e){if(typeof t=="object"&&t!==null){var n=Rd.get(t);return n!==void 0?n:(e={value:t,source:e,stack:O(e)},Rd.set(t,e),e)}return{value:t,source:e,stack:O(e)}}var Ta=[],_a=0,zr=null,gs=0,rn=[],on=0,ti=null,xn=1,Sn="";function zn(t,e){Ta[_a++]=gs,Ta[_a++]=zr,zr=t,gs=e}function Dd(t,e,n){rn[on++]=xn,rn[on++]=Sn,rn[on++]=ti,ti=t;var a=xn;t=Sn;var l=32-ae(a)-1;a&=~(1<<l),n+=1;var f=32-ae(e)+l;if(30<f){var v=l-l%5;f=(a&(1<<v)-1).toString(32),a>>=v,l-=v,xn=1<<32-ae(e)+l|n<<l|a,Sn=f+t}else xn=1<<f|n<<l|a,Sn=t}function Nl(t){t.return!==null&&(zn(t,1),Dd(t,1,0))}function Rl(t){for(;t===zr;)zr=Ta[--_a],Ta[_a]=null,gs=Ta[--_a],Ta[_a]=null;for(;t===ti;)ti=rn[--on],rn[on]=null,Sn=rn[--on],rn[on]=null,xn=rn[--on],rn[on]=null}function Od(t,e){rn[on++]=xn,rn[on++]=Sn,rn[on++]=ti,xn=e.id,Sn=e.overflow,ti=t}var Se=null,ee=null,Pt=!1,ei=null,ln=!1,Dl=Error(o(519));function ni(t){var e=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ys(sn(e,t)),Dl}function Bd(t){var e=t.stateNode,n=t.type,a=t.memoizedProps;switch(e[xe]=t,e[Oe]=a,n){case"dialog":Ut("cancel",e),Ut("close",e);break;case"iframe":case"object":case"embed":Ut("load",e);break;case"video":case"audio":for(n=0;n<Vs.length;n++)Ut(Vs[n],e);break;case"source":Ut("error",e);break;case"img":case"image":case"link":Ut("error",e),Ut("load",e);break;case"details":Ut("toggle",e);break;case"input":Ut("invalid",e),Kf(e,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Ut("invalid",e);break;case"textarea":Ut("invalid",e),$f(e,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||a.suppressHydrationWarning===!0||Jm(e.textContent,n)?(a.popover!=null&&(Ut("beforetoggle",e),Ut("toggle",e)),a.onScroll!=null&&Ut("scroll",e),a.onScrollEnd!=null&&Ut("scrollend",e),a.onClick!=null&&(e.onclick=An),e=!0):e=!1,e||ni(t,!0)}function Ld(t){for(Se=t.return;Se;)switch(Se.tag){case 5:case 31:case 13:ln=!1;return;case 27:case 3:ln=!0;return;default:Se=Se.return}}function Ca(t){if(t!==Se)return!1;if(!Pt)return Ld(t),Pt=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Wc(t.type,t.memoizedProps)),n=!n),n&&ee&&ni(t),Ld(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));ee=lp(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));ee=lp(t)}else e===27?(e=ee,gi(t.type)?(t=iu,iu=null,ee=t):ee=e):ee=Se?un(t.stateNode.nextSibling):null;return!0}function Hi(){ee=Se=null,Pt=!1}function Ol(){var t=ei;return t!==null&&(Fe===null?Fe=t:Fe.push.apply(Fe,t),ei=null),t}function ys(t){ei===null?ei=[t]:ei.push(t)}var Bl=z(null),Pi=null,Mn=null;function ii(t,e,n){K(Bl,e._currentValue),e._currentValue=n}function Nn(t){t._currentValue=Bl.current,N(Bl)}function Ll(t,e,n){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===n)break;t=t.return}}function Ul(t,e,n,a){var l=t.child;for(l!==null&&(l.return=t);l!==null;){var f=l.dependencies;if(f!==null){var v=l.child;f=f.firstContext;t:for(;f!==null;){var M=f;f=l;for(var F=0;F<e.length;F++)if(M.context===e[F]){f.lanes|=n,M=f.alternate,M!==null&&(M.lanes|=n),Ll(f.return,n,t),a||(v=null);break t}f=M.next}}else if(l.tag===18){if(v=l.return,v===null)throw Error(o(341));v.lanes|=n,f=v.alternate,f!==null&&(f.lanes|=n),Ll(v,n,t),v=null}else v=l.child;if(v!==null)v.return=l;else for(v=l;v!==null;){if(v===t){v=null;break}if(l=v.sibling,l!==null){l.return=v.return,v=l;break}v=v.return}l=v}}function ka(t,e,n,a){t=null;for(var l=e,f=!1;l!==null;){if(!f){if((l.flags&524288)!==0)f=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var v=l.alternate;if(v===null)throw Error(o(387));if(v=v.memoizedProps,v!==null){var M=l.type;qe(l.pendingProps.value,v.value)||(t!==null?t.push(M):t=[M])}}else if(l===wt.current){if(v=l.alternate,v===null)throw Error(o(387));v.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(t!==null?t.push(qs):t=[qs])}l=l.return}t!==null&&Ul(e,t,n,a),e.flags|=262144}function Mr(t){for(t=t.firstContext;t!==null;){if(!qe(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ii(t){Pi=t,Mn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function we(t){return Ud(Pi,t)}function Nr(t,e){return Pi===null&&Ii(t),Ud(t,e)}function Ud(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Mn===null){if(t===null)throw Error(o(308));Mn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Mn=Mn.next=e;return n}var Ev=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,a){t.push(a)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},jv=s.unstable_scheduleCallback,zv=s.unstable_NormalPriority,fe={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vl(){return{controller:new Ev,data:new Map,refCount:0}}function vs(t){t.refCount--,t.refCount===0&&jv(zv,function(){t.controller.abort()})}var bs=null,Fl=0,Aa=0,Ea=null;function Mv(t,e){if(bs===null){var n=bs=[];Fl=0,Aa=Ic(),Ea={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Fl++,e.then(Vd,Vd),e}function Vd(){if(--Fl===0&&bs!==null){Ea!==null&&(Ea.status="fulfilled");var t=bs;bs=null,Aa=0,Ea=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Nv(t,e){var n=[],a={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return t.then(function(){a.status="fulfilled",a.value=e;for(var l=0;l<n.length;l++)(0,n[l])(e)},function(l){for(a.status="rejected",a.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),a}var Fd=Z.S;Z.S=function(t,e){Tm=xt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&Mv(t,e),Fd!==null&&Fd(t,e)};var qi=z(null);function Hl(){var t=qi.current;return t!==null?t:te.pooledCache}function Rr(t,e){e===null?K(qi,qi.current):K(qi,e.pool)}function Hd(){var t=Hl();return t===null?null:{parent:fe._currentValue,pool:t}}var ja=Error(o(460)),Pl=Error(o(474)),Dr=Error(o(542)),Or={then:function(){}};function Pd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Id(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(An,An),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Gd(t),t;default:if(typeof e.status=="string")e.then(An,An);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=e,t.status="pending",t.then(function(a){if(e.status==="pending"){var l=e;l.status="fulfilled",l.value=a}},function(a){if(e.status==="pending"){var l=e;l.status="rejected",l.reason=a}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Gd(t),t}throw Yi=e,ja}}function Gi(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Yi=n,ja):n}}var Yi=null;function qd(){if(Yi===null)throw Error(o(459));var t=Yi;return Yi=null,t}function Gd(t){if(t===ja||t===Dr)throw Error(o(483))}var za=null,xs=0;function Br(t){var e=xs;return xs+=1,za===null&&(za=[]),Id(za,t,e)}function Ss(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Lr(t,e){throw e.$$typeof===w?Error(o(525)):(t=Object.prototype.toString.call(e),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Yd(t){function e(Q,Y){if(t){var J=Q.deletions;J===null?(Q.deletions=[Y],Q.flags|=16):J.push(Y)}}function n(Q,Y){if(!t)return null;for(;Y!==null;)e(Q,Y),Y=Y.sibling;return null}function a(Q){for(var Y=new Map;Q!==null;)Q.key!==null?Y.set(Q.key,Q):Y.set(Q.index,Q),Q=Q.sibling;return Y}function l(Q,Y){return Q=jn(Q,Y),Q.index=0,Q.sibling=null,Q}function f(Q,Y,J){return Q.index=J,t?(J=Q.alternate,J!==null?(J=J.index,J<Y?(Q.flags|=67108866,Y):J):(Q.flags|=67108866,Y)):(Q.flags|=1048576,Y)}function v(Q){return t&&Q.alternate===null&&(Q.flags|=67108866),Q}function M(Q,Y,J,dt){return Y===null||Y.tag!==6?(Y=zl(J,Q.mode,dt),Y.return=Q,Y):(Y=l(Y,J),Y.return=Q,Y)}function F(Q,Y,J,dt){var jt=J.type;return jt===T?ut(Q,Y,J.props.children,dt,J.key):Y!==null&&(Y.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===G&&Gi(jt)===Y.type)?(Y=l(Y,J.props),Ss(Y,J),Y.return=Q,Y):(Y=jr(J.type,J.key,J.props,null,Q.mode,dt),Ss(Y,J),Y.return=Q,Y)}function et(Q,Y,J,dt){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==J.containerInfo||Y.stateNode.implementation!==J.implementation?(Y=Ml(J,Q.mode,dt),Y.return=Q,Y):(Y=l(Y,J.children||[]),Y.return=Q,Y)}function ut(Q,Y,J,dt,jt){return Y===null||Y.tag!==7?(Y=Fi(J,Q.mode,dt,jt),Y.return=Q,Y):(Y=l(Y,J),Y.return=Q,Y)}function mt(Q,Y,J){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=zl(""+Y,Q.mode,J),Y.return=Q,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return J=jr(Y.type,Y.key,Y.props,null,Q.mode,J),Ss(J,Y),J.return=Q,J;case C:return Y=Ml(Y,Q.mode,J),Y.return=Q,Y;case G:return Y=Gi(Y),mt(Q,Y,J)}if(nt(Y)||U(Y))return Y=Fi(Y,Q.mode,J,null),Y.return=Q,Y;if(typeof Y.then=="function")return mt(Q,Br(Y),J);if(Y.$$typeof===A)return mt(Q,Nr(Q,Y),J);Lr(Q,Y)}return null}function at(Q,Y,J,dt){var jt=Y!==null?Y.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return jt!==null?null:M(Q,Y,""+J,dt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return J.key===jt?F(Q,Y,J,dt):null;case C:return J.key===jt?et(Q,Y,J,dt):null;case G:return J=Gi(J),at(Q,Y,J,dt)}if(nt(J)||U(J))return jt!==null?null:ut(Q,Y,J,dt,null);if(typeof J.then=="function")return at(Q,Y,Br(J),dt);if(J.$$typeof===A)return at(Q,Y,Nr(Q,J),dt);Lr(Q,J)}return null}function ot(Q,Y,J,dt,jt){if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return Q=Q.get(J)||null,M(Y,Q,""+dt,jt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case b:return Q=Q.get(dt.key===null?J:dt.key)||null,F(Y,Q,dt,jt);case C:return Q=Q.get(dt.key===null?J:dt.key)||null,et(Y,Q,dt,jt);case G:return dt=Gi(dt),ot(Q,Y,J,dt,jt)}if(nt(dt)||U(dt))return Q=Q.get(J)||null,ut(Y,Q,dt,jt,null);if(typeof dt.then=="function")return ot(Q,Y,J,Br(dt),jt);if(dt.$$typeof===A)return ot(Q,Y,J,Nr(Y,dt),jt);Lr(Y,dt)}return null}function Ct(Q,Y,J,dt){for(var jt=null,qt=null,At=Y,Ot=Y=0,Ft=null;At!==null&&Ot<J.length;Ot++){At.index>Ot?(Ft=At,At=null):Ft=At.sibling;var Gt=at(Q,At,J[Ot],dt);if(Gt===null){At===null&&(At=Ft);break}t&&At&&Gt.alternate===null&&e(Q,At),Y=f(Gt,Y,Ot),qt===null?jt=Gt:qt.sibling=Gt,qt=Gt,At=Ft}if(Ot===J.length)return n(Q,At),Pt&&zn(Q,Ot),jt;if(At===null){for(;Ot<J.length;Ot++)At=mt(Q,J[Ot],dt),At!==null&&(Y=f(At,Y,Ot),qt===null?jt=At:qt.sibling=At,qt=At);return Pt&&zn(Q,Ot),jt}for(At=a(At);Ot<J.length;Ot++)Ft=ot(At,Q,Ot,J[Ot],dt),Ft!==null&&(t&&Ft.alternate!==null&&At.delete(Ft.key===null?Ot:Ft.key),Y=f(Ft,Y,Ot),qt===null?jt=Ft:qt.sibling=Ft,qt=Ft);return t&&At.forEach(function(Si){return e(Q,Si)}),Pt&&zn(Q,Ot),jt}function zt(Q,Y,J,dt){if(J==null)throw Error(o(151));for(var jt=null,qt=null,At=Y,Ot=Y=0,Ft=null,Gt=J.next();At!==null&&!Gt.done;Ot++,Gt=J.next()){At.index>Ot?(Ft=At,At=null):Ft=At.sibling;var Si=at(Q,At,Gt.value,dt);if(Si===null){At===null&&(At=Ft);break}t&&At&&Si.alternate===null&&e(Q,At),Y=f(Si,Y,Ot),qt===null?jt=Si:qt.sibling=Si,qt=Si,At=Ft}if(Gt.done)return n(Q,At),Pt&&zn(Q,Ot),jt;if(At===null){for(;!Gt.done;Ot++,Gt=J.next())Gt=mt(Q,Gt.value,dt),Gt!==null&&(Y=f(Gt,Y,Ot),qt===null?jt=Gt:qt.sibling=Gt,qt=Gt);return Pt&&zn(Q,Ot),jt}for(At=a(At);!Gt.done;Ot++,Gt=J.next())Gt=ot(At,Q,Ot,Gt.value,dt),Gt!==null&&(t&&Gt.alternate!==null&&At.delete(Gt.key===null?Ot:Gt.key),Y=f(Gt,Y,Ot),qt===null?jt=Gt:qt.sibling=Gt,qt=Gt);return t&&At.forEach(function(I1){return e(Q,I1)}),Pt&&zn(Q,Ot),jt}function Wt(Q,Y,J,dt){if(typeof J=="object"&&J!==null&&J.type===T&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case b:t:{for(var jt=J.key;Y!==null;){if(Y.key===jt){if(jt=J.type,jt===T){if(Y.tag===7){n(Q,Y.sibling),dt=l(Y,J.props.children),dt.return=Q,Q=dt;break t}}else if(Y.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===G&&Gi(jt)===Y.type){n(Q,Y.sibling),dt=l(Y,J.props),Ss(dt,J),dt.return=Q,Q=dt;break t}n(Q,Y);break}else e(Q,Y);Y=Y.sibling}J.type===T?(dt=Fi(J.props.children,Q.mode,dt,J.key),dt.return=Q,Q=dt):(dt=jr(J.type,J.key,J.props,null,Q.mode,dt),Ss(dt,J),dt.return=Q,Q=dt)}return v(Q);case C:t:{for(jt=J.key;Y!==null;){if(Y.key===jt)if(Y.tag===4&&Y.stateNode.containerInfo===J.containerInfo&&Y.stateNode.implementation===J.implementation){n(Q,Y.sibling),dt=l(Y,J.children||[]),dt.return=Q,Q=dt;break t}else{n(Q,Y);break}else e(Q,Y);Y=Y.sibling}dt=Ml(J,Q.mode,dt),dt.return=Q,Q=dt}return v(Q);case G:return J=Gi(J),Wt(Q,Y,J,dt)}if(nt(J))return Ct(Q,Y,J,dt);if(U(J)){if(jt=U(J),typeof jt!="function")throw Error(o(150));return J=jt.call(J),zt(Q,Y,J,dt)}if(typeof J.then=="function")return Wt(Q,Y,Br(J),dt);if(J.$$typeof===A)return Wt(Q,Y,Nr(Q,J),dt);Lr(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,Y!==null&&Y.tag===6?(n(Q,Y.sibling),dt=l(Y,J),dt.return=Q,Q=dt):(n(Q,Y),dt=zl(J,Q.mode,dt),dt.return=Q,Q=dt),v(Q)):n(Q,Y)}return function(Q,Y,J,dt){try{xs=0;var jt=Wt(Q,Y,J,dt);return za=null,jt}catch(At){if(At===ja||At===Dr)throw At;var qt=Ge(29,At,null,Q.mode);return qt.lanes=dt,qt.return=Q,qt}finally{}}}var Zi=Yd(!0),Zd=Yd(!1),ai=!1;function Il(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ql(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function si(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ri(t,e,n){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(Yt&2)!==0){var l=a.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),a.pending=e,e=Er(t),zd(t,null,n),e}return Ar(t,a,e,n),Er(t)}function ws(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,Uf(t,n)}}function Gl(t,e){var n=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var l=null,f=null;if(n=n.firstBaseUpdate,n!==null){do{var v={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};f===null?l=f=v:f=f.next=v,n=n.next}while(n!==null);f===null?l=f=e:f=f.next=e}else l=f=e;n={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:f,shared:a.shared,callbacks:a.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Yl=!1;function Ts(){if(Yl){var t=Ea;if(t!==null)throw t}}function _s(t,e,n,a){Yl=!1;var l=t.updateQueue;ai=!1;var f=l.firstBaseUpdate,v=l.lastBaseUpdate,M=l.shared.pending;if(M!==null){l.shared.pending=null;var F=M,et=F.next;F.next=null,v===null?f=et:v.next=et,v=F;var ut=t.alternate;ut!==null&&(ut=ut.updateQueue,M=ut.lastBaseUpdate,M!==v&&(M===null?ut.firstBaseUpdate=et:M.next=et,ut.lastBaseUpdate=F))}if(f!==null){var mt=l.baseState;v=0,ut=et=F=null,M=f;do{var at=M.lane&-536870913,ot=at!==M.lane;if(ot?(Vt&at)===at:(a&at)===at){at!==0&&at===Aa&&(Yl=!0),ut!==null&&(ut=ut.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});t:{var Ct=t,zt=M;at=e;var Wt=n;switch(zt.tag){case 1:if(Ct=zt.payload,typeof Ct=="function"){mt=Ct.call(Wt,mt,at);break t}mt=Ct;break t;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=zt.payload,at=typeof Ct=="function"?Ct.call(Wt,mt,at):Ct,at==null)break t;mt=g({},mt,at);break t;case 2:ai=!0}}at=M.callback,at!==null&&(t.flags|=64,ot&&(t.flags|=8192),ot=l.callbacks,ot===null?l.callbacks=[at]:ot.push(at))}else ot={lane:at,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ut===null?(et=ut=ot,F=mt):ut=ut.next=ot,v|=at;if(M=M.next,M===null){if(M=l.shared.pending,M===null)break;ot=M,M=ot.next,ot.next=null,l.lastBaseUpdate=ot,l.shared.pending=null}}while(!0);ut===null&&(F=mt),l.baseState=F,l.firstBaseUpdate=et,l.lastBaseUpdate=ut,f===null&&(l.shared.lanes=0),fi|=v,t.lanes=v,t.memoizedState=mt}}function Xd(t,e){if(typeof t!="function")throw Error(o(191,t));t.call(e)}function Kd(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Xd(n[t],e)}var Ma=z(null),Ur=z(0);function Qd(t,e){t=Hn,K(Ur,t),K(Ma,e),Hn=t|e.baseLanes}function Zl(){K(Ur,Hn),K(Ma,Ma.current)}function Xl(){Hn=Ur.current,N(Ma),N(Ur)}var Ye=z(null),cn=null;function oi(t){var e=t.alternate;K(le,le.current&1),K(Ye,t),cn===null&&(e===null||Ma.current!==null||e.memoizedState!==null)&&(cn=t)}function Kl(t){K(le,le.current),K(Ye,t),cn===null&&(cn=t)}function $d(t){t.tag===22?(K(le,le.current),K(Ye,t),cn===null&&(cn=t)):li()}function li(){K(le,le.current),K(Ye,Ye.current)}function Ze(t){N(Ye),cn===t&&(cn=null),N(le)}var le=z(0);function Vr(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||eu(n)||nu(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Rn=0,Dt=null,Qt=null,de=null,Fr=!1,Na=!1,Xi=!1,Hr=0,Cs=0,Ra=null,Rv=0;function re(){throw Error(o(321))}function Ql(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qe(t[n],e[n]))return!1;return!0}function $l(t,e,n,a,l,f){return Rn=f,Dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Z.H=t===null||t.memoizedState===null?Dh:dc,Xi=!1,f=n(a,l),Xi=!1,Na&&(f=Jd(e,n,a,l)),Wd(t),f}function Wd(t){Z.H=Es;var e=Qt!==null&&Qt.next!==null;if(Rn=0,de=Qt=Dt=null,Fr=!1,Cs=0,Ra=null,e)throw Error(o(300));t===null||he||(t=t.dependencies,t!==null&&Mr(t)&&(he=!0))}function Jd(t,e,n,a){Dt=t;var l=0;do{if(Na&&(Ra=null),Cs=0,Na=!1,25<=l)throw Error(o(301));if(l+=1,de=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Z.H=Oh,f=e(n,a)}while(Na);return f}function Dv(){var t=Z.H,e=t.useState()[0];return e=typeof e.then=="function"?ks(e):e,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(Dt.flags|=1024),e}function Wl(){var t=Hr!==0;return Hr=0,t}function Jl(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function tc(t){if(Fr){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Fr=!1}Rn=0,de=Qt=Dt=null,Na=!1,Cs=Hr=0,Ra=null}function Ne(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Dt.memoizedState=de=t:de=de.next=t,de}function ce(){if(Qt===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var e=de===null?Dt.memoizedState:de.next;if(e!==null)de=e,Qt=t;else{if(t===null)throw Dt.alternate===null?Error(o(467)):Error(o(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},de===null?Dt.memoizedState=de=t:de=de.next=t}return de}function Pr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ks(t){var e=Cs;return Cs+=1,Ra===null&&(Ra=[]),t=Id(Ra,t,e),e=Dt,(de===null?e.memoizedState:de.next)===null&&(e=e.alternate,Z.H=e===null||e.memoizedState===null?Dh:dc),t}function Ir(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ks(t);if(t.$$typeof===A)return we(t)}throw Error(o(438,String(t)))}function ec(t){var e=null,n=Dt.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var a=Dt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(e={data:a.data.map(function(l){return l.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Pr(),Dt.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),a=0;a<t;a++)n[a]=lt;return e.index++,n}function Dn(t,e){return typeof e=="function"?e(t):e}function qr(t){var e=ce();return nc(e,Qt,t)}function nc(t,e,n){var a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=n;var l=t.baseQueue,f=a.pending;if(f!==null){if(l!==null){var v=l.next;l.next=f.next,f.next=v}e.baseQueue=l=f,a.pending=null}if(f=t.baseState,l===null)t.memoizedState=f;else{e=l.next;var M=v=null,F=null,et=e,ut=!1;do{var mt=et.lane&-536870913;if(mt!==et.lane?(Vt&mt)===mt:(Rn&mt)===mt){var at=et.revertLane;if(at===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),mt===Aa&&(ut=!0);else if((Rn&at)===at){et=et.next,at===Aa&&(ut=!0);continue}else mt={lane:0,revertLane:et.revertLane,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},F===null?(M=F=mt,v=f):F=F.next=mt,Dt.lanes|=at,fi|=at;mt=et.action,Xi&&n(f,mt),f=et.hasEagerState?et.eagerState:n(f,mt)}else at={lane:mt,revertLane:et.revertLane,gesture:et.gesture,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},F===null?(M=F=at,v=f):F=F.next=at,Dt.lanes|=mt,fi|=mt;et=et.next}while(et!==null&&et!==e);if(F===null?v=f:F.next=M,!qe(f,t.memoizedState)&&(he=!0,ut&&(n=Ea,n!==null)))throw n;t.memoizedState=f,t.baseState=v,t.baseQueue=F,a.lastRenderedState=f}return l===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function ic(t){var e=ce(),n=e.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=t;var a=n.dispatch,l=n.pending,f=e.memoizedState;if(l!==null){n.pending=null;var v=l=l.next;do f=t(f,v.action),v=v.next;while(v!==l);qe(f,e.memoizedState)||(he=!0),e.memoizedState=f,e.baseQueue===null&&(e.baseState=f),n.lastRenderedState=f}return[f,a]}function th(t,e,n){var a=Dt,l=ce(),f=Pt;if(f){if(n===void 0)throw Error(o(407));n=n()}else n=e();var v=!qe((Qt||l).memoizedState,n);if(v&&(l.memoizedState=n,he=!0),l=l.queue,rc(ih.bind(null,a,l,t),[t]),l.getSnapshot!==e||v||de!==null&&de.memoizedState.tag&1){if(a.flags|=2048,Da(9,{destroy:void 0},nh.bind(null,a,l,n,e),null),te===null)throw Error(o(349));f||(Rn&127)!==0||eh(a,e,n)}return n}function eh(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Dt.updateQueue,e===null?(e=Pr(),Dt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function nh(t,e,n,a){e.value=n,e.getSnapshot=a,ah(e)&&sh(t)}function ih(t,e,n){return n(function(){ah(e)&&sh(t)})}function ah(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qe(t,n)}catch{return!0}}function sh(t){var e=Vi(t,2);e!==null&&He(e,t,2)}function ac(t){var e=Ne();if(typeof t=="function"){var n=t;if(t=n(),Xi){Je(!0);try{n()}finally{Je(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:t},e}function rh(t,e,n,a){return t.baseState=n,nc(t,Qt,typeof a=="function"?a:Dn)}function Ov(t,e,n,a,l){if(Zr(t))throw Error(o(485));if(t=e.action,t!==null){var f={payload:l,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};Z.T!==null?n(!0):f.isTransition=!1,a(f),n=e.pending,n===null?(f.next=e.pending=f,oh(e,f)):(f.next=n.next,e.pending=n.next=f)}}function oh(t,e){var n=e.action,a=e.payload,l=t.state;if(e.isTransition){var f=Z.T,v={};Z.T=v;try{var M=n(l,a),F=Z.S;F!==null&&F(v,M),lh(t,e,M)}catch(et){sc(t,e,et)}finally{f!==null&&v.types!==null&&(f.types=v.types),Z.T=f}}else try{f=n(l,a),lh(t,e,f)}catch(et){sc(t,e,et)}}function lh(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){ch(t,e,a)},function(a){return sc(t,e,a)}):ch(t,e,n)}function ch(t,e,n){e.status="fulfilled",e.value=n,uh(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,oh(t,n)))}function sc(t,e,n){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do e.status="rejected",e.reason=n,uh(e),e=e.next;while(e!==a)}t.action=null}function uh(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function fh(t,e){return e}function dh(t,e){if(Pt){var n=te.formState;if(n!==null){t:{var a=Dt;if(Pt){if(ee){e:{for(var l=ee,f=ln;l.nodeType!==8;){if(!f){l=null;break e}if(l=un(l.nextSibling),l===null){l=null;break e}}f=l.data,l=f==="F!"||f==="F"?l:null}if(l){ee=un(l.nextSibling),a=l.data==="F!";break t}}ni(a)}a=!1}a&&(e=n[0])}}return n=Ne(),n.memoizedState=n.baseState=e,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fh,lastRenderedState:e},n.queue=a,n=Mh.bind(null,Dt,a),a.dispatch=n,a=ac(!1),f=fc.bind(null,Dt,!1,a.queue),a=Ne(),l={state:e,dispatch:null,action:t,pending:null},a.queue=l,n=Ov.bind(null,Dt,l,f,n),l.dispatch=n,a.memoizedState=t,[e,n,!1]}function hh(t){var e=ce();return mh(e,Qt,t)}function mh(t,e,n){if(e=nc(t,e,fh)[0],t=qr(Dn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var a=ks(e)}catch(v){throw v===ja?Dr:v}else a=e;e=ce();var l=e.queue,f=l.dispatch;return n!==e.memoizedState&&(Dt.flags|=2048,Da(9,{destroy:void 0},Bv.bind(null,l,n),null)),[a,f,t]}function Bv(t,e){t.action=e}function ph(t){var e=ce(),n=Qt;if(n!==null)return mh(e,n,t);ce(),e=e.memoizedState,n=ce();var a=n.queue.dispatch;return n.memoizedState=t,[e,a,!1]}function Da(t,e,n,a){return t={tag:t,create:n,deps:a,inst:e,next:null},e=Dt.updateQueue,e===null&&(e=Pr(),Dt.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(a=n.next,n.next=t,t.next=a,e.lastEffect=t),t}function gh(){return ce().memoizedState}function Gr(t,e,n,a){var l=Ne();Dt.flags|=t,l.memoizedState=Da(1|e,{destroy:void 0},n,a===void 0?null:a)}function Yr(t,e,n,a){var l=ce();a=a===void 0?null:a;var f=l.memoizedState.inst;Qt!==null&&a!==null&&Ql(a,Qt.memoizedState.deps)?l.memoizedState=Da(e,f,n,a):(Dt.flags|=t,l.memoizedState=Da(1|e,f,n,a))}function yh(t,e){Gr(8390656,8,t,e)}function rc(t,e){Yr(2048,8,t,e)}function Lv(t){Dt.flags|=4;var e=Dt.updateQueue;if(e===null)e=Pr(),Dt.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function vh(t){var e=ce().memoizedState;return Lv({ref:e,nextImpl:t}),function(){if((Yt&2)!==0)throw Error(o(440));return e.impl.apply(void 0,arguments)}}function bh(t,e){return Yr(4,2,t,e)}function xh(t,e){return Yr(4,4,t,e)}function Sh(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wh(t,e,n){n=n!=null?n.concat([t]):null,Yr(4,4,Sh.bind(null,e,t),n)}function oc(){}function Th(t,e){var n=ce();e=e===void 0?null:e;var a=n.memoizedState;return e!==null&&Ql(e,a[1])?a[0]:(n.memoizedState=[t,e],t)}function _h(t,e){var n=ce();e=e===void 0?null:e;var a=n.memoizedState;if(e!==null&&Ql(e,a[1]))return a[0];if(a=t(),Xi){Je(!0);try{t()}finally{Je(!1)}}return n.memoizedState=[a,e],a}function lc(t,e,n){return n===void 0||(Rn&1073741824)!==0&&(Vt&261930)===0?t.memoizedState=e:(t.memoizedState=n,t=Cm(),Dt.lanes|=t,fi|=t,n)}function Ch(t,e,n,a){return qe(n,e)?n:Ma.current!==null?(t=lc(t,n,a),qe(t,e)||(he=!0),t):(Rn&42)===0||(Rn&1073741824)!==0&&(Vt&261930)===0?(he=!0,t.memoizedState=n):(t=Cm(),Dt.lanes|=t,fi|=t,e)}function kh(t,e,n,a,l){var f=L.p;L.p=f!==0&&8>f?f:8;var v=Z.T,M={};Z.T=M,fc(t,!1,e,n);try{var F=l(),et=Z.S;if(et!==null&&et(M,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ut=Nv(F,a);As(t,e,ut,Qe(t))}else As(t,e,a,Qe(t))}catch(mt){As(t,e,{then:function(){},status:"rejected",reason:mt},Qe())}finally{L.p=f,v!==null&&M.types!==null&&(v.types=M.types),Z.T=v}}function Uv(){}function cc(t,e,n,a){if(t.tag!==5)throw Error(o(476));var l=Ah(t).queue;kh(t,l,e,it,n===null?Uv:function(){return Eh(t),n(a)})}function Ah(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:it},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Eh(t){var e=Ah(t);e.next===null&&(e=t.alternate.memoizedState),As(t,e.next.queue,{},Qe())}function uc(){return we(qs)}function jh(){return ce().memoizedState}function zh(){return ce().memoizedState}function Vv(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Qe();t=si(n);var a=ri(e,t,n);a!==null&&(He(a,e,n),ws(a,e,n)),e={cache:Vl()},t.payload=e;return}e=e.return}}function Fv(t,e,n){var a=Qe();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Zr(t)?Nh(e,n):(n=El(t,e,n,a),n!==null&&(He(n,t,a),Rh(n,e,a)))}function Mh(t,e,n){var a=Qe();As(t,e,n,a)}function As(t,e,n,a){var l={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zr(t))Nh(e,l);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=e.lastRenderedReducer,f!==null))try{var v=e.lastRenderedState,M=f(v,n);if(l.hasEagerState=!0,l.eagerState=M,qe(M,v))return Ar(t,e,l,0),te===null&&kr(),!1}catch{}finally{}if(n=El(t,e,l,a),n!==null)return He(n,t,a),Rh(n,e,a),!0}return!1}function fc(t,e,n,a){if(a={lane:2,revertLane:Ic(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Zr(t)){if(e)throw Error(o(479))}else e=El(t,n,a,2),e!==null&&He(e,t,2)}function Zr(t){var e=t.alternate;return t===Dt||e!==null&&e===Dt}function Nh(t,e){Na=Fr=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Rh(t,e,n){if((n&4194048)!==0){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,Uf(t,n)}}var Es={readContext:we,use:Ir,useCallback:re,useContext:re,useEffect:re,useImperativeHandle:re,useLayoutEffect:re,useInsertionEffect:re,useMemo:re,useReducer:re,useRef:re,useState:re,useDebugValue:re,useDeferredValue:re,useTransition:re,useSyncExternalStore:re,useId:re,useHostTransitionStatus:re,useFormState:re,useActionState:re,useOptimistic:re,useMemoCache:re,useCacheRefresh:re};Es.useEffectEvent=re;var Dh={readContext:we,use:Ir,useCallback:function(t,e){return Ne().memoizedState=[t,e===void 0?null:e],t},useContext:we,useEffect:yh,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Gr(4194308,4,Sh.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Gr(4194308,4,t,e)},useInsertionEffect:function(t,e){Gr(4,2,t,e)},useMemo:function(t,e){var n=Ne();e=e===void 0?null:e;var a=t();if(Xi){Je(!0);try{t()}finally{Je(!1)}}return n.memoizedState=[a,e],a},useReducer:function(t,e,n){var a=Ne();if(n!==void 0){var l=n(e);if(Xi){Je(!0);try{n(e)}finally{Je(!1)}}}else l=e;return a.memoizedState=a.baseState=l,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:l},a.queue=t,t=t.dispatch=Fv.bind(null,Dt,t),[a.memoizedState,t]},useRef:function(t){var e=Ne();return t={current:t},e.memoizedState=t},useState:function(t){t=ac(t);var e=t.queue,n=Mh.bind(null,Dt,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:oc,useDeferredValue:function(t,e){var n=Ne();return lc(n,t,e)},useTransition:function(){var t=ac(!1);return t=kh.bind(null,Dt,t.queue,!0,!1),Ne().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var a=Dt,l=Ne();if(Pt){if(n===void 0)throw Error(o(407));n=n()}else{if(n=e(),te===null)throw Error(o(349));(Vt&127)!==0||eh(a,e,n)}l.memoizedState=n;var f={value:n,getSnapshot:e};return l.queue=f,yh(ih.bind(null,a,f,t),[t]),a.flags|=2048,Da(9,{destroy:void 0},nh.bind(null,a,f,n,e),null),n},useId:function(){var t=Ne(),e=te.identifierPrefix;if(Pt){var n=Sn,a=xn;n=(a&~(1<<32-ae(a)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Hr++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=Rv++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:uc,useFormState:dh,useActionState:dh,useOptimistic:function(t){var e=Ne();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=fc.bind(null,Dt,!0,n),n.dispatch=e,[t,e]},useMemoCache:ec,useCacheRefresh:function(){return Ne().memoizedState=Vv.bind(null,Dt)},useEffectEvent:function(t){var e=Ne(),n={impl:t};return e.memoizedState=n,function(){if((Yt&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},dc={readContext:we,use:Ir,useCallback:Th,useContext:we,useEffect:rc,useImperativeHandle:wh,useInsertionEffect:bh,useLayoutEffect:xh,useMemo:_h,useReducer:qr,useRef:gh,useState:function(){return qr(Dn)},useDebugValue:oc,useDeferredValue:function(t,e){var n=ce();return Ch(n,Qt.memoizedState,t,e)},useTransition:function(){var t=qr(Dn)[0],e=ce().memoizedState;return[typeof t=="boolean"?t:ks(t),e]},useSyncExternalStore:th,useId:jh,useHostTransitionStatus:uc,useFormState:hh,useActionState:hh,useOptimistic:function(t,e){var n=ce();return rh(n,Qt,t,e)},useMemoCache:ec,useCacheRefresh:zh};dc.useEffectEvent=vh;var Oh={readContext:we,use:Ir,useCallback:Th,useContext:we,useEffect:rc,useImperativeHandle:wh,useInsertionEffect:bh,useLayoutEffect:xh,useMemo:_h,useReducer:ic,useRef:gh,useState:function(){return ic(Dn)},useDebugValue:oc,useDeferredValue:function(t,e){var n=ce();return Qt===null?lc(n,t,e):Ch(n,Qt.memoizedState,t,e)},useTransition:function(){var t=ic(Dn)[0],e=ce().memoizedState;return[typeof t=="boolean"?t:ks(t),e]},useSyncExternalStore:th,useId:jh,useHostTransitionStatus:uc,useFormState:ph,useActionState:ph,useOptimistic:function(t,e){var n=ce();return Qt!==null?rh(n,Qt,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:ec,useCacheRefresh:zh};Oh.useEffectEvent=vh;function hc(t,e,n,a){e=t.memoizedState,n=n(a,e),n=n==null?e:g({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var mc={enqueueSetState:function(t,e,n){t=t._reactInternals;var a=Qe(),l=si(a);l.payload=e,n!=null&&(l.callback=n),e=ri(t,l,a),e!==null&&(He(e,t,a),ws(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var a=Qe(),l=si(a);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=ri(t,l,a),e!==null&&(He(e,t,a),ws(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qe(),a=si(n);a.tag=2,e!=null&&(a.callback=e),e=ri(t,a,n),e!==null&&(He(e,t,n),ws(e,t,n))}};function Bh(t,e,n,a,l,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,f,v):e.prototype&&e.prototype.isPureReactComponent?!ms(n,a)||!ms(l,f):!0}function Lh(t,e,n,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,a),e.state!==t&&mc.enqueueReplaceState(e,e.state,null)}function Ki(t,e){var n=e;if("ref"in e){n={};for(var a in e)a!=="ref"&&(n[a]=e[a])}if(t=t.defaultProps){n===e&&(n=g({},n));for(var l in t)n[l]===void 0&&(n[l]=t[l])}return n}function Uh(t){Cr(t)}function Vh(t){console.error(t)}function Fh(t){Cr(t)}function Xr(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(a){setTimeout(function(){throw a})}}function Hh(t,e,n){try{var a=t.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function pc(t,e,n){return n=si(n),n.tag=3,n.payload={element:null},n.callback=function(){Xr(t,e)},n}function Ph(t){return t=si(t),t.tag=3,t}function Ih(t,e,n,a){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var f=a.value;t.payload=function(){return l(f)},t.callback=function(){Hh(e,n,a)}}var v=n.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Hh(e,n,a),typeof l!="function"&&(di===null?di=new Set([this]):di.add(this));var M=a.stack;this.componentDidCatch(a.value,{componentStack:M!==null?M:""})})}function Hv(t,e,n,a,l){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(e=n.alternate,e!==null&&ka(e,n,l,!0),n=Ye.current,n!==null){switch(n.tag){case 31:case 13:return cn===null?ro():n.alternate===null&&oe===0&&(oe=3),n.flags&=-257,n.flags|=65536,n.lanes=l,a===Or?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([a]):e.add(a),Fc(t,a,l)),!1;case 22:return n.flags|=65536,a===Or?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([a]):n.add(a)),Fc(t,a,l)),!1}throw Error(o(435,n.tag))}return Fc(t,a,l),ro(),!1}if(Pt)return e=Ye.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=l,a!==Dl&&(t=Error(o(422),{cause:a}),ys(sn(t,n)))):(a!==Dl&&(e=Error(o(423),{cause:a}),ys(sn(e,n))),t=t.current.alternate,t.flags|=65536,l&=-l,t.lanes|=l,a=sn(a,n),l=pc(t.stateNode,a,l),Gl(t,l),oe!==4&&(oe=2)),!1;var f=Error(o(520),{cause:a});if(f=sn(f,n),Bs===null?Bs=[f]:Bs.push(f),oe!==4&&(oe=2),e===null)return!0;a=sn(a,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=l&-l,n.lanes|=t,t=pc(n.stateNode,a,t),Gl(n,t),!1;case 1:if(e=n.type,f=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(di===null||!di.has(f))))return n.flags|=65536,l&=-l,n.lanes|=l,l=Ph(l),Ih(l,t,n,a),Gl(n,l),!1}n=n.return}while(n!==null);return!1}var gc=Error(o(461)),he=!1;function Te(t,e,n,a){e.child=t===null?Zd(e,null,n,a):Zi(e,t.child,n,a)}function qh(t,e,n,a,l){n=n.render;var f=e.ref;if("ref"in a){var v={};for(var M in a)M!=="ref"&&(v[M]=a[M])}else v=a;return Ii(e),a=$l(t,e,n,v,f,l),M=Wl(),t!==null&&!he?(Jl(t,e,l),On(t,e,l)):(Pt&&M&&Nl(e),e.flags|=1,Te(t,e,a,l),e.child)}function Gh(t,e,n,a,l){if(t===null){var f=n.type;return typeof f=="function"&&!jl(f)&&f.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=f,Yh(t,e,f,a,l)):(t=jr(n.type,null,a,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(f=t.child,!_c(t,l)){var v=f.memoizedProps;if(n=n.compare,n=n!==null?n:ms,n(v,a)&&t.ref===e.ref)return On(t,e,l)}return e.flags|=1,t=jn(f,a),t.ref=e.ref,t.return=e,e.child=t}function Yh(t,e,n,a,l){if(t!==null){var f=t.memoizedProps;if(ms(f,a)&&t.ref===e.ref)if(he=!1,e.pendingProps=a=f,_c(t,l))(t.flags&131072)!==0&&(he=!0);else return e.lanes=t.lanes,On(t,e,l)}return yc(t,e,n,a,l)}function Zh(t,e,n,a){var l=a.children,f=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((e.flags&128)!==0){if(f=f!==null?f.baseLanes|n:n,t!==null){for(a=e.child=t.child,l=0;a!==null;)l=l|a.lanes|a.childLanes,a=a.sibling;a=l&~f}else a=0,e.child=null;return Xh(t,e,f,n,a)}if((n&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Rr(e,f!==null?f.cachePool:null),f!==null?Qd(e,f):Zl(),$d(e);else return a=e.lanes=536870912,Xh(t,e,f!==null?f.baseLanes|n:n,n,a)}else f!==null?(Rr(e,f.cachePool),Qd(e,f),li(),e.memoizedState=null):(t!==null&&Rr(e,null),Zl(),li());return Te(t,e,l,n),e.child}function js(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Xh(t,e,n,a,l){var f=Hl();return f=f===null?null:{parent:fe._currentValue,pool:f},e.memoizedState={baseLanes:n,cachePool:f},t!==null&&Rr(e,null),Zl(),$d(e),t!==null&&ka(t,e,a,!0),e.childLanes=l,null}function Kr(t,e){return e=$r({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Kh(t,e,n){return Zi(e,t.child,null,n),t=Kr(e,e.pendingProps),t.flags|=2,Ze(e),e.memoizedState=null,t}function Pv(t,e,n){var a=e.pendingProps,l=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Pt){if(a.mode==="hidden")return t=Kr(e,a),e.lanes=536870912,js(null,t);if(Kl(e),(t=ee)?(t=op(t,ln),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ti!==null?{id:xn,overflow:Sn}:null,retryLane:536870912,hydrationErrors:null},n=Nd(t),n.return=e,e.child=n,Se=e,ee=null)):t=null,t===null)throw ni(e);return e.lanes=536870912,null}return Kr(e,a)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(Kl(e),l)if(e.flags&256)e.flags&=-257,e=Kh(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(o(558));else if(he||ka(t,e,n,!1),l=(n&t.childLanes)!==0,he||l){if(a=te,a!==null&&(v=Vf(a,n),v!==0&&v!==f.retryLane))throw f.retryLane=v,Vi(t,v),He(a,t,v),gc;ro(),e=Kh(t,e,n)}else t=f.treeContext,ee=un(v.nextSibling),Se=e,Pt=!0,ei=null,ln=!1,t!==null&&Od(e,t),e=Kr(e,a),e.flags|=4096;return e}return t=jn(t.child,{mode:a.mode,children:a.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Qr(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function yc(t,e,n,a,l){return Ii(e),n=$l(t,e,n,a,void 0,l),a=Wl(),t!==null&&!he?(Jl(t,e,l),On(t,e,l)):(Pt&&a&&Nl(e),e.flags|=1,Te(t,e,n,l),e.child)}function Qh(t,e,n,a,l,f){return Ii(e),e.updateQueue=null,n=Jd(e,a,n,l),Wd(t),a=Wl(),t!==null&&!he?(Jl(t,e,f),On(t,e,f)):(Pt&&a&&Nl(e),e.flags|=1,Te(t,e,n,f),e.child)}function $h(t,e,n,a,l){if(Ii(e),e.stateNode===null){var f=wa,v=n.contextType;typeof v=="object"&&v!==null&&(f=we(v)),f=new n(a,f),e.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=mc,e.stateNode=f,f._reactInternals=e,f=e.stateNode,f.props=a,f.state=e.memoizedState,f.refs={},Il(e),v=n.contextType,f.context=typeof v=="object"&&v!==null?we(v):wa,f.state=e.memoizedState,v=n.getDerivedStateFromProps,typeof v=="function"&&(hc(e,n,v,a),f.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&mc.enqueueReplaceState(f,f.state,null),_s(e,a,f,l),Ts(),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308),a=!0}else if(t===null){f=e.stateNode;var M=e.memoizedProps,F=Ki(n,M);f.props=F;var et=f.context,ut=n.contextType;v=wa,typeof ut=="object"&&ut!==null&&(v=we(ut));var mt=n.getDerivedStateFromProps;ut=typeof mt=="function"||typeof f.getSnapshotBeforeUpdate=="function",M=e.pendingProps!==M,ut||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(M||et!==v)&&Lh(e,f,a,v),ai=!1;var at=e.memoizedState;f.state=at,_s(e,a,f,l),Ts(),et=e.memoizedState,M||at!==et||ai?(typeof mt=="function"&&(hc(e,n,mt,a),et=e.memoizedState),(F=ai||Bh(e,n,F,a,at,et,v))?(ut||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(e.flags|=4194308)):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=et),f.props=a,f.state=et,f.context=v,a=F):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{f=e.stateNode,ql(t,e),v=e.memoizedProps,ut=Ki(n,v),f.props=ut,mt=e.pendingProps,at=f.context,et=n.contextType,F=wa,typeof et=="object"&&et!==null&&(F=we(et)),M=n.getDerivedStateFromProps,(et=typeof M=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==mt||at!==F)&&Lh(e,f,a,F),ai=!1,at=e.memoizedState,f.state=at,_s(e,a,f,l),Ts();var ot=e.memoizedState;v!==mt||at!==ot||ai||t!==null&&t.dependencies!==null&&Mr(t.dependencies)?(typeof M=="function"&&(hc(e,n,M,a),ot=e.memoizedState),(ut=ai||Bh(e,n,ut,a,at,ot,F)||t!==null&&t.dependencies!==null&&Mr(t.dependencies))?(et||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(a,ot,F),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(a,ot,F)),typeof f.componentDidUpdate=="function"&&(e.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&at===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&at===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=ot),f.props=a,f.state=ot,f.context=F,a=ut):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&at===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&at===t.memoizedState||(e.flags|=1024),a=!1)}return f=a,Qr(t,e),a=(e.flags&128)!==0,f||a?(f=e.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:f.render(),e.flags|=1,t!==null&&a?(e.child=Zi(e,t.child,null,l),e.child=Zi(e,null,n,l)):Te(t,e,n,l),e.memoizedState=f.state,t=e.child):t=On(t,e,l),t}function Wh(t,e,n,a){return Hi(),e.flags|=256,Te(t,e,n,a),e.child}var vc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bc(t){return{baseLanes:t,cachePool:Hd()}}function xc(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Ke),t}function Jh(t,e,n){var a=e.pendingProps,l=!1,f=(e.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(le.current&2)!==0),v&&(l=!0,e.flags&=-129),v=(e.flags&32)!==0,e.flags&=-33,t===null){if(Pt){if(l?oi(e):li(),(t=ee)?(t=op(t,ln),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ti!==null?{id:xn,overflow:Sn}:null,retryLane:536870912,hydrationErrors:null},n=Nd(t),n.return=e,e.child=n,Se=e,ee=null)):t=null,t===null)throw ni(e);return nu(t)?e.lanes=32:e.lanes=536870912,null}var M=a.children;return a=a.fallback,l?(li(),l=e.mode,M=$r({mode:"hidden",children:M},l),a=Fi(a,l,n,null),M.return=e,a.return=e,M.sibling=a,e.child=M,a=e.child,a.memoizedState=bc(n),a.childLanes=xc(t,v,n),e.memoizedState=vc,js(null,a)):(oi(e),Sc(e,M))}var F=t.memoizedState;if(F!==null&&(M=F.dehydrated,M!==null)){if(f)e.flags&256?(oi(e),e.flags&=-257,e=wc(t,e,n)):e.memoizedState!==null?(li(),e.child=t.child,e.flags|=128,e=null):(li(),M=a.fallback,l=e.mode,a=$r({mode:"visible",children:a.children},l),M=Fi(M,l,n,null),M.flags|=2,a.return=e,M.return=e,a.sibling=M,e.child=a,Zi(e,t.child,null,n),a=e.child,a.memoizedState=bc(n),a.childLanes=xc(t,v,n),e.memoizedState=vc,e=js(null,a));else if(oi(e),nu(M)){if(v=M.nextSibling&&M.nextSibling.dataset,v)var et=v.dgst;v=et,a=Error(o(419)),a.stack="",a.digest=v,ys({value:a,source:null,stack:null}),e=wc(t,e,n)}else if(he||ka(t,e,n,!1),v=(n&t.childLanes)!==0,he||v){if(v=te,v!==null&&(a=Vf(v,n),a!==0&&a!==F.retryLane))throw F.retryLane=a,Vi(t,a),He(v,t,a),gc;eu(M)||ro(),e=wc(t,e,n)}else eu(M)?(e.flags|=192,e.child=t.child,e=null):(t=F.treeContext,ee=un(M.nextSibling),Se=e,Pt=!0,ei=null,ln=!1,t!==null&&Od(e,t),e=Sc(e,a.children),e.flags|=4096);return e}return l?(li(),M=a.fallback,l=e.mode,F=t.child,et=F.sibling,a=jn(F,{mode:"hidden",children:a.children}),a.subtreeFlags=F.subtreeFlags&65011712,et!==null?M=jn(et,M):(M=Fi(M,l,n,null),M.flags|=2),M.return=e,a.return=e,a.sibling=M,e.child=a,js(null,a),a=e.child,M=t.child.memoizedState,M===null?M=bc(n):(l=M.cachePool,l!==null?(F=fe._currentValue,l=l.parent!==F?{parent:F,pool:F}:l):l=Hd(),M={baseLanes:M.baseLanes|n,cachePool:l}),a.memoizedState=M,a.childLanes=xc(t,v,n),e.memoizedState=vc,js(t.child,a)):(oi(e),n=t.child,t=n.sibling,n=jn(n,{mode:"visible",children:a.children}),n.return=e,n.sibling=null,t!==null&&(v=e.deletions,v===null?(e.deletions=[t],e.flags|=16):v.push(t)),e.child=n,e.memoizedState=null,n)}function Sc(t,e){return e=$r({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function $r(t,e){return t=Ge(22,t,null,e),t.lanes=0,t}function wc(t,e,n){return Zi(e,t.child,null,n),t=Sc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tm(t,e,n){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),Ll(t.return,e,n)}function Tc(t,e,n,a,l,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:l,treeForkCount:f}:(v.isBackwards=e,v.rendering=null,v.renderingStartTime=0,v.last=a,v.tail=n,v.tailMode=l,v.treeForkCount=f)}function em(t,e,n){var a=e.pendingProps,l=a.revealOrder,f=a.tail;a=a.children;var v=le.current,M=(v&2)!==0;if(M?(v=v&1|2,e.flags|=128):v&=1,K(le,v),Te(t,e,a,n),a=Pt?gs:0,!M&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tm(t,n,e);else if(t.tag===19)tm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(l){case"forwards":for(n=e.child,l=null;n!==null;)t=n.alternate,t!==null&&Vr(t)===null&&(l=n),n=n.sibling;n=l,n===null?(l=e.child,e.child=null):(l=n.sibling,n.sibling=null),Tc(e,!1,l,n,f,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&Vr(t)===null){e.child=l;break}t=l.sibling,l.sibling=n,n=l,l=t}Tc(e,!0,n,null,f,a);break;case"together":Tc(e,!1,null,null,void 0,a);break;default:e.memoizedState=null}return e.child}function On(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fi|=e.lanes,(n&e.childLanes)===0)if(t!==null){if(ka(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(o(153));if(e.child!==null){for(t=e.child,n=jn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=jn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _c(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Mr(t)))}function Iv(t,e,n){switch(e.tag){case 3:_t(e,e.stateNode.containerInfo),ii(e,fe,t.memoizedState.cache),Hi();break;case 27:case 5:Tt(e);break;case 4:_t(e,e.stateNode.containerInfo);break;case 10:ii(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Kl(e),null;break;case 13:var a=e.memoizedState;if(a!==null)return a.dehydrated!==null?(oi(e),e.flags|=128,null):(n&e.child.childLanes)!==0?Jh(t,e,n):(oi(e),t=On(t,e,n),t!==null?t.sibling:null);oi(e);break;case 19:var l=(t.flags&128)!==0;if(a=(n&e.childLanes)!==0,a||(ka(t,e,n,!1),a=(n&e.childLanes)!==0),l){if(a)return em(t,e,n);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),K(le,le.current),a)break;return null;case 22:return e.lanes=0,Zh(t,e,n,e.pendingProps);case 24:ii(e,fe,t.memoizedState.cache)}return On(t,e,n)}function nm(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)he=!0;else{if(!_c(t,n)&&(e.flags&128)===0)return he=!1,Iv(t,e,n);he=(t.flags&131072)!==0}else he=!1,Pt&&(e.flags&1048576)!==0&&Dd(e,gs,e.index);switch(e.lanes=0,e.tag){case 16:t:{var a=e.pendingProps;if(t=Gi(e.elementType),e.type=t,typeof t=="function")jl(t)?(a=Ki(t,a),e.tag=1,e=$h(null,e,t,a,n)):(e.tag=0,e=yc(null,e,t,a,n));else{if(t!=null){var l=t.$$typeof;if(l===B){e.tag=11,e=qh(null,e,t,a,n);break t}else if(l===V){e.tag=14,e=Gh(null,e,t,a,n);break t}}throw e=_(t)||t,Error(o(306,e,""))}}return e;case 0:return yc(t,e,e.type,e.pendingProps,n);case 1:return a=e.type,l=Ki(a,e.pendingProps),$h(t,e,a,l,n);case 3:t:{if(_t(e,e.stateNode.containerInfo),t===null)throw Error(o(387));a=e.pendingProps;var f=e.memoizedState;l=f.element,ql(t,e),_s(e,a,null,n);var v=e.memoizedState;if(a=v.cache,ii(e,fe,a),a!==f.cache&&Ul(e,[fe],n,!0),Ts(),a=v.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:v.cache},e.updateQueue.baseState=f,e.memoizedState=f,e.flags&256){e=Wh(t,e,a,n);break t}else if(a!==l){l=sn(Error(o(424)),e),ys(l),e=Wh(t,e,a,n);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ee=un(t.firstChild),Se=e,Pt=!0,ei=null,ln=!0,n=Zd(e,null,a,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Hi(),a===l){e=On(t,e,n);break t}Te(t,e,a,n)}e=e.child}return e;case 26:return Qr(t,e),t===null?(n=hp(e.type,null,e.pendingProps,null))?e.memoizedState=n:Pt||(n=e.type,t=e.pendingProps,a=mo(St.current).createElement(n),a[xe]=e,a[Oe]=t,_e(a,n,t),ye(a),e.stateNode=a):e.memoizedState=hp(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Tt(e),t===null&&Pt&&(a=e.stateNode=up(e.type,e.pendingProps,St.current),Se=e,ln=!0,l=ee,gi(e.type)?(iu=l,ee=un(a.firstChild)):ee=l),Te(t,e,e.pendingProps.children,n),Qr(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Pt&&((l=a=ee)&&(a=b1(a,e.type,e.pendingProps,ln),a!==null?(e.stateNode=a,Se=e,ee=un(a.firstChild),ln=!1,l=!0):l=!1),l||ni(e)),Tt(e),l=e.type,f=e.pendingProps,v=t!==null?t.memoizedProps:null,a=f.children,Wc(l,f)?a=null:v!==null&&Wc(l,v)&&(e.flags|=32),e.memoizedState!==null&&(l=$l(t,e,Dv,null,null,n),qs._currentValue=l),Qr(t,e),Te(t,e,a,n),e.child;case 6:return t===null&&Pt&&((t=n=ee)&&(n=x1(n,e.pendingProps,ln),n!==null?(e.stateNode=n,Se=e,ee=null,t=!0):t=!1),t||ni(e)),null;case 13:return Jh(t,e,n);case 4:return _t(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=Zi(e,null,a,n):Te(t,e,a,n),e.child;case 11:return qh(t,e,e.type,e.pendingProps,n);case 7:return Te(t,e,e.pendingProps,n),e.child;case 8:return Te(t,e,e.pendingProps.children,n),e.child;case 12:return Te(t,e,e.pendingProps.children,n),e.child;case 10:return a=e.pendingProps,ii(e,e.type,a.value),Te(t,e,a.children,n),e.child;case 9:return l=e.type._context,a=e.pendingProps.children,Ii(e),l=we(l),a=a(l),e.flags|=1,Te(t,e,a,n),e.child;case 14:return Gh(t,e,e.type,e.pendingProps,n);case 15:return Yh(t,e,e.type,e.pendingProps,n);case 19:return em(t,e,n);case 31:return Pv(t,e,n);case 22:return Zh(t,e,n,e.pendingProps);case 24:return Ii(e),a=we(fe),t===null?(l=Hl(),l===null&&(l=te,f=Vl(),l.pooledCache=f,f.refCount++,f!==null&&(l.pooledCacheLanes|=n),l=f),e.memoizedState={parent:a,cache:l},Il(e),ii(e,fe,l)):((t.lanes&n)!==0&&(ql(t,e),_s(e,null,null,n),Ts()),l=t.memoizedState,f=e.memoizedState,l.parent!==a?(l={parent:a,cache:a},e.memoizedState=l,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=l),ii(e,fe,a)):(a=f.cache,ii(e,fe,a),a!==l.cache&&Ul(e,[fe],n,!0))),Te(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(o(156,e.tag))}function Bn(t){t.flags|=4}function Cc(t,e,n,a,l){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(l&335544128)===l)if(t.stateNode.complete)t.flags|=8192;else if(jm())t.flags|=8192;else throw Yi=Or,Pl}else t.flags&=-16777217}function im(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!vp(e))if(jm())t.flags|=8192;else throw Yi=Or,Pl}function Wr(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Bf():536870912,t.lanes|=e,Ua|=e)}function zs(t,e){if(!Pt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function ne(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,a=0;if(e)for(var l=t.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags&65011712,a|=l.flags&65011712,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=a,t.childLanes=n,e}function qv(t,e,n){var a=e.pendingProps;switch(Rl(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(e),null;case 1:return ne(e),null;case 3:return n=e.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),Nn(fe),ft(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ca(e)?Bn(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Ol())),ne(e),null;case 26:var l=e.type,f=e.memoizedState;return t===null?(Bn(e),f!==null?(ne(e),im(e,f)):(ne(e),Cc(e,l,null,a,n))):f?f!==t.memoizedState?(Bn(e),ne(e),im(e,f)):(ne(e),e.flags&=-16777217):(t=t.memoizedProps,t!==a&&Bn(e),ne(e),Cc(e,l,t,a,n)),null;case 27:if(Et(e),n=St.current,l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Bn(e);else{if(!a){if(e.stateNode===null)throw Error(o(166));return ne(e),null}t=W.current,Ca(e)?Bd(e):(t=up(l,a,n),e.stateNode=t,Bn(e))}return ne(e),null;case 5:if(Et(e),l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Bn(e);else{if(!a){if(e.stateNode===null)throw Error(o(166));return ne(e),null}if(f=W.current,Ca(e))Bd(e);else{var v=mo(St.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof a.is=="string"?v.createElement("select",{is:a.is}):v.createElement("select"),a.multiple?f.multiple=!0:a.size&&(f.size=a.size);break;default:f=typeof a.is=="string"?v.createElement(l,{is:a.is}):v.createElement(l)}}f[xe]=e,f[Oe]=a;t:for(v=e.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break t;for(;v.sibling===null;){if(v.return===null||v.return===e)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}e.stateNode=f;t:switch(_e(f,l,a),l){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&Bn(e)}}return ne(e),Cc(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==a&&Bn(e);else{if(typeof a!="string"&&e.stateNode===null)throw Error(o(166));if(t=St.current,Ca(e)){if(t=e.stateNode,n=e.memoizedProps,a=null,l=Se,l!==null)switch(l.tag){case 27:case 5:a=l.memoizedProps}t[xe]=e,t=!!(t.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Jm(t.nodeValue,n)),t||ni(e,!0)}else t=mo(t).createTextNode(a),t[xe]=e,e.stateNode=t}return ne(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(a=Ca(e),n!==null){if(t===null){if(!a)throw Error(o(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[xe]=e}else Hi(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ne(e),t=!1}else n=Ol(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Ze(e),e):(Ze(e),null);if((e.flags&128)!==0)throw Error(o(558))}return ne(e),null;case 13:if(a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(l=Ca(e),a!==null&&a.dehydrated!==null){if(t===null){if(!l)throw Error(o(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(o(317));l[xe]=e}else Hi(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ne(e),l=!1}else l=Ol(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),l=!0;if(!l)return e.flags&256?(Ze(e),e):(Ze(e),null)}return Ze(e),(e.flags&128)!==0?(e.lanes=n,e):(n=a!==null,t=t!==null&&t.memoizedState!==null,n&&(a=e.child,l=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(l=a.alternate.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==l&&(a.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Wr(e,e.updateQueue),ne(e),null);case 4:return ft(),t===null&&Zc(e.stateNode.containerInfo),ne(e),null;case 10:return Nn(e.type),ne(e),null;case 19:if(N(le),a=e.memoizedState,a===null)return ne(e),null;if(l=(e.flags&128)!==0,f=a.rendering,f===null)if(l)zs(a,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(f=Vr(t),f!==null){for(e.flags|=128,zs(a,!1),t=f.updateQueue,e.updateQueue=t,Wr(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Md(n,t),n=n.sibling;return K(le,le.current&1|2),Pt&&zn(e,a.treeForkCount),e.child}t=t.sibling}a.tail!==null&&xt()>io&&(e.flags|=128,l=!0,zs(a,!1),e.lanes=4194304)}else{if(!l)if(t=Vr(f),t!==null){if(e.flags|=128,l=!0,t=t.updateQueue,e.updateQueue=t,Wr(e,t),zs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!f.alternate&&!Pt)return ne(e),null}else 2*xt()-a.renderingStartTime>io&&n!==536870912&&(e.flags|=128,l=!0,zs(a,!1),e.lanes=4194304);a.isBackwards?(f.sibling=e.child,e.child=f):(t=a.last,t!==null?t.sibling=f:e.child=f,a.last=f)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=xt(),t.sibling=null,n=le.current,K(le,l?n&1|2:n&1),Pt&&zn(e,a.treeForkCount),t):(ne(e),null);case 22:case 23:return Ze(e),Xl(),a=e.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(e.flags|=8192):a&&(e.flags|=8192),a?(n&536870912)!==0&&(e.flags&128)===0&&(ne(e),e.subtreeFlags&6&&(e.flags|=8192)):ne(e),n=e.updateQueue,n!==null&&Wr(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),a=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),a!==n&&(e.flags|=2048),t!==null&&N(qi),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Nn(fe),ne(e),null;case 25:return null;case 30:return null}throw Error(o(156,e.tag))}function Gv(t,e){switch(Rl(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Nn(fe),ft(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Et(e),null;case 31:if(e.memoizedState!==null){if(Ze(e),e.alternate===null)throw Error(o(340));Hi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Ze(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(o(340));Hi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return N(le),null;case 4:return ft(),null;case 10:return Nn(e.type),null;case 22:case 23:return Ze(e),Xl(),t!==null&&N(qi),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Nn(fe),null;case 25:return null;default:return null}}function am(t,e){switch(Rl(e),e.tag){case 3:Nn(fe),ft();break;case 26:case 27:case 5:Et(e);break;case 4:ft();break;case 31:e.memoizedState!==null&&Ze(e);break;case 13:Ze(e);break;case 19:N(le);break;case 10:Nn(e.type);break;case 22:case 23:Ze(e),Xl(),t!==null&&N(qi);break;case 24:Nn(fe)}}function Ms(t,e){try{var n=e.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var l=a.next;n=l;do{if((n.tag&t)===t){a=void 0;var f=n.create,v=n.inst;a=f(),v.destroy=a}n=n.next}while(n!==l)}}catch(M){Kt(e,e.return,M)}}function ci(t,e,n){try{var a=e.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){var v=a.inst,M=v.destroy;if(M!==void 0){v.destroy=void 0,l=e;var F=n,et=M;try{et()}catch(ut){Kt(l,F,ut)}}}a=a.next}while(a!==f)}}catch(ut){Kt(e,e.return,ut)}}function sm(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Kd(e,n)}catch(a){Kt(t,t.return,a)}}}function rm(t,e,n){n.props=Ki(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(a){Kt(t,e,a)}}function Ns(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof n=="function"?t.refCleanup=n(a):n.current=a}}catch(l){Kt(t,e,l)}}function wn(t,e){var n=t.ref,a=t.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(l){Kt(t,e,l)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){Kt(t,e,l)}else n.current=null}function om(t){var e=t.type,n=t.memoizedProps,a=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break t;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(l){Kt(t,t.return,l)}}function kc(t,e,n){try{var a=t.stateNode;h1(a,t.type,n,e),a[Oe]=e}catch(l){Kt(t,t.return,l)}}function lm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&gi(t.type)||t.tag===4}function Ac(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||lm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&gi(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ec(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=An));else if(a!==4&&(a===27&&gi(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Ec(t,e,n),t=t.sibling;t!==null;)Ec(t,e,n),t=t.sibling}function Jr(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(a!==4&&(a===27&&gi(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Jr(t,e,n),t=t.sibling;t!==null;)Jr(t,e,n),t=t.sibling}function cm(t){var e=t.stateNode,n=t.memoizedProps;try{for(var a=t.type,l=e.attributes;l.length;)e.removeAttributeNode(l[0]);_e(e,a,n),e[xe]=t,e[Oe]=n}catch(f){Kt(t,t.return,f)}}var Ln=!1,me=!1,jc=!1,um=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Yv(t,e){if(t=t.containerInfo,Qc=So,t=wd(t),wl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{n=(n=t.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var l=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{n.nodeType,f.nodeType}catch{n=null;break t}var v=0,M=-1,F=-1,et=0,ut=0,mt=t,at=null;e:for(;;){for(var ot;mt!==n||l!==0&&mt.nodeType!==3||(M=v+l),mt!==f||a!==0&&mt.nodeType!==3||(F=v+a),mt.nodeType===3&&(v+=mt.nodeValue.length),(ot=mt.firstChild)!==null;)at=mt,mt=ot;for(;;){if(mt===t)break e;if(at===n&&++et===l&&(M=v),at===f&&++ut===a&&(F=v),(ot=mt.nextSibling)!==null)break;mt=at,at=mt.parentNode}mt=ot}n=M===-1||F===-1?null:{start:M,end:F}}else n=null}n=n||{start:0,end:0}}else n=null;for($c={focusedElem:t,selectionRange:n},So=!1,ve=e;ve!==null;)if(e=ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ve=t;else for(;ve!==null;){switch(e=ve,f=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)l=t[n],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,n=e,l=f.memoizedProps,f=f.memoizedState,a=n.stateNode;try{var Ct=Ki(n.type,l);t=a.getSnapshotBeforeUpdate(Ct,f),a.__reactInternalSnapshotBeforeUpdate=t}catch(zt){Kt(n,n.return,zt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)tu(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":tu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=e.sibling,t!==null){t.return=e.return,ve=t;break}ve=e.return}}function fm(t,e,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Vn(t,n),a&4&&Ms(5,n);break;case 1:if(Vn(t,n),a&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(v){Kt(n,n.return,v)}else{var l=Ki(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(l,e,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Kt(n,n.return,v)}}a&64&&sm(n),a&512&&Ns(n,n.return);break;case 3:if(Vn(t,n),a&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Kd(t,e)}catch(v){Kt(n,n.return,v)}}break;case 27:e===null&&a&4&&cm(n);case 26:case 5:Vn(t,n),e===null&&a&4&&om(n),a&512&&Ns(n,n.return);break;case 12:Vn(t,n);break;case 31:Vn(t,n),a&4&&mm(t,n);break;case 13:Vn(t,n),a&4&&pm(t,n),a&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=e1.bind(null,n),S1(t,n))));break;case 22:if(a=n.memoizedState!==null||Ln,!a){e=e!==null&&e.memoizedState!==null||me,l=Ln;var f=me;Ln=a,(me=e)&&!f?Fn(t,n,(n.subtreeFlags&8772)!==0):Vn(t,n),Ln=l,me=f}break;case 30:break;default:Vn(t,n)}}function dm(t){var e=t.alternate;e!==null&&(t.alternate=null,dm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&sl(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ie=null,Le=!1;function Un(t,e,n){for(n=n.child;n!==null;)hm(t,e,n),n=n.sibling}function hm(t,e,n){if(ge&&typeof ge.onCommitFiberUnmount=="function")try{ge.onCommitFiberUnmount(Jt,n)}catch{}switch(n.tag){case 26:me||wn(n,e),Un(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:me||wn(n,e);var a=ie,l=Le;gi(n.type)&&(ie=n.stateNode,Le=!1),Un(t,e,n),Hs(n.stateNode),ie=a,Le=l;break;case 5:me||wn(n,e);case 6:if(a=ie,l=Le,ie=null,Un(t,e,n),ie=a,Le=l,ie!==null)if(Le)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(n.stateNode)}catch(f){Kt(n,e,f)}else try{ie.removeChild(n.stateNode)}catch(f){Kt(n,e,f)}break;case 18:ie!==null&&(Le?(t=ie,sp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Ya(t)):sp(ie,n.stateNode));break;case 4:a=ie,l=Le,ie=n.stateNode.containerInfo,Le=!0,Un(t,e,n),ie=a,Le=l;break;case 0:case 11:case 14:case 15:ci(2,n,e),me||ci(4,n,e),Un(t,e,n);break;case 1:me||(wn(n,e),a=n.stateNode,typeof a.componentWillUnmount=="function"&&rm(n,e,a)),Un(t,e,n);break;case 21:Un(t,e,n);break;case 22:me=(a=me)||n.memoizedState!==null,Un(t,e,n),me=a;break;default:Un(t,e,n)}}function mm(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ya(t)}catch(n){Kt(e,e.return,n)}}}function pm(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ya(t)}catch(n){Kt(e,e.return,n)}}function Zv(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new um),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new um),e;default:throw Error(o(435,t.tag))}}function to(t,e){var n=Zv(t);e.forEach(function(a){if(!n.has(a)){n.add(a);var l=n1.bind(null,t,a);a.then(l,l)}})}function Ue(t,e){var n=e.deletions;if(n!==null)for(var a=0;a<n.length;a++){var l=n[a],f=t,v=e,M=v;t:for(;M!==null;){switch(M.tag){case 27:if(gi(M.type)){ie=M.stateNode,Le=!1;break t}break;case 5:ie=M.stateNode,Le=!1;break t;case 3:case 4:ie=M.stateNode.containerInfo,Le=!0;break t}M=M.return}if(ie===null)throw Error(o(160));hm(f,v,l),ie=null,Le=!1,f=l.alternate,f!==null&&(f.return=null),l.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)gm(e,t),e=e.sibling}var gn=null;function gm(t,e){var n=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ue(e,t),Ve(t),a&4&&(ci(3,t,t.return),Ms(3,t),ci(5,t,t.return));break;case 1:Ue(e,t),Ve(t),a&512&&(me||n===null||wn(n,n.return)),a&64&&Ln&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var l=gn;if(Ue(e,t),Ve(t),a&512&&(me||n===null||wn(n,n.return)),a&4){var f=n!==null?n.memoizedState:null;if(a=t.memoizedState,n===null)if(a===null)if(t.stateNode===null){t:{a=t.type,n=t.memoizedProps,l=l.ownerDocument||l;e:switch(a){case"title":f=l.getElementsByTagName("title")[0],(!f||f[ss]||f[xe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=l.createElement(a),l.head.insertBefore(f,l.querySelector("head > title"))),_e(f,a,n),f[xe]=t,ye(f),a=f;break t;case"link":var v=gp("link","href",l).get(a+(n.href||""));if(v){for(var M=0;M<v.length;M++)if(f=v[M],f.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&f.getAttribute("rel")===(n.rel==null?null:n.rel)&&f.getAttribute("title")===(n.title==null?null:n.title)&&f.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){v.splice(M,1);break e}}f=l.createElement(a),_e(f,a,n),l.head.appendChild(f);break;case"meta":if(v=gp("meta","content",l).get(a+(n.content||""))){for(M=0;M<v.length;M++)if(f=v[M],f.getAttribute("content")===(n.content==null?null:""+n.content)&&f.getAttribute("name")===(n.name==null?null:n.name)&&f.getAttribute("property")===(n.property==null?null:n.property)&&f.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&f.getAttribute("charset")===(n.charSet==null?null:n.charSet)){v.splice(M,1);break e}}f=l.createElement(a),_e(f,a,n),l.head.appendChild(f);break;default:throw Error(o(468,a))}f[xe]=t,ye(f),a=f}t.stateNode=a}else yp(l,t.type,t.stateNode);else t.stateNode=pp(l,a,t.memoizedProps);else f!==a?(f===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):f.count--,a===null?yp(l,t.type,t.stateNode):pp(l,a,t.memoizedProps)):a===null&&t.stateNode!==null&&kc(t,t.memoizedProps,n.memoizedProps)}break;case 27:Ue(e,t),Ve(t),a&512&&(me||n===null||wn(n,n.return)),n!==null&&a&4&&kc(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Ue(e,t),Ve(t),a&512&&(me||n===null||wn(n,n.return)),t.flags&32){l=t.stateNode;try{pa(l,"")}catch(Ct){Kt(t,t.return,Ct)}}a&4&&t.stateNode!=null&&(l=t.memoizedProps,kc(t,l,n!==null?n.memoizedProps:l)),a&1024&&(jc=!0);break;case 6:if(Ue(e,t),Ve(t),a&4){if(t.stateNode===null)throw Error(o(162));a=t.memoizedProps,n=t.stateNode;try{n.nodeValue=a}catch(Ct){Kt(t,t.return,Ct)}}break;case 3:if(yo=null,l=gn,gn=po(e.containerInfo),Ue(e,t),gn=l,Ve(t),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Ya(e.containerInfo)}catch(Ct){Kt(t,t.return,Ct)}jc&&(jc=!1,ym(t));break;case 4:a=gn,gn=po(t.stateNode.containerInfo),Ue(e,t),Ve(t),gn=a;break;case 12:Ue(e,t),Ve(t);break;case 31:Ue(e,t),Ve(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,to(t,a)));break;case 13:Ue(e,t),Ve(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(no=xt()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,to(t,a)));break;case 22:l=t.memoizedState!==null;var F=n!==null&&n.memoizedState!==null,et=Ln,ut=me;if(Ln=et||l,me=ut||F,Ue(e,t),me=ut,Ln=et,Ve(t),a&8192)t:for(e=t.stateNode,e._visibility=l?e._visibility&-2:e._visibility|1,l&&(n===null||F||Ln||me||Qi(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){F=n=e;try{if(f=F.stateNode,l)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{M=F.stateNode;var mt=F.memoizedProps.style,at=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;M.style.display=at==null||typeof at=="boolean"?"":(""+at).trim()}}catch(Ct){Kt(F,F.return,Ct)}}}else if(e.tag===6){if(n===null){F=e;try{F.stateNode.nodeValue=l?"":F.memoizedProps}catch(Ct){Kt(F,F.return,Ct)}}}else if(e.tag===18){if(n===null){F=e;try{var ot=F.stateNode;l?rp(ot,!0):rp(F.stateNode,!1)}catch(Ct){Kt(F,F.return,Ct)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}a&4&&(a=t.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,to(t,n))));break;case 19:Ue(e,t),Ve(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,to(t,a)));break;case 30:break;case 21:break;default:Ue(e,t),Ve(t)}}function Ve(t){var e=t.flags;if(e&2){try{for(var n,a=t.return;a!==null;){if(lm(a)){n=a;break}a=a.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var l=n.stateNode,f=Ac(t);Jr(t,f,l);break;case 5:var v=n.stateNode;n.flags&32&&(pa(v,""),n.flags&=-33);var M=Ac(t);Jr(t,M,v);break;case 3:case 4:var F=n.stateNode.containerInfo,et=Ac(t);Ec(t,et,F);break;default:throw Error(o(161))}}catch(ut){Kt(t,t.return,ut)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ym(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;ym(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Vn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)fm(t,e.alternate,e),e=e.sibling}function Qi(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ci(4,e,e.return),Qi(e);break;case 1:wn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&rm(e,e.return,n),Qi(e);break;case 27:Hs(e.stateNode);case 26:case 5:wn(e,e.return),Qi(e);break;case 22:e.memoizedState===null&&Qi(e);break;case 30:Qi(e);break;default:Qi(e)}t=t.sibling}}function Fn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var a=e.alternate,l=t,f=e,v=f.flags;switch(f.tag){case 0:case 11:case 15:Fn(l,f,n),Ms(4,f);break;case 1:if(Fn(l,f,n),a=f,l=a.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(et){Kt(a,a.return,et)}if(a=f,l=a.updateQueue,l!==null){var M=a.stateNode;try{var F=l.shared.hiddenCallbacks;if(F!==null)for(l.shared.hiddenCallbacks=null,l=0;l<F.length;l++)Xd(F[l],M)}catch(et){Kt(a,a.return,et)}}n&&v&64&&sm(f),Ns(f,f.return);break;case 27:cm(f);case 26:case 5:Fn(l,f,n),n&&a===null&&v&4&&om(f),Ns(f,f.return);break;case 12:Fn(l,f,n);break;case 31:Fn(l,f,n),n&&v&4&&mm(l,f);break;case 13:Fn(l,f,n),n&&v&4&&pm(l,f);break;case 22:f.memoizedState===null&&Fn(l,f,n),Ns(f,f.return);break;case 30:break;default:Fn(l,f,n)}e=e.sibling}}function zc(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&vs(n))}function Mc(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&vs(t))}function yn(t,e,n,a){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vm(t,e,n,a),e=e.sibling}function vm(t,e,n,a){var l=e.flags;switch(e.tag){case 0:case 11:case 15:yn(t,e,n,a),l&2048&&Ms(9,e);break;case 1:yn(t,e,n,a);break;case 3:yn(t,e,n,a),l&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&vs(t)));break;case 12:if(l&2048){yn(t,e,n,a),t=e.stateNode;try{var f=e.memoizedProps,v=f.id,M=f.onPostCommit;typeof M=="function"&&M(v,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(F){Kt(e,e.return,F)}}else yn(t,e,n,a);break;case 31:yn(t,e,n,a);break;case 13:yn(t,e,n,a);break;case 23:break;case 22:f=e.stateNode,v=e.alternate,e.memoizedState!==null?f._visibility&2?yn(t,e,n,a):Rs(t,e):f._visibility&2?yn(t,e,n,a):(f._visibility|=2,Oa(t,e,n,a,(e.subtreeFlags&10256)!==0||!1)),l&2048&&zc(v,e);break;case 24:yn(t,e,n,a),l&2048&&Mc(e.alternate,e);break;default:yn(t,e,n,a)}}function Oa(t,e,n,a,l){for(l=l&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var f=t,v=e,M=n,F=a,et=v.flags;switch(v.tag){case 0:case 11:case 15:Oa(f,v,M,F,l),Ms(8,v);break;case 23:break;case 22:var ut=v.stateNode;v.memoizedState!==null?ut._visibility&2?Oa(f,v,M,F,l):Rs(f,v):(ut._visibility|=2,Oa(f,v,M,F,l)),l&&et&2048&&zc(v.alternate,v);break;case 24:Oa(f,v,M,F,l),l&&et&2048&&Mc(v.alternate,v);break;default:Oa(f,v,M,F,l)}e=e.sibling}}function Rs(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,a=e,l=a.flags;switch(a.tag){case 22:Rs(n,a),l&2048&&zc(a.alternate,a);break;case 24:Rs(n,a),l&2048&&Mc(a.alternate,a);break;default:Rs(n,a)}e=e.sibling}}var Ds=8192;function Ba(t,e,n){if(t.subtreeFlags&Ds)for(t=t.child;t!==null;)bm(t,e,n),t=t.sibling}function bm(t,e,n){switch(t.tag){case 26:Ba(t,e,n),t.flags&Ds&&t.memoizedState!==null&&R1(n,gn,t.memoizedState,t.memoizedProps);break;case 5:Ba(t,e,n);break;case 3:case 4:var a=gn;gn=po(t.stateNode.containerInfo),Ba(t,e,n),gn=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=Ds,Ds=16777216,Ba(t,e,n),Ds=a):Ba(t,e,n));break;default:Ba(t,e,n)}}function xm(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Os(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];ve=a,wm(a,t)}xm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sm(t),t=t.sibling}function Sm(t){switch(t.tag){case 0:case 11:case 15:Os(t),t.flags&2048&&ci(9,t,t.return);break;case 3:Os(t);break;case 12:Os(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,eo(t)):Os(t);break;default:Os(t)}}function eo(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];ve=a,wm(a,t)}xm(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ci(8,e,e.return),eo(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,eo(e));break;default:eo(e)}t=t.sibling}}function wm(t,e){for(;ve!==null;){var n=ve;switch(n.tag){case 0:case 11:case 15:ci(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:vs(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,ve=a;else t:for(n=t;ve!==null;){a=ve;var l=a.sibling,f=a.return;if(dm(a),a===n){ve=null;break t}if(l!==null){l.return=f,ve=l;break t}ve=f}}}var Xv={getCacheForType:function(t){var e=we(fe),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return we(fe).controller.signal}},Kv=typeof WeakMap=="function"?WeakMap:Map,Yt=0,te=null,Lt=null,Vt=0,Xt=0,Xe=null,ui=!1,La=!1,Nc=!1,Hn=0,oe=0,fi=0,$i=0,Rc=0,Ke=0,Ua=0,Bs=null,Fe=null,Dc=!1,no=0,Tm=0,io=1/0,ao=null,di=null,pe=0,hi=null,Va=null,Pn=0,Oc=0,Bc=null,_m=null,Ls=0,Lc=null;function Qe(){return(Yt&2)!==0&&Vt!==0?Vt&-Vt:Z.T!==null?Ic():Ff()}function Cm(){if(Ke===0)if((Vt&536870912)===0||Pt){var t=Di;Di<<=1,(Di&3932160)===0&&(Di=262144),Ke=t}else Ke=536870912;return t=Ye.current,t!==null&&(t.flags|=32),Ke}function He(t,e,n){(t===te&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)&&(Fa(t,0),mi(t,Vt,Ke,!1)),as(t,n),((Yt&2)===0||t!==te)&&(t===te&&((Yt&2)===0&&($i|=n),oe===4&&mi(t,Vt,Ke,!1)),Tn(t))}function km(t,e,n){if((Yt&6)!==0)throw Error(o(327));var a=!n&&(e&127)===0&&(e&t.expiredLanes)===0||is(t,e),l=a?Wv(t,e):Vc(t,e,!0),f=a;do{if(l===0){La&&!a&&mi(t,e,0,!1);break}else{if(n=t.current.alternate,f&&!Qv(n)){l=Vc(t,e,!1),f=!1;continue}if(l===2){if(f=e,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){e=v;t:{var M=t;l=Bs;var F=M.current.memoizedState.isDehydrated;if(F&&(Fa(M,v).flags|=256),v=Vc(M,v,!1),v!==2){if(Nc&&!F){M.errorRecoveryDisabledLanes|=f,$i|=f,l=4;break t}f=Fe,Fe=l,f!==null&&(Fe===null?Fe=f:Fe.push.apply(Fe,f))}l=v}if(f=!1,l!==2)continue}}if(l===1){Fa(t,0),mi(t,e,0,!0);break}t:{switch(a=t,f=l,f){case 0:case 1:throw Error(o(345));case 4:if((e&4194048)!==e)break;case 6:mi(a,e,Ke,!ui);break t;case 2:Fe=null;break;case 3:case 5:break;default:throw Error(o(329))}if((e&62914560)===e&&(l=no+300-xt(),10<l)){if(mi(a,e,Ke,!ui),mr(a,0,!0)!==0)break t;Pn=e,a.timeoutHandle=ip(Am.bind(null,a,n,Fe,ao,Dc,e,Ke,$i,Ua,ui,f,"Throttled",-0,0),l);break t}Am(a,n,Fe,ao,Dc,e,Ke,$i,Ua,ui,f,null,-0,0)}}break}while(!0);Tn(t)}function Am(t,e,n,a,l,f,v,M,F,et,ut,mt,at,ot){if(t.timeoutHandle=-1,mt=e.subtreeFlags,mt&8192||(mt&16785408)===16785408){mt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:An},bm(e,f,mt);var Ct=(f&62914560)===f?no-xt():(f&4194048)===f?Tm-xt():0;if(Ct=D1(mt,Ct),Ct!==null){Pn=f,t.cancelPendingCommit=Ct(Om.bind(null,t,e,f,n,a,l,v,M,F,ut,mt,null,at,ot)),mi(t,f,v,!et);return}}Om(t,e,f,n,a,l,v,M,F)}function Qv(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var l=n[a],f=l.getSnapshot;l=l.value;try{if(!qe(f(),l))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mi(t,e,n,a){e&=~Rc,e&=~$i,t.suspendedLanes|=e,t.pingedLanes&=~e,a&&(t.warmLanes|=e),a=t.expirationTimes;for(var l=e;0<l;){var f=31-ae(l),v=1<<f;a[f]=-1,l&=~v}n!==0&&Lf(t,n,e)}function so(){return(Yt&6)===0?(Us(0),!1):!0}function Uc(){if(Lt!==null){if(Xt===0)var t=Lt.return;else t=Lt,Mn=Pi=null,tc(t),za=null,xs=0,t=Lt;for(;t!==null;)am(t.alternate,t),t=t.return;Lt=null}}function Fa(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,g1(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Pn=0,Uc(),te=t,Lt=n=jn(t.current,null),Vt=e,Xt=0,Xe=null,ui=!1,La=is(t,e),Nc=!1,Ua=Ke=Rc=$i=fi=oe=0,Fe=Bs=null,Dc=!1,(e&8)!==0&&(e|=e&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=e;0<a;){var l=31-ae(a),f=1<<l;e|=t[l],a&=~f}return Hn=e,kr(),n}function Em(t,e){Dt=null,Z.H=Es,e===ja||e===Dr?(e=qd(),Xt=3):e===Pl?(e=qd(),Xt=4):Xt=e===gc?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Xe=e,Lt===null&&(oe=1,Xr(t,sn(e,t.current)))}function jm(){var t=Ye.current;return t===null?!0:(Vt&4194048)===Vt?cn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?t===cn:!1}function zm(){var t=Z.H;return Z.H=Es,t===null?Es:t}function Mm(){var t=Z.A;return Z.A=Xv,t}function ro(){oe=4,ui||(Vt&4194048)!==Vt&&Ye.current!==null||(La=!0),(fi&134217727)===0&&($i&134217727)===0||te===null||mi(te,Vt,Ke,!1)}function Vc(t,e,n){var a=Yt;Yt|=2;var l=zm(),f=Mm();(te!==t||Vt!==e)&&(ao=null,Fa(t,e)),e=!1;var v=oe;t:do try{if(Xt!==0&&Lt!==null){var M=Lt,F=Xe;switch(Xt){case 8:Uc(),v=6;break t;case 3:case 2:case 9:case 6:Ye.current===null&&(e=!0);var et=Xt;if(Xt=0,Xe=null,Ha(t,M,F,et),n&&La){v=0;break t}break;default:et=Xt,Xt=0,Xe=null,Ha(t,M,F,et)}}$v(),v=oe;break}catch(ut){Em(t,ut)}while(!0);return e&&t.shellSuspendCounter++,Mn=Pi=null,Yt=a,Z.H=l,Z.A=f,Lt===null&&(te=null,Vt=0,kr()),v}function $v(){for(;Lt!==null;)Nm(Lt)}function Wv(t,e){var n=Yt;Yt|=2;var a=zm(),l=Mm();te!==t||Vt!==e?(ao=null,io=xt()+500,Fa(t,e)):La=is(t,e);t:do try{if(Xt!==0&&Lt!==null){e=Lt;var f=Xe;e:switch(Xt){case 1:Xt=0,Xe=null,Ha(t,e,f,1);break;case 2:case 9:if(Pd(f)){Xt=0,Xe=null,Rm(e);break}e=function(){Xt!==2&&Xt!==9||te!==t||(Xt=7),Tn(t)},f.then(e,e);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Pd(f)?(Xt=0,Xe=null,Rm(e)):(Xt=0,Xe=null,Ha(t,e,f,7));break;case 5:var v=null;switch(Lt.tag){case 26:v=Lt.memoizedState;case 5:case 27:var M=Lt;if(v?vp(v):M.stateNode.complete){Xt=0,Xe=null;var F=M.sibling;if(F!==null)Lt=F;else{var et=M.return;et!==null?(Lt=et,oo(et)):Lt=null}break e}}Xt=0,Xe=null,Ha(t,e,f,5);break;case 6:Xt=0,Xe=null,Ha(t,e,f,6);break;case 8:Uc(),oe=6;break t;default:throw Error(o(462))}}Jv();break}catch(ut){Em(t,ut)}while(!0);return Mn=Pi=null,Z.H=a,Z.A=l,Yt=n,Lt!==null?0:(te=null,Vt=0,kr(),oe)}function Jv(){for(;Lt!==null&&!tt();)Nm(Lt)}function Nm(t){var e=nm(t.alternate,t,Hn);t.memoizedProps=t.pendingProps,e===null?oo(t):Lt=e}function Rm(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Qh(n,e,e.pendingProps,e.type,void 0,Vt);break;case 11:e=Qh(n,e,e.pendingProps,e.type.render,e.ref,Vt);break;case 5:tc(e);default:am(n,e),e=Lt=Md(e,Hn),e=nm(n,e,Hn)}t.memoizedProps=t.pendingProps,e===null?oo(t):Lt=e}function Ha(t,e,n,a){Mn=Pi=null,tc(e),za=null,xs=0;var l=e.return;try{if(Hv(t,l,e,n,Vt)){oe=1,Xr(t,sn(n,t.current)),Lt=null;return}}catch(f){if(l!==null)throw Lt=l,f;oe=1,Xr(t,sn(n,t.current)),Lt=null;return}e.flags&32768?(Pt||a===1?t=!0:La||(Vt&536870912)!==0?t=!1:(ui=t=!0,(a===2||a===9||a===3||a===6)&&(a=Ye.current,a!==null&&a.tag===13&&(a.flags|=16384))),Dm(e,t)):oo(e)}function oo(t){var e=t;do{if((e.flags&32768)!==0){Dm(e,ui);return}t=e.return;var n=qv(e.alternate,e,Hn);if(n!==null){Lt=n;return}if(e=e.sibling,e!==null){Lt=e;return}Lt=e=t}while(e!==null);oe===0&&(oe=5)}function Dm(t,e){do{var n=Gv(t.alternate,t);if(n!==null){n.flags&=32767,Lt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Lt=t;return}Lt=t=n}while(t!==null);oe=6,Lt=null}function Om(t,e,n,a,l,f,v,M,F){t.cancelPendingCommit=null;do lo();while(pe!==0);if((Yt&6)!==0)throw Error(o(327));if(e!==null){if(e===t.current)throw Error(o(177));if(f=e.lanes|e.childLanes,f|=Al,Ny(t,n,f,v,M,F),t===te&&(Lt=te=null,Vt=0),Va=e,hi=t,Pn=n,Oc=f,Bc=l,_m=a,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,i1(Bt,function(){return Fm(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||a){a=Z.T,Z.T=null,l=L.p,L.p=2,v=Yt,Yt|=4;try{Yv(t,e,n)}finally{Yt=v,L.p=l,Z.T=a}}pe=1,Bm(),Lm(),Um()}}function Bm(){if(pe===1){pe=0;var t=hi,e=Va,n=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||n){n=Z.T,Z.T=null;var a=L.p;L.p=2;var l=Yt;Yt|=4;try{gm(e,t);var f=$c,v=wd(t.containerInfo),M=f.focusedElem,F=f.selectionRange;if(v!==M&&M&&M.ownerDocument&&Sd(M.ownerDocument.documentElement,M)){if(F!==null&&wl(M)){var et=F.start,ut=F.end;if(ut===void 0&&(ut=et),"selectionStart"in M)M.selectionStart=et,M.selectionEnd=Math.min(ut,M.value.length);else{var mt=M.ownerDocument||document,at=mt&&mt.defaultView||window;if(at.getSelection){var ot=at.getSelection(),Ct=M.textContent.length,zt=Math.min(F.start,Ct),Wt=F.end===void 0?zt:Math.min(F.end,Ct);!ot.extend&&zt>Wt&&(v=Wt,Wt=zt,zt=v);var Q=xd(M,zt),Y=xd(M,Wt);if(Q&&Y&&(ot.rangeCount!==1||ot.anchorNode!==Q.node||ot.anchorOffset!==Q.offset||ot.focusNode!==Y.node||ot.focusOffset!==Y.offset)){var J=mt.createRange();J.setStart(Q.node,Q.offset),ot.removeAllRanges(),zt>Wt?(ot.addRange(J),ot.extend(Y.node,Y.offset)):(J.setEnd(Y.node,Y.offset),ot.addRange(J))}}}}for(mt=[],ot=M;ot=ot.parentNode;)ot.nodeType===1&&mt.push({element:ot,left:ot.scrollLeft,top:ot.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<mt.length;M++){var dt=mt[M];dt.element.scrollLeft=dt.left,dt.element.scrollTop=dt.top}}So=!!Qc,$c=Qc=null}finally{Yt=l,L.p=a,Z.T=n}}t.current=e,pe=2}}function Lm(){if(pe===2){pe=0;var t=hi,e=Va,n=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||n){n=Z.T,Z.T=null;var a=L.p;L.p=2;var l=Yt;Yt|=4;try{fm(t,e.alternate,e)}finally{Yt=l,L.p=a,Z.T=n}}pe=3}}function Um(){if(pe===4||pe===3){pe=0,vt();var t=hi,e=Va,n=Pn,a=_m;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?pe=5:(pe=0,Va=hi=null,Vm(t,t.pendingLanes));var l=t.pendingLanes;if(l===0&&(di=null),il(n),e=e.stateNode,ge&&typeof ge.onCommitFiberRoot=="function")try{ge.onCommitFiberRoot(Jt,e,void 0,(e.current.flags&128)===128)}catch{}if(a!==null){e=Z.T,l=L.p,L.p=2,Z.T=null;try{for(var f=t.onRecoverableError,v=0;v<a.length;v++){var M=a[v];f(M.value,{componentStack:M.stack})}}finally{Z.T=e,L.p=l}}(Pn&3)!==0&&lo(),Tn(t),l=t.pendingLanes,(n&261930)!==0&&(l&42)!==0?t===Lc?Ls++:(Ls=0,Lc=t):Ls=0,Us(0)}}function Vm(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,vs(e)))}function lo(){return Bm(),Lm(),Um(),Fm()}function Fm(){if(pe!==5)return!1;var t=hi,e=Oc;Oc=0;var n=il(Pn),a=Z.T,l=L.p;try{L.p=32>n?32:n,Z.T=null,n=Bc,Bc=null;var f=hi,v=Pn;if(pe=0,Va=hi=null,Pn=0,(Yt&6)!==0)throw Error(o(331));var M=Yt;if(Yt|=4,Sm(f.current),vm(f,f.current,v,n),Yt=M,Us(0,!1),ge&&typeof ge.onPostCommitFiberRoot=="function")try{ge.onPostCommitFiberRoot(Jt,f)}catch{}return!0}finally{L.p=l,Z.T=a,Vm(t,e)}}function Hm(t,e,n){e=sn(n,e),e=pc(t.stateNode,e,2),t=ri(t,e,2),t!==null&&(as(t,2),Tn(t))}function Kt(t,e,n){if(t.tag===3)Hm(t,t,n);else for(;e!==null;){if(e.tag===3){Hm(e,t,n);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(di===null||!di.has(a))){t=sn(n,t),n=Ph(2),a=ri(e,n,2),a!==null&&(Ih(n,a,e,t),as(a,2),Tn(a));break}}e=e.return}}function Fc(t,e,n){var a=t.pingCache;if(a===null){a=t.pingCache=new Kv;var l=new Set;a.set(e,l)}else l=a.get(e),l===void 0&&(l=new Set,a.set(e,l));l.has(n)||(Nc=!0,l.add(n),t=t1.bind(null,t,e,n),e.then(t,t))}function t1(t,e,n){var a=t.pingCache;a!==null&&a.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,te===t&&(Vt&n)===n&&(oe===4||oe===3&&(Vt&62914560)===Vt&&300>xt()-no?(Yt&2)===0&&Fa(t,0):Rc|=n,Ua===Vt&&(Ua=0)),Tn(t)}function Pm(t,e){e===0&&(e=Bf()),t=Vi(t,e),t!==null&&(as(t,e),Tn(t))}function e1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Pm(t,n)}function n1(t,e){var n=0;switch(t.tag){case 31:case 13:var a=t.stateNode,l=t.memoizedState;l!==null&&(n=l.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(e),Pm(t,n)}function i1(t,e){return ht(t,e)}var co=null,Pa=null,Hc=!1,uo=!1,Pc=!1,pi=0;function Tn(t){t!==Pa&&t.next===null&&(Pa===null?co=Pa=t:Pa=Pa.next=t),uo=!0,Hc||(Hc=!0,s1())}function Us(t,e){if(!Pc&&uo){Pc=!0;do for(var n=!1,a=co;a!==null;){if(t!==0){var l=a.pendingLanes;if(l===0)var f=0;else{var v=a.suspendedLanes,M=a.pingedLanes;f=(1<<31-ae(42|t)+1)-1,f&=l&~(v&~M),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(n=!0,Ym(a,f))}else f=Vt,f=mr(a,a===te?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(f&3)===0||is(a,f)||(n=!0,Ym(a,f));a=a.next}while(n);Pc=!1}}function a1(){Im()}function Im(){uo=Hc=!1;var t=0;pi!==0&&p1()&&(t=pi);for(var e=xt(),n=null,a=co;a!==null;){var l=a.next,f=qm(a,e);f===0?(a.next=null,n===null?co=l:n.next=l,l===null&&(Pa=n)):(n=a,(t!==0||(f&3)!==0)&&(uo=!0)),a=l}pe!==0&&pe!==5||Us(t),pi!==0&&(pi=0)}function qm(t,e){for(var n=t.suspendedLanes,a=t.pingedLanes,l=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-ae(f),M=1<<v,F=l[v];F===-1?((M&n)===0||(M&a)!==0)&&(l[v]=My(M,e)):F<=e&&(t.expiredLanes|=M),f&=~M}if(e=te,n=Vt,n=mr(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,n===0||t===e&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&gt(a),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||is(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(a!==null&&gt(a),il(n)){case 2:case 8:n=Zt;break;case 32:n=Bt;break;case 268435456:n=$n;break;default:n=Bt}return a=Gm.bind(null,t),n=ht(n,a),t.callbackPriority=e,t.callbackNode=n,e}return a!==null&&a!==null&&gt(a),t.callbackPriority=2,t.callbackNode=null,2}function Gm(t,e){if(pe!==0&&pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(lo()&&t.callbackNode!==n)return null;var a=Vt;return a=mr(t,t===te?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(km(t,a,e),qm(t,xt()),t.callbackNode!=null&&t.callbackNode===n?Gm.bind(null,t):null)}function Ym(t,e){if(lo())return null;km(t,e,!0)}function s1(){y1(function(){(Yt&6)!==0?ht(kt,a1):Im()})}function Ic(){if(pi===0){var t=Aa;t===0&&(t=la,la<<=1,(la&261888)===0&&(la=256)),pi=t}return pi}function Zm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:vr(""+t)}function Xm(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function r1(t,e,n,a,l){if(e==="submit"&&n&&n.stateNode===l){var f=Zm((l[Oe]||null).action),v=a.submitter;v&&(e=(e=v[Oe]||null)?Zm(e.formAction):v.getAttribute("formAction"),e!==null&&(f=e,v=null));var M=new wr("action","action",null,a,l);t.push({event:M,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(pi!==0){var F=v?Xm(l,v):new FormData(l);cc(n,{pending:!0,data:F,method:l.method,action:f},null,F)}}else typeof f=="function"&&(M.preventDefault(),F=v?Xm(l,v):new FormData(l),cc(n,{pending:!0,data:F,method:l.method,action:f},f,F))},currentTarget:l}]})}}for(var qc=0;qc<kl.length;qc++){var Gc=kl[qc],o1=Gc.toLowerCase(),l1=Gc[0].toUpperCase()+Gc.slice(1);pn(o1,"on"+l1)}pn(Cd,"onAnimationEnd"),pn(kd,"onAnimationIteration"),pn(Ad,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(_v,"onTransitionRun"),pn(Cv,"onTransitionStart"),pn(kv,"onTransitionCancel"),pn(Ed,"onTransitionEnd"),ha("onMouseEnter",["mouseout","mouseover"]),ha("onMouseLeave",["mouseout","mouseover"]),ha("onPointerEnter",["pointerout","pointerover"]),ha("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vs));function Km(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var a=t[n],l=a.event;a=a.listeners;t:{var f=void 0;if(e)for(var v=a.length-1;0<=v;v--){var M=a[v],F=M.instance,et=M.currentTarget;if(M=M.listener,F!==f&&l.isPropagationStopped())break t;f=M,l.currentTarget=et;try{f(l)}catch(ut){Cr(ut)}l.currentTarget=null,f=F}else for(v=0;v<a.length;v++){if(M=a[v],F=M.instance,et=M.currentTarget,M=M.listener,F!==f&&l.isPropagationStopped())break t;f=M,l.currentTarget=et;try{f(l)}catch(ut){Cr(ut)}l.currentTarget=null,f=F}}}}function Ut(t,e){var n=e[al];n===void 0&&(n=e[al]=new Set);var a=t+"__bubble";n.has(a)||(Qm(e,t,2,!1),n.add(a))}function Yc(t,e,n){var a=0;e&&(a|=4),Qm(n,t,a,e)}var fo="_reactListening"+Math.random().toString(36).slice(2);function Zc(t){if(!t[fo]){t[fo]=!0,If.forEach(function(n){n!=="selectionchange"&&(c1.has(n)||Yc(n,!1,t),Yc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fo]||(e[fo]=!0,Yc("selectionchange",!1,e))}}function Qm(t,e,n,a){switch(Cp(e)){case 2:var l=L1;break;case 8:l=U1;break;default:l=lu}n=l.bind(null,e,n,t),l=void 0,!hl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),a?l!==void 0?t.addEventListener(e,n,{capture:!0,passive:l}):t.addEventListener(e,n,!0):l!==void 0?t.addEventListener(e,n,{passive:l}):t.addEventListener(e,n,!1)}function Xc(t,e,n,a,l){var f=a;if((e&1)===0&&(e&2)===0&&a!==null)t:for(;;){if(a===null)return;var v=a.tag;if(v===3||v===4){var M=a.stateNode.containerInfo;if(M===l)break;if(v===4)for(v=a.return;v!==null;){var F=v.tag;if((F===3||F===4)&&v.stateNode.containerInfo===l)return;v=v.return}for(;M!==null;){if(v=ua(M),v===null)return;if(F=v.tag,F===5||F===6||F===26||F===27){a=f=v;continue t}M=M.parentNode}}a=a.return}ed(function(){var et=f,ut=fl(n),mt=[];t:{var at=jd.get(t);if(at!==void 0){var ot=wr,Ct=t;switch(t){case"keypress":if(xr(n)===0)break t;case"keydown":case"keyup":ot=nv;break;case"focusin":Ct="focus",ot=yl;break;case"focusout":Ct="blur",ot=yl;break;case"beforeblur":case"afterblur":ot=yl;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ot=ad;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ot=qy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ot=sv;break;case Cd:case kd:case Ad:ot=Zy;break;case Ed:ot=ov;break;case"scroll":case"scrollend":ot=Py;break;case"wheel":ot=cv;break;case"copy":case"cut":case"paste":ot=Ky;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ot=rd;break;case"toggle":case"beforetoggle":ot=fv}var zt=(e&4)!==0,Wt=!zt&&(t==="scroll"||t==="scrollend"),Q=zt?at!==null?at+"Capture":null:at;zt=[];for(var Y=et,J;Y!==null;){var dt=Y;if(J=dt.stateNode,dt=dt.tag,dt!==5&&dt!==26&&dt!==27||J===null||Q===null||(dt=os(Y,Q),dt!=null&&zt.push(Fs(Y,dt,J))),Wt)break;Y=Y.return}0<zt.length&&(at=new ot(at,Ct,null,n,ut),mt.push({event:at,listeners:zt}))}}if((e&7)===0){t:{if(at=t==="mouseover"||t==="pointerover",ot=t==="mouseout"||t==="pointerout",at&&n!==ul&&(Ct=n.relatedTarget||n.fromElement)&&(ua(Ct)||Ct[ca]))break t;if((ot||at)&&(at=ut.window===ut?ut:(at=ut.ownerDocument)?at.defaultView||at.parentWindow:window,ot?(Ct=n.relatedTarget||n.toElement,ot=et,Ct=Ct?ua(Ct):null,Ct!==null&&(Wt=d(Ct),zt=Ct.tag,Ct!==Wt||zt!==5&&zt!==27&&zt!==6)&&(Ct=null)):(ot=null,Ct=et),ot!==Ct)){if(zt=ad,dt="onMouseLeave",Q="onMouseEnter",Y="mouse",(t==="pointerout"||t==="pointerover")&&(zt=rd,dt="onPointerLeave",Q="onPointerEnter",Y="pointer"),Wt=ot==null?at:rs(ot),J=Ct==null?at:rs(Ct),at=new zt(dt,Y+"leave",ot,n,ut),at.target=Wt,at.relatedTarget=J,dt=null,ua(ut)===et&&(zt=new zt(Q,Y+"enter",Ct,n,ut),zt.target=J,zt.relatedTarget=Wt,dt=zt),Wt=dt,ot&&Ct)e:{for(zt=u1,Q=ot,Y=Ct,J=0,dt=Q;dt;dt=zt(dt))J++;dt=0;for(var jt=Y;jt;jt=zt(jt))dt++;for(;0<J-dt;)Q=zt(Q),J--;for(;0<dt-J;)Y=zt(Y),dt--;for(;J--;){if(Q===Y||Y!==null&&Q===Y.alternate){zt=Q;break e}Q=zt(Q),Y=zt(Y)}zt=null}else zt=null;ot!==null&&$m(mt,at,ot,zt,!1),Ct!==null&&Wt!==null&&$m(mt,Wt,Ct,zt,!0)}}t:{if(at=et?rs(et):window,ot=at.nodeName&&at.nodeName.toLowerCase(),ot==="select"||ot==="input"&&at.type==="file")var qt=md;else if(dd(at))if(pd)qt=Sv;else{qt=bv;var At=vv}else ot=at.nodeName,!ot||ot.toLowerCase()!=="input"||at.type!=="checkbox"&&at.type!=="radio"?et&&cl(et.elementType)&&(qt=md):qt=xv;if(qt&&(qt=qt(t,et))){hd(mt,qt,n,ut);break t}At&&At(t,at,et),t==="focusout"&&et&&at.type==="number"&&et.memoizedProps.value!=null&&ll(at,"number",at.value)}switch(At=et?rs(et):window,t){case"focusin":(dd(At)||At.contentEditable==="true")&&(ba=At,Tl=et,ps=null);break;case"focusout":ps=Tl=ba=null;break;case"mousedown":_l=!0;break;case"contextmenu":case"mouseup":case"dragend":_l=!1,Td(mt,n,ut);break;case"selectionchange":if(Tv)break;case"keydown":case"keyup":Td(mt,n,ut)}var Ot;if(bl)t:{switch(t){case"compositionstart":var Ft="onCompositionStart";break t;case"compositionend":Ft="onCompositionEnd";break t;case"compositionupdate":Ft="onCompositionUpdate";break t}Ft=void 0}else va?ud(t,n)&&(Ft="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(Ft="onCompositionStart");Ft&&(od&&n.locale!=="ko"&&(va||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&va&&(Ot=nd()):(Jn=ut,ml="value"in Jn?Jn.value:Jn.textContent,va=!0)),At=ho(et,Ft),0<At.length&&(Ft=new sd(Ft,t,null,n,ut),mt.push({event:Ft,listeners:At}),Ot?Ft.data=Ot:(Ot=fd(n),Ot!==null&&(Ft.data=Ot)))),(Ot=hv?mv(t,n):pv(t,n))&&(Ft=ho(et,"onBeforeInput"),0<Ft.length&&(At=new sd("onBeforeInput","beforeinput",null,n,ut),mt.push({event:At,listeners:Ft}),At.data=Ot)),r1(mt,t,et,n,ut)}Km(mt,e)})}function Fs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ho(t,e){for(var n=e+"Capture",a=[];t!==null;){var l=t,f=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||f===null||(l=os(t,n),l!=null&&a.unshift(Fs(t,l,f)),l=os(t,e),l!=null&&a.push(Fs(t,l,f))),t.tag===3)return a;t=t.return}return[]}function u1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $m(t,e,n,a,l){for(var f=e._reactName,v=[];n!==null&&n!==a;){var M=n,F=M.alternate,et=M.stateNode;if(M=M.tag,F!==null&&F===a)break;M!==5&&M!==26&&M!==27||et===null||(F=et,l?(et=os(n,f),et!=null&&v.unshift(Fs(n,et,F))):l||(et=os(n,f),et!=null&&v.push(Fs(n,et,F)))),n=n.return}v.length!==0&&t.push({event:e,listeners:v})}var f1=/\r\n?/g,d1=/\u0000|\uFFFD/g;function Wm(t){return(typeof t=="string"?t:""+t).replace(f1,`
`).replace(d1,"")}function Jm(t,e){return e=Wm(e),Wm(t)===e}function $t(t,e,n,a,l,f){switch(n){case"children":typeof a=="string"?e==="body"||e==="textarea"&&a===""||pa(t,a):(typeof a=="number"||typeof a=="bigint")&&e!=="body"&&pa(t,""+a);break;case"className":gr(t,"class",a);break;case"tabIndex":gr(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":gr(t,n,a);break;case"style":Jf(t,a,f);break;case"data":if(e!=="object"){gr(t,"data",a);break}case"src":case"href":if(a===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=vr(""+a),t.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(n==="formAction"?(e!=="input"&&$t(t,e,"name",l.name,l,null),$t(t,e,"formEncType",l.formEncType,l,null),$t(t,e,"formMethod",l.formMethod,l,null),$t(t,e,"formTarget",l.formTarget,l,null)):($t(t,e,"encType",l.encType,l,null),$t(t,e,"method",l.method,l,null),$t(t,e,"target",l.target,l,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=vr(""+a),t.setAttribute(n,a);break;case"onClick":a!=null&&(t.onclick=An);break;case"onScroll":a!=null&&Ut("scroll",t);break;case"onScrollEnd":a!=null&&Ut("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(o(60));t.innerHTML=n}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}n=vr(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""+a):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":a===!0?t.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,a):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(n,a):t.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(n):t.setAttribute(n,a);break;case"popover":Ut("beforetoggle",t),Ut("toggle",t),pr(t,"popover",a);break;case"xlinkActuate":kn(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":kn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":kn(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":kn(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":kn(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":kn(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":kn(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":kn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":kn(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":pr(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Fy.get(n)||n,pr(t,n,a))}}function Kc(t,e,n,a,l,f){switch(n){case"style":Jf(t,a,f);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(o(60));t.innerHTML=n}}break;case"children":typeof a=="string"?pa(t,a):(typeof a=="number"||typeof a=="bigint")&&pa(t,""+a);break;case"onScroll":a!=null&&Ut("scroll",t);break;case"onScrollEnd":a!=null&&Ut("scrollend",t);break;case"onClick":a!=null&&(t.onclick=An);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qf.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),e=n.slice(2,l?n.length-7:void 0),f=t[Oe]||null,f=f!=null?f[n]:null,typeof f=="function"&&t.removeEventListener(e,f,l),typeof a=="function")){typeof f!="function"&&f!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,a,l);break t}n in t?t[n]=a:a===!0?t.setAttribute(n,""):pr(t,n,a)}}}function _e(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",t),Ut("load",t);var a=!1,l=!1,f;for(f in n)if(n.hasOwnProperty(f)){var v=n[f];if(v!=null)switch(f){case"src":a=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,e));default:$t(t,e,f,v,n,null)}}l&&$t(t,e,"srcSet",n.srcSet,n,null),a&&$t(t,e,"src",n.src,n,null);return;case"input":Ut("invalid",t);var M=f=v=l=null,F=null,et=null;for(a in n)if(n.hasOwnProperty(a)){var ut=n[a];if(ut!=null)switch(a){case"name":l=ut;break;case"type":v=ut;break;case"checked":F=ut;break;case"defaultChecked":et=ut;break;case"value":f=ut;break;case"defaultValue":M=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(o(137,e));break;default:$t(t,e,a,ut,n,null)}}Kf(t,f,M,F,et,v,l,!1);return;case"select":Ut("invalid",t),a=v=f=null;for(l in n)if(n.hasOwnProperty(l)&&(M=n[l],M!=null))switch(l){case"value":f=M;break;case"defaultValue":v=M;break;case"multiple":a=M;default:$t(t,e,l,M,n,null)}e=f,n=v,t.multiple=!!a,e!=null?ma(t,!!a,e,!1):n!=null&&ma(t,!!a,n,!0);return;case"textarea":Ut("invalid",t),f=l=a=null;for(v in n)if(n.hasOwnProperty(v)&&(M=n[v],M!=null))switch(v){case"value":a=M;break;case"defaultValue":l=M;break;case"children":f=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(o(91));break;default:$t(t,e,v,M,n,null)}$f(t,a,l,f);return;case"option":for(F in n)if(n.hasOwnProperty(F)&&(a=n[F],a!=null))switch(F){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:$t(t,e,F,a,n,null)}return;case"dialog":Ut("beforetoggle",t),Ut("toggle",t),Ut("cancel",t),Ut("close",t);break;case"iframe":case"object":Ut("load",t);break;case"video":case"audio":for(a=0;a<Vs.length;a++)Ut(Vs[a],t);break;case"image":Ut("error",t),Ut("load",t);break;case"details":Ut("toggle",t);break;case"embed":case"source":case"link":Ut("error",t),Ut("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in n)if(n.hasOwnProperty(et)&&(a=n[et],a!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,e));default:$t(t,e,et,a,n,null)}return;default:if(cl(e)){for(ut in n)n.hasOwnProperty(ut)&&(a=n[ut],a!==void 0&&Kc(t,e,ut,a,n,void 0));return}}for(M in n)n.hasOwnProperty(M)&&(a=n[M],a!=null&&$t(t,e,M,a,n,null))}function h1(t,e,n,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,f=null,v=null,M=null,F=null,et=null,ut=null;for(ot in n){var mt=n[ot];if(n.hasOwnProperty(ot)&&mt!=null)switch(ot){case"checked":break;case"value":break;case"defaultValue":F=mt;default:a.hasOwnProperty(ot)||$t(t,e,ot,null,a,mt)}}for(var at in a){var ot=a[at];if(mt=n[at],a.hasOwnProperty(at)&&(ot!=null||mt!=null))switch(at){case"type":f=ot;break;case"name":l=ot;break;case"checked":et=ot;break;case"defaultChecked":ut=ot;break;case"value":v=ot;break;case"defaultValue":M=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(o(137,e));break;default:ot!==mt&&$t(t,e,at,ot,a,mt)}}ol(t,v,M,F,et,ut,f,l);return;case"select":ot=v=M=at=null;for(f in n)if(F=n[f],n.hasOwnProperty(f)&&F!=null)switch(f){case"value":break;case"multiple":ot=F;default:a.hasOwnProperty(f)||$t(t,e,f,null,a,F)}for(l in a)if(f=a[l],F=n[l],a.hasOwnProperty(l)&&(f!=null||F!=null))switch(l){case"value":at=f;break;case"defaultValue":M=f;break;case"multiple":v=f;default:f!==F&&$t(t,e,l,f,a,F)}e=M,n=v,a=ot,at!=null?ma(t,!!n,at,!1):!!a!=!!n&&(e!=null?ma(t,!!n,e,!0):ma(t,!!n,n?[]:"",!1));return;case"textarea":ot=at=null;for(M in n)if(l=n[M],n.hasOwnProperty(M)&&l!=null&&!a.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:$t(t,e,M,null,a,l)}for(v in a)if(l=a[v],f=n[v],a.hasOwnProperty(v)&&(l!=null||f!=null))switch(v){case"value":at=l;break;case"defaultValue":ot=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(o(91));break;default:l!==f&&$t(t,e,v,l,a,f)}Qf(t,at,ot);return;case"option":for(var Ct in n)if(at=n[Ct],n.hasOwnProperty(Ct)&&at!=null&&!a.hasOwnProperty(Ct))switch(Ct){case"selected":t.selected=!1;break;default:$t(t,e,Ct,null,a,at)}for(F in a)if(at=a[F],ot=n[F],a.hasOwnProperty(F)&&at!==ot&&(at!=null||ot!=null))switch(F){case"selected":t.selected=at&&typeof at!="function"&&typeof at!="symbol";break;default:$t(t,e,F,at,a,ot)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var zt in n)at=n[zt],n.hasOwnProperty(zt)&&at!=null&&!a.hasOwnProperty(zt)&&$t(t,e,zt,null,a,at);for(et in a)if(at=a[et],ot=n[et],a.hasOwnProperty(et)&&at!==ot&&(at!=null||ot!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(o(137,e));break;default:$t(t,e,et,at,a,ot)}return;default:if(cl(e)){for(var Wt in n)at=n[Wt],n.hasOwnProperty(Wt)&&at!==void 0&&!a.hasOwnProperty(Wt)&&Kc(t,e,Wt,void 0,a,at);for(ut in a)at=a[ut],ot=n[ut],!a.hasOwnProperty(ut)||at===ot||at===void 0&&ot===void 0||Kc(t,e,ut,at,a,ot);return}}for(var Q in n)at=n[Q],n.hasOwnProperty(Q)&&at!=null&&!a.hasOwnProperty(Q)&&$t(t,e,Q,null,a,at);for(mt in a)at=a[mt],ot=n[mt],!a.hasOwnProperty(mt)||at===ot||at==null&&ot==null||$t(t,e,mt,at,a,ot)}function tp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function m1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var l=n[a],f=l.transferSize,v=l.initiatorType,M=l.duration;if(f&&M&&tp(v)){for(v=0,M=l.responseEnd,a+=1;a<n.length;a++){var F=n[a],et=F.startTime;if(et>M)break;var ut=F.transferSize,mt=F.initiatorType;ut&&tp(mt)&&(F=F.responseEnd,v+=ut*(F<M?1:(M-et)/(F-et)))}if(--a,e+=8*(f+v)/(l.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Qc=null,$c=null;function mo(t){return t.nodeType===9?t:t.ownerDocument}function ep(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function np(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Wc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jc=null;function p1(){var t=window.event;return t&&t.type==="popstate"?t===Jc?!1:(Jc=t,!0):(Jc=null,!1)}var ip=typeof setTimeout=="function"?setTimeout:void 0,g1=typeof clearTimeout=="function"?clearTimeout:void 0,ap=typeof Promise=="function"?Promise:void 0,y1=typeof queueMicrotask=="function"?queueMicrotask:typeof ap<"u"?function(t){return ap.resolve(null).then(t).catch(v1)}:ip;function v1(t){setTimeout(function(){throw t})}function gi(t){return t==="head"}function sp(t,e){var n=e,a=0;do{var l=n.nextSibling;if(t.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"||n==="/&"){if(a===0){t.removeChild(l),Ya(e);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Hs(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Hs(n);for(var f=n.firstChild;f;){var v=f.nextSibling,M=f.nodeName;f[ss]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&f.rel.toLowerCase()==="stylesheet"||n.removeChild(f),f=v}}else n==="body"&&Hs(t.ownerDocument.body);n=l}while(n);Ya(e)}function rp(t,e){var n=t;t=0;do{var a=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=a}while(n)}function tu(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":tu(n),sl(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function b1(t,e,n,a){for(;t.nodeType===1;){var l=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[ss])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==l.rel||t.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||t.getAttribute("title")!==(l.title==null?null:l.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(l.src==null?null:l.src)||t.getAttribute("type")!==(l.type==null?null:l.type)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var f=l.name==null?null:""+l.name;if(l.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=un(t.nextSibling),t===null)break}return null}function x1(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=un(t.nextSibling),t===null))return null;return t}function op(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=un(t.nextSibling),t===null))return null;return t}function eu(t){return t.data==="$?"||t.data==="$~"}function nu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function S1(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var a=function(){e(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function un(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var iu=null;function lp(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return un(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function cp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function up(t,e,n){switch(e=mo(n),t){case"html":if(t=e.documentElement,!t)throw Error(o(452));return t;case"head":if(t=e.head,!t)throw Error(o(453));return t;case"body":if(t=e.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function Hs(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);sl(t)}var fn=new Map,fp=new Set;function po(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var In=L.d;L.d={f:w1,r:T1,D:_1,C:C1,L:k1,m:A1,X:j1,S:E1,M:z1};function w1(){var t=In.f(),e=so();return t||e}function T1(t){var e=fa(t);e!==null&&e.tag===5&&e.type==="form"?Eh(e):In.r(t)}var Ia=typeof document>"u"?null:document;function dp(t,e,n){var a=Ia;if(a&&typeof e=="string"&&e){var l=nn(e);l='link[rel="'+t+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),fp.has(l)||(fp.add(l),t={rel:t,crossOrigin:n,href:e},a.querySelector(l)===null&&(e=a.createElement("link"),_e(e,"link",t),ye(e),a.head.appendChild(e)))}}function _1(t){In.D(t),dp("dns-prefetch",t,null)}function C1(t,e){In.C(t,e),dp("preconnect",t,e)}function k1(t,e,n){In.L(t,e,n);var a=Ia;if(a&&t&&e){var l='link[rel="preload"][as="'+nn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+nn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+nn(n.imageSizes)+'"]')):l+='[href="'+nn(t)+'"]';var f=l;switch(e){case"style":f=qa(t);break;case"script":f=Ga(t)}fn.has(f)||(t=g({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),fn.set(f,t),a.querySelector(l)!==null||e==="style"&&a.querySelector(Ps(f))||e==="script"&&a.querySelector(Is(f))||(e=a.createElement("link"),_e(e,"link",t),ye(e),a.head.appendChild(e)))}}function A1(t,e){In.m(t,e);var n=Ia;if(n&&t){var a=e&&typeof e.as=="string"?e.as:"script",l='link[rel="modulepreload"][as="'+nn(a)+'"][href="'+nn(t)+'"]',f=l;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ga(t)}if(!fn.has(f)&&(t=g({rel:"modulepreload",href:t},e),fn.set(f,t),n.querySelector(l)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Is(f)))return}a=n.createElement("link"),_e(a,"link",t),ye(a),n.head.appendChild(a)}}}function E1(t,e,n){In.S(t,e,n);var a=Ia;if(a&&t){var l=da(a).hoistableStyles,f=qa(t);e=e||"default";var v=l.get(f);if(!v){var M={loading:0,preload:null};if(v=a.querySelector(Ps(f)))M.loading=5;else{t=g({rel:"stylesheet",href:t,"data-precedence":e},n),(n=fn.get(f))&&au(t,n);var F=v=a.createElement("link");ye(F),_e(F,"link",t),F._p=new Promise(function(et,ut){F.onload=et,F.onerror=ut}),F.addEventListener("load",function(){M.loading|=1}),F.addEventListener("error",function(){M.loading|=2}),M.loading|=4,go(v,e,a)}v={type:"stylesheet",instance:v,count:1,state:M},l.set(f,v)}}}function j1(t,e){In.X(t,e);var n=Ia;if(n&&t){var a=da(n).hoistableScripts,l=Ga(t),f=a.get(l);f||(f=n.querySelector(Is(l)),f||(t=g({src:t,async:!0},e),(e=fn.get(l))&&su(t,e),f=n.createElement("script"),ye(f),_e(f,"link",t),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},a.set(l,f))}}function z1(t,e){In.M(t,e);var n=Ia;if(n&&t){var a=da(n).hoistableScripts,l=Ga(t),f=a.get(l);f||(f=n.querySelector(Is(l)),f||(t=g({src:t,async:!0,type:"module"},e),(e=fn.get(l))&&su(t,e),f=n.createElement("script"),ye(f),_e(f,"link",t),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},a.set(l,f))}}function hp(t,e,n,a){var l=(l=St.current)?po(l):null;if(!l)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=qa(n.href),n=da(l).hoistableStyles,a=n.get(e),a||(a={type:"style",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=qa(n.href);var f=da(l).hoistableStyles,v=f.get(t);if(v||(l=l.ownerDocument||l,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=l.querySelector(Ps(t)))&&!f._p&&(v.instance=f,v.state.loading=5),fn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},fn.set(t,n),f||M1(l,t,n,v.state))),e&&a===null)throw Error(o(528,""));return v}if(e&&a!==null)throw Error(o(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Ga(n),n=da(l).hoistableScripts,a=n.get(e),a||(a={type:"script",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function qa(t){return'href="'+nn(t)+'"'}function Ps(t){return'link[rel="stylesheet"]['+t+"]"}function mp(t){return g({},t,{"data-precedence":t.precedence,precedence:null})}function M1(t,e,n,a){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?a.loading=1:(e=t.createElement("link"),a.preload=e,e.addEventListener("load",function(){return a.loading|=1}),e.addEventListener("error",function(){return a.loading|=2}),_e(e,"link",n),ye(e),t.head.appendChild(e))}function Ga(t){return'[src="'+nn(t)+'"]'}function Is(t){return"script[async]"+t}function pp(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var a=t.querySelector('style[data-href~="'+nn(n.href)+'"]');if(a)return e.instance=a,ye(a),a;var l=g({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),ye(a),_e(a,"style",l),go(a,n.precedence,t),e.instance=a;case"stylesheet":l=qa(n.href);var f=t.querySelector(Ps(l));if(f)return e.state.loading|=4,e.instance=f,ye(f),f;a=mp(n),(l=fn.get(l))&&au(a,l),f=(t.ownerDocument||t).createElement("link"),ye(f);var v=f;return v._p=new Promise(function(M,F){v.onload=M,v.onerror=F}),_e(f,"link",a),e.state.loading|=4,go(f,n.precedence,t),e.instance=f;case"script":return f=Ga(n.src),(l=t.querySelector(Is(f)))?(e.instance=l,ye(l),l):(a=n,(l=fn.get(f))&&(a=g({},n),su(a,l)),t=t.ownerDocument||t,l=t.createElement("script"),ye(l),_e(l,"link",a),t.head.appendChild(l),e.instance=l);case"void":return null;default:throw Error(o(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(a=e.instance,e.state.loading|=4,go(a,n.precedence,t));return e.instance}function go(t,e,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=a.length?a[a.length-1]:null,f=l,v=0;v<a.length;v++){var M=a[v];if(M.dataset.precedence===e)f=M;else if(f!==l)break}f?f.parentNode.insertBefore(t,f.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function au(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function su(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var yo=null;function gp(t,e,n){if(yo===null){var a=new Map,l=yo=new Map;l.set(n,a)}else l=yo,a=l.get(n),a||(a=new Map,l.set(n,a));if(a.has(t))return a;for(a.set(t,null),n=n.getElementsByTagName(t),l=0;l<n.length;l++){var f=n[l];if(!(f[ss]||f[xe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(e)||"";v=t+v;var M=a.get(v);M?M.push(f):a.set(v,[f])}}return a}function yp(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function N1(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function vp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function R1(t,e,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var l=qa(a.href),f=e.querySelector(Ps(l));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=vo.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=f,ye(f);return}f=e.ownerDocument||e,a=mp(a),(l=fn.get(l))&&au(a,l),f=f.createElement("link"),ye(f);var v=f;v._p=new Promise(function(M,F){v.onload=M,v.onerror=F}),_e(f,"link",a),n.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(t.count++,n=vo.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var ru=0;function D1(t,e){return t.stylesheets&&t.count===0&&xo(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var a=setTimeout(function(){if(t.stylesheets&&xo(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+e);0<t.imgBytes&&ru===0&&(ru=62500*m1());var l=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&xo(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>ru?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(l)}}:null}function vo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bo=null;function xo(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bo=new Map,e.forEach(O1,t),bo=null,vo.call(t))}function O1(t,e){if(!(e.state.loading&4)){var n=bo.get(t);if(n)var a=n.get(null);else{n=new Map,bo.set(t,n);for(var l=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<l.length;f++){var v=l[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(n.set(v.dataset.precedence,v),a=v)}a&&n.set(null,a)}l=e.instance,v=l.getAttribute("data-precedence"),f=n.get(v)||a,f===a&&n.set(null,l),n.set(v,l),this.count++,a=vo.bind(this),l.addEventListener("load",a),l.addEventListener("error",a),f?f.parentNode.insertBefore(l,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(l,t.firstChild)),e.state.loading|=4}}var qs={$$typeof:A,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function B1(t,e,n,a,l,f,v,M,F){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=el(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=el(0),this.hiddenUpdates=el(null),this.identifierPrefix=a,this.onUncaughtError=l,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function bp(t,e,n,a,l,f,v,M,F,et,ut,mt){return t=new B1(t,e,n,v,F,et,ut,mt,M),e=1,f===!0&&(e|=24),f=Ge(3,null,null,e),t.current=f,f.stateNode=t,e=Vl(),e.refCount++,t.pooledCache=e,e.refCount++,f.memoizedState={element:a,isDehydrated:n,cache:e},Il(f),t}function xp(t){return t?(t=wa,t):wa}function Sp(t,e,n,a,l,f){l=xp(l),a.context===null?a.context=l:a.pendingContext=l,a=si(e),a.payload={element:n},f=f===void 0?null:f,f!==null&&(a.callback=f),n=ri(t,a,e),n!==null&&(He(n,t,e),ws(n,t,e))}function wp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ou(t,e){wp(t,e),(t=t.alternate)&&wp(t,e)}function Tp(t){if(t.tag===13||t.tag===31){var e=Vi(t,67108864);e!==null&&He(e,t,67108864),ou(t,67108864)}}function _p(t){if(t.tag===13||t.tag===31){var e=Qe();e=nl(e);var n=Vi(t,e);n!==null&&He(n,t,e),ou(t,e)}}var So=!0;function L1(t,e,n,a){var l=Z.T;Z.T=null;var f=L.p;try{L.p=2,lu(t,e,n,a)}finally{L.p=f,Z.T=l}}function U1(t,e,n,a){var l=Z.T;Z.T=null;var f=L.p;try{L.p=8,lu(t,e,n,a)}finally{L.p=f,Z.T=l}}function lu(t,e,n,a){if(So){var l=cu(a);if(l===null)Xc(t,e,a,wo,n),kp(t,a);else if(F1(l,t,e,n,a))a.stopPropagation();else if(kp(t,a),e&4&&-1<V1.indexOf(t)){for(;l!==null;){var f=fa(l);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=tn(f.pendingLanes);if(v!==0){var M=f;for(M.pendingLanes|=2,M.entangledLanes|=2;v;){var F=1<<31-ae(v);M.entanglements[1]|=F,v&=~F}Tn(f),(Yt&6)===0&&(io=xt()+500,Us(0))}}break;case 31:case 13:M=Vi(f,2),M!==null&&He(M,f,2),so(),ou(f,2)}if(f=cu(a),f===null&&Xc(t,e,a,wo,n),f===l)break;l=f}l!==null&&a.stopPropagation()}else Xc(t,e,a,null,n)}}function cu(t){return t=fl(t),uu(t)}var wo=null;function uu(t){if(wo=null,t=ua(t),t!==null){var e=d(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=u(e),t!==null)return t;t=null}else if(n===31){if(t=h(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return wo=t,null}function Cp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case kt:return 2;case Zt:return 8;case Bt:case De:return 32;case $n:return 268435456;default:return 32}default:return 32}}var fu=!1,yi=null,vi=null,bi=null,Gs=new Map,Ys=new Map,xi=[],V1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kp(t,e){switch(t){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":Gs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ys.delete(e.pointerId)}}function Zs(t,e,n,a,l,f){return t===null||t.nativeEvent!==f?(t={blockedOn:e,domEventName:n,eventSystemFlags:a,nativeEvent:f,targetContainers:[l]},e!==null&&(e=fa(e),e!==null&&Tp(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),t)}function F1(t,e,n,a,l){switch(e){case"focusin":return yi=Zs(yi,t,e,n,a,l),!0;case"dragenter":return vi=Zs(vi,t,e,n,a,l),!0;case"mouseover":return bi=Zs(bi,t,e,n,a,l),!0;case"pointerover":var f=l.pointerId;return Gs.set(f,Zs(Gs.get(f)||null,t,e,n,a,l)),!0;case"gotpointercapture":return f=l.pointerId,Ys.set(f,Zs(Ys.get(f)||null,t,e,n,a,l)),!0}return!1}function Ap(t){var e=ua(t.target);if(e!==null){var n=d(e);if(n!==null){if(e=n.tag,e===13){if(e=u(n),e!==null){t.blockedOn=e,Hf(t.priority,function(){_p(n)});return}}else if(e===31){if(e=h(n),e!==null){t.blockedOn=e,Hf(t.priority,function(){_p(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function To(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cu(t.nativeEvent);if(n===null){n=t.nativeEvent;var a=new n.constructor(n.type,n);ul=a,n.target.dispatchEvent(a),ul=null}else return e=fa(n),e!==null&&Tp(e),t.blockedOn=n,!1;e.shift()}return!0}function Ep(t,e,n){To(t)&&n.delete(e)}function H1(){fu=!1,yi!==null&&To(yi)&&(yi=null),vi!==null&&To(vi)&&(vi=null),bi!==null&&To(bi)&&(bi=null),Gs.forEach(Ep),Ys.forEach(Ep)}function _o(t,e){t.blockedOn===e&&(t.blockedOn=null,fu||(fu=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,H1)))}var Co=null;function jp(t){Co!==t&&(Co=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Co===t&&(Co=null);for(var e=0;e<t.length;e+=3){var n=t[e],a=t[e+1],l=t[e+2];if(typeof a!="function"){if(uu(a||n)===null)continue;break}var f=fa(n);f!==null&&(t.splice(e,3),e-=3,cc(f,{pending:!0,data:l,method:n.method,action:a},a,l))}}))}function Ya(t){function e(F){return _o(F,t)}yi!==null&&_o(yi,t),vi!==null&&_o(vi,t),bi!==null&&_o(bi,t),Gs.forEach(e),Ys.forEach(e);for(var n=0;n<xi.length;n++){var a=xi[n];a.blockedOn===t&&(a.blockedOn=null)}for(;0<xi.length&&(n=xi[0],n.blockedOn===null);)Ap(n),n.blockedOn===null&&xi.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var l=n[a],f=n[a+1],v=l[Oe]||null;if(typeof f=="function")v||jp(n);else if(v){var M=null;if(f&&f.hasAttribute("formAction")){if(l=f,v=f[Oe]||null)M=v.formAction;else if(uu(l)!==null)continue}else M=v.action;typeof M=="function"?n[a+1]=M:(n.splice(a,3),a-=3),jp(n)}}}function zp(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return l=v})},focusReset:"manual",scroll:"manual"})}function e(){l!==null&&(l(),l=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,l=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),l!==null&&(l(),l=null)}}}function du(t){this._internalRoot=t}ko.prototype.render=du.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(o(409));var n=e.current,a=Qe();Sp(n,a,t,e,null,null)},ko.prototype.unmount=du.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Sp(t.current,2,null,t,null,null),so(),e[ca]=null}};function ko(t){this._internalRoot=t}ko.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ff();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xi.length&&e!==0&&e<xi[n].priority;n++);xi.splice(n,0,t),n===0&&Ap(t)}};var Mp=i.version;if(Mp!=="19.2.3")throw Error(o(527,Mp,"19.2.3"));L.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=p(e),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var P1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ao.isDisabled&&Ao.supportsFiber)try{Jt=Ao.inject(P1),ge=Ao}catch{}}return Ks.createRoot=function(t,e){if(!c(t))throw Error(o(299));var n=!1,a="",l=Uh,f=Vh,v=Fh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onUncaughtError!==void 0&&(l=e.onUncaughtError),e.onCaughtError!==void 0&&(f=e.onCaughtError),e.onRecoverableError!==void 0&&(v=e.onRecoverableError)),e=bp(t,1,!1,null,null,n,a,null,l,f,v,zp),t[ca]=e.current,Zc(t),new du(e)},Ks.hydrateRoot=function(t,e,n){if(!c(t))throw Error(o(299));var a=!1,l="",f=Uh,v=Vh,M=Fh,F=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(v=n.onCaughtError),n.onRecoverableError!==void 0&&(M=n.onRecoverableError),n.formState!==void 0&&(F=n.formState)),e=bp(t,1,!0,e,n??null,a,l,F,f,v,M,zp),e.context=xp(null),n=e.current,a=Qe(),a=nl(a),l=si(a),l.callback=null,ri(n,l,a),n=a,e.current.lanes=n,as(e,n),Tn(e),t[ca]=e.current,Zc(t),new ko(e)},Ks.version="19.2.3",Ks}var Pp;function tb(){if(Pp)return pu.exports;Pp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(i){console.error(i)}}return s(),pu.exports=J1(),pu.exports}var eb=tb();const nb=tf(eb);var ib=e0();const nf=H.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"}),Yo=H.createContext({}),Zo=H.createContext(null),af=typeof document<"u",sf=af?H.useLayoutEffect:H.useEffect,n0=H.createContext({strict:!1}),rf=s=>s.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ab="framerAppearId",i0="data-"+rf(ab),sb={useManualTiming:!1};class Ip{constructor(){this.order=[],this.scheduled=new Set}add(i){if(!this.scheduled.has(i))return this.scheduled.add(i),this.order.push(i),!0}remove(i){const r=this.order.indexOf(i);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(i))}clear(){this.order.length=0,this.scheduled.clear()}}function rb(s){let i=new Ip,r=new Ip,o=0,c=!1,d=!1;const u=new WeakSet,h={schedule:(m,p=!1,y=!1)=>{const g=y&&c,w=g?i:r;return p&&u.add(m),w.add(m)&&g&&c&&(o=i.order.length),m},cancel:m=>{r.remove(m),u.delete(m)},process:m=>{if(c){d=!0;return}if(c=!0,[i,r]=[r,i],r.clear(),o=i.order.length,o)for(let p=0;p<o;p++){const y=i.order[p];u.has(y)&&(h.schedule(y),s()),y(m)}c=!1,d&&(d=!1,h.process(m))}};return h}const jo=["read","resolveKeyframes","update","preRender","render","postRender"],ob=40;function a0(s,i){let r=!1,o=!0;const c={delta:0,timestamp:0,isProcessing:!1},d=jo.reduce((g,w)=>(g[w]=rb(()=>r=!0),g),{}),u=g=>{d[g].process(c)},h=()=>{const g=performance.now();r=!1,c.delta=o?1e3/60:Math.max(Math.min(g-c.timestamp,ob),1),c.timestamp=g,c.isProcessing=!0,jo.forEach(u),c.isProcessing=!1,r&&i&&(o=!1,s(h))},m=()=>{r=!0,o=!0,c.isProcessing||s(h)};return{schedule:jo.reduce((g,w)=>{const b=d[w];return g[w]=(C,T=!1,j=!1)=>(r||m(),b.schedule(C,T,j)),g},{}),cancel:g=>jo.forEach(w=>d[w].cancel(g)),state:c,steps:d}}const{schedule:of}=a0(queueMicrotask,!1);function lb(s,i,r,o){const{visualElement:c}=H.useContext(Yo),d=H.useContext(n0),u=H.useContext(Zo),h=H.useContext(nf).reducedMotion,m=H.useRef();o=o||d.renderer,!m.current&&o&&(m.current=o(s,{visualState:i,parent:c,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const p=m.current;H.useInsertionEffect(()=>{p&&p.update(r,u)});const y=H.useRef(!!(r[i0]&&!window.HandoffComplete));return sf(()=>{p&&(of.postRender(p.render),y.current&&p.animationState&&p.animationState.animateChanges())}),H.useEffect(()=>{p&&(p.updateFeatures(),!y.current&&p.animationState&&p.animationState.animateChanges(),y.current&&(y.current=!1,window.HandoffComplete=!0))}),p}function Xa(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function cb(s,i,r){return H.useCallback(o=>{o&&s.mount&&s.mount(o),i&&(o?i.mount(o):i.unmount()),r&&(typeof r=="function"?r(o):Xa(r)&&(r.current=o))},[i])}function ar(s){return typeof s=="string"||Array.isArray(s)}function Xo(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}const lf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cf=["initial",...lf];function Ko(s){return Xo(s.animate)||cf.some(i=>ar(s[i]))}function s0(s){return!!(Ko(s)||s.variants)}function ub(s,i){if(Ko(s)){const{initial:r,animate:o}=s;return{initial:r===!1||ar(r)?r:void 0,animate:ar(o)?o:void 0}}return s.inherit!==!1?i:{}}function fb(s){const{initial:i,animate:r}=ub(s,H.useContext(Yo));return H.useMemo(()=>({initial:i,animate:r}),[qp(i),qp(r)])}function qp(s){return Array.isArray(s)?s.join(" "):s}const Gp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sr={};for(const s in Gp)sr[s]={isEnabled:i=>Gp[s].some(r=>!!i[r])};function db(s){for(const i in s)sr[i]={...sr[i],...s[i]}}const uf=H.createContext({}),r0=H.createContext({}),hb=Symbol.for("motionComponentSymbol");function mb({preloadedFeatures:s,createVisualElement:i,useRender:r,useVisualState:o,Component:c}){s&&db(s);function d(h,m){let p;const y={...H.useContext(nf),...h,layoutId:pb(h)},{isStatic:g}=y,w=fb(h),b=o(h,g);if(!g&&af){w.visualElement=lb(c,b,y,i);const C=H.useContext(r0),T=H.useContext(n0).strict;w.visualElement&&(p=w.visualElement.loadFeatures(y,T,s,C))}return x.jsxs(Yo.Provider,{value:w,children:[p&&w.visualElement?x.jsx(p,{visualElement:w.visualElement,...y}):null,r(c,h,cb(b,w.visualElement,m),b,g,w.visualElement)]})}const u=H.forwardRef(d);return u[hb]=c,u}function pb({layoutId:s}){const i=H.useContext(uf).id;return i&&s!==void 0?i+"-"+s:s}function gb(s){function i(o,c={}){return mb(s(o,c))}if(typeof Proxy>"u")return i;const r=new Map;return new Proxy(i,{get:(o,c)=>(r.has(c)||r.set(c,i(c)),r.get(c))})}const yb=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ff(s){return typeof s!="string"||s.includes("-")?!1:!!(yb.indexOf(s)>-1||/[A-Z]/u.test(s))}const Bo={};function vb(s){Object.assign(Bo,s)}const lr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],oa=new Set(lr);function o0(s,{layout:i,layoutId:r}){return oa.has(s)||s.startsWith("origin")||(i||r!==void 0)&&(!!Bo[s]||s==="opacity")}const je=s=>!!(s&&s.getVelocity),bb={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xb=lr.length;function Sb(s,{enableHardwareAcceleration:i=!0,allowTransformNone:r=!0},o,c){let d="";for(let u=0;u<xb;u++){const h=lr[u];if(s[h]!==void 0){const m=bb[h]||h;d+=`${m}(${s[h]}) `}}return i&&!s.z&&(d+="translateZ(0)"),d=d.trim(),c?d=c(s,o?"":d):r&&o&&(d="none"),d}const l0=s=>i=>typeof i=="string"&&i.startsWith(s),c0=l0("--"),wb=l0("var(--"),df=s=>wb(s)?Tb.test(s.split("/*")[0].trim()):!1,Tb=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_b=(s,i)=>i&&typeof s=="number"?i.transform(s):s,ji=(s,i,r)=>r>i?i:r<s?s:r,ns={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},Js={...ns,transform:s=>ji(0,1,s)},zo={...ns,default:1},tr=s=>Math.round(s*1e5)/1e5,hf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,Cb=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,kb=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function cr(s){return typeof s=="string"}const ur=s=>({test:i=>cr(i)&&i.endsWith(s)&&i.split(" ").length===1,parse:parseFloat,transform:i=>`${i}${s}`}),Ti=ur("deg"),Cn=ur("%"),Mt=ur("px"),Ab=ur("vh"),Eb=ur("vw"),Yp={...Cn,parse:s=>Cn.parse(s)/100,transform:s=>Cn.transform(s*100)},Zp={...ns,transform:Math.round},u0={borderWidth:Mt,borderTopWidth:Mt,borderRightWidth:Mt,borderBottomWidth:Mt,borderLeftWidth:Mt,borderRadius:Mt,radius:Mt,borderTopLeftRadius:Mt,borderTopRightRadius:Mt,borderBottomRightRadius:Mt,borderBottomLeftRadius:Mt,width:Mt,maxWidth:Mt,height:Mt,maxHeight:Mt,size:Mt,top:Mt,right:Mt,bottom:Mt,left:Mt,padding:Mt,paddingTop:Mt,paddingRight:Mt,paddingBottom:Mt,paddingLeft:Mt,margin:Mt,marginTop:Mt,marginRight:Mt,marginBottom:Mt,marginLeft:Mt,rotate:Ti,rotateX:Ti,rotateY:Ti,rotateZ:Ti,scale:zo,scaleX:zo,scaleY:zo,scaleZ:zo,skew:Ti,skewX:Ti,skewY:Ti,distance:Mt,translateX:Mt,translateY:Mt,translateZ:Mt,x:Mt,y:Mt,z:Mt,perspective:Mt,transformPerspective:Mt,opacity:Js,originX:Yp,originY:Yp,originZ:Mt,zIndex:Zp,backgroundPositionX:Mt,backgroundPositionY:Mt,fillOpacity:Js,strokeOpacity:Js,numOctaves:Zp};function mf(s,i,r,o){const{style:c,vars:d,transform:u,transformOrigin:h}=s;let m=!1,p=!1,y=!0;for(const g in i){const w=i[g];if(c0(g)){d[g]=w;continue}const b=u0[g],C=_b(w,b);if(oa.has(g)){if(m=!0,u[g]=C,!y)continue;w!==(b.default||0)&&(y=!1)}else g.startsWith("origin")?(p=!0,h[g]=C):c[g]=C}if(i.transform||(m||o?c.transform=Sb(s.transform,r,y,o):c.transform&&(c.transform="none")),p){const{originX:g="50%",originY:w="50%",originZ:b=0}=h;c.transformOrigin=`${g} ${w} ${b}`}}const pf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function f0(s,i,r){for(const o in i)!je(i[o])&&!o0(o,r)&&(s[o]=i[o])}function jb({transformTemplate:s},i,r){return H.useMemo(()=>{const o=pf();return mf(o,i,{enableHardwareAcceleration:!r},s),Object.assign({},o.vars,o.style)},[i])}function zb(s,i,r){const o=s.style||{},c={};return f0(c,o,s),Object.assign(c,jb(s,i,r)),c}function Mb(s,i,r){const o={},c=zb(s,i,r);return s.drag&&s.dragListener!==!1&&(o.draggable=!1,c.userSelect=c.WebkitUserSelect=c.WebkitTouchCallout="none",c.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(o.tabIndex=0),o.style=c,o}const Nb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Lo(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||Nb.has(s)}let d0=s=>!Lo(s);function Rb(s){s&&(d0=i=>i.startsWith("on")?!Lo(i):s(i))}try{Rb(require("@emotion/is-prop-valid").default)}catch{}function Db(s,i,r){const o={};for(const c in s)c==="values"&&typeof s.values=="object"||(d0(c)||r===!0&&Lo(c)||!i&&!Lo(c)||s.draggable&&c.startsWith("onDrag"))&&(o[c]=s[c]);return o}function Xp(s,i,r){return typeof s=="string"?s:Mt.transform(i+r*s)}function Ob(s,i,r){const o=Xp(i,s.x,s.width),c=Xp(r,s.y,s.height);return`${o} ${c}`}const Bb={offset:"stroke-dashoffset",array:"stroke-dasharray"},Lb={offset:"strokeDashoffset",array:"strokeDasharray"};function Ub(s,i,r=1,o=0,c=!0){s.pathLength=1;const d=c?Bb:Lb;s[d.offset]=Mt.transform(-o);const u=Mt.transform(i),h=Mt.transform(r);s[d.array]=`${u} ${h}`}function gf(s,{attrX:i,attrY:r,attrScale:o,originX:c,originY:d,pathLength:u,pathSpacing:h=1,pathOffset:m=0,...p},y,g,w){if(mf(s,p,y,w),g){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:b,style:C,dimensions:T}=s;b.transform&&(T&&(C.transform=b.transform),delete b.transform),T&&(c!==void 0||d!==void 0||C.transform)&&(C.transformOrigin=Ob(T,c!==void 0?c:.5,d!==void 0?d:.5)),i!==void 0&&(b.x=i),r!==void 0&&(b.y=r),o!==void 0&&(b.scale=o),u!==void 0&&Ub(b,u,h,m,!1)}const h0=()=>({...pf(),attrs:{}}),yf=s=>typeof s=="string"&&s.toLowerCase()==="svg";function Vb(s,i,r,o){const c=H.useMemo(()=>{const d=h0();return gf(d,i,{enableHardwareAcceleration:!1},yf(o),s.transformTemplate),{...d.attrs,style:{...d.style}}},[i]);if(s.style){const d={};f0(d,s.style,s),c.style={...d,...c.style}}return c}function Fb(s=!1){return(r,o,c,{latestValues:d},u)=>{const m=(ff(r)?Vb:Mb)(o,d,u,r),p=Db(o,typeof r=="string",s),y=r!==H.Fragment?{...p,...m,ref:c}:{},{children:g}=o,w=H.useMemo(()=>je(g)?g.get():g,[g]);return H.createElement(r,{...y,children:w})}}function m0(s,{style:i,vars:r},o,c){Object.assign(s.style,i,c&&c.getProjectionStyles(o));for(const d in r)s.style.setProperty(d,r[d])}const p0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function g0(s,i,r,o){m0(s,i,void 0,o);for(const c in i.attrs)s.setAttribute(p0.has(c)?c:rf(c),i.attrs[c])}function vf(s,i,r){var o;const{style:c}=s,d={};for(const u in c)(je(c[u])||i.style&&je(i.style[u])||o0(u,s)||((o=r==null?void 0:r.getValue(u))===null||o===void 0?void 0:o.liveStyle)!==void 0)&&(d[u]=c[u]);return d}function y0(s,i,r){const o=vf(s,i,r);for(const c in s)if(je(s[c])||je(i[c])){const d=lr.indexOf(c)!==-1?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c;o[d]=s[c]}return o}function bf(s,i,r,o={},c={}){return typeof i=="function"&&(i=i(r!==void 0?r:s.custom,o,c)),typeof i=="string"&&(i=s.variants&&s.variants[i]),typeof i=="function"&&(i=i(r!==void 0?r:s.custom,o,c)),i}function v0(s){const i=H.useRef(null);return i.current===null&&(i.current=s()),i.current}const Lu=s=>Array.isArray(s),Hb=s=>!!(s&&typeof s=="object"&&s.mix&&s.toValue),Pb=s=>Lu(s)?s[s.length-1]||0:s;function Ro(s){const i=je(s)?s.get():s;return Hb(i)?i.toValue():i}function Ib({scrapeMotionValuesFromProps:s,createRenderState:i,onMount:r},o,c,d){const u={latestValues:qb(o,c,d,s),renderState:i()};return r&&(u.mount=h=>r(o,h,u)),u}const b0=s=>(i,r)=>{const o=H.useContext(Yo),c=H.useContext(Zo),d=()=>Ib(s,i,o,c);return r?d():v0(d)};function qb(s,i,r,o){const c={},d=o(s,{});for(const w in d)c[w]=Ro(d[w]);let{initial:u,animate:h}=s;const m=Ko(s),p=s0(s);i&&p&&!m&&s.inherit!==!1&&(u===void 0&&(u=i.initial),h===void 0&&(h=i.animate));let y=r?r.initial===!1:!1;y=y||u===!1;const g=y?h:u;return g&&typeof g!="boolean"&&!Xo(g)&&(Array.isArray(g)?g:[g]).forEach(b=>{const C=bf(s,b);if(!C)return;const{transitionEnd:T,transition:j,...E}=C;for(const k in E){let A=E[k];if(Array.isArray(A)){const B=y?A.length-1:0;A=A[B]}A!==null&&(c[k]=A)}for(const k in T)c[k]=T[k]}),c}const ze=s=>s,{schedule:be,cancel:zi,state:Ce,steps:bu}=a0(typeof requestAnimationFrame<"u"?requestAnimationFrame:ze,!0),Gb={useVisualState:b0({scrapeMotionValuesFromProps:y0,createRenderState:h0,onMount:(s,i,{renderState:r,latestValues:o})=>{be.read(()=>{try{r.dimensions=typeof i.getBBox=="function"?i.getBBox():i.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),be.render(()=>{gf(r,o,{enableHardwareAcceleration:!1},yf(i.tagName),s.transformTemplate),g0(i,r)})}})},Yb={useVisualState:b0({scrapeMotionValuesFromProps:vf,createRenderState:pf})};function Zb(s,{forwardMotionProps:i=!1},r,o){return{...ff(s)?Gb:Yb,preloadedFeatures:r,useRender:Fb(i),createVisualElement:o,Component:s}}function qn(s,i,r,o={passive:!0}){return s.addEventListener(i,r,o),()=>s.removeEventListener(i,r)}const x0=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1;function Qo(s,i="page"){return{point:{x:s[`${i}X`],y:s[`${i}Y`]}}}const Xb=s=>i=>x0(i)&&s(i,Qo(i));function Xn(s,i,r,o){return qn(s,i,Xb(r),o)}const Kb=(s,i)=>r=>i(s(r)),Kn=(...s)=>s.reduce(Kb);function S0(s){let i=null;return()=>{const r=()=>{i=null};return i===null?(i=s,r):!1}}const Kp=S0("dragHorizontal"),Qp=S0("dragVertical");function w0(s){let i=!1;if(s==="y")i=Qp();else if(s==="x")i=Kp();else{const r=Kp(),o=Qp();r&&o?i=()=>{r(),o()}:(r&&r(),o&&o())}return i}function T0(){const s=w0(!0);return s?(s(),!1):!0}class Ni{constructor(i){this.isMounted=!1,this.node=i}update(){}}function $p(s,i){const r=i?"pointerenter":"pointerleave",o=i?"onHoverStart":"onHoverEnd",c=(d,u)=>{if(d.pointerType==="touch"||T0())return;const h=s.getProps();s.animationState&&h.whileHover&&s.animationState.setActive("whileHover",i);const m=h[o];m&&m(d,u)};return Xn(s.current,r,c,{passive:!s.getProps()[o]})}class Qb extends Ni{mount(){this.unmount=Kn($p(this.node,!0),$p(this.node,!1))}unmount(){}}class $b extends Ni{constructor(){super(...arguments),this.isActive=!1}onFocus(){let i=!1;try{i=this.node.current.matches(":focus-visible")}catch{i=!0}!i||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kn(qn(this.node.current,"focus",()=>this.onFocus()),qn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const _0=(s,i)=>i?s===i?!0:_0(s,i.parentElement):!1;function xu(s,i){if(!i)return;const r=new PointerEvent("pointer"+s);i(r,Qo(r))}class Wb extends Ni{constructor(){super(...arguments),this.removeStartListeners=ze,this.removeEndListeners=ze,this.removeAccessibleListeners=ze,this.startPointerPress=(i,r)=>{if(this.isPressing)return;this.removeEndListeners();const o=this.node.getProps(),d=Xn(window,"pointerup",(h,m)=>{if(!this.checkPressEnd())return;const{onTap:p,onTapCancel:y,globalTapTarget:g}=this.node.getProps();!g&&!_0(this.node.current,h.target)?y&&y(h,m):p&&p(h,m)},{passive:!(o.onTap||o.onPointerUp)}),u=Xn(window,"pointercancel",(h,m)=>this.cancelPress(h,m),{passive:!(o.onTapCancel||o.onPointerCancel)});this.removeEndListeners=Kn(d,u),this.startPress(i,r)},this.startAccessiblePress=()=>{const i=d=>{if(d.key!=="Enter"||this.isPressing)return;const u=h=>{h.key!=="Enter"||!this.checkPressEnd()||xu("up",(m,p)=>{const{onTap:y}=this.node.getProps();y&&y(m,p)})};this.removeEndListeners(),this.removeEndListeners=qn(this.node.current,"keyup",u),xu("down",(h,m)=>{this.startPress(h,m)})},r=qn(this.node.current,"keydown",i),o=()=>{this.isPressing&&xu("cancel",(d,u)=>this.cancelPress(d,u))},c=qn(this.node.current,"blur",o);this.removeAccessibleListeners=Kn(r,c)}}startPress(i,r){this.isPressing=!0;const{onTapStart:o,whileTap:c}=this.node.getProps();c&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),o&&o(i,r)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!T0()}cancelPress(i,r){if(!this.checkPressEnd())return;const{onTapCancel:o}=this.node.getProps();o&&o(i,r)}mount(){const i=this.node.getProps(),r=Xn(i.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(i.onTapStart||i.onPointerStart)}),o=qn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Kn(r,o)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Uu=new WeakMap,Su=new WeakMap,Jb=s=>{const i=Uu.get(s.target);i&&i(s)},tx=s=>{s.forEach(Jb)};function ex({root:s,...i}){const r=s||document;Su.has(r)||Su.set(r,{});const o=Su.get(r),c=JSON.stringify(i);return o[c]||(o[c]=new IntersectionObserver(tx,{root:s,...i})),o[c]}function nx(s,i,r){const o=ex(i);return Uu.set(s,r),o.observe(s),()=>{Uu.delete(s),o.unobserve(s)}}const ix={some:0,all:1};class ax extends Ni{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:i={}}=this.node.getProps(),{root:r,margin:o,amount:c="some",once:d}=i,u={root:r?r.current:void 0,rootMargin:o,threshold:typeof c=="number"?c:ix[c]},h=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,d&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:g}=this.node.getProps(),w=p?y:g;w&&w(m)};return nx(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:i,prevProps:r}=this.node;["amount","margin","root"].some(sx(i,r))&&this.startObserver()}unmount(){}}function sx({viewport:s={}},{viewport:i={}}={}){return r=>s[r]!==i[r]}const rx={inView:{Feature:ax},tap:{Feature:Wb},focus:{Feature:$b},hover:{Feature:Qb}};function C0(s,i){if(!Array.isArray(i))return!1;const r=i.length;if(r!==s.length)return!1;for(let o=0;o<r;o++)if(i[o]!==s[o])return!1;return!0}function ox(s){const i={};return s.values.forEach((r,o)=>i[o]=r.get()),i}function lx(s){const i={};return s.values.forEach((r,o)=>i[o]=r.getVelocity()),i}function $o(s,i,r){const o=s.getProps();return bf(o,i,r!==void 0?r:o.custom,ox(s),lx(s))}const Ai=s=>s*1e3,Qn=s=>s/1e3,cx={type:"spring",stiffness:500,damping:25,restSpeed:10},ux=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),fx={type:"keyframes",duration:.8},dx={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hx=(s,{keyframes:i})=>i.length>2?fx:oa.has(s)?s.startsWith("scale")?ux(i[1]):cx:dx;function mx({when:s,delay:i,delayChildren:r,staggerChildren:o,staggerDirection:c,repeat:d,repeatType:u,repeatDelay:h,from:m,elapsed:p,...y}){return!!Object.keys(y).length}function xf(s,i){return s[i]||s.default||s}const px=s=>s!==null;function Wo(s,{repeat:i,repeatType:r="loop"},o){const c=s.filter(px),d=i&&r!=="loop"&&i%2===1?0:c.length-1;return!d||o===void 0?c[d]:o}let Do;function gx(){Do=void 0}const Ei={now:()=>(Do===void 0&&Ei.set(Ce.isProcessing||sb.useManualTiming?Ce.timestamp:performance.now()),Do),set:s=>{Do=s,queueMicrotask(gx)}},k0=s=>/^0[^.\s]+$/u.test(s);function yx(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||k0(s):!0}let A0=ze;const E0=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s),vx=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bx(s){const i=vx.exec(s);if(!i)return[,];const[,r,o,c]=i;return[`--${r??o}`,c]}function j0(s,i,r=1){const[o,c]=bx(s);if(!o)return;const d=window.getComputedStyle(i).getPropertyValue(o);if(d){const u=d.trim();return E0(u)?parseFloat(u):u}return df(c)?j0(c,i,r+1):c}const xx=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Wp=s=>s===ns||s===Mt,Jp=(s,i)=>parseFloat(s.split(", ")[i]),tg=(s,i)=>(r,{transform:o})=>{if(o==="none"||!o)return 0;const c=o.match(/^matrix3d\((.+)\)$/u);if(c)return Jp(c[1],i);{const d=o.match(/^matrix\((.+)\)$/u);return d?Jp(d[1],s):0}},Sx=new Set(["x","y","z"]),wx=lr.filter(s=>!Sx.has(s));function Tx(s){const i=[];return wx.forEach(r=>{const o=s.getValue(r);o!==void 0&&(i.push([r,o.get()]),o.set(r.startsWith("scale")?1:0))}),i}const ts={width:({x:s},{paddingLeft:i="0",paddingRight:r="0"})=>s.max-s.min-parseFloat(i)-parseFloat(r),height:({y:s},{paddingTop:i="0",paddingBottom:r="0"})=>s.max-s.min-parseFloat(i)-parseFloat(r),top:(s,{top:i})=>parseFloat(i),left:(s,{left:i})=>parseFloat(i),bottom:({y:s},{top:i})=>parseFloat(i)+(s.max-s.min),right:({x:s},{left:i})=>parseFloat(i)+(s.max-s.min),x:tg(4,13),y:tg(5,14)};ts.translateX=ts.x;ts.translateY=ts.y;const z0=s=>i=>i.test(s),_x={test:s=>s==="auto",parse:s=>s},M0=[ns,Mt,Cn,Ti,Eb,Ab,_x],eg=s=>M0.find(z0(s)),ra=new Set;let Vu=!1,Fu=!1;function N0(){if(Fu){const s=Array.from(ra).filter(o=>o.needsMeasurement),i=new Set(s.map(o=>o.element)),r=new Map;i.forEach(o=>{const c=Tx(o);c.length&&(r.set(o,c),o.render())}),s.forEach(o=>o.measureInitialState()),i.forEach(o=>{o.render();const c=r.get(o);c&&c.forEach(([d,u])=>{var h;(h=o.getValue(d))===null||h===void 0||h.set(u)})}),s.forEach(o=>o.measureEndState()),s.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}Fu=!1,Vu=!1,ra.forEach(s=>s.complete()),ra.clear()}function R0(){ra.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(Fu=!0)})}function Cx(){R0(),N0()}class Sf{constructor(i,r,o,c,d,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...i],this.onComplete=r,this.name=o,this.motionValue=c,this.element=d,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ra.add(this),Vu||(Vu=!0,be.read(R0),be.resolveKeyframes(N0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:i,name:r,element:o,motionValue:c}=this;for(let d=0;d<i.length;d++)if(i[d]===null)if(d===0){const u=c==null?void 0:c.get(),h=i[i.length-1];if(u!==void 0)i[0]=u;else if(o&&r){const m=o.readValue(r,h);m!=null&&(i[0]=m)}i[0]===void 0&&(i[0]=h),c&&u===void 0&&c.set(i[0])}else i[d]=i[d-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ra.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ra.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const wf=(s,i)=>r=>!!(cr(r)&&kb.test(r)&&r.startsWith(s)||i&&Object.prototype.hasOwnProperty.call(r,i)),D0=(s,i,r)=>o=>{if(!cr(o))return o;const[c,d,u,h]=o.match(hf);return{[s]:parseFloat(c),[i]:parseFloat(d),[r]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},kx=s=>ji(0,255,s),wu={...ns,transform:s=>Math.round(kx(s))},ia={test:wf("rgb","red"),parse:D0("red","green","blue"),transform:({red:s,green:i,blue:r,alpha:o=1})=>"rgba("+wu.transform(s)+", "+wu.transform(i)+", "+wu.transform(r)+", "+tr(Js.transform(o))+")"};function Ax(s){let i="",r="",o="",c="";return s.length>5?(i=s.substring(1,3),r=s.substring(3,5),o=s.substring(5,7),c=s.substring(7,9)):(i=s.substring(1,2),r=s.substring(2,3),o=s.substring(3,4),c=s.substring(4,5),i+=i,r+=r,o+=o,c+=c),{red:parseInt(i,16),green:parseInt(r,16),blue:parseInt(o,16),alpha:c?parseInt(c,16)/255:1}}const Hu={test:wf("#"),parse:Ax,transform:ia.transform},Ka={test:wf("hsl","hue"),parse:D0("hue","saturation","lightness"),transform:({hue:s,saturation:i,lightness:r,alpha:o=1})=>"hsla("+Math.round(s)+", "+Cn.transform(tr(i))+", "+Cn.transform(tr(r))+", "+tr(Js.transform(o))+")"},Ae={test:s=>ia.test(s)||Hu.test(s)||Ka.test(s),parse:s=>ia.test(s)?ia.parse(s):Ka.test(s)?Ka.parse(s):Hu.parse(s),transform:s=>cr(s)?s:s.hasOwnProperty("red")?ia.transform(s):Ka.transform(s)};function Ex(s){var i,r;return isNaN(s)&&cr(s)&&(((i=s.match(hf))===null||i===void 0?void 0:i.length)||0)+(((r=s.match(Cb))===null||r===void 0?void 0:r.length)||0)>0}const O0="number",B0="color",jx="var",zx="var(",ng="${}",Mx=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uo(s){const i=s.toString(),r=[],o={color:[],number:[],var:[]},c=[];let d=0;const h=i.replace(Mx,m=>(Ae.test(m)?(o.color.push(d),c.push(B0),r.push(Ae.parse(m))):m.startsWith(zx)?(o.var.push(d),c.push(jx),r.push(m)):(o.number.push(d),c.push(O0),r.push(parseFloat(m))),++d,ng)).split(ng);return{values:r,split:h,indexes:o,types:c}}function L0(s){return Uo(s).values}function U0(s){const{split:i,types:r}=Uo(s),o=i.length;return c=>{let d="";for(let u=0;u<o;u++)if(d+=i[u],c[u]!==void 0){const h=r[u];h===O0?d+=tr(c[u]):h===B0?d+=Ae.transform(c[u]):d+=c[u]}return d}}const Nx=s=>typeof s=="number"?0:s;function Rx(s){const i=L0(s);return U0(s)(i.map(Nx))}const Mi={test:Ex,parse:L0,createTransformer:U0,getAnimatableNone:Rx},Dx=new Set(["brightness","contrast","saturate","opacity"]);function Ox(s){const[i,r]=s.slice(0,-1).split("(");if(i==="drop-shadow")return s;const[o]=r.match(hf)||[];if(!o)return s;const c=r.replace(o,"");let d=Dx.has(i)?1:0;return o!==r&&(d*=100),i+"("+d+c+")"}const Bx=/\b([a-z-]*)\(.*?\)/gu,Pu={...Mi,getAnimatableNone:s=>{const i=s.match(Bx);return i?i.map(Ox).join(" "):s}},Lx={...u0,color:Ae,backgroundColor:Ae,outlineColor:Ae,fill:Ae,stroke:Ae,borderColor:Ae,borderTopColor:Ae,borderRightColor:Ae,borderBottomColor:Ae,borderLeftColor:Ae,filter:Pu,WebkitFilter:Pu},Tf=s=>Lx[s];function V0(s,i){let r=Tf(s);return r!==Pu&&(r=Mi),r.getAnimatableNone?r.getAnimatableNone(i):void 0}function Ux(s,i,r){let o=0,c;for(;o<s.length&&!c;)typeof s[o]=="string"&&s[o]!=="none"&&s[o]!=="0"&&(c=s[o]),o++;if(c&&r)for(const d of i)s[d]=V0(r,c)}class F0 extends Sf{constructor(i,r,o,c){super(i,r,o,c,c==null?void 0:c.owner,!0)}readKeyframes(){const{unresolvedKeyframes:i,element:r,name:o}=this;if(!r.current)return;super.readKeyframes();for(let m=0;m<i.length;m++){const p=i[m];if(typeof p=="string"&&df(p)){const y=j0(p,r.current);y!==void 0&&(i[m]=y),m===i.length-1&&(this.finalKeyframe=p)}}if(!xx.has(o)||i.length!==2)return this.resolveNoneKeyframes();const[c,d]=i,u=eg(c),h=eg(d);if(u!==h)if(Wp(u)&&Wp(h))for(let m=0;m<i.length;m++){const p=i[m];typeof p=="string"&&(i[m]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:i,name:r}=this,o=[];for(let c=0;c<i.length;c++)yx(i[c])&&o.push(c);o.length&&Ux(i,o,r)}measureInitialState(){const{element:i,unresolvedKeyframes:r,name:o}=this;if(!i.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ts[o](i.measureViewportBox(),window.getComputedStyle(i.current)),r[0]=this.measuredOrigin;const c=r[r.length-1];c!==void 0&&i.getValue(o,c).jump(c,!1)}measureEndState(){var i;const{element:r,name:o,unresolvedKeyframes:c}=this;if(!r.current)return;const d=r.getValue(o);d&&d.jump(this.measuredOrigin,!1);const u=c.length-1,h=c[u];c[u]=ts[o](r.measureViewportBox(),window.getComputedStyle(r.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((i=this.removedTransforms)===null||i===void 0)&&i.length&&this.removedTransforms.forEach(([m,p])=>{r.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function Vx(s){let i;return()=>(i===void 0&&(i=s()),i)}const ig=(s,i)=>i==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(Mi.test(s)||s==="0")&&!s.startsWith("url("));function Fx(s){const i=s[0];if(s.length===1)return!0;for(let r=0;r<s.length;r++)if(s[r]!==i)return!0}function Hx(s,i,r,o){const c=s[0];if(c===null)return!1;const d=s[s.length-1],u=ig(c,i),h=ig(d,i);return!u||!h?!1:Fx(s)||r==="spring"&&o}class H0{constructor({autoplay:i=!0,delay:r=0,type:o="keyframes",repeat:c=0,repeatDelay:d=0,repeatType:u="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:i,delay:r,type:o,repeat:c,repeatDelay:d,repeatType:u,...h},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Cx(),this._resolved}onKeyframesResolved(i,r){this.hasAttemptedResolve=!0;const{name:o,type:c,velocity:d,delay:u,onComplete:h,onUpdate:m,isGenerator:p}=this.options;if(!p&&!Hx(i,o,c,d))if(u)this.options.duration=0;else{m==null||m(Wo(i,this.options,r)),h==null||h(),this.resolveFinishedPromise();return}const y=this.initPlayback(i,r);y!==!1&&(this._resolved={keyframes:i,finalKeyframe:r,...y},this.onPostResolved())}onPostResolved(){}then(i,r){return this.currentFinishedPromise.then(i,r)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(i=>{this.resolveFinishedPromise=i})}}function P0(s,i){return i?s*(1e3/i):0}const Px=5;function I0(s,i,r){const o=Math.max(i-Px,0);return P0(r-s(o),i-o)}const Tu=.001,Ix=.01,qx=10,Gx=.05,Yx=1;function Zx({duration:s=800,bounce:i=.25,velocity:r=0,mass:o=1}){let c,d,u=1-i;u=ji(Gx,Yx,u),s=ji(Ix,qx,Qn(s)),u<1?(c=p=>{const y=p*u,g=y*s,w=y-r,b=Iu(p,u),C=Math.exp(-g);return Tu-w/b*C},d=p=>{const g=p*u*s,w=g*r+r,b=Math.pow(u,2)*Math.pow(p,2)*s,C=Math.exp(-g),T=Iu(Math.pow(p,2),u);return(-c(p)+Tu>0?-1:1)*((w-b)*C)/T}):(c=p=>{const y=Math.exp(-p*s),g=(p-r)*s+1;return-Tu+y*g},d=p=>{const y=Math.exp(-p*s),g=(r-p)*(s*s);return y*g});const h=5/s,m=Kx(c,d,h);if(s=Ai(s),isNaN(m))return{stiffness:100,damping:10,duration:s};{const p=Math.pow(m,2)*o;return{stiffness:p,damping:u*2*Math.sqrt(o*p),duration:s}}}const Xx=12;function Kx(s,i,r){let o=r;for(let c=1;c<Xx;c++)o=o-s(o)/i(o);return o}function Iu(s,i){return s*Math.sqrt(1-i*i)}const Qx=["duration","bounce"],$x=["stiffness","damping","mass"];function ag(s,i){return i.some(r=>s[r]!==void 0)}function Wx(s){let i={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...s};if(!ag(s,$x)&&ag(s,Qx)){const r=Zx(s);i={...i,...r,mass:1},i.isResolvedFromDuration=!0}return i}function q0({keyframes:s,restDelta:i,restSpeed:r,...o}){const c=s[0],d=s[s.length-1],u={done:!1,value:c},{stiffness:h,damping:m,mass:p,duration:y,velocity:g,isResolvedFromDuration:w}=Wx({...o,velocity:-Qn(o.velocity||0)}),b=g||0,C=m/(2*Math.sqrt(h*p)),T=d-c,j=Qn(Math.sqrt(h/p)),E=Math.abs(T)<5;r||(r=E?.01:2),i||(i=E?.005:.5);let k;if(C<1){const A=Iu(j,C);k=B=>{const D=Math.exp(-C*j*B);return d-D*((b+C*j*T)/A*Math.sin(A*B)+T*Math.cos(A*B))}}else if(C===1)k=A=>d-Math.exp(-j*A)*(T+(b+j*T)*A);else{const A=j*Math.sqrt(C*C-1);k=B=>{const D=Math.exp(-C*j*B),P=Math.min(A*B,300);return d-D*((b+C*j*T)*Math.sinh(P)+A*T*Math.cosh(P))/A}}return{calculatedDuration:w&&y||null,next:A=>{const B=k(A);if(w)u.done=A>=y;else{let D=b;A!==0&&(C<1?D=I0(k,A,B):D=0);const P=Math.abs(D)<=r,V=Math.abs(d-B)<=i;u.done=P&&V}return u.value=u.done?d:B,u}}}function sg({keyframes:s,velocity:i=0,power:r=.8,timeConstant:o=325,bounceDamping:c=10,bounceStiffness:d=500,modifyTarget:u,min:h,max:m,restDelta:p=.5,restSpeed:y}){const g=s[0],w={done:!1,value:g},b=G=>h!==void 0&&G<h||m!==void 0&&G>m,C=G=>h===void 0?m:m===void 0||Math.abs(h-G)<Math.abs(m-G)?h:m;let T=r*i;const j=g+T,E=u===void 0?j:u(j);E!==j&&(T=E-g);const k=G=>-T*Math.exp(-G/o),A=G=>E+k(G),B=G=>{const X=k(G),lt=A(G);w.done=Math.abs(X)<=p,w.value=w.done?E:lt};let D,P;const V=G=>{b(w.value)&&(D=G,P=q0({keyframes:[w.value,C(w.value)],velocity:I0(A,G,w.value),damping:c,stiffness:d,restDelta:p,restSpeed:y}))};return V(0),{calculatedDuration:null,next:G=>{let X=!1;return!P&&D===void 0&&(X=!0,B(G),V(G)),D!==void 0&&G>=D?P.next(G-D):(!X&&B(G),w)}}}const G0=(s,i,r)=>(((1-3*r+3*i)*s+(3*r-6*i))*s+3*i)*s,Jx=1e-7,t2=12;function e2(s,i,r,o,c){let d,u,h=0;do u=i+(r-i)/2,d=G0(u,o,c)-s,d>0?r=u:i=u;while(Math.abs(d)>Jx&&++h<t2);return u}function fr(s,i,r,o){if(s===i&&r===o)return ze;const c=d=>e2(d,0,1,s,r);return d=>d===0||d===1?d:G0(c(d),i,o)}const n2=fr(.42,0,1,1),i2=fr(0,0,.58,1),Y0=fr(.42,0,.58,1),a2=s=>Array.isArray(s)&&typeof s[0]!="number",Z0=s=>i=>i<=.5?s(2*i)/2:(2-s(2*(1-i)))/2,X0=s=>i=>1-s(1-i),_f=s=>1-Math.sin(Math.acos(s)),K0=X0(_f),s2=Z0(_f),Q0=fr(.33,1.53,.69,.99),Cf=X0(Q0),r2=Z0(Cf),o2=s=>(s*=2)<1?.5*Cf(s):.5*(2-Math.pow(2,-10*(s-1))),l2={linear:ze,easeIn:n2,easeInOut:Y0,easeOut:i2,circIn:_f,circInOut:s2,circOut:K0,backIn:Cf,backInOut:r2,backOut:Q0,anticipate:o2},rg=s=>{if(Array.isArray(s)){A0(s.length===4);const[i,r,o,c]=s;return fr(i,r,o,c)}else if(typeof s=="string")return l2[s];return s},rr=(s,i,r)=>{const o=i-s;return o===0?1:(r-s)/o},se=(s,i,r)=>s+(i-s)*r;function _u(s,i,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?s+(i-s)*6*r:r<1/2?i:r<2/3?s+(i-s)*(2/3-r)*6:s}function c2({hue:s,saturation:i,lightness:r,alpha:o}){s/=360,i/=100,r/=100;let c=0,d=0,u=0;if(!i)c=d=u=r;else{const h=r<.5?r*(1+i):r+i-r*i,m=2*r-h;c=_u(m,h,s+1/3),d=_u(m,h,s),u=_u(m,h,s-1/3)}return{red:Math.round(c*255),green:Math.round(d*255),blue:Math.round(u*255),alpha:o}}const Cu=(s,i,r)=>{const o=s*s,c=r*(i*i-o)+o;return c<0?0:Math.sqrt(c)},u2=[Hu,ia,Ka],f2=s=>u2.find(i=>i.test(s));function og(s){const i=f2(s);let r=i.parse(s);return i===Ka&&(r=c2(r)),r}const lg=(s,i)=>{const r=og(s),o=og(i),c={...r};return d=>(c.red=Cu(r.red,o.red,d),c.green=Cu(r.green,o.green,d),c.blue=Cu(r.blue,o.blue,d),c.alpha=se(r.alpha,o.alpha,d),ia.transform(c))};function qu(s,i){return r=>r>0?i:s}function d2(s,i){return r=>se(s,i,r)}function kf(s){return typeof s=="number"?d2:typeof s=="string"?df(s)?qu:Ae.test(s)?lg:p2:Array.isArray(s)?$0:typeof s=="object"?Ae.test(s)?lg:h2:qu}function $0(s,i){const r=[...s],o=r.length,c=s.map((d,u)=>kf(d)(d,i[u]));return d=>{for(let u=0;u<o;u++)r[u]=c[u](d);return r}}function h2(s,i){const r={...s,...i},o={};for(const c in r)s[c]!==void 0&&i[c]!==void 0&&(o[c]=kf(s[c])(s[c],i[c]));return c=>{for(const d in o)r[d]=o[d](c);return r}}function m2(s,i){var r;const o=[],c={color:0,var:0,number:0};for(let d=0;d<i.values.length;d++){const u=i.types[d],h=s.indexes[u][c[u]],m=(r=s.values[h])!==null&&r!==void 0?r:0;o[d]=m,c[u]++}return o}const p2=(s,i)=>{const r=Mi.createTransformer(i),o=Uo(s),c=Uo(i);return o.indexes.var.length===c.indexes.var.length&&o.indexes.color.length===c.indexes.color.length&&o.indexes.number.length>=c.indexes.number.length?Kn($0(m2(o,c),c.values),r):qu(s,i)};function W0(s,i,r){return typeof s=="number"&&typeof i=="number"&&typeof r=="number"?se(s,i,r):kf(s)(s,i)}function g2(s,i,r){const o=[],c=r||W0,d=s.length-1;for(let u=0;u<d;u++){let h=c(s[u],s[u+1]);if(i){const m=Array.isArray(i)?i[u]||ze:i;h=Kn(m,h)}o.push(h)}return o}function y2(s,i,{clamp:r=!0,ease:o,mixer:c}={}){const d=s.length;if(A0(d===i.length),d===1)return()=>i[0];if(d===2&&s[0]===s[1])return()=>i[1];s[0]>s[d-1]&&(s=[...s].reverse(),i=[...i].reverse());const u=g2(i,o,c),h=u.length,m=p=>{let y=0;if(h>1)for(;y<s.length-2&&!(p<s[y+1]);y++);const g=rr(s[y],s[y+1],p);return u[y](g)};return r?p=>m(ji(s[0],s[d-1],p)):m}function v2(s,i){const r=s[s.length-1];for(let o=1;o<=i;o++){const c=rr(0,i,o);s.push(se(r,1,c))}}function b2(s){const i=[0];return v2(i,s.length-1),i}function x2(s,i){return s.map(r=>r*i)}function S2(s,i){return s.map(()=>i||Y0).splice(0,s.length-1)}function Vo({duration:s=300,keyframes:i,times:r,ease:o="easeInOut"}){const c=a2(o)?o.map(rg):rg(o),d={done:!1,value:i[0]},u=x2(r&&r.length===i.length?r:b2(i),s),h=y2(u,i,{ease:Array.isArray(c)?c:S2(i,c)});return{calculatedDuration:s,next:m=>(d.value=h(m),d.done=m>=s,d)}}const cg=2e4;function w2(s){let i=0;const r=50;let o=s.next(i);for(;!o.done&&i<cg;)i+=r,o=s.next(i);return i>=cg?1/0:i}const T2=s=>{const i=({timestamp:r})=>s(r);return{start:()=>be.update(i,!0),stop:()=>zi(i),now:()=>Ce.isProcessing?Ce.timestamp:Ei.now()}},_2={decay:sg,inertia:sg,tween:Vo,keyframes:Vo,spring:q0},C2=s=>s/100;class Af extends H0{constructor({KeyframeResolver:i=Sf,...r}){super(r),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:o,motionValue:c,keyframes:d}=this.options,u=(h,m)=>this.onKeyframesResolved(h,m);o&&c&&c.owner?this.resolver=c.owner.resolveKeyframes(d,u,o,c):this.resolver=new i(d,u,o,c),this.resolver.scheduleResolve()}initPlayback(i){const{type:r="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:d,velocity:u=0}=this.options,h=_2[r]||Vo;let m,p;h!==Vo&&typeof i[0]!="number"&&(m=Kn(C2,W0(i[0],i[1])),i=[0,100]);const y=h({...this.options,keyframes:i});d==="mirror"&&(p=h({...this.options,keyframes:[...i].reverse(),velocity:-u})),y.calculatedDuration===null&&(y.calculatedDuration=w2(y));const{calculatedDuration:g}=y,w=g+c,b=w*(o+1)-c;return{generator:y,mirroredGenerator:p,mapPercentToKeyframes:m,calculatedDuration:g,resolvedDuration:w,totalDuration:b}}onPostResolved(){const{autoplay:i=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!i?this.pause():this.state=this.pendingPlayState}tick(i,r=!1){const{resolved:o}=this;if(!o){const{keyframes:G}=this.options;return{done:!0,value:G[G.length-1]}}const{finalKeyframe:c,generator:d,mirroredGenerator:u,mapPercentToKeyframes:h,keyframes:m,calculatedDuration:p,totalDuration:y,resolvedDuration:g}=o;if(this.startTime===null)return d.next(0);const{delay:w,repeat:b,repeatType:C,repeatDelay:T,onUpdate:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,i):this.speed<0&&(this.startTime=Math.min(i-y/this.speed,this.startTime)),r?this.currentTime=i:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(i-this.startTime)*this.speed;const E=this.currentTime-w*(this.speed>=0?1:-1),k=this.speed>=0?E<0:E>y;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let A=this.currentTime,B=d;if(b){const G=Math.min(this.currentTime,y)/g;let X=Math.floor(G),lt=G%1;!lt&&G>=1&&(lt=1),lt===1&&X--,X=Math.min(X,b+1),!!(X%2)&&(C==="reverse"?(lt=1-lt,T&&(lt-=T/g)):C==="mirror"&&(B=u)),A=ji(0,1,lt)*g}const D=k?{done:!1,value:m[0]}:B.next(A);h&&(D.value=h(D.value));let{done:P}=D;!k&&p!==null&&(P=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return V&&c!==void 0&&(D.value=Wo(m,this.options,c)),j&&j(D.value),V&&this.finish(),D}get duration(){const{resolved:i}=this;return i?Qn(i.calculatedDuration):0}get time(){return Qn(this.currentTime)}set time(i){i=Ai(i),this.currentTime=i,this.holdTime!==null||this.speed===0?this.holdTime=i:this.driver&&(this.startTime=this.driver.now()-i/this.speed)}get speed(){return this.playbackSpeed}set speed(i){const r=this.playbackSpeed!==i;this.playbackSpeed=i,r&&(this.time=Qn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:i=T2,onPlay:r}=this.options;this.driver||(this.driver=i(c=>this.tick(c))),r&&r();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=o),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var i;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(i=this.currentTime)!==null&&i!==void 0?i:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:i}=this.options;i&&i()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(i){return this.startTime=0,this.tick(i,!0)}}const J0=s=>Array.isArray(s)&&typeof s[0]=="number";function ty(s){return!!(!s||typeof s=="string"&&s in Ef||J0(s)||Array.isArray(s)&&s.every(ty))}const Ws=([s,i,r,o])=>`cubic-bezier(${s}, ${i}, ${r}, ${o})`,Ef={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ws([0,.65,.55,1]),circOut:Ws([.55,0,1,.45]),backIn:Ws([.31,.01,.66,-.59]),backOut:Ws([.33,1.53,.69,.99])};function k2(s){return ey(s)||Ef.easeOut}function ey(s){if(s)return J0(s)?Ws(s):Array.isArray(s)?s.map(k2):Ef[s]}function A2(s,i,r,{delay:o=0,duration:c=300,repeat:d=0,repeatType:u="loop",ease:h,times:m}={}){const p={[i]:r};m&&(p.offset=m);const y=ey(h);return Array.isArray(y)&&(p.easing=y),s.animate(p,{delay:o,duration:c,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:d+1,direction:u==="reverse"?"alternate":"normal"})}const E2=Vx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),j2=new Set(["opacity","clipPath","filter","transform"]),Fo=10,z2=2e4;function M2(s){return s.type==="spring"||s.name==="backgroundColor"||!ty(s.ease)}function N2(s,i){const r=new Af({...i,keyframes:s,repeat:0,delay:0,isGenerator:!0});let o={done:!1,value:s[0]};const c=[];let d=0;for(;!o.done&&d<z2;)o=r.sample(d),c.push(o.value),d+=Fo;return{times:void 0,keyframes:c,duration:d-Fo,ease:"linear"}}class ug extends H0{constructor(i){super(i);const{name:r,motionValue:o,keyframes:c}=this.options;this.resolver=new F0(c,(d,u)=>this.onKeyframesResolved(d,u),r,o),this.resolver.scheduleResolve()}initPlayback(i,r){var o;let{duration:c=300,times:d,ease:u,type:h,motionValue:m,name:p}=this.options;if(!(!((o=m.owner)===null||o===void 0)&&o.current))return!1;if(M2(this.options)){const{onComplete:g,onUpdate:w,motionValue:b,...C}=this.options,T=N2(i,C);i=T.keyframes,i.length===1&&(i[1]=i[0]),c=T.duration,d=T.times,u=T.ease,h="keyframes"}const y=A2(m.owner.current,p,i,{...this.options,duration:c,times:d,ease:u});return y.startTime=Ei.now(),this.pendingTimeline?(y.timeline=this.pendingTimeline,this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:g}=this.options;m.set(Wo(i,this.options,r)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:c,times:d,type:h,ease:u,keyframes:i}}get duration(){const{resolved:i}=this;if(!i)return 0;const{duration:r}=i;return Qn(r)}get time(){const{resolved:i}=this;if(!i)return 0;const{animation:r}=i;return Qn(r.currentTime||0)}set time(i){const{resolved:r}=this;if(!r)return;const{animation:o}=r;o.currentTime=Ai(i)}get speed(){const{resolved:i}=this;if(!i)return 1;const{animation:r}=i;return r.playbackRate}set speed(i){const{resolved:r}=this;if(!r)return;const{animation:o}=r;o.playbackRate=i}get state(){const{resolved:i}=this;if(!i)return"idle";const{animation:r}=i;return r.playState}attachTimeline(i){if(!this._resolved)this.pendingTimeline=i;else{const{resolved:r}=this;if(!r)return ze;const{animation:o}=r;o.timeline=i,o.onfinish=null}return ze}play(){if(this.isStopped)return;const{resolved:i}=this;if(!i)return;const{animation:r}=i;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:i}=this;if(!i)return;const{animation:r}=i;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:i}=this;if(!i)return;const{animation:r,keyframes:o,duration:c,type:d,ease:u,times:h}=i;if(!(r.playState==="idle"||r.playState==="finished")){if(this.time){const{motionValue:m,onUpdate:p,onComplete:y,...g}=this.options,w=new Af({...g,keyframes:o,duration:c,type:d,ease:u,times:h,isGenerator:!0}),b=Ai(this.time);m.setWithVelocity(w.sample(b-Fo).value,w.sample(b).value,Fo)}this.cancel()}}complete(){const{resolved:i}=this;i&&i.animation.finish()}cancel(){const{resolved:i}=this;i&&i.animation.cancel()}static supports(i){const{motionValue:r,name:o,repeatDelay:c,repeatType:d,damping:u,type:h}=i;return E2()&&o&&j2.has(o)&&r&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate&&!c&&d!=="mirror"&&u!==0&&h!=="inertia"}}const jf=(s,i,r,o={},c,d)=>u=>{const h=xf(o,s)||{},m=h.delay||o.delay||0;let{elapsed:p=0}=o;p=p-Ai(m);let y={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:i.getVelocity(),...h,delay:-p,onUpdate:w=>{i.set(w),h.onUpdate&&h.onUpdate(w)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:s,motionValue:i,element:d?void 0:c};mx(h)||(y={...y,...hx(s,y)}),y.duration&&(y.duration=Ai(y.duration)),y.repeatDelay&&(y.repeatDelay=Ai(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let g=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(g=!0)),g&&!d&&i.get()!==void 0){const w=Wo(y.keyframes,h);if(w!==void 0){be.update(()=>{y.onUpdate(w),y.onComplete()});return}}return!d&&ug.supports(y)?new ug(y):new Af(y)};function Ho(s){return!!(je(s)&&s.add)}function zf(s,i){s.indexOf(i)===-1&&s.push(i)}function Mf(s,i){const r=s.indexOf(i);r>-1&&s.splice(r,1)}class Nf{constructor(){this.subscriptions=[]}add(i){return zf(this.subscriptions,i),()=>Mf(this.subscriptions,i)}notify(i,r,o){const c=this.subscriptions.length;if(c)if(c===1)this.subscriptions[0](i,r,o);else for(let d=0;d<c;d++){const u=this.subscriptions[d];u&&u(i,r,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fg=30,R2=s=>!isNaN(parseFloat(s));class D2{constructor(i,r={}){this.version="11.1.7",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(o,c=!0)=>{const d=Ei.now();this.updatedAt!==d&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),c&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(i),this.canTrackVelocity=R2(this.current),this.owner=r.owner}setCurrent(i){this.current=i,this.updatedAt=Ei.now()}setPrevFrameValue(i=this.current){this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt}onChange(i){return this.on("change",i)}on(i,r){this.events[i]||(this.events[i]=new Nf);const o=this.events[i].add(r);return i==="change"?()=>{o(),be.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const i in this.events)this.events[i].clear()}attach(i,r){this.passiveEffect=i,this.stopPassiveEffect=r}set(i,r=!0){!r||!this.passiveEffect?this.updateAndNotify(i,r):this.passiveEffect(i,this.updateAndNotify)}setWithVelocity(i,r,o){this.set(r),this.prev=void 0,this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt-o}jump(i,r=!0){this.updateAndNotify(i),this.prev=i,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const i=Ei.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||i-this.updatedAt>fg)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,fg);return P0(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(i){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=i(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function or(s,i){return new D2(s,i)}function O2(s,i,r){s.hasValue(i)?s.getValue(i).set(r):s.addValue(i,or(r))}function B2(s,i){const r=$o(s,i);let{transitionEnd:o={},transition:c={},...d}=r||{};d={...d,...o};for(const u in d){const h=Pb(d[u]);O2(s,u,h)}}function L2({protectedKeys:s,needsAnimating:i},r){const o=s.hasOwnProperty(r)&&i[r]!==!0;return i[r]=!1,o}function ny(s,i,{delay:r=0,transitionOverride:o,type:c}={}){var d;let{transition:u=s.getDefaultTransition(),transitionEnd:h,...m}=i;const p=s.getValue("willChange");o&&(u=o);const y=[],g=c&&s.animationState&&s.animationState.getState()[c];for(const w in m){const b=s.getValue(w,(d=s.latestValues[w])!==null&&d!==void 0?d:null),C=m[w];if(C===void 0||g&&L2(g,w))continue;const T={delay:r,elapsed:0,...xf(u||{},w)};let j=!1;if(window.HandoffAppearAnimations){const A=s.getProps()[i0];if(A){const B=window.HandoffAppearAnimations(A,w);B!==null&&(T.elapsed=B,j=!0)}}b.start(jf(w,b,C,s.shouldReduceMotion&&oa.has(w)?{type:!1}:T,s,j));const E=b.animation;E&&(Ho(p)&&(p.add(w),E.then(()=>p.remove(w))),y.push(E))}return h&&Promise.all(y).then(()=>{be.update(()=>{h&&B2(s,h)})}),y}function Gu(s,i,r={}){var o;const c=$o(s,i,r.type==="exit"?(o=s.presenceContext)===null||o===void 0?void 0:o.custom:void 0);let{transition:d=s.getDefaultTransition()||{}}=c||{};r.transitionOverride&&(d=r.transitionOverride);const u=c?()=>Promise.all(ny(s,c,r)):()=>Promise.resolve(),h=s.variantChildren&&s.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:g,staggerDirection:w}=d;return U2(s,i,y+p,g,w,r)}:()=>Promise.resolve(),{when:m}=d;if(m){const[p,y]=m==="beforeChildren"?[u,h]:[h,u];return p().then(()=>y())}else return Promise.all([u(),h(r.delay)])}function U2(s,i,r=0,o=0,c=1,d){const u=[],h=(s.variantChildren.size-1)*o,m=c===1?(p=0)=>p*o:(p=0)=>h-p*o;return Array.from(s.variantChildren).sort(V2).forEach((p,y)=>{p.notify("AnimationStart",i),u.push(Gu(p,i,{...d,delay:r+m(y)}).then(()=>p.notify("AnimationComplete",i)))}),Promise.all(u)}function V2(s,i){return s.sortNodePosition(i)}function F2(s,i,r={}){s.notify("AnimationStart",i);let o;if(Array.isArray(i)){const c=i.map(d=>Gu(s,d,r));o=Promise.all(c)}else if(typeof i=="string")o=Gu(s,i,r);else{const c=typeof i=="function"?$o(s,i,r.custom):i;o=Promise.all(ny(s,c,r))}return o.then(()=>{be.postRender(()=>{s.notify("AnimationComplete",i)})})}const H2=[...lf].reverse(),P2=lf.length;function I2(s){return i=>Promise.all(i.map(({animation:r,options:o})=>F2(s,r,o)))}function q2(s){let i=I2(s);const r=Y2();let o=!0;const c=m=>(p,y)=>{var g;const w=$o(s,y,m==="exit"?(g=s.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(w){const{transition:b,transitionEnd:C,...T}=w;p={...p,...T,...C}}return p};function d(m){i=m(s)}function u(m){const p=s.getProps(),y=s.getVariantContext(!0)||{},g=[],w=new Set;let b={},C=1/0;for(let j=0;j<P2;j++){const E=H2[j],k=r[E],A=p[E]!==void 0?p[E]:y[E],B=ar(A),D=E===m?k.isActive:null;D===!1&&(C=j);let P=A===y[E]&&A!==p[E]&&B;if(P&&o&&s.manuallyAnimateOnMount&&(P=!1),k.protectedKeys={...b},!k.isActive&&D===null||!A&&!k.prevProp||Xo(A)||typeof A=="boolean")continue;let G=G2(k.prevProp,A)||E===m&&k.isActive&&!P&&B||j>C&&B,X=!1;const lt=Array.isArray(A)?A:[A];let yt=lt.reduce(c(E),{});D===!1&&(yt={});const{prevResolvedValues:U={}}=k,st={...U,...yt},_=nt=>{G=!0,w.has(nt)&&(X=!0,w.delete(nt)),k.needsAnimating[nt]=!0;const Z=s.getValue(nt);Z&&(Z.liveStyle=!1)};for(const nt in st){const Z=yt[nt],L=U[nt];if(b.hasOwnProperty(nt))continue;let it=!1;Lu(Z)&&Lu(L)?it=!C0(Z,L):it=Z!==L,it?Z!=null?_(nt):w.add(nt):Z!==void 0&&w.has(nt)?_(nt):k.protectedKeys[nt]=!0}k.prevProp=A,k.prevResolvedValues=yt,k.isActive&&(b={...b,...yt}),o&&s.blockInitialAnimation&&(G=!1),G&&(!P||X)&&g.push(...lt.map(nt=>({animation:nt,options:{type:E}})))}if(w.size){const j={};w.forEach(E=>{const k=s.getBaseTarget(E),A=s.getValue(E);A&&(A.liveStyle=!0),j[E]=k??null}),g.push({animation:j})}let T=!!g.length;return o&&(p.initial===!1||p.initial===p.animate)&&!s.manuallyAnimateOnMount&&(T=!1),o=!1,T?i(g):Promise.resolve()}function h(m,p){var y;if(r[m].isActive===p)return Promise.resolve();(y=s.variantChildren)===null||y===void 0||y.forEach(w=>{var b;return(b=w.animationState)===null||b===void 0?void 0:b.setActive(m,p)}),r[m].isActive=p;const g=u(m);for(const w in r)r[w].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:d,getState:()=>r}}function G2(s,i){return typeof i=="string"?i!==s:Array.isArray(i)?!C0(i,s):!1}function Wi(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Y2(){return{animate:Wi(!0),whileInView:Wi(),whileHover:Wi(),whileTap:Wi(),whileDrag:Wi(),whileFocus:Wi(),exit:Wi()}}class Z2 extends Ni{constructor(i){super(i),i.animationState||(i.animationState=q2(i))}updateAnimationControlsSubscription(){const{animate:i}=this.node.getProps();this.unmount(),Xo(i)&&(this.unmount=i.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:i}=this.node.getProps(),{animate:r}=this.node.prevProps||{};i!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let X2=0;class K2 extends Ni{constructor(){super(...arguments),this.id=X2++}update(){if(!this.node.presenceContext)return;const{isPresent:i,onExitComplete:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||i===o)return;const c=this.node.animationState.setActive("exit",!i);r&&!i&&c.then(()=>r(this.id))}mount(){const{register:i}=this.node.presenceContext||{};i&&(this.unmount=i(this.id))}unmount(){}}const Q2={animation:{Feature:Z2},exit:{Feature:K2}},dg=(s,i)=>Math.abs(s-i);function $2(s,i){const r=dg(s.x,i.x),o=dg(s.y,i.y);return Math.sqrt(r**2+o**2)}class iy{constructor(i,r,{transformPagePoint:o,contextWindow:c,dragSnapToOrigin:d=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Au(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,b=$2(g.offset,{x:0,y:0})>=3;if(!w&&!b)return;const{point:C}=g,{timestamp:T}=Ce;this.history.push({...C,timestamp:T});const{onStart:j,onMove:E}=this.handlers;w||(j&&j(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,g)},this.handlePointerMove=(g,w)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=ku(w,this.transformPagePoint),be.update(this.updatePoint,!0)},this.handlePointerUp=(g,w)=>{this.end();const{onEnd:b,onSessionEnd:C,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Au(g.type==="pointercancel"?this.lastMoveEventInfo:ku(w,this.transformPagePoint),this.history);this.startEvent&&b&&b(g,j),C&&C(g,j)},!x0(i))return;this.dragSnapToOrigin=d,this.handlers=r,this.transformPagePoint=o,this.contextWindow=c||window;const u=Qo(i),h=ku(u,this.transformPagePoint),{point:m}=h,{timestamp:p}=Ce;this.history=[{...m,timestamp:p}];const{onSessionStart:y}=r;y&&y(i,Au(h,this.history)),this.removeListeners=Kn(Xn(this.contextWindow,"pointermove",this.handlePointerMove),Xn(this.contextWindow,"pointerup",this.handlePointerUp),Xn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(i){this.handlers=i}end(){this.removeListeners&&this.removeListeners(),zi(this.updatePoint)}}function ku(s,i){return i?{point:i(s.point)}:s}function hg(s,i){return{x:s.x-i.x,y:s.y-i.y}}function Au({point:s},i){return{point:s,delta:hg(s,ay(i)),offset:hg(s,W2(i)),velocity:J2(i,.1)}}function W2(s){return s[0]}function ay(s){return s[s.length-1]}function J2(s,i){if(s.length<2)return{x:0,y:0};let r=s.length-1,o=null;const c=ay(s);for(;r>=0&&(o=s[r],!(c.timestamp-o.timestamp>Ai(i)));)r--;if(!o)return{x:0,y:0};const d=Qn(c.timestamp-o.timestamp);if(d===0)return{x:0,y:0};const u={x:(c.x-o.x)/d,y:(c.y-o.y)/d};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function $e(s){return s.max-s.min}function Yu(s,i=0,r=.01){return Math.abs(s-i)<=r}function mg(s,i,r,o=.5){s.origin=o,s.originPoint=se(i.min,i.max,s.origin),s.scale=$e(r)/$e(i),(Yu(s.scale,1,1e-4)||isNaN(s.scale))&&(s.scale=1),s.translate=se(r.min,r.max,s.origin)-s.originPoint,(Yu(s.translate)||isNaN(s.translate))&&(s.translate=0)}function er(s,i,r,o){mg(s.x,i.x,r.x,o?o.originX:void 0),mg(s.y,i.y,r.y,o?o.originY:void 0)}function pg(s,i,r){s.min=r.min+i.min,s.max=s.min+$e(i)}function tS(s,i,r){pg(s.x,i.x,r.x),pg(s.y,i.y,r.y)}function gg(s,i,r){s.min=i.min-r.min,s.max=s.min+$e(i)}function nr(s,i,r){gg(s.x,i.x,r.x),gg(s.y,i.y,r.y)}function eS(s,{min:i,max:r},o){return i!==void 0&&s<i?s=o?se(i,s,o.min):Math.max(s,i):r!==void 0&&s>r&&(s=o?se(r,s,o.max):Math.min(s,r)),s}function yg(s,i,r){return{min:i!==void 0?s.min+i:void 0,max:r!==void 0?s.max+r-(s.max-s.min):void 0}}function nS(s,{top:i,left:r,bottom:o,right:c}){return{x:yg(s.x,r,c),y:yg(s.y,i,o)}}function vg(s,i){let r=i.min-s.min,o=i.max-s.max;return i.max-i.min<s.max-s.min&&([r,o]=[o,r]),{min:r,max:o}}function iS(s,i){return{x:vg(s.x,i.x),y:vg(s.y,i.y)}}function aS(s,i){let r=.5;const o=$e(s),c=$e(i);return c>o?r=rr(i.min,i.max-o,s.min):o>c&&(r=rr(s.min,s.max-c,i.min)),ji(0,1,r)}function sS(s,i){const r={};return i.min!==void 0&&(r.min=i.min-s.min),i.max!==void 0&&(r.max=i.max-s.min),r}const Zu=.35;function rS(s=Zu){return s===!1?s=0:s===!0&&(s=Zu),{x:bg(s,"left","right"),y:bg(s,"top","bottom")}}function bg(s,i,r){return{min:xg(s,i),max:xg(s,r)}}function xg(s,i){return typeof s=="number"?s:s[i]||0}const Sg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qa=()=>({x:Sg(),y:Sg()}),wg=()=>({min:0,max:0}),ue=()=>({x:wg(),y:wg()});function hn(s){return[s("x"),s("y")]}function sy({top:s,left:i,right:r,bottom:o}){return{x:{min:i,max:r},y:{min:s,max:o}}}function oS({x:s,y:i}){return{top:i.min,right:s.max,bottom:i.max,left:s.min}}function lS(s,i){if(!i)return s;const r=i({x:s.left,y:s.top}),o=i({x:s.right,y:s.bottom});return{top:r.y,left:r.x,bottom:o.y,right:o.x}}function Eu(s){return s===void 0||s===1}function Xu({scale:s,scaleX:i,scaleY:r}){return!Eu(s)||!Eu(i)||!Eu(r)}function Ji(s){return Xu(s)||ry(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function ry(s){return Tg(s.x)||Tg(s.y)}function Tg(s){return s&&s!=="0%"}function Po(s,i,r){const o=s-r,c=i*o;return r+c}function _g(s,i,r,o,c){return c!==void 0&&(s=Po(s,c,o)),Po(s,r,o)+i}function Ku(s,i=0,r=1,o,c){s.min=_g(s.min,i,r,o,c),s.max=_g(s.max,i,r,o,c)}function oy(s,{x:i,y:r}){Ku(s.x,i.translate,i.scale,i.originPoint),Ku(s.y,r.translate,r.scale,r.originPoint)}function cS(s,i,r,o=!1){const c=r.length;if(!c)return;i.x=i.y=1;let d,u;for(let h=0;h<c;h++){d=r[h],u=d.projectionDelta;const m=d.instance;m&&m.style&&m.style.display==="contents"||(o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&$a(s,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),u&&(i.x*=u.x.scale,i.y*=u.y.scale,oy(s,u)),o&&Ji(d.latestValues)&&$a(s,d.latestValues))}i.x=Cg(i.x),i.y=Cg(i.y)}function Cg(s){return Number.isInteger(s)||s>1.0000000000001||s<.999999999999?s:1}function Ci(s,i){s.min=s.min+i,s.max=s.max+i}function kg(s,i,[r,o,c]){const d=i[c]!==void 0?i[c]:.5,u=se(s.min,s.max,d);Ku(s,i[r],i[o],u,i.scale)}const uS=["x","scaleX","originX"],fS=["y","scaleY","originY"];function $a(s,i){kg(s.x,i,uS),kg(s.y,i,fS)}function ly(s,i){return sy(lS(s.getBoundingClientRect(),i))}function dS(s,i,r){const o=ly(s,r),{scroll:c}=i;return c&&(Ci(o.x,c.offset.x),Ci(o.y,c.offset.y)),o}const cy=({current:s})=>s?s.ownerDocument.defaultView:null,hS=new WeakMap;class mS{constructor(i){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ue(),this.visualElement=i}start(i,{snapToCursor:r=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=y=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Qo(y,"page").point)},d=(y,g)=>{const{drag:w,dragPropagation:b,onDragStart:C}=this.getProps();if(w&&!b&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=w0(w),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hn(j=>{let E=this.getAxisMotionValue(j).get()||0;if(Cn.test(E)){const{projection:k}=this.visualElement;if(k&&k.layout){const A=k.layout.layoutBox[j];A&&(E=$e(A)*(parseFloat(E)/100))}}this.originPoint[j]=E}),C&&C(y,g);const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},u=(y,g)=>{const{dragPropagation:w,dragDirectionLock:b,onDirectionLock:C,onDrag:T}=this.getProps();if(!w&&!this.openGlobalLock)return;const{offset:j}=g;if(b&&this.currentDirection===null){this.currentDirection=pS(j),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",g.point,j),this.updateAxis("y",g.point,j),this.visualElement.render(),T&&T(y,g)},h=(y,g)=>this.stop(y,g),m=()=>hn(y=>{var g;return this.getAnimationState(y)==="paused"&&((g=this.getAxisMotionValue(y).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new iy(i,{onSessionStart:c,onStart:d,onMove:u,onSessionEnd:h,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:cy(this.visualElement)})}stop(i,r){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:c}=r;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&d(i,r)}cancel(){this.isDragging=!1;const{projection:i,animationState:r}=this.visualElement;i&&(i.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(i,r,o){const{drag:c}=this.getProps();if(!o||!Mo(i,c,this.currentDirection))return;const d=this.getAxisMotionValue(i);let u=this.originPoint[i]+o[i];this.constraints&&this.constraints[i]&&(u=eS(u,this.constraints[i],this.elastic[i])),d.set(u)}resolveConstraints(){var i;const{dragConstraints:r,dragElastic:o}=this.getProps(),c=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)===null||i===void 0?void 0:i.layout,d=this.constraints;r&&Xa(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&c?this.constraints=nS(c.layoutBox,r):this.constraints=!1,this.elastic=rS(o),d!==this.constraints&&c&&this.constraints&&!this.hasMutatedConstraints&&hn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=sS(c.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:i,onMeasureDragConstraints:r}=this.getProps();if(!i||!Xa(i))return!1;const o=i.current,{projection:c}=this.visualElement;if(!c||!c.layout)return!1;const d=dS(o,c.root,this.visualElement.getTransformPagePoint());let u=iS(c.layout.layoutBox,d);if(r){const h=r(oS(u));this.hasMutatedConstraints=!!h,h&&(u=sy(h))}return u}startAnimation(i){const{drag:r,dragMomentum:o,dragElastic:c,dragTransition:d,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},p=hn(y=>{if(!Mo(y,r,this.currentDirection))return;let g=m&&m[y]||{};u&&(g={min:0,max:0});const w=c?200:1e6,b=c?40:1e7,C={type:"inertia",velocity:o?i[y]:0,bounceStiffness:w,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...d,...g};return this.startAxisValueAnimation(y,C)});return Promise.all(p).then(h)}startAxisValueAnimation(i,r){const o=this.getAxisMotionValue(i);return o.start(jf(i,o,0,r,this.visualElement))}stopAnimation(){hn(i=>this.getAxisMotionValue(i).stop())}pauseAnimation(){hn(i=>{var r;return(r=this.getAxisMotionValue(i).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(i){var r;return(r=this.getAxisMotionValue(i).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(i){const r=`_drag${i.toUpperCase()}`,o=this.visualElement.getProps(),c=o[r];return c||this.visualElement.getValue(i,(o.initial?o.initial[i]:void 0)||0)}snapToCursor(i){hn(r=>{const{drag:o}=this.getProps();if(!Mo(r,o,this.currentDirection))return;const{projection:c}=this.visualElement,d=this.getAxisMotionValue(r);if(c&&c.layout){const{min:u,max:h}=c.layout.layoutBox[r];d.set(i[r]-se(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:i,dragConstraints:r}=this.getProps(),{projection:o}=this.visualElement;if(!Xa(r)||!o||!this.constraints)return;this.stopAnimation();const c={x:0,y:0};hn(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const m=h.get();c[u]=aS({min:m,max:m},this.constraints[u])}});const{transformTemplate:d}=this.visualElement.getProps();this.visualElement.current.style.transform=d?d({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),hn(u=>{if(!Mo(u,i,null))return;const h=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];h.set(se(m,p,c[u]))})}addListeners(){if(!this.visualElement.current)return;hS.set(this.visualElement,this);const i=this.visualElement.current,r=Xn(i,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),o=()=>{const{dragConstraints:m}=this.getProps();Xa(m)&&(this.constraints=this.resolveRefConstraints())},{projection:c}=this.visualElement,d=c.addEventListener("measure",o);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),o();const u=qn(window,"resize",()=>this.scalePositionWithinConstraints()),h=c.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(hn(y=>{const g=this.getAxisMotionValue(y);g&&(this.originPoint[y]+=m[y].translate,g.set(g.get()+m[y].translate))}),this.visualElement.render())}));return()=>{u(),r(),d(),h&&h()}}getProps(){const i=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:o=!1,dragPropagation:c=!1,dragConstraints:d=!1,dragElastic:u=Zu,dragMomentum:h=!0}=i;return{...i,drag:r,dragDirectionLock:o,dragPropagation:c,dragConstraints:d,dragElastic:u,dragMomentum:h}}}function Mo(s,i,r){return(i===!0||i===s)&&(r===null||r===s)}function pS(s,i=10){let r=null;return Math.abs(s.y)>i?r="y":Math.abs(s.x)>i&&(r="x"),r}class gS extends Ni{constructor(i){super(i),this.removeGroupControls=ze,this.removeListeners=ze,this.controls=new mS(i)}mount(){const{dragControls:i}=this.node.getProps();i&&(this.removeGroupControls=i.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ze}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ag=s=>(i,r)=>{s&&s(i,r)};class yS extends Ni{constructor(){super(...arguments),this.removePointerDownListener=ze}onPointerDown(i){this.session=new iy(i,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cy(this.node)})}createPanHandlers(){const{onPanSessionStart:i,onPanStart:r,onPan:o,onPanEnd:c}=this.node.getProps();return{onSessionStart:Ag(i),onStart:Ag(r),onMove:o,onEnd:(d,u)=>{delete this.session,c&&c(d,u)}}}mount(){this.removePointerDownListener=Xn(this.node.current,"pointerdown",i=>this.onPointerDown(i))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function vS(){const s=H.useContext(Zo);if(s===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=s,c=H.useId();return H.useEffect(()=>o(c),[]),!i&&r?[!1,()=>r&&r(c)]:[!0]}const Oo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Eg(s,i){return i.max===i.min?0:s/(i.max-i.min)*100}const Qs={correct:(s,i)=>{if(!i.target)return s;if(typeof s=="string")if(Mt.test(s))s=parseFloat(s);else return s;const r=Eg(s,i.target.x),o=Eg(s,i.target.y);return`${r}% ${o}%`}},bS={correct:(s,{treeScale:i,projectionDelta:r})=>{const o=s,c=Mi.parse(s);if(c.length>5)return o;const d=Mi.createTransformer(s),u=typeof c[0]!="number"?1:0,h=r.x.scale*i.x,m=r.y.scale*i.y;c[0+u]/=h,c[1+u]/=m;const p=se(h,m,.5);return typeof c[2+u]=="number"&&(c[2+u]/=p),typeof c[3+u]=="number"&&(c[3+u]/=p),d(c)}};class xS extends H.Component{componentDidMount(){const{visualElement:i,layoutGroup:r,switchLayoutGroup:o,layoutId:c}=this.props,{projection:d}=i;vb(SS),d&&(r.group&&r.group.add(d),o&&o.register&&c&&o.register(d),d.root.didUpdate(),d.addEventListener("animationComplete",()=>{this.safeToRemove()}),d.setOptions({...d.options,onExitComplete:()=>this.safeToRemove()})),Oo.hasEverUpdated=!0}getSnapshotBeforeUpdate(i){const{layoutDependency:r,visualElement:o,drag:c,isPresent:d}=this.props,u=o.projection;return u&&(u.isPresent=d,c||i.layoutDependency!==r||r===void 0?u.willUpdate():this.safeToRemove(),i.isPresent!==d&&(d?u.promote():u.relegate()||be.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:i}=this.props.visualElement;i&&(i.root.didUpdate(),of.postRender(()=>{!i.currentAnimation&&i.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:i,layoutGroup:r,switchLayoutGroup:o}=this.props,{projection:c}=i;c&&(c.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(c),o&&o.deregister&&o.deregister(c))}safeToRemove(){const{safeToRemove:i}=this.props;i&&i()}render(){return null}}function uy(s){const[i,r]=vS(),o=H.useContext(uf);return x.jsx(xS,{...s,layoutGroup:o,switchLayoutGroup:H.useContext(r0),isPresent:i,safeToRemove:r})}const SS={borderRadius:{...Qs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qs,borderTopRightRadius:Qs,borderBottomLeftRadius:Qs,borderBottomRightRadius:Qs,boxShadow:bS},fy=["TopLeft","TopRight","BottomLeft","BottomRight"],wS=fy.length,jg=s=>typeof s=="string"?parseFloat(s):s,zg=s=>typeof s=="number"||Mt.test(s);function TS(s,i,r,o,c,d){c?(s.opacity=se(0,r.opacity!==void 0?r.opacity:1,_S(o)),s.opacityExit=se(i.opacity!==void 0?i.opacity:1,0,CS(o))):d&&(s.opacity=se(i.opacity!==void 0?i.opacity:1,r.opacity!==void 0?r.opacity:1,o));for(let u=0;u<wS;u++){const h=`border${fy[u]}Radius`;let m=Mg(i,h),p=Mg(r,h);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||zg(m)===zg(p)?(s[h]=Math.max(se(jg(m),jg(p),o),0),(Cn.test(p)||Cn.test(m))&&(s[h]+="%")):s[h]=p}(i.rotate||r.rotate)&&(s.rotate=se(i.rotate||0,r.rotate||0,o))}function Mg(s,i){return s[i]!==void 0?s[i]:s.borderRadius}const _S=dy(0,.5,K0),CS=dy(.5,.95,ze);function dy(s,i,r){return o=>o<s?0:o>i?1:r(rr(s,i,o))}function Ng(s,i){s.min=i.min,s.max=i.max}function dn(s,i){Ng(s.x,i.x),Ng(s.y,i.y)}function Rg(s,i,r,o,c){return s-=i,s=Po(s,1/r,o),c!==void 0&&(s=Po(s,1/c,o)),s}function kS(s,i=0,r=1,o=.5,c,d=s,u=s){if(Cn.test(i)&&(i=parseFloat(i),i=se(u.min,u.max,i/100)-u.min),typeof i!="number")return;let h=se(d.min,d.max,o);s===d&&(h-=i),s.min=Rg(s.min,i,r,h,c),s.max=Rg(s.max,i,r,h,c)}function Dg(s,i,[r,o,c],d,u){kS(s,i[r],i[o],i[c],i.scale,d,u)}const AS=["x","scaleX","originX"],ES=["y","scaleY","originY"];function Og(s,i,r,o){Dg(s.x,i,AS,r?r.x:void 0,o?o.x:void 0),Dg(s.y,i,ES,r?r.y:void 0,o?o.y:void 0)}function Bg(s){return s.translate===0&&s.scale===1}function hy(s){return Bg(s.x)&&Bg(s.y)}function jS(s,i){return s.x.min===i.x.min&&s.x.max===i.x.max&&s.y.min===i.y.min&&s.y.max===i.y.max}function my(s,i){return Math.round(s.x.min)===Math.round(i.x.min)&&Math.round(s.x.max)===Math.round(i.x.max)&&Math.round(s.y.min)===Math.round(i.y.min)&&Math.round(s.y.max)===Math.round(i.y.max)}function Lg(s){return $e(s.x)/$e(s.y)}class zS{constructor(){this.members=[]}add(i){zf(this.members,i),i.scheduleRender()}remove(i){if(Mf(this.members,i),i===this.prevLead&&(this.prevLead=void 0),i===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(i){const r=this.members.findIndex(c=>i===c);if(r===0)return!1;let o;for(let c=r;c>=0;c--){const d=this.members[c];if(d.isPresent!==!1){o=d;break}}return o?(this.promote(o),!0):!1}promote(i,r){const o=this.lead;if(i!==o&&(this.prevLead=o,this.lead=i,i.show(),o)){o.instance&&o.scheduleRender(),i.scheduleRender(),i.resumeFrom=o,r&&(i.resumeFrom.preserveOpacity=!0),o.snapshot&&(i.snapshot=o.snapshot,i.snapshot.latestValues=o.animationValues||o.latestValues),i.root&&i.root.isUpdating&&(i.isLayoutDirty=!0);const{crossfade:c}=i.options;c===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(i=>{const{options:r,resumingFrom:o}=i;r.onExitComplete&&r.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(i=>{i.instance&&i.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ug(s,i,r){let o="";const c=s.x.translate/i.x,d=s.y.translate/i.y,u=(r==null?void 0:r.z)||0;if((c||d||u)&&(o=`translate3d(${c}px, ${d}px, ${u}px) `),(i.x!==1||i.y!==1)&&(o+=`scale(${1/i.x}, ${1/i.y}) `),r){const{transformPerspective:p,rotate:y,rotateX:g,rotateY:w,skewX:b,skewY:C}=r;p&&(o=`perspective(${p}px) ${o}`),y&&(o+=`rotate(${y}deg) `),g&&(o+=`rotateX(${g}deg) `),w&&(o+=`rotateY(${w}deg) `),b&&(o+=`skewX(${b}deg) `),C&&(o+=`skewY(${C}deg) `)}const h=s.x.scale*i.x,m=s.y.scale*i.y;return(h!==1||m!==1)&&(o+=`scale(${h}, ${m})`),o||"none"}const MS=(s,i)=>s.depth-i.depth;class NS{constructor(){this.children=[],this.isDirty=!1}add(i){zf(this.children,i),this.isDirty=!0}remove(i){Mf(this.children,i),this.isDirty=!0}forEach(i){this.isDirty&&this.children.sort(MS),this.isDirty=!1,this.children.forEach(i)}}function RS(s,i){const r=Ei.now(),o=({timestamp:c})=>{const d=c-r;d>=i&&(zi(o),s(d-i))};return be.read(o,!0),()=>zi(o)}function DS(s){window.MotionDebug&&window.MotionDebug.record(s)}function OS(s){return s instanceof SVGElement&&s.tagName!=="svg"}function BS(s,i,r){const o=je(s)?s:or(s);return o.start(jf("",o,i,r)),o.animation}const ju=["","X","Y","Z"],LS={visibility:"hidden"},Vg=1e3;let US=0;const ta={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function zu(s,i,r,o){const{latestValues:c}=i;c[s]&&(r[s]=c[s],i.setStaticValue(s,0),o&&(o[s]=0))}function py({attachResizeListener:s,defaultParent:i,measureScroll:r,checkIsScrollRoot:o,resetTransform:c}){return class{constructor(u={},h=i==null?void 0:i()){this.id=US++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ta.totalNodes=ta.resolvedTargetDeltas=ta.recalculatedProjection=0,this.nodes.forEach(HS),this.nodes.forEach(YS),this.nodes.forEach(ZS),this.nodes.forEach(PS),DS(ta)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new NS)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Nf),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const m=this.eventHandlers.get(u);m&&m.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=OS(u),this.instance=u;const{layoutId:m,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||m)&&(this.isLayoutDirty=!0),s){let g;const w=()=>this.root.updateBlockedByResize=!1;s(u,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=RS(w,250),Oo.hasAnimatedSinceResize&&(Oo.hasAnimatedSinceResize=!1,this.nodes.forEach(Hg))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&y&&(m||p)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:w,hasRelativeTargetChanged:b,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||y.getDefaultTransition()||WS,{onLayoutAnimationStart:j,onLayoutAnimationComplete:E}=y.getProps(),k=!this.targetLayout||!my(this.targetLayout,C)||b,A=!w&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||A||w&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,A);const B={...xf(T,"layout"),onPlay:j,onComplete:E};(y.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B)}else w||Hg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XS),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const g=this.path[y];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Fg);return}this.isUpdating||this.nodes.forEach(qS),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(GS),this.nodes.forEach(VS),this.nodes.forEach(FS),this.clearAllSnapshots();const h=Ei.now();Ce.delta=ji(0,1e3/60,h-Ce.timestamp),Ce.timestamp=h,Ce.isProcessing=!0,bu.update.process(Ce),bu.preRender.process(Ce),bu.render.process(Ce),Ce.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,of.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(IS),this.sharedNodes.forEach(KS)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ue(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&(this.scroll={animationId:this.root.animationId,phase:u,isRoot:o(this.instance),offset:r(this.instance)})}resetTransform(){if(!c)return;const u=this.isLayoutDirty||this.shouldResetTransform,h=this.projectionDelta&&!hy(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&(h||Ji(this.latestValues)||y)&&(c(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return u&&(m=this.removeTransform(m)),JS(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return ue();const h=u.measureViewportBox(),{scroll:m}=this.root;return m&&(Ci(h.x,m.offset.x),Ci(h.y,m.offset.y)),h}removeElementScroll(u){const h=ue();dn(h,u);for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:g}=p;if(p!==this.root&&y&&g.layoutScroll){if(y.isRoot){dn(h,u);const{scroll:w}=this.root;w&&(Ci(h.x,-w.offset.x),Ci(h.y,-w.offset.y))}Ci(h.x,y.offset.x),Ci(h.y,y.offset.y)}}return h}applyTransform(u,h=!1){const m=ue();dn(m,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&$a(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ji(y.latestValues)&&$a(m,y.latestValues)}return Ji(this.latestValues)&&$a(m,this.latestValues),m}removeTransform(u){const h=ue();dn(h,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Ji(p.latestValues))continue;Xu(p.latestValues)&&p.updateSnapshot();const y=ue(),g=p.measurePageBox();dn(y,g),Og(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Ji(this.latestValues)&&Og(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ce.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var h;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:g,layoutId:w}=this.options;if(!(!this.layout||!(g||w))){if(this.resolvedRelativeTargetAt=Ce.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ue(),this.relativeTargetOrigin=ue(),nr(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ue(),this.targetWithTransforms=ue()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),tS(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dn(this.target,this.layout.layoutBox),oy(this.target,this.targetDelta)):dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ue(),this.relativeTargetOrigin=ue(),nr(this.relativeTargetOrigin,this.target,b.target),dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ta.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Xu(this.parent.latestValues)||ry(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const h=this.getLead(),m=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Ce.timestamp&&(p=!1),p)return;const{layout:y,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||g))return;dn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,b=this.treeScale.y;cS(this.layoutCorrected,this.treeScale,this.path,m),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=ue());const{target:C}=h;if(!C){this.projectionTransform&&(this.projectionDelta=Qa(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Qa(),this.projectionDeltaWithTransform=Qa());const T=this.projectionTransform;er(this.projectionDelta,this.layoutCorrected,C,this.latestValues),this.projectionTransform=Ug(this.projectionDelta,this.treeScale),(this.projectionTransform!==T||this.treeScale.x!==w||this.treeScale.y!==b)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C)),ta.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(u,h=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},g=Qa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const w=ue(),b=m?m.source:void 0,C=this.layout?this.layout.source:void 0,T=b!==C,j=this.getStack(),E=!j||j.members.length<=1,k=!!(T&&!E&&this.options.crossfade===!0&&!this.path.some($S));this.animationProgress=0;let A;this.mixTargetDelta=B=>{const D=B/1e3;Pg(g.x,u.x,D),Pg(g.y,u.y,D),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nr(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QS(this.relativeTarget,this.relativeTargetOrigin,w,D),A&&jS(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=ue()),dn(A,this.relativeTarget)),T&&(this.animationValues=y,TS(y,p,this.latestValues,D,k,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=be.update(()=>{Oo.hasAnimatedSinceResize=!0,this.currentAnimation=BS(0,Vg,{...u,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Vg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:m,layout:p,latestValues:y}=u;if(!(!h||!m||!p)){if(this!==u&&this.layout&&p&&gy(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||ue();const g=$e(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+g;const w=$e(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+w}dn(h,m),$a(h,y),er(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new zS),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:h}=this.options;return h?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:h}=this.options;return h?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const p={};m.z&&zu("z",u,p,this.animationValues);for(let y=0;y<ju.length;y++)zu(`rotate${ju[y]}`,u,p,this.animationValues),zu(`skew${ju[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}getProjectionStyles(u){var h,m;if(!this.instance||this.isSVG)return;if(!this.isVisible)return LS;const p={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Ro(u==null?void 0:u.pointerEvents)||"",p.transform=y?y(this.latestValues,""):"none",p;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=Ro(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Ji(this.latestValues)&&(T.transform=y?y({},""):"none",this.hasProjected=!1),T}const w=g.animationValues||g.latestValues;this.applyTransformsToTarget(),p.transform=Ug(this.projectionDeltaWithTransform,this.treeScale,w),y&&(p.transform=y(w,p.transform));const{x:b,y:C}=this.projectionDelta;p.transformOrigin=`${b.origin*100}% ${C.origin*100}% 0`,g.animationValues?p.opacity=g===this?(m=(h=w.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&m!==void 0?m:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:p.opacity=g===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const T in Bo){if(w[T]===void 0)continue;const{correct:j,applyTo:E}=Bo[T],k=p.transform==="none"?w[T]:j(w[T],g);if(E){const A=E.length;for(let B=0;B<A;B++)p[E[B]]=k}else p[T]=k}return this.options.layoutId&&(p.pointerEvents=g===this?Ro(u==null?void 0:u.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(Fg),this.root.sharedNodes.clear()}}}function VS(s){s.updateLayout()}function FS(s){var i;const r=((i=s.resumeFrom)===null||i===void 0?void 0:i.snapshot)||s.snapshot;if(s.isLead()&&s.layout&&r&&s.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:c}=s.layout,{animationType:d}=s.options,u=r.source!==s.layout.source;d==="size"?hn(g=>{const w=u?r.measuredBox[g]:r.layoutBox[g],b=$e(w);w.min=o[g].min,w.max=w.min+b}):gy(d,r.layoutBox,o)&&hn(g=>{const w=u?r.measuredBox[g]:r.layoutBox[g],b=$e(o[g]);w.max=w.min+b,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[g].max=s.relativeTarget[g].min+b)});const h=Qa();er(h,o,r.layoutBox);const m=Qa();u?er(m,s.applyTransform(c,!0),r.measuredBox):er(m,o,r.layoutBox);const p=!hy(h);let y=!1;if(!s.resumeFrom){const g=s.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:w,layout:b}=g;if(w&&b){const C=ue();nr(C,r.layoutBox,w.layoutBox);const T=ue();nr(T,o,b.layoutBox),my(C,T)||(y=!0),g.options.layoutRoot&&(s.relativeTarget=T,s.relativeTargetOrigin=C,s.relativeParent=g)}}}s.notifyListeners("didUpdate",{layout:o,snapshot:r,delta:m,layoutDelta:h,hasLayoutChanged:p,hasRelativeTargetChanged:y})}else if(s.isLead()){const{onExitComplete:o}=s.options;o&&o()}s.options.transition=void 0}function HS(s){ta.totalNodes++,s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function PS(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function IS(s){s.clearSnapshot()}function Fg(s){s.clearMeasurements()}function qS(s){s.isLayoutDirty=!1}function GS(s){const{visualElement:i}=s.options;i&&i.getProps().onBeforeLayoutMeasure&&i.notify("BeforeLayoutMeasure"),s.resetTransform()}function Hg(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function YS(s){s.resolveTargetDelta()}function ZS(s){s.calcProjection()}function XS(s){s.resetSkewAndRotation()}function KS(s){s.removeLeadSnapshot()}function Pg(s,i,r){s.translate=se(i.translate,0,r),s.scale=se(i.scale,1,r),s.origin=i.origin,s.originPoint=i.originPoint}function Ig(s,i,r,o){s.min=se(i.min,r.min,o),s.max=se(i.max,r.max,o)}function QS(s,i,r,o){Ig(s.x,i.x,r.x,o),Ig(s.y,i.y,r.y,o)}function $S(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const WS={duration:.45,ease:[.4,0,.1,1]},qg=s=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),Gg=qg("applewebkit/")&&!qg("chrome/")?Math.round:ze;function Yg(s){s.min=Gg(s.min),s.max=Gg(s.max)}function JS(s){Yg(s.x),Yg(s.y)}function gy(s,i,r){return s==="position"||s==="preserve-aspect"&&!Yu(Lg(i),Lg(r),.2)}const tw=py({attachResizeListener:(s,i)=>qn(s,"resize",i),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mu={current:void 0},yy=py({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!Mu.current){const s=new tw({});s.mount(window),s.setOptions({layoutScroll:!0}),Mu.current=s}return Mu.current},resetTransform:(s,i)=>{s.style.transform=i!==void 0?i:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),ew={pan:{Feature:yS},drag:{Feature:gS,ProjectionNode:yy,MeasureLayout:uy}},Qu={current:null},vy={current:!1};function nw(){if(vy.current=!0,!!af)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),i=()=>Qu.current=s.matches;s.addListener(i),i()}else Qu.current=!1}function iw(s,i,r){const{willChange:o}=i;for(const c in i){const d=i[c],u=r[c];if(je(d))s.addValue(c,d),Ho(o)&&o.add(c);else if(je(u))s.addValue(c,or(d,{owner:s})),Ho(o)&&o.remove(c);else if(u!==d)if(s.hasValue(c)){const h=s.getValue(c);h.liveStyle===!0?h.jump(d):h.hasAnimated||h.set(d)}else{const h=s.getStaticValue(c);s.addValue(c,or(h!==void 0?h:d,{owner:s}))}}for(const c in r)i[c]===void 0&&s.removeValue(c);return i}const Zg=new WeakMap,aw=[...M0,Ae,Mi],sw=s=>aw.find(z0(s)),by=Object.keys(sr),rw=by.length,Xg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],ow=cf.length;function xy(s){if(s)return s.options.allowProjection!==!1?s.projection:xy(s.parent)}class lw{scrapeMotionValuesFromProps(i,r,o){return{}}constructor({parent:i,props:r,presenceContext:o,reducedMotionConfig:c,blockInitialAnimation:d,visualState:u},h={}){this.resolveKeyframes=(w,b,C,T)=>new this.KeyframeResolver(w,b,C,T,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Sf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>be.render(this.render,!1,!0);const{latestValues:m,renderState:p}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=r.initial?{...m}:{},this.renderState=p,this.parent=i,this.props=r,this.presenceContext=o,this.depth=i?i.depth+1:0,this.reducedMotionConfig=c,this.options=h,this.blockInitialAnimation=!!d,this.isControllingVariants=Ko(r),this.isVariantNode=s0(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(i&&i.current);const{willChange:y,...g}=this.scrapeMotionValuesFromProps(r,{},this);for(const w in g){const b=g[w];m[w]!==void 0&&je(b)&&(b.set(m[w],!1),Ho(y)&&y.add(w))}}mount(i){this.current=i,Zg.set(i,this),this.projection&&!this.projection.instance&&this.projection.mount(i),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,o)=>this.bindToMotionValue(o,r)),vy.current||nw(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){var i;Zg.delete(this.current),this.projection&&this.projection.unmount(),zi(this.notifyUpdate),zi(this.render),this.valueSubscriptions.forEach(r=>r()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const r in this.events)this.events[r].clear();for(const r in this.features)(i=this.features[r])===null||i===void 0||i.unmount();this.current=null}bindToMotionValue(i,r){const o=oa.has(i),c=r.on("change",u=>{this.latestValues[i]=u,this.props.onUpdate&&be.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0)}),d=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(i,()=>{c(),d(),r.owner&&r.stop()})}sortNodePosition(i){return!this.current||!this.sortInstanceNodePosition||this.type!==i.type?0:this.sortInstanceNodePosition(this.current,i.current)}loadFeatures({children:i,...r},o,c,d){let u,h;for(let m=0;m<rw;m++){const p=by[m],{isEnabled:y,Feature:g,ProjectionNode:w,MeasureLayout:b}=sr[p];w&&(u=w),y(r)&&(!this.features[p]&&g&&(this.features[p]=new g(this)),b&&(h=b))}if((this.type==="html"||this.type==="svg")&&!this.projection&&u){this.projection=new u(this.latestValues,xy(this.parent));const{layoutId:m,layout:p,drag:y,dragConstraints:g,layoutScroll:w,layoutRoot:b}=r;this.projection.setOptions({layoutId:m,layout:p,alwaysMeasureLayout:!!y||g&&Xa(g),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof p=="string"?p:"both",initialPromotionConfig:d,layoutScroll:w,layoutRoot:b})}return h}updateFeatures(){for(const i in this.features){const r=this.features[i];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ue()}getStaticValue(i){return this.latestValues[i]}setStaticValue(i,r){this.latestValues[i]=r}update(i,r){(i.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=i,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let o=0;o<Xg.length;o++){const c=Xg[o];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);const d="on"+c,u=i[d];u&&(this.propEventSubscriptions[c]=this.on(c,u))}this.prevMotionValues=iw(this,this.scrapeMotionValuesFromProps(i,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(i){return this.props.variants?this.props.variants[i]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(i=!1){if(i)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const o=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(o.initial=this.props.initial),o}const r={};for(let o=0;o<ow;o++){const c=cf[o],d=this.props[c];(ar(d)||d===!1)&&(r[c]=d)}return r}addVariantChild(i){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(i),()=>r.variantChildren.delete(i)}addValue(i,r){const o=this.values.get(i);r!==o&&(o&&this.removeValue(i),this.bindToMotionValue(i,r),this.values.set(i,r),this.latestValues[i]=r.get())}removeValue(i){this.values.delete(i);const r=this.valueSubscriptions.get(i);r&&(r(),this.valueSubscriptions.delete(i)),delete this.latestValues[i],this.removeValueFromRenderState(i,this.renderState)}hasValue(i){return this.values.has(i)}getValue(i,r){if(this.props.values&&this.props.values[i])return this.props.values[i];let o=this.values.get(i);return o===void 0&&r!==void 0&&(o=or(r===null?void 0:r,{owner:this}),this.addValue(i,o)),o}readValue(i,r){var o;let c=this.latestValues[i]!==void 0||!this.current?this.latestValues[i]:(o=this.getBaseTargetFromProps(this.props,i))!==null&&o!==void 0?o:this.readValueFromInstance(this.current,i,this.options);return c!=null&&(typeof c=="string"&&(E0(c)||k0(c))?c=parseFloat(c):!sw(c)&&Mi.test(r)&&(c=V0(i,r)),this.setBaseTarget(i,je(c)?c.get():c)),je(c)?c.get():c}setBaseTarget(i,r){this.baseTarget[i]=r}getBaseTarget(i){var r;const{initial:o}=this.props;let c;if(typeof o=="string"||typeof o=="object"){const u=bf(this.props,o,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);u&&(c=u[i])}if(o&&c!==void 0)return c;const d=this.getBaseTargetFromProps(this.props,i);return d!==void 0&&!je(d)?d:this.initialValues[i]!==void 0&&c===void 0?void 0:this.baseTarget[i]}on(i,r){return this.events[i]||(this.events[i]=new Nf),this.events[i].add(r)}notify(i,...r){this.events[i]&&this.events[i].notify(...r)}}class Sy extends lw{constructor(){super(...arguments),this.KeyframeResolver=F0}sortInstanceNodePosition(i,r){return i.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(i,r){return i.style?i.style[r]:void 0}removeValueFromRenderState(i,{vars:r,style:o}){delete r[i],delete o[i]}}function cw(s){return window.getComputedStyle(s)}class uw extends Sy{constructor(){super(...arguments),this.type="html"}readValueFromInstance(i,r){if(oa.has(r)){const o=Tf(r);return o&&o.default||0}else{const o=cw(i),c=(c0(r)?o.getPropertyValue(r):o[r])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(i,{transformPagePoint:r}){return ly(i,r)}build(i,r,o,c){mf(i,r,o,c.transformTemplate)}scrapeMotionValuesFromProps(i,r,o){return vf(i,r,o)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:i}=this.props;je(i)&&(this.childSubscription=i.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(i,r,o,c){m0(i,r,o,c)}}class fw extends Sy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(i,r){return i[r]}readValueFromInstance(i,r){if(oa.has(r)){const o=Tf(r);return o&&o.default||0}return r=p0.has(r)?r:rf(r),i.getAttribute(r)}measureInstanceViewportBox(){return ue()}scrapeMotionValuesFromProps(i,r,o){return y0(i,r,o)}build(i,r,o,c){gf(i,r,o,this.isSVGTag,c.transformTemplate)}renderInstance(i,r,o,c){g0(i,r,o,c)}mount(i){this.isSVGTag=yf(i.tagName),super.mount(i)}}const dw=(s,i)=>ff(s)?new fw(i,{enableHardwareAcceleration:!1}):new uw(i,{allowProjection:s!==H.Fragment,enableHardwareAcceleration:!0}),hw={layout:{ProjectionNode:yy,MeasureLayout:uy}},mw={...Q2,...rx,...ew,...hw},Gn=gb((s,i)=>Zb(s,i,mw,dw));function wy(){const s=H.useRef(!1);return sf(()=>(s.current=!0,()=>{s.current=!1}),[]),s}function pw(){const s=wy(),[i,r]=H.useState(0),o=H.useCallback(()=>{s.current&&r(i+1)},[i]);return[H.useCallback(()=>be.postRender(o),[o]),i]}class gw extends H.Component{getSnapshotBeforeUpdate(i){const r=this.props.childRef.current;if(r&&i.isPresent&&!this.props.isPresent){const o=this.props.sizeRef.current;o.height=r.offsetHeight||0,o.width=r.offsetWidth||0,o.top=r.offsetTop,o.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function yw({children:s,isPresent:i}){const r=H.useId(),o=H.useRef(null),c=H.useRef({width:0,height:0,top:0,left:0}),{nonce:d}=H.useContext(nf);return H.useInsertionEffect(()=>{const{width:u,height:h,top:m,left:p}=c.current;if(i||!o.current||!u||!h)return;o.current.dataset.motionPopId=r;const y=document.createElement("style");return d&&(y.nonce=d),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            top: ${m}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(y)}},[i]),x.jsx(gw,{isPresent:i,childRef:o,sizeRef:c,children:H.cloneElement(s,{ref:o})})}const Nu=({children:s,initial:i,isPresent:r,onExitComplete:o,custom:c,presenceAffectsLayout:d,mode:u})=>{const h=v0(vw),m=H.useId(),p=H.useMemo(()=>({id:m,initial:i,isPresent:r,custom:c,onExitComplete:y=>{h.set(y,!0);for(const g of h.values())if(!g)return;o&&o()},register:y=>(h.set(y,!1),()=>h.delete(y))}),d?[Math.random()]:[r]);return H.useMemo(()=>{h.forEach((y,g)=>h.set(g,!1))},[r]),H.useEffect(()=>{!r&&!h.size&&o&&o()},[r]),u==="popLayout"&&(s=x.jsx(yw,{isPresent:r,children:s})),x.jsx(Zo.Provider,{value:p,children:s})};function vw(){return new Map}function bw(s){return H.useEffect(()=>()=>s(),[])}const ea=s=>s.key||"";function xw(s,i){s.forEach(r=>{const o=ea(r);i.set(o,r)})}function Sw(s){const i=[];return H.Children.forEach(s,r=>{H.isValidElement(r)&&i.push(r)}),i}const ki=({children:s,custom:i,initial:r=!0,onExitComplete:o,exitBeforeEnter:c,presenceAffectsLayout:d=!0,mode:u="sync"})=>{const h=H.useContext(uf).forceRender||pw()[0],m=wy(),p=Sw(s);let y=p;const g=H.useRef(new Map).current,w=H.useRef(y),b=H.useRef(new Map).current,C=H.useRef(!0);if(sf(()=>{C.current=!1,xw(p,b),w.current=y}),bw(()=>{C.current=!0,b.clear(),g.clear()}),C.current)return x.jsx(x.Fragment,{children:y.map(k=>x.jsx(Nu,{isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:d,mode:u,children:k},ea(k)))});y=[...y];const T=w.current.map(ea),j=p.map(ea),E=T.length;for(let k=0;k<E;k++){const A=T[k];j.indexOf(A)===-1&&!g.has(A)&&g.set(A,void 0)}return u==="wait"&&g.size&&(y=[]),g.forEach((k,A)=>{if(j.indexOf(A)!==-1)return;const B=b.get(A);if(!B)return;const D=T.indexOf(A);let P=k;if(!P){const V=()=>{g.delete(A);const G=Array.from(b.keys()).filter(X=>!j.includes(X));if(G.forEach(X=>b.delete(X)),w.current=p.filter(X=>{const lt=ea(X);return lt===A||G.includes(lt)}),!g.size){if(m.current===!1)return;h(),o&&o()}};P=x.jsx(Nu,{isPresent:!1,onExitComplete:V,custom:i,presenceAffectsLayout:d,mode:u,children:B},ea(B)),g.set(A,P)}y.splice(D,0,P)}),y=y.map(k=>{const A=k.key;return g.has(A)?k:x.jsx(Nu,{isPresent:!0,presenceAffectsLayout:d,mode:u,children:k},ea(k))}),x.jsx(x.Fragment,{children:g.size?y:y.map(k=>H.cloneElement(k))})},ww=s=>!s||!/^#[0-9A-F]{6}$/i.test(s)?"#E25822":s,Wa=s=>s?(s.match(/([^\s]+)/g)||[]).length:0;/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_w=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,r,o)=>o?o.toUpperCase():r.toLowerCase()),Kg=s=>{const i=_w(s);return i.charAt(0).toUpperCase()+i.slice(1)},Ty=(...s)=>s.filter((i,r,o)=>!!i&&i.trim()!==""&&o.indexOf(i)===r).join(" ").trim(),Cw=s=>{for(const i in s)if(i.startsWith("aria-")||i==="role"||i==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=H.forwardRef(({color:s="currentColor",size:i=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:u,...h},m)=>H.createElement("svg",{ref:m,...kw,width:i,height:i,stroke:s,strokeWidth:o?Number(r)*24/Number(i):r,className:Ty("lucide",c),...!d&&!Cw(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,y])=>H.createElement(p,y)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=(s,i)=>{const r=H.forwardRef(({className:o,...c},d)=>H.createElement(Aw,{ref:d,iconNode:i,className:Ty(`lucide-${Tw(Kg(s))}`,`lucide-${s}`,o),...c}));return r.displayName=Kg(s),r};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],jw=Ht("arrow-left",Ew);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Mw=Ht("book-marked",zw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],_y=Ht("book-open",Nw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],Dw=Ht("bookmark-check",Rw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Io=Ht("check",Ow);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$u=Ht("chevron-down",Bw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Uw=Ht("chevron-left",Lw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Qg=Ht("chevron-right",Vw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Hw=Ht("circle-alert",Fw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Cy=Ht("circle-check-big",Pw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],qw=Ht("cloud-download",Iw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Wu=Ht("cloud",Gw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Zw=Ht("download",Yw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],Kw=Ht("file-plus",Xw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],$w=Ht("heart",Qw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Jw=Ht("layout-grid",Ww);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1",key:"oynpb5"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z",key:"1qboyk"}]],eT=Ht("library-big",tT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],iT=Ht("library",nT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M11 19H3",key:"zflm78"}],["path",{d:"M21 16V5",key:"yxg4q8"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],sT=Ht("list-music",aT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$g=Ht("loader-circle",rT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],lT=Ht("lock",oT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M5 12h14",key:"1ays0h"}]],ky=Ht("minus",cT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],fT=Ht("palette",uT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],hT=Ht("pause",dT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Rf=Ht("play",mT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Df=Ht("plus",pT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],yT=Ht("refresh-cw",gT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],bT=Ht("search",vT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ST=Ht("settings",xT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ay=Ht("sparkles",wT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_T=Ht("square-check-big",TT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ey=Ht("trash-2",CT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],AT=Ht("triangle-alert",kT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],ir=Ht("type",ET);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Of=Ht("x",jT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],MT=Ht("zap",zT),Za={Modern:{background:"#F2F2F7",surface:"#FFFFFF",primaryText:"#000000",secondaryText:"#8A8A8E",accent:"#E25822",dimmer:"rgba(255,255,255,0.85)",borderColor:"#E5E5EA"},Sepia:{background:"#F8F1E3",surface:"#FFFDF5",primaryText:"#5C4033",secondaryText:"#8C7356",accent:"#D45D48",dimmer:"rgba(248,241,227,0.9)",borderColor:"#E6DCC8"},Night:{background:"#000000",surface:"#1C1C1E",primaryText:"#F2F2F7",secondaryText:"#8E8E93",accent:"#E25822",dimmer:"rgba(0,0,0,0.8)",borderColor:"#2C2C2E"},OLED:{background:"#000000",surface:"#121212",primaryText:"#FFFFFF",secondaryText:"#888888",accent:"#E25822",dimmer:"rgba(0,0,0,0.9)",borderColor:"#333333"},System:{background:"#F2F2F7",surface:"#FFFFFF",primaryText:"#000000",secondaryText:"#8A8A8E",accent:"#E25822",dimmer:"rgba(255,255,255,0.9)",borderColor:"#E5E5EA"}};class aa{constructor(){this.listeners=new Set,this._mode="Modern";try{const i=localStorage.getItem("titan_theme_mode");i&&Object.keys(Za).concat(["System"]).includes(i)&&(this._mode=i)}catch(i){console.warn("[TitanTheme] Failed to load theme preference",i)}}static getInstance(){return aa.instance||(aa.instance=new aa),aa.instance}get mode(){return this._mode}setMode(i){this._mode=i;try{localStorage.setItem("titan_theme_mode",i)}catch(r){console.warn("[TitanTheme] Failed to save theme preference",r)}this.notify()}get currentColors(){return this._mode==="System"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Za.Night:Za.Modern:Za[this._mode]||Za.Modern}subscribe(i){return this.listeners.add(i),()=>this.listeners.delete(i)}notify(){this.listeners.forEach(i=>i())}}const Me=()=>{const s=aa.getInstance(),[i,r]=H.useState(s.currentColors);return H.useEffect(()=>{const o=()=>r(s.currentColors);return s.subscribe(o)},[]),i};class _n{constructor(){this.listeners=new Set,this.STORAGE_KEY="titan_reader_prefs_v15_true_book",this.config=this.loadFromStorage()}static getInstance(){return _n.instance||(_n.instance=new _n),_n.instance}getDefaultConfig(){return{id:"user-default",themeMode:"System",fontFamily:"New York",fontSize:18,lineHeight:1.35,paragraphSpacing:10,motionBlurIntensity:.05,showReflections:!1,rsvpSpeed:200,hasCustomSpeed:!1,rsvpChunkSize:1,isRSVPContextEnabled:!0,rsvpColorHighlight:"#FF3B30"}}loadFromStorage(){try{const i=localStorage.getItem(this.STORAGE_KEY);if(i){const r=JSON.parse(i),o={...this.getDefaultConfig(),...r};return o.hasCustomSpeed||(o.rsvpSpeed=200),o}}catch(i){console.warn("[TitanSettings] Failed to load config",i)}return this.getDefaultConfig()}saveToStorage(){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.config))}catch(i){console.warn("[TitanSettings] Failed to save config",i)}}getSettings(){return{...this.config}}updateSettings(i){this.config={...this.config,...i},this.saveToStorage(),this.notify()}subscribe(i){return this.listeners.add(i),()=>this.listeners.delete(i)}notify(){this.listeners.forEach(i=>i())}}const dr=()=>{const s=_n.getInstance(),[i,r]=H.useState(s.getSettings());return H.useEffect(()=>{const o=()=>r(s.getSettings());return s.subscribe(o)},[]),{settings:i,updateSettings:o=>s.updateSettings(o)}},NT=es.memo(({book:s})=>{const i=ww(s.tintColorHex);return x.jsxs("div",{className:"w-full h-full flex items-center justify-center p-5 relative overflow-hidden",style:{backgroundColor:i},children:[x.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-40",children:[x.jsx("div",{className:"absolute w-32 h-32 bg-white rounded-full blur-3xl transform -translate-x-8 -translate-y-8 opacity-40"}),x.jsx("div",{className:"absolute w-24 h-24 bg-white rounded-full blur-2xl transform translate-x-6 translate-y-6 opacity-30"})]}),x.jsxs("div",{className:"relative z-10 text-center text-black w-full break-words px-2",children:[x.jsx("h3",{className:"font-serif font-bold text-base leading-tight mb-1.5 line-clamp-3 lowercase",children:s.title}),x.jsx("p",{className:"font-sans text-[9px] font-bold uppercase tracking-[0.15em] opacity-40",children:s.author})]})]})}),Ru=es.memo(({book:s,onSelect:i,isEditing:r,isSelected:o,onToggleSelect:c,onLongPress:d})=>{const u=Me(),{settings:h}=dr(),m=H.useRef(Math.random()*.2),p=H.useRef(Math.random()>.5?1:-1),y=H.useRef(null),g=H.useRef(!1),w=H.useRef(!1),b=H.useRef({x:0,y:0});H.useEffect(()=>()=>{y.current&&(clearTimeout(y.current),y.current=null)},[]);const C=D=>{g.current=!1,w.current=!1,b.current={x:D.clientX,y:D.clientY},y.current=window.setTimeout(()=>{d&&(g.current=!0,navigator.vibrate&&navigator.vibrate(20),d(s))},500)},T=D=>{Math.hypot(D.clientX-b.current.x,D.clientY-b.current.y)>10&&(w.current=!0,y.current&&(clearTimeout(y.current),y.current=null))},j=D=>{y.current&&(clearTimeout(y.current),y.current=null),!g.current&&!w.current&&(r?c==null||c(s):i(s)),g.current=!1,w.current=!1},E=D=>{y.current&&(clearTimeout(y.current),y.current=null),g.current=!1,w.current=!1};-1.5*p.current,1.5*p.current,-1.5*p.current,m.current;const k=Math.floor((s.bookmarkProgress||0)*100),A=H.useMemo(()=>{if(!s.chapters||s.chapters.length===0||s.isFinished)return null;const P=s.chapters.reduce((yt,U)=>yt+U.wordCount,0)*(1-(s.bookmarkProgress||0)),V=h.rsvpSpeed||250,G=Math.ceil(P/V);if(G<=1)return"< 1m";if(G<60)return`${G}m`;const X=Math.floor(G/60),lt=G%60;return lt===0?`${X}h`:`${X}h ${lt}m`},[s,h.rsvpSpeed]),B=!s.isFinished&&(A!==null||k>0);return x.jsxs("div",{className:"group cursor-pointer relative touch-pan-y",onPointerDown:C,onPointerMove:T,onPointerUp:j,onPointerCancel:E,onContextMenu:D=>{D.preventDefault()},children:[x.jsxs("div",{className:"relative aspect-[2/3] w-full rounded-xl shadow-[0_4px_16px_rgba(0,0,0,0.08)] overflow-hidden z-10 will-change-transform active:scale-[0.97] hover:scale-[1.02] hover:-translate-y-0.5",style:{backgroundColor:u.surface,transform:r?"scale(0.94)":"scale(1.0)",transition:"transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.2s ease-out"},children:[s.coverUrl?x.jsx("img",{src:s.coverUrl,alt:`Cover of ${s.title}`,className:`w-full h-full object-cover transition-all duration-500 ${s.isFinished?"grayscale-[0.5] opacity-90":""}`,loading:"lazy",decoding:"async",style:{backgroundColor:u.borderColor}}):x.jsx(NT,{book:s}),!r&&x.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/10 opacity-0 group-hover:opacity-100 transition-opacity duration-200 backdrop-blur-[1px] z-20",children:x.jsx("div",{className:"w-12 h-12 rounded-full shadow-xl flex items-center justify-center transform translate-y-4 group-hover:translate-y-0 transition-transform duration-200",style:{backgroundColor:u.surface,color:u.accent},children:s.isFinished?x.jsx(Cy,{size:24,fill:"currentColor",stroke:"none"}):x.jsx(_y,{size:20,fill:"currentColor"})})}),r&&x.jsx("div",{className:`absolute inset-0 bg-black/10 transition-opacity duration-200 z-30 ${o?"opacity-40":"opacity-0"}`}),s.isFinished&&x.jsx("div",{className:"absolute top-2 right-2 z-50",children:x.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center shadow-md border border-white/20",style:{backgroundColor:"#10b981",color:"#FFFFFF"},children:x.jsx(Io,{size:14,strokeWidth:4})})}),B&&x.jsx("div",{className:"absolute top-2 right-2 z-50",children:x.jsx("div",{className:"px-2 py-0.5 rounded-md flex items-center justify-center shadow-sm border border-white/20 backdrop-blur-sm",style:{backgroundColor:"rgba(0,0,0,0.7)",color:"#FFFFFF"},children:x.jsx("span",{className:"text-[10px] font-bold tabular-nums leading-none whitespace-nowrap",children:A?`${A} left`:`${k}%`})})}),k>0&&x.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1.5 bg-black/40 z-40",children:x.jsx("div",{className:"h-full",style:{width:`${Math.min(100,k)}%`,backgroundColor:s.isFinished?"#10b981":u.accent}})})]}),r&&x.jsx("div",{className:"absolute -top-1 -left-1 z-50 transition-transform duration-200",style:{transform:"scale(1)"},children:x.jsx("div",{className:"w-8 h-8 rounded-full border-[3px] shadow-sm flex items-center justify-center transition-all duration-200",style:{backgroundColor:o?u.accent:u.surface,borderColor:u.background,color:o?"#FFFFFF":"transparent"},children:o&&x.jsx(Io,{size:16,strokeWidth:4})})}),x.jsxs("div",{className:"mt-2.5 space-y-0.5",children:[x.jsx("h3",{className:"font-serif font-semibold text-sm leading-snug line-clamp-2",style:{color:u.primaryText},children:s.title}),x.jsx("p",{className:"font-sans text-xs opacity-60",style:{color:u.secondaryText},children:s.author})]})]})}),RT=({onImport:s,hasDeleted:i})=>{const r=Me();return x.jsxs("div",{onClick:s,className:"group flex flex-col items-center justify-center p-12 rounded-[40px] cursor-pointer transition-all duration-500 max-w-sm mx-auto mt-20 hover:scale-[0.98] active:scale-95",style:{backgroundColor:r.surface,border:`1px solid ${r.borderColor}`},children:[x.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mb-8 shadow-2xl group-hover:shadow-ember/20 transition-all duration-500",style:{backgroundColor:r.accent,color:"#FFFFFF"},children:i?x.jsx(Ay,{size:28,strokeWidth:2,className:"animate-pulse"}):x.jsx(Kw,{size:28,strokeWidth:2})}),x.jsx("h2",{className:"text-3xl font-black mb-2 text-center lowercase tracking-tighter leading-none",style:{color:r.primaryText},children:i?"poof. gone.":"clean slate."}),x.jsx("p",{className:"text-[10px] uppercase font-black tracking-[0.2em] text-center mt-3 opacity-30 max-w-[180px]",style:{color:r.secondaryText},children:i?"all cleared out. plenty of room for new magic.":"nothing here yet. tap here to find a story."}),x.jsxs("div",{className:"mt-8 flex items-center gap-2 opacity-20",children:[x.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-current",style:{backgroundColor:r.primaryText}}),x.jsx("div",{className:"w-10 h-[1px] bg-current",style:{backgroundColor:r.primaryText}}),x.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-current",style:{backgroundColor:r.primaryText}})]})]})};function No(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Du={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Wg;function DT(){return Wg||(Wg=1,(function(s,i){(function(r){s.exports=r()})(function(){return(function r(o,c,d){function u(p,y){if(!c[p]){if(!o[p]){var g=typeof No=="function"&&No;if(!y&&g)return g(p,!0);if(h)return h(p,!0);var w=new Error("Cannot find module '"+p+"'");throw w.code="MODULE_NOT_FOUND",w}var b=c[p]={exports:{}};o[p][0].call(b.exports,function(C){var T=o[p][1][C];return u(T||C)},b,b.exports,r,o,c,d)}return c[p].exports}for(var h=typeof No=="function"&&No,m=0;m<d.length;m++)u(d[m]);return u})({1:[function(r,o,c){var d=r("./utils"),u=r("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.encode=function(m){for(var p,y,g,w,b,C,T,j=[],E=0,k=m.length,A=k,B=d.getTypeOf(m)!=="string";E<m.length;)A=k-E,g=B?(p=m[E++],y=E<k?m[E++]:0,E<k?m[E++]:0):(p=m.charCodeAt(E++),y=E<k?m.charCodeAt(E++):0,E<k?m.charCodeAt(E++):0),w=p>>2,b=(3&p)<<4|y>>4,C=1<A?(15&y)<<2|g>>6:64,T=2<A?63&g:64,j.push(h.charAt(w)+h.charAt(b)+h.charAt(C)+h.charAt(T));return j.join("")},c.decode=function(m){var p,y,g,w,b,C,T=0,j=0,E="data:";if(m.substr(0,E.length)===E)throw new Error("Invalid base64 input, it looks like a data url.");var k,A=3*(m=m.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(m.charAt(m.length-1)===h.charAt(64)&&A--,m.charAt(m.length-2)===h.charAt(64)&&A--,A%1!=0)throw new Error("Invalid base64 input, bad content length.");for(k=u.uint8array?new Uint8Array(0|A):new Array(0|A);T<m.length;)p=h.indexOf(m.charAt(T++))<<2|(w=h.indexOf(m.charAt(T++)))>>4,y=(15&w)<<4|(b=h.indexOf(m.charAt(T++)))>>2,g=(3&b)<<6|(C=h.indexOf(m.charAt(T++))),k[j++]=p,b!==64&&(k[j++]=y),C!==64&&(k[j++]=g);return k}},{"./support":30,"./utils":32}],2:[function(r,o,c){var d=r("./external"),u=r("./stream/DataWorker"),h=r("./stream/Crc32Probe"),m=r("./stream/DataLengthProbe");function p(y,g,w,b,C){this.compressedSize=y,this.uncompressedSize=g,this.crc32=w,this.compression=b,this.compressedContent=C}p.prototype={getContentWorker:function(){var y=new u(d.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new m("data_length")),g=this;return y.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new u(d.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(y,g,w){return y.pipe(new h).pipe(new m("uncompressedSize")).pipe(g.compressWorker(w)).pipe(new m("compressedSize")).withStreamInfo("compression",g)},o.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,o,c){var d=r("./stream/GenericWorker");c.STORE={magic:"\0\0",compressWorker:function(){return new d("STORE compression")},uncompressWorker:function(){return new d("STORE decompression")}},c.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,o,c){var d=r("./utils"),u=(function(){for(var h,m=[],p=0;p<256;p++){h=p;for(var y=0;y<8;y++)h=1&h?3988292384^h>>>1:h>>>1;m[p]=h}return m})();o.exports=function(h,m){return h!==void 0&&h.length?d.getTypeOf(h)!=="string"?(function(p,y,g,w){var b=u,C=w+g;p^=-1;for(var T=w;T<C;T++)p=p>>>8^b[255&(p^y[T])];return-1^p})(0|m,h,h.length,0):(function(p,y,g,w){var b=u,C=w+g;p^=-1;for(var T=w;T<C;T++)p=p>>>8^b[255&(p^y.charCodeAt(T))];return-1^p})(0|m,h,h.length,0):0}},{"./utils":32}],5:[function(r,o,c){c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!0,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],6:[function(r,o,c){var d=null;d=typeof Promise<"u"?Promise:r("lie"),o.exports={Promise:d}},{lie:37}],7:[function(r,o,c){var d=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",u=r("pako"),h=r("./utils"),m=r("./stream/GenericWorker"),p=d?"uint8array":"array";function y(g,w){m.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=w,this.meta={}}c.magic="\b\0",h.inherits(y,m),y.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(p,g.data),!1)},y.prototype.flush=function(){m.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(w){g.push({data:w,meta:g.meta})}},c.compressWorker=function(g){return new y("Deflate",g)},c.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,o,c){function d(b,C){var T,j="";for(T=0;T<C;T++)j+=String.fromCharCode(255&b),b>>>=8;return j}function u(b,C,T,j,E,k){var A,B,D=b.file,P=b.compression,V=k!==p.utf8encode,G=h.transformTo("string",k(D.name)),X=h.transformTo("string",p.utf8encode(D.name)),lt=D.comment,yt=h.transformTo("string",k(lt)),U=h.transformTo("string",p.utf8encode(lt)),st=X.length!==D.name.length,_=U.length!==lt.length,nt="",Z="",L="",it=D.dir,$=D.date,pt={crc32:0,compressedSize:0,uncompressedSize:0};C&&!T||(pt.crc32=b.crc32,pt.compressedSize=b.compressedSize,pt.uncompressedSize=b.uncompressedSize);var z=0;C&&(z|=8),V||!st&&!_||(z|=2048);var N=0,K=0;it&&(N|=16),E==="UNIX"?(K=798,N|=(function(rt,St){var wt=rt;return rt||(wt=St?16893:33204),(65535&wt)<<16})(D.unixPermissions,it)):(K=20,N|=(function(rt){return 63&(rt||0)})(D.dosPermissions)),A=$.getUTCHours(),A<<=6,A|=$.getUTCMinutes(),A<<=5,A|=$.getUTCSeconds()/2,B=$.getUTCFullYear()-1980,B<<=4,B|=$.getUTCMonth()+1,B<<=5,B|=$.getUTCDate(),st&&(Z=d(1,1)+d(y(G),4)+X,nt+="up"+d(Z.length,2)+Z),_&&(L=d(1,1)+d(y(yt),4)+U,nt+="uc"+d(L.length,2)+L);var W="";return W+=`
\0`,W+=d(z,2),W+=P.magic,W+=d(A,2),W+=d(B,2),W+=d(pt.crc32,4),W+=d(pt.compressedSize,4),W+=d(pt.uncompressedSize,4),W+=d(G.length,2),W+=d(nt.length,2),{fileRecord:g.LOCAL_FILE_HEADER+W+G+nt,dirRecord:g.CENTRAL_FILE_HEADER+d(K,2)+W+d(yt.length,2)+"\0\0\0\0"+d(N,4)+d(j,4)+G+nt+yt}}var h=r("../utils"),m=r("../stream/GenericWorker"),p=r("../utf8"),y=r("../crc32"),g=r("../signature");function w(b,C,T,j){m.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=C,this.zipPlatform=T,this.encodeFileName=j,this.streamFiles=b,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(w,m),w.prototype.push=function(b){var C=b.meta.percent||0,T=this.entriesCount,j=this._sources.length;this.accumulate?this.contentBuffer.push(b):(this.bytesWritten+=b.data.length,m.prototype.push.call(this,{data:b.data,meta:{currentFile:this.currentFile,percent:T?(C+100*(T-j-1))/T:100}}))},w.prototype.openedSource=function(b){this.currentSourceOffset=this.bytesWritten,this.currentFile=b.file.name;var C=this.streamFiles&&!b.file.dir;if(C){var T=u(b,C,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:T.fileRecord,meta:{percent:0}})}else this.accumulate=!0},w.prototype.closedSource=function(b){this.accumulate=!1;var C=this.streamFiles&&!b.file.dir,T=u(b,C,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(T.dirRecord),C)this.push({data:(function(j){return g.DATA_DESCRIPTOR+d(j.crc32,4)+d(j.compressedSize,4)+d(j.uncompressedSize,4)})(b),meta:{percent:100}});else for(this.push({data:T.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},w.prototype.flush=function(){for(var b=this.bytesWritten,C=0;C<this.dirRecords.length;C++)this.push({data:this.dirRecords[C],meta:{percent:100}});var T=this.bytesWritten-b,j=(function(E,k,A,B,D){var P=h.transformTo("string",D(B));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+d(E,2)+d(E,2)+d(k,4)+d(A,4)+d(P.length,2)+P})(this.dirRecords.length,T,b,this.zipComment,this.encodeFileName);this.push({data:j,meta:{percent:100}})},w.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},w.prototype.registerPrevious=function(b){this._sources.push(b);var C=this;return b.on("data",function(T){C.processChunk(T)}),b.on("end",function(){C.closedSource(C.previous.streamInfo),C._sources.length?C.prepareNextSource():C.end()}),b.on("error",function(T){C.error(T)}),this},w.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},w.prototype.error=function(b){var C=this._sources;if(!m.prototype.error.call(this,b))return!1;for(var T=0;T<C.length;T++)try{C[T].error(b)}catch{}return!0},w.prototype.lock=function(){m.prototype.lock.call(this);for(var b=this._sources,C=0;C<b.length;C++)b[C].lock()},o.exports=w},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,o,c){var d=r("../compressions"),u=r("./ZipFileWorker");c.generateWorker=function(h,m,p){var y=new u(m.streamFiles,p,m.platform,m.encodeFileName),g=0;try{h.forEach(function(w,b){g++;var C=(function(k,A){var B=k||A,D=d[B];if(!D)throw new Error(B+" is not a valid compression method !");return D})(b.options.compression,m.compression),T=b.options.compressionOptions||m.compressionOptions||{},j=b.dir,E=b.date;b._compressWorker(C,T).withStreamInfo("file",{name:w,dir:j,date:E,comment:b.comment||"",unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions}).pipe(y)}),y.entriesCount=g}catch(w){y.error(w)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,o,c){function d(){if(!(this instanceof d))return new d;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new d;for(var h in this)typeof this[h]!="function"&&(u[h]=this[h]);return u}}(d.prototype=r("./object")).loadAsync=r("./load"),d.support=r("./support"),d.defaults=r("./defaults"),d.version="3.10.1",d.loadAsync=function(u,h){return new d().loadAsync(u,h)},d.external=r("./external"),o.exports=d},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,o,c){var d=r("./utils"),u=r("./external"),h=r("./utf8"),m=r("./zipEntries"),p=r("./stream/Crc32Probe"),y=r("./nodejsUtils");function g(w){return new u.Promise(function(b,C){var T=w.decompressed.getContentWorker().pipe(new p);T.on("error",function(j){C(j)}).on("end",function(){T.streamInfo.crc32!==w.decompressed.crc32?C(new Error("Corrupted zip : CRC32 mismatch")):b()}).resume()})}o.exports=function(w,b){var C=this;return b=d.extend(b||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),y.isNode&&y.isStream(w)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):d.prepareContent("the loaded zip file",w,!0,b.optimizedBinaryString,b.base64).then(function(T){var j=new m(b);return j.load(T),j}).then(function(T){var j=[u.Promise.resolve(T)],E=T.files;if(b.checkCRC32)for(var k=0;k<E.length;k++)j.push(g(E[k]));return u.Promise.all(j)}).then(function(T){for(var j=T.shift(),E=j.files,k=0;k<E.length;k++){var A=E[k],B=A.fileNameStr,D=d.resolve(A.fileNameStr);C.file(D,A.decompressed,{binary:!0,optimizedBinaryString:!0,date:A.date,dir:A.dir,comment:A.fileCommentStr.length?A.fileCommentStr:null,unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions,createFolders:b.createFolders}),A.dir||(C.file(D).unsafeOriginalName=B)}return j.zipComment.length&&(C.comment=j.zipComment),C})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,o,c){var d=r("../utils"),u=r("../stream/GenericWorker");function h(m,p){u.call(this,"Nodejs stream input adapter for "+m),this._upstreamEnded=!1,this._bindStream(p)}d.inherits(h,u),h.prototype._bindStream=function(m){var p=this;(this._stream=m).pause(),m.on("data",function(y){p.push({data:y,meta:{percent:0}})}).on("error",function(y){p.isPaused?this.generatedError=y:p.error(y)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},h.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,o,c){var d=r("readable-stream").Readable;function u(h,m,p){d.call(this,m),this._helper=h;var y=this;h.on("data",function(g,w){y.push(g)||y._helper.pause(),p&&p(w)}).on("error",function(g){y.emit("error",g)}).on("end",function(){y.push(null)})}r("../utils").inherits(u,d),u.prototype._read=function(){this._helper.resume()},o.exports=u},{"../utils":32,"readable-stream":16}],14:[function(r,o,c){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(d,u){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(d,u);if(typeof d=="number")throw new Error('The "data" argument must not be a number');return new Buffer(d,u)},allocBuffer:function(d){if(Buffer.alloc)return Buffer.alloc(d);var u=new Buffer(d);return u.fill(0),u},isBuffer:function(d){return Buffer.isBuffer(d)},isStream:function(d){return d&&typeof d.on=="function"&&typeof d.pause=="function"&&typeof d.resume=="function"}}},{}],15:[function(r,o,c){function d(D,P,V){var G,X=h.getTypeOf(P),lt=h.extend(V||{},y);lt.date=lt.date||new Date,lt.compression!==null&&(lt.compression=lt.compression.toUpperCase()),typeof lt.unixPermissions=="string"&&(lt.unixPermissions=parseInt(lt.unixPermissions,8)),lt.unixPermissions&&16384&lt.unixPermissions&&(lt.dir=!0),lt.dosPermissions&&16&lt.dosPermissions&&(lt.dir=!0),lt.dir&&(D=E(D)),lt.createFolders&&(G=j(D))&&k.call(this,G,!0);var yt=X==="string"&&lt.binary===!1&&lt.base64===!1;V&&V.binary!==void 0||(lt.binary=!yt),(P instanceof g&&P.uncompressedSize===0||lt.dir||!P||P.length===0)&&(lt.base64=!1,lt.binary=!0,P="",lt.compression="STORE",X="string");var U=null;U=P instanceof g||P instanceof m?P:C.isNode&&C.isStream(P)?new T(D,P):h.prepareContent(D,P,lt.binary,lt.optimizedBinaryString,lt.base64);var st=new w(D,U,lt);this.files[D]=st}var u=r("./utf8"),h=r("./utils"),m=r("./stream/GenericWorker"),p=r("./stream/StreamHelper"),y=r("./defaults"),g=r("./compressedObject"),w=r("./zipObject"),b=r("./generate"),C=r("./nodejsUtils"),T=r("./nodejs/NodejsStreamInputAdapter"),j=function(D){D.slice(-1)==="/"&&(D=D.substring(0,D.length-1));var P=D.lastIndexOf("/");return 0<P?D.substring(0,P):""},E=function(D){return D.slice(-1)!=="/"&&(D+="/"),D},k=function(D,P){return P=P!==void 0?P:y.createFolders,D=E(D),this.files[D]||d.call(this,D,null,{dir:!0,createFolders:P}),this.files[D]};function A(D){return Object.prototype.toString.call(D)==="[object RegExp]"}var B={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(D){var P,V,G;for(P in this.files)G=this.files[P],(V=P.slice(this.root.length,P.length))&&P.slice(0,this.root.length)===this.root&&D(V,G)},filter:function(D){var P=[];return this.forEach(function(V,G){D(V,G)&&P.push(G)}),P},file:function(D,P,V){if(arguments.length!==1)return D=this.root+D,d.call(this,D,P,V),this;if(A(D)){var G=D;return this.filter(function(lt,yt){return!yt.dir&&G.test(lt)})}var X=this.files[this.root+D];return X&&!X.dir?X:null},folder:function(D){if(!D)return this;if(A(D))return this.filter(function(X,lt){return lt.dir&&D.test(X)});var P=this.root+D,V=k.call(this,P),G=this.clone();return G.root=V.name,G},remove:function(D){D=this.root+D;var P=this.files[D];if(P||(D.slice(-1)!=="/"&&(D+="/"),P=this.files[D]),P&&!P.dir)delete this.files[D];else for(var V=this.filter(function(X,lt){return lt.name.slice(0,D.length)===D}),G=0;G<V.length;G++)delete this.files[V[G].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(D){var P,V={};try{if((V=h.extend(D||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:u.utf8encode})).type=V.type.toLowerCase(),V.compression=V.compression.toUpperCase(),V.type==="binarystring"&&(V.type="string"),!V.type)throw new Error("No output type specified.");h.checkSupport(V.type),V.platform!=="darwin"&&V.platform!=="freebsd"&&V.platform!=="linux"&&V.platform!=="sunos"||(V.platform="UNIX"),V.platform==="win32"&&(V.platform="DOS");var G=V.comment||this.comment||"";P=b.generateWorker(this,V,G)}catch(X){(P=new m("error")).error(X)}return new p(P,V.type||"string",V.mimeType)},generateAsync:function(D,P){return this.generateInternalStream(D).accumulate(P)},generateNodeStream:function(D,P){return(D=D||{}).type||(D.type="nodebuffer"),this.generateInternalStream(D).toNodejsStream(P)}};o.exports=B},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,o,c){o.exports=r("stream")},{stream:void 0}],17:[function(r,o,c){var d=r("./DataReader");function u(h){d.call(this,h);for(var m=0;m<this.data.length;m++)h[m]=255&h[m]}r("../utils").inherits(u,d),u.prototype.byteAt=function(h){return this.data[this.zero+h]},u.prototype.lastIndexOfSignature=function(h){for(var m=h.charCodeAt(0),p=h.charCodeAt(1),y=h.charCodeAt(2),g=h.charCodeAt(3),w=this.length-4;0<=w;--w)if(this.data[w]===m&&this.data[w+1]===p&&this.data[w+2]===y&&this.data[w+3]===g)return w-this.zero;return-1},u.prototype.readAndCheckSignature=function(h){var m=h.charCodeAt(0),p=h.charCodeAt(1),y=h.charCodeAt(2),g=h.charCodeAt(3),w=this.readData(4);return m===w[0]&&p===w[1]&&y===w[2]&&g===w[3]},u.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var m=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,m},o.exports=u},{"../utils":32,"./DataReader":18}],18:[function(r,o,c){var d=r("../utils");function u(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var m,p=0;for(this.checkOffset(h),m=this.index+h-1;m>=this.index;m--)p=(p<<8)+this.byteAt(m);return this.index+=h,p},readString:function(h){return d.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC(1980+(h>>25&127),(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(31&h)<<1))}},o.exports=u},{"../utils":32}],19:[function(r,o,c){var d=r("./Uint8ArrayReader");function u(h){d.call(this,h)}r("../utils").inherits(u,d),u.prototype.readData=function(h){this.checkOffset(h);var m=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,m},o.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,o,c){var d=r("./DataReader");function u(h){d.call(this,h)}r("../utils").inherits(u,d),u.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},u.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},u.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},u.prototype.readData=function(h){this.checkOffset(h);var m=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,m},o.exports=u},{"../utils":32,"./DataReader":18}],21:[function(r,o,c){var d=r("./ArrayReader");function u(h){d.call(this,h)}r("../utils").inherits(u,d),u.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var m=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,m},o.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(r,o,c){var d=r("../utils"),u=r("../support"),h=r("./ArrayReader"),m=r("./StringReader"),p=r("./NodeBufferReader"),y=r("./Uint8ArrayReader");o.exports=function(g){var w=d.getTypeOf(g);return d.checkSupport(w),w!=="string"||u.uint8array?w==="nodebuffer"?new p(g):u.uint8array?new y(d.transformTo("uint8array",g)):new h(d.transformTo("array",g)):new m(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,o,c){c.LOCAL_FILE_HEADER="PK",c.CENTRAL_FILE_HEADER="PK",c.CENTRAL_DIRECTORY_END="PK",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",c.ZIP64_CENTRAL_DIRECTORY_END="PK",c.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,o,c){var d=r("./GenericWorker"),u=r("../utils");function h(m){d.call(this,"ConvertWorker to "+m),this.destType=m}u.inherits(h,d),h.prototype.processChunk=function(m){this.push({data:u.transformTo(this.destType,m.data),meta:m.meta})},o.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(r,o,c){var d=r("./GenericWorker"),u=r("../crc32");function h(){d.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(h,d),h.prototype.processChunk=function(m){this.streamInfo.crc32=u(m.data,this.streamInfo.crc32||0),this.push(m)},o.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,o,c){var d=r("../utils"),u=r("./GenericWorker");function h(m){u.call(this,"DataLengthProbe for "+m),this.propName=m,this.withStreamInfo(m,0)}d.inherits(h,u),h.prototype.processChunk=function(m){if(m){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+m.data.length}u.prototype.processChunk.call(this,m)},o.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(r,o,c){var d=r("../utils"),u=r("./GenericWorker");function h(m){u.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,m.then(function(y){p.dataIsReady=!0,p.data=y,p.max=y&&y.length||0,p.type=d.getTypeOf(y),p.isPaused||p._tickAndRepeat()},function(y){p.error(y)})}d.inherits(h,u),h.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,d.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(d.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var m=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":m=this.data.substring(this.index,p);break;case"uint8array":m=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":m=this.data.slice(this.index,p)}return this.index=p,this.push({data:m,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(r,o,c){function d(u){this.name=u||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}d.prototype={push:function(u){this.emit("data",u)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(u){this.emit("error",u)}return!0},error:function(u){return!this.isFinished&&(this.isPaused?this.generatedError=u:(this.isFinished=!0,this.emit("error",u),this.previous&&this.previous.error(u),this.cleanUp()),!0)},on:function(u,h){return this._listeners[u].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(u,h){if(this._listeners[u])for(var m=0;m<this._listeners[u].length;m++)this._listeners[u][m].call(this,h)},pipe:function(u){return u.registerPrevious(this)},registerPrevious:function(u){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=u.streamInfo,this.mergeStreamInfo(),this.previous=u;var h=this;return u.on("data",function(m){h.processChunk(m)}),u.on("end",function(){h.end()}),u.on("error",function(m){h.error(m)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var u=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),u=!0),this.previous&&this.previous.resume(),!u},flush:function(){},processChunk:function(u){this.push(u)},withStreamInfo:function(u,h){return this.extraStreamInfo[u]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var u in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,u)&&(this.streamInfo[u]=this.extraStreamInfo[u])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var u="Worker "+this.name;return this.previous?this.previous+" -> "+u:u}},o.exports=d},{}],29:[function(r,o,c){var d=r("../utils"),u=r("./ConvertWorker"),h=r("./GenericWorker"),m=r("../base64"),p=r("../support"),y=r("../external"),g=null;if(p.nodestream)try{g=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function w(C,T){return new y.Promise(function(j,E){var k=[],A=C._internalType,B=C._outputType,D=C._mimeType;C.on("data",function(P,V){k.push(P),T&&T(V)}).on("error",function(P){k=[],E(P)}).on("end",function(){try{var P=(function(V,G,X){switch(V){case"blob":return d.newBlob(d.transformTo("arraybuffer",G),X);case"base64":return m.encode(G);default:return d.transformTo(V,G)}})(B,(function(V,G){var X,lt=0,yt=null,U=0;for(X=0;X<G.length;X++)U+=G[X].length;switch(V){case"string":return G.join("");case"array":return Array.prototype.concat.apply([],G);case"uint8array":for(yt=new Uint8Array(U),X=0;X<G.length;X++)yt.set(G[X],lt),lt+=G[X].length;return yt;case"nodebuffer":return Buffer.concat(G);default:throw new Error("concat : unsupported type '"+V+"'")}})(A,k),D);j(P)}catch(V){E(V)}k=[]}).resume()})}function b(C,T,j){var E=T;switch(T){case"blob":case"arraybuffer":E="uint8array";break;case"base64":E="string"}try{this._internalType=E,this._outputType=T,this._mimeType=j,d.checkSupport(E),this._worker=C.pipe(new u(E)),C.lock()}catch(k){this._worker=new h("error"),this._worker.error(k)}}b.prototype={accumulate:function(C){return w(this,C)},on:function(C,T){var j=this;return C==="data"?this._worker.on(C,function(E){T.call(j,E.data,E.meta)}):this._worker.on(C,function(){d.delay(T,arguments,j)}),this},resume:function(){return d.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(C){if(d.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},C)}},o.exports=b},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,o,c){if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",c.nodebuffer=typeof Buffer<"u",c.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")c.blob=!1;else{var d=new ArrayBuffer(0);try{c.blob=new Blob([d],{type:"application/zip"}).size===0}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(d),c.blob=u.getBlob("application/zip").size===0}catch{c.blob=!1}}}try{c.nodestream=!!r("readable-stream").Readable}catch{c.nodestream=!1}},{"readable-stream":16}],31:[function(r,o,c){for(var d=r("./utils"),u=r("./support"),h=r("./nodejsUtils"),m=r("./stream/GenericWorker"),p=new Array(256),y=0;y<256;y++)p[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;p[254]=p[254]=1;function g(){m.call(this,"utf-8 decode"),this.leftOver=null}function w(){m.call(this,"utf-8 encode")}c.utf8encode=function(b){return u.nodebuffer?h.newBufferFrom(b,"utf-8"):(function(C){var T,j,E,k,A,B=C.length,D=0;for(k=0;k<B;k++)(64512&(j=C.charCodeAt(k)))==55296&&k+1<B&&(64512&(E=C.charCodeAt(k+1)))==56320&&(j=65536+(j-55296<<10)+(E-56320),k++),D+=j<128?1:j<2048?2:j<65536?3:4;for(T=u.uint8array?new Uint8Array(D):new Array(D),k=A=0;A<D;k++)(64512&(j=C.charCodeAt(k)))==55296&&k+1<B&&(64512&(E=C.charCodeAt(k+1)))==56320&&(j=65536+(j-55296<<10)+(E-56320),k++),j<128?T[A++]=j:(j<2048?T[A++]=192|j>>>6:(j<65536?T[A++]=224|j>>>12:(T[A++]=240|j>>>18,T[A++]=128|j>>>12&63),T[A++]=128|j>>>6&63),T[A++]=128|63&j);return T})(b)},c.utf8decode=function(b){return u.nodebuffer?d.transformTo("nodebuffer",b).toString("utf-8"):(function(C){var T,j,E,k,A=C.length,B=new Array(2*A);for(T=j=0;T<A;)if((E=C[T++])<128)B[j++]=E;else if(4<(k=p[E]))B[j++]=65533,T+=k-1;else{for(E&=k===2?31:k===3?15:7;1<k&&T<A;)E=E<<6|63&C[T++],k--;1<k?B[j++]=65533:E<65536?B[j++]=E:(E-=65536,B[j++]=55296|E>>10&1023,B[j++]=56320|1023&E)}return B.length!==j&&(B.subarray?B=B.subarray(0,j):B.length=j),d.applyFromCharCode(B)})(b=d.transformTo(u.uint8array?"uint8array":"array",b))},d.inherits(g,m),g.prototype.processChunk=function(b){var C=d.transformTo(u.uint8array?"uint8array":"array",b.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var T=C;(C=new Uint8Array(T.length+this.leftOver.length)).set(this.leftOver,0),C.set(T,this.leftOver.length)}else C=this.leftOver.concat(C);this.leftOver=null}var j=(function(k,A){var B;for((A=A||k.length)>k.length&&(A=k.length),B=A-1;0<=B&&(192&k[B])==128;)B--;return B<0||B===0?A:B+p[k[B]]>A?B:A})(C),E=C;j!==C.length&&(u.uint8array?(E=C.subarray(0,j),this.leftOver=C.subarray(j,C.length)):(E=C.slice(0,j),this.leftOver=C.slice(j,C.length))),this.push({data:c.utf8decode(E),meta:b.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:c.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},c.Utf8DecodeWorker=g,d.inherits(w,m),w.prototype.processChunk=function(b){this.push({data:c.utf8encode(b.data),meta:b.meta})},c.Utf8EncodeWorker=w},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,o,c){var d=r("./support"),u=r("./base64"),h=r("./nodejsUtils"),m=r("./external");function p(T){return T}function y(T,j){for(var E=0;E<T.length;++E)j[E]=255&T.charCodeAt(E);return j}r("setimmediate"),c.newBlob=function(T,j){c.checkSupport("blob");try{return new Blob([T],{type:j})}catch{try{var E=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return E.append(T),E.getBlob(j)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(T,j,E){var k=[],A=0,B=T.length;if(B<=E)return String.fromCharCode.apply(null,T);for(;A<B;)j==="array"||j==="nodebuffer"?k.push(String.fromCharCode.apply(null,T.slice(A,Math.min(A+E,B)))):k.push(String.fromCharCode.apply(null,T.subarray(A,Math.min(A+E,B)))),A+=E;return k.join("")},stringifyByChar:function(T){for(var j="",E=0;E<T.length;E++)j+=String.fromCharCode(T[E]);return j},applyCanBeUsed:{uint8array:(function(){try{return d.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return d.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch{return!1}})()}};function w(T){var j=65536,E=c.getTypeOf(T),k=!0;if(E==="uint8array"?k=g.applyCanBeUsed.uint8array:E==="nodebuffer"&&(k=g.applyCanBeUsed.nodebuffer),k)for(;1<j;)try{return g.stringifyByChunk(T,E,j)}catch{j=Math.floor(j/2)}return g.stringifyByChar(T)}function b(T,j){for(var E=0;E<T.length;E++)j[E]=T[E];return j}c.applyFromCharCode=w;var C={};C.string={string:p,array:function(T){return y(T,new Array(T.length))},arraybuffer:function(T){return C.string.uint8array(T).buffer},uint8array:function(T){return y(T,new Uint8Array(T.length))},nodebuffer:function(T){return y(T,h.allocBuffer(T.length))}},C.array={string:w,array:p,arraybuffer:function(T){return new Uint8Array(T).buffer},uint8array:function(T){return new Uint8Array(T)},nodebuffer:function(T){return h.newBufferFrom(T)}},C.arraybuffer={string:function(T){return w(new Uint8Array(T))},array:function(T){return b(new Uint8Array(T),new Array(T.byteLength))},arraybuffer:p,uint8array:function(T){return new Uint8Array(T)},nodebuffer:function(T){return h.newBufferFrom(new Uint8Array(T))}},C.uint8array={string:w,array:function(T){return b(T,new Array(T.length))},arraybuffer:function(T){return T.buffer},uint8array:p,nodebuffer:function(T){return h.newBufferFrom(T)}},C.nodebuffer={string:w,array:function(T){return b(T,new Array(T.length))},arraybuffer:function(T){return C.nodebuffer.uint8array(T).buffer},uint8array:function(T){return b(T,new Uint8Array(T.length))},nodebuffer:p},c.transformTo=function(T,j){if(j=j||"",!T)return j;c.checkSupport(T);var E=c.getTypeOf(j);return C[E][T](j)},c.resolve=function(T){for(var j=T.split("/"),E=[],k=0;k<j.length;k++){var A=j[k];A==="."||A===""&&k!==0&&k!==j.length-1||(A===".."?E.pop():E.push(A))}return E.join("/")},c.getTypeOf=function(T){return typeof T=="string"?"string":Object.prototype.toString.call(T)==="[object Array]"?"array":d.nodebuffer&&h.isBuffer(T)?"nodebuffer":d.uint8array&&T instanceof Uint8Array?"uint8array":d.arraybuffer&&T instanceof ArrayBuffer?"arraybuffer":void 0},c.checkSupport=function(T){if(!d[T.toLowerCase()])throw new Error(T+" is not supported by this platform")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(T){var j,E,k="";for(E=0;E<(T||"").length;E++)k+="\\x"+((j=T.charCodeAt(E))<16?"0":"")+j.toString(16).toUpperCase();return k},c.delay=function(T,j,E){setImmediate(function(){T.apply(E||null,j||[])})},c.inherits=function(T,j){function E(){}E.prototype=j.prototype,T.prototype=new E},c.extend=function(){var T,j,E={};for(T=0;T<arguments.length;T++)for(j in arguments[T])Object.prototype.hasOwnProperty.call(arguments[T],j)&&E[j]===void 0&&(E[j]=arguments[T][j]);return E},c.prepareContent=function(T,j,E,k,A){return m.Promise.resolve(j).then(function(B){return d.blob&&(B instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(B))!==-1)&&typeof FileReader<"u"?new m.Promise(function(D,P){var V=new FileReader;V.onload=function(G){D(G.target.result)},V.onerror=function(G){P(G.target.error)},V.readAsArrayBuffer(B)}):B}).then(function(B){var D=c.getTypeOf(B);return D?(D==="arraybuffer"?B=c.transformTo("uint8array",B):D==="string"&&(A?B=u.decode(B):E&&k!==!0&&(B=(function(P){return y(P,d.uint8array?new Uint8Array(P.length):new Array(P.length))})(B))),B):m.Promise.reject(new Error("Can't read the data of '"+T+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,o,c){var d=r("./reader/readerFor"),u=r("./utils"),h=r("./signature"),m=r("./zipEntry"),p=r("./support");function y(g){this.files=[],this.loadOptions=g}y.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var w=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(w)+", expected "+u.pretty(g)+")")}},isSignature:function(g,w){var b=this.reader.index;this.reader.setIndex(g);var C=this.reader.readString(4)===w;return this.reader.setIndex(b),C},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),w=p.uint8array?"uint8array":"array",b=u.transformTo(w,g);this.zipComment=this.loadOptions.decodeFileName(b)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,w,b,C=this.zip64EndOfCentralSize-44;0<C;)g=this.reader.readInt(2),w=this.reader.readInt(4),b=this.reader.readData(w),this.zip64ExtensibleData[g]={id:g,length:w,value:b}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,w;for(g=0;g<this.files.length;g++)w=this.files[g],this.reader.setIndex(w.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),w.readLocalPart(this.reader),w.handleUTF8(),w.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(g=new m({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var w=g;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var b=this.centralDirOffset+this.centralDirSize;this.zip64&&(b+=20,b+=12+this.zip64EndOfCentralSize);var C=w-b;if(0<C)this.isSignature(w,h.CENTRAL_FILE_HEADER)||(this.reader.zero=C);else if(C<0)throw new Error("Corrupted zip: missing "+Math.abs(C)+" bytes.")},prepareReader:function(g){this.reader=d(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,o,c){var d=r("./reader/readerFor"),u=r("./utils"),h=r("./compressedObject"),m=r("./crc32"),p=r("./utf8"),y=r("./compressions"),g=r("./support");function w(b,C){this.options=b,this.loadOptions=C}w.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(b){var C,T;if(b.skip(22),this.fileNameLength=b.readInt(2),T=b.readInt(2),this.fileName=b.readData(this.fileNameLength),b.skip(T),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((C=(function(j){for(var E in y)if(Object.prototype.hasOwnProperty.call(y,E)&&y[E].magic===j)return y[E];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,C,b.readData(this.compressedSize))},readCentralPart:function(b){this.versionMadeBy=b.readInt(2),b.skip(2),this.bitFlag=b.readInt(2),this.compressionMethod=b.readString(2),this.date=b.readDate(),this.crc32=b.readInt(4),this.compressedSize=b.readInt(4),this.uncompressedSize=b.readInt(4);var C=b.readInt(2);if(this.extraFieldsLength=b.readInt(2),this.fileCommentLength=b.readInt(2),this.diskNumberStart=b.readInt(2),this.internalFileAttributes=b.readInt(2),this.externalFileAttributes=b.readInt(4),this.localHeaderOffset=b.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");b.skip(C),this.readExtraFields(b),this.parseZIP64ExtraField(b),this.fileComment=b.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var b=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),b==0&&(this.dosPermissions=63&this.externalFileAttributes),b==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var b=d(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=b.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=b.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=b.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=b.readInt(4))}},readExtraFields:function(b){var C,T,j,E=b.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});b.index+4<E;)C=b.readInt(2),T=b.readInt(2),j=b.readData(T),this.extraFields[C]={id:C,length:T,value:j};b.setIndex(E)},handleUTF8:function(){var b=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var C=this.findExtraFieldUnicodePath();if(C!==null)this.fileNameStr=C;else{var T=u.transformTo(b,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(T)}var j=this.findExtraFieldUnicodeComment();if(j!==null)this.fileCommentStr=j;else{var E=u.transformTo(b,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(E)}}},findExtraFieldUnicodePath:function(){var b=this.extraFields[28789];if(b){var C=d(b.value);return C.readInt(1)!==1||m(this.fileName)!==C.readInt(4)?null:p.utf8decode(C.readData(b.length-5))}return null},findExtraFieldUnicodeComment:function(){var b=this.extraFields[25461];if(b){var C=d(b.value);return C.readInt(1)!==1||m(this.fileComment)!==C.readInt(4)?null:p.utf8decode(C.readData(b.length-5))}return null}},o.exports=w},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,o,c){function d(C,T,j){this.name=C,this.dir=j.dir,this.date=j.date,this.comment=j.comment,this.unixPermissions=j.unixPermissions,this.dosPermissions=j.dosPermissions,this._data=T,this._dataBinary=j.binary,this.options={compression:j.compression,compressionOptions:j.compressionOptions}}var u=r("./stream/StreamHelper"),h=r("./stream/DataWorker"),m=r("./utf8"),p=r("./compressedObject"),y=r("./stream/GenericWorker");d.prototype={internalStream:function(C){var T=null,j="string";try{if(!C)throw new Error("No output type specified.");var E=(j=C.toLowerCase())==="string"||j==="text";j!=="binarystring"&&j!=="text"||(j="string"),T=this._decompressWorker();var k=!this._dataBinary;k&&!E&&(T=T.pipe(new m.Utf8EncodeWorker)),!k&&E&&(T=T.pipe(new m.Utf8DecodeWorker))}catch(A){(T=new y("error")).error(A)}return new u(T,j,"")},async:function(C,T){return this.internalStream(C).accumulate(T)},nodeStream:function(C,T){return this.internalStream(C||"nodebuffer").toNodejsStream(T)},_compressWorker:function(C,T){if(this._data instanceof p&&this._data.compression.magic===C.magic)return this._data.getCompressedWorker();var j=this._decompressWorker();return this._dataBinary||(j=j.pipe(new m.Utf8EncodeWorker)),p.createWorkerFrom(j,C,T)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof y?this._data:new h(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],w=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},b=0;b<g.length;b++)d.prototype[g[b]]=w;o.exports=d},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,o,c){(function(d){var u,h,m=d.MutationObserver||d.WebKitMutationObserver;if(m){var p=0,y=new m(C),g=d.document.createTextNode("");y.observe(g,{characterData:!0}),u=function(){g.data=p=++p%2}}else if(d.setImmediate||d.MessageChannel===void 0)u="document"in d&&"onreadystatechange"in d.document.createElement("script")?function(){var T=d.document.createElement("script");T.onreadystatechange=function(){C(),T.onreadystatechange=null,T.parentNode.removeChild(T),T=null},d.document.documentElement.appendChild(T)}:function(){setTimeout(C,0)};else{var w=new d.MessageChannel;w.port1.onmessage=C,u=function(){w.port2.postMessage(0)}}var b=[];function C(){var T,j;h=!0;for(var E=b.length;E;){for(j=b,b=[],T=-1;++T<E;)j[T]();E=b.length}h=!1}o.exports=function(T){b.push(T)!==1||h||u()}}).call(this,typeof Eo<"u"?Eo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,o,c){var d=r("immediate");function u(){}var h={},m=["REJECTED"],p=["FULFILLED"],y=["PENDING"];function g(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,E!==u&&T(this,E)}function w(E,k,A){this.promise=E,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}function b(E,k,A){d(function(){var B;try{B=k(A)}catch(D){return h.reject(E,D)}B===E?h.reject(E,new TypeError("Cannot resolve promise with itself")):h.resolve(E,B)})}function C(E){var k=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof k=="function")return function(){k.apply(E,arguments)}}function T(E,k){var A=!1;function B(V){A||(A=!0,h.reject(E,V))}function D(V){A||(A=!0,h.resolve(E,V))}var P=j(function(){k(D,B)});P.status==="error"&&B(P.value)}function j(E,k){var A={};try{A.value=E(k),A.status="success"}catch(B){A.status="error",A.value=B}return A}(o.exports=g).prototype.finally=function(E){if(typeof E!="function")return this;var k=this.constructor;return this.then(function(A){return k.resolve(E()).then(function(){return A})},function(A){return k.resolve(E()).then(function(){throw A})})},g.prototype.catch=function(E){return this.then(null,E)},g.prototype.then=function(E,k){if(typeof E!="function"&&this.state===p||typeof k!="function"&&this.state===m)return this;var A=new this.constructor(u);return this.state!==y?b(A,this.state===p?E:k,this.outcome):this.queue.push(new w(A,E,k)),A},w.prototype.callFulfilled=function(E){h.resolve(this.promise,E)},w.prototype.otherCallFulfilled=function(E){b(this.promise,this.onFulfilled,E)},w.prototype.callRejected=function(E){h.reject(this.promise,E)},w.prototype.otherCallRejected=function(E){b(this.promise,this.onRejected,E)},h.resolve=function(E,k){var A=j(C,k);if(A.status==="error")return h.reject(E,A.value);var B=A.value;if(B)T(E,B);else{E.state=p,E.outcome=k;for(var D=-1,P=E.queue.length;++D<P;)E.queue[D].callFulfilled(k)}return E},h.reject=function(E,k){E.state=m,E.outcome=k;for(var A=-1,B=E.queue.length;++A<B;)E.queue[A].callRejected(k);return E},g.resolve=function(E){return E instanceof this?E:h.resolve(new this(u),E)},g.reject=function(E){var k=new this(u);return h.reject(k,E)},g.all=function(E){var k=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=E.length,B=!1;if(!A)return this.resolve([]);for(var D=new Array(A),P=0,V=-1,G=new this(u);++V<A;)X(E[V],V);return G;function X(lt,yt){k.resolve(lt).then(function(U){D[yt]=U,++P!==A||B||(B=!0,h.resolve(G,D))},function(U){B||(B=!0,h.reject(G,U))})}},g.race=function(E){var k=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=E.length,B=!1;if(!A)return this.resolve([]);for(var D=-1,P=new this(u);++D<A;)V=E[D],k.resolve(V).then(function(G){B||(B=!0,h.resolve(P,G))},function(G){B||(B=!0,h.reject(P,G))});var V;return P}},{immediate:36}],38:[function(r,o,c){var d={};(0,r("./lib/utils/common").assign)(d,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),o.exports=d},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,o,c){var d=r("./zlib/deflate"),u=r("./utils/common"),h=r("./utils/strings"),m=r("./zlib/messages"),p=r("./zlib/zstream"),y=Object.prototype.toString,g=0,w=-1,b=0,C=8;function T(E){if(!(this instanceof T))return new T(E);this.options=u.assign({level:w,method:C,chunkSize:16384,windowBits:15,memLevel:8,strategy:b,to:""},E||{});var k=this.options;k.raw&&0<k.windowBits?k.windowBits=-k.windowBits:k.gzip&&0<k.windowBits&&k.windowBits<16&&(k.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var A=d.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(A!==g)throw new Error(m[A]);if(k.header&&d.deflateSetHeader(this.strm,k.header),k.dictionary){var B;if(B=typeof k.dictionary=="string"?h.string2buf(k.dictionary):y.call(k.dictionary)==="[object ArrayBuffer]"?new Uint8Array(k.dictionary):k.dictionary,(A=d.deflateSetDictionary(this.strm,B))!==g)throw new Error(m[A]);this._dict_set=!0}}function j(E,k){var A=new T(k);if(A.push(E,!0),A.err)throw A.msg||m[A.err];return A.result}T.prototype.push=function(E,k){var A,B,D=this.strm,P=this.options.chunkSize;if(this.ended)return!1;B=k===~~k?k:k===!0?4:0,typeof E=="string"?D.input=h.string2buf(E):y.call(E)==="[object ArrayBuffer]"?D.input=new Uint8Array(E):D.input=E,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new u.Buf8(P),D.next_out=0,D.avail_out=P),(A=d.deflate(D,B))!==1&&A!==g)return this.onEnd(A),!(this.ended=!0);D.avail_out!==0&&(D.avail_in!==0||B!==4&&B!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(u.shrinkBuf(D.output,D.next_out))):this.onData(u.shrinkBuf(D.output,D.next_out)))}while((0<D.avail_in||D.avail_out===0)&&A!==1);return B===4?(A=d.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===g):B!==2||(this.onEnd(g),!(D.avail_out=0))},T.prototype.onData=function(E){this.chunks.push(E)},T.prototype.onEnd=function(E){E===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},c.Deflate=T,c.deflate=j,c.deflateRaw=function(E,k){return(k=k||{}).raw=!0,j(E,k)},c.gzip=function(E,k){return(k=k||{}).gzip=!0,j(E,k)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,o,c){var d=r("./zlib/inflate"),u=r("./utils/common"),h=r("./utils/strings"),m=r("./zlib/constants"),p=r("./zlib/messages"),y=r("./zlib/zstream"),g=r("./zlib/gzheader"),w=Object.prototype.toString;function b(T){if(!(this instanceof b))return new b(T);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},T||{});var j=this.options;j.raw&&0<=j.windowBits&&j.windowBits<16&&(j.windowBits=-j.windowBits,j.windowBits===0&&(j.windowBits=-15)),!(0<=j.windowBits&&j.windowBits<16)||T&&T.windowBits||(j.windowBits+=32),15<j.windowBits&&j.windowBits<48&&(15&j.windowBits)==0&&(j.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var E=d.inflateInit2(this.strm,j.windowBits);if(E!==m.Z_OK)throw new Error(p[E]);this.header=new g,d.inflateGetHeader(this.strm,this.header)}function C(T,j){var E=new b(j);if(E.push(T,!0),E.err)throw E.msg||p[E.err];return E.result}b.prototype.push=function(T,j){var E,k,A,B,D,P,V=this.strm,G=this.options.chunkSize,X=this.options.dictionary,lt=!1;if(this.ended)return!1;k=j===~~j?j:j===!0?m.Z_FINISH:m.Z_NO_FLUSH,typeof T=="string"?V.input=h.binstring2buf(T):w.call(T)==="[object ArrayBuffer]"?V.input=new Uint8Array(T):V.input=T,V.next_in=0,V.avail_in=V.input.length;do{if(V.avail_out===0&&(V.output=new u.Buf8(G),V.next_out=0,V.avail_out=G),(E=d.inflate(V,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&X&&(P=typeof X=="string"?h.string2buf(X):w.call(X)==="[object ArrayBuffer]"?new Uint8Array(X):X,E=d.inflateSetDictionary(this.strm,P)),E===m.Z_BUF_ERROR&&lt===!0&&(E=m.Z_OK,lt=!1),E!==m.Z_STREAM_END&&E!==m.Z_OK)return this.onEnd(E),!(this.ended=!0);V.next_out&&(V.avail_out!==0&&E!==m.Z_STREAM_END&&(V.avail_in!==0||k!==m.Z_FINISH&&k!==m.Z_SYNC_FLUSH)||(this.options.to==="string"?(A=h.utf8border(V.output,V.next_out),B=V.next_out-A,D=h.buf2string(V.output,A),V.next_out=B,V.avail_out=G-B,B&&u.arraySet(V.output,V.output,A,B,0),this.onData(D)):this.onData(u.shrinkBuf(V.output,V.next_out)))),V.avail_in===0&&V.avail_out===0&&(lt=!0)}while((0<V.avail_in||V.avail_out===0)&&E!==m.Z_STREAM_END);return E===m.Z_STREAM_END&&(k=m.Z_FINISH),k===m.Z_FINISH?(E=d.inflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===m.Z_OK):k!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(V.avail_out=0))},b.prototype.onData=function(T){this.chunks.push(T)},b.prototype.onEnd=function(T){T===m.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg},c.Inflate=b,c.inflate=C,c.inflateRaw=function(T,j){return(j=j||{}).raw=!0,C(T,j)},c.ungzip=C},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,o,c){var d=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";c.assign=function(m){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var y=p.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var g in y)y.hasOwnProperty(g)&&(m[g]=y[g])}}return m},c.shrinkBuf=function(m,p){return m.length===p?m:m.subarray?m.subarray(0,p):(m.length=p,m)};var u={arraySet:function(m,p,y,g,w){if(p.subarray&&m.subarray)m.set(p.subarray(y,y+g),w);else for(var b=0;b<g;b++)m[w+b]=p[y+b]},flattenChunks:function(m){var p,y,g,w,b,C;for(p=g=0,y=m.length;p<y;p++)g+=m[p].length;for(C=new Uint8Array(g),p=w=0,y=m.length;p<y;p++)b=m[p],C.set(b,w),w+=b.length;return C}},h={arraySet:function(m,p,y,g,w){for(var b=0;b<g;b++)m[w+b]=p[y+b]},flattenChunks:function(m){return[].concat.apply([],m)}};c.setTyped=function(m){m?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,u)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,h))},c.setTyped(d)},{}],42:[function(r,o,c){var d=r("./common"),u=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var m=new d.Buf8(256),p=0;p<256;p++)m[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function y(g,w){if(w<65537&&(g.subarray&&h||!g.subarray&&u))return String.fromCharCode.apply(null,d.shrinkBuf(g,w));for(var b="",C=0;C<w;C++)b+=String.fromCharCode(g[C]);return b}m[254]=m[254]=1,c.string2buf=function(g){var w,b,C,T,j,E=g.length,k=0;for(T=0;T<E;T++)(64512&(b=g.charCodeAt(T)))==55296&&T+1<E&&(64512&(C=g.charCodeAt(T+1)))==56320&&(b=65536+(b-55296<<10)+(C-56320),T++),k+=b<128?1:b<2048?2:b<65536?3:4;for(w=new d.Buf8(k),T=j=0;j<k;T++)(64512&(b=g.charCodeAt(T)))==55296&&T+1<E&&(64512&(C=g.charCodeAt(T+1)))==56320&&(b=65536+(b-55296<<10)+(C-56320),T++),b<128?w[j++]=b:(b<2048?w[j++]=192|b>>>6:(b<65536?w[j++]=224|b>>>12:(w[j++]=240|b>>>18,w[j++]=128|b>>>12&63),w[j++]=128|b>>>6&63),w[j++]=128|63&b);return w},c.buf2binstring=function(g){return y(g,g.length)},c.binstring2buf=function(g){for(var w=new d.Buf8(g.length),b=0,C=w.length;b<C;b++)w[b]=g.charCodeAt(b);return w},c.buf2string=function(g,w){var b,C,T,j,E=w||g.length,k=new Array(2*E);for(b=C=0;b<E;)if((T=g[b++])<128)k[C++]=T;else if(4<(j=m[T]))k[C++]=65533,b+=j-1;else{for(T&=j===2?31:j===3?15:7;1<j&&b<E;)T=T<<6|63&g[b++],j--;1<j?k[C++]=65533:T<65536?k[C++]=T:(T-=65536,k[C++]=55296|T>>10&1023,k[C++]=56320|1023&T)}return y(k,C)},c.utf8border=function(g,w){var b;for((w=w||g.length)>g.length&&(w=g.length),b=w-1;0<=b&&(192&g[b])==128;)b--;return b<0||b===0?w:b+m[g[b]]>w?b:w}},{"./common":41}],43:[function(r,o,c){o.exports=function(d,u,h,m){for(var p=65535&d|0,y=d>>>16&65535|0,g=0;h!==0;){for(h-=g=2e3<h?2e3:h;y=y+(p=p+u[m++]|0)|0,--g;);p%=65521,y%=65521}return p|y<<16|0}},{}],44:[function(r,o,c){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,o,c){var d=(function(){for(var u,h=[],m=0;m<256;m++){u=m;for(var p=0;p<8;p++)u=1&u?3988292384^u>>>1:u>>>1;h[m]=u}return h})();o.exports=function(u,h,m,p){var y=d,g=p+m;u^=-1;for(var w=p;w<g;w++)u=u>>>8^y[255&(u^h[w])];return-1^u}},{}],46:[function(r,o,c){var d,u=r("../utils/common"),h=r("./trees"),m=r("./adler32"),p=r("./crc32"),y=r("./messages"),g=0,w=4,b=0,C=-2,T=-1,j=4,E=2,k=8,A=9,B=286,D=30,P=19,V=2*B+1,G=15,X=3,lt=258,yt=lt+X+1,U=42,st=113,_=1,nt=2,Z=3,L=4;function it(S,ct){return S.msg=y[ct],ct}function $(S){return(S<<1)-(4<S?9:0)}function pt(S){for(var ct=S.length;0<=--ct;)S[ct]=0}function z(S){var ct=S.state,I=ct.pending;I>S.avail_out&&(I=S.avail_out),I!==0&&(u.arraySet(S.output,ct.pending_buf,ct.pending_out,I,S.next_out),S.next_out+=I,ct.pending_out+=I,S.total_out+=I,S.avail_out-=I,ct.pending-=I,ct.pending===0&&(ct.pending_out=0))}function N(S,ct){h._tr_flush_block(S,0<=S.block_start?S.block_start:-1,S.strstart-S.block_start,ct),S.block_start=S.strstart,z(S.strm)}function K(S,ct){S.pending_buf[S.pending++]=ct}function W(S,ct){S.pending_buf[S.pending++]=ct>>>8&255,S.pending_buf[S.pending++]=255&ct}function rt(S,ct){var I,R,O=S.max_chain_length,q=S.strstart,ht=S.prev_length,gt=S.nice_match,tt=S.strstart>S.w_size-yt?S.strstart-(S.w_size-yt):0,vt=S.window,xt=S.w_mask,bt=S.prev,kt=S.strstart+lt,Zt=vt[q+ht-1],Bt=vt[q+ht];S.prev_length>=S.good_match&&(O>>=2),gt>S.lookahead&&(gt=S.lookahead);do if(vt[(I=ct)+ht]===Bt&&vt[I+ht-1]===Zt&&vt[I]===vt[q]&&vt[++I]===vt[q+1]){q+=2,I++;do;while(vt[++q]===vt[++I]&&vt[++q]===vt[++I]&&vt[++q]===vt[++I]&&vt[++q]===vt[++I]&&vt[++q]===vt[++I]&&vt[++q]===vt[++I]&&vt[++q]===vt[++I]&&vt[++q]===vt[++I]&&q<kt);if(R=lt-(kt-q),q=kt-lt,ht<R){if(S.match_start=ct,gt<=(ht=R))break;Zt=vt[q+ht-1],Bt=vt[q+ht]}}while((ct=bt[ct&xt])>tt&&--O!=0);return ht<=S.lookahead?ht:S.lookahead}function St(S){var ct,I,R,O,q,ht,gt,tt,vt,xt,bt=S.w_size;do{if(O=S.window_size-S.lookahead-S.strstart,S.strstart>=bt+(bt-yt)){for(u.arraySet(S.window,S.window,bt,bt,0),S.match_start-=bt,S.strstart-=bt,S.block_start-=bt,ct=I=S.hash_size;R=S.head[--ct],S.head[ct]=bt<=R?R-bt:0,--I;);for(ct=I=bt;R=S.prev[--ct],S.prev[ct]=bt<=R?R-bt:0,--I;);O+=bt}if(S.strm.avail_in===0)break;if(ht=S.strm,gt=S.window,tt=S.strstart+S.lookahead,vt=O,xt=void 0,xt=ht.avail_in,vt<xt&&(xt=vt),I=xt===0?0:(ht.avail_in-=xt,u.arraySet(gt,ht.input,ht.next_in,xt,tt),ht.state.wrap===1?ht.adler=m(ht.adler,gt,xt,tt):ht.state.wrap===2&&(ht.adler=p(ht.adler,gt,xt,tt)),ht.next_in+=xt,ht.total_in+=xt,xt),S.lookahead+=I,S.lookahead+S.insert>=X)for(q=S.strstart-S.insert,S.ins_h=S.window[q],S.ins_h=(S.ins_h<<S.hash_shift^S.window[q+1])&S.hash_mask;S.insert&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[q+X-1])&S.hash_mask,S.prev[q&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=q,q++,S.insert--,!(S.lookahead+S.insert<X)););}while(S.lookahead<yt&&S.strm.avail_in!==0)}function wt(S,ct){for(var I,R;;){if(S.lookahead<yt){if(St(S),S.lookahead<yt&&ct===g)return _;if(S.lookahead===0)break}if(I=0,S.lookahead>=X&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+X-1])&S.hash_mask,I=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),I!==0&&S.strstart-I<=S.w_size-yt&&(S.match_length=rt(S,I)),S.match_length>=X)if(R=h._tr_tally(S,S.strstart-S.match_start,S.match_length-X),S.lookahead-=S.match_length,S.match_length<=S.max_lazy_match&&S.lookahead>=X){for(S.match_length--;S.strstart++,S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+X-1])&S.hash_mask,I=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart,--S.match_length!=0;);S.strstart++}else S.strstart+=S.match_length,S.match_length=0,S.ins_h=S.window[S.strstart],S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+1])&S.hash_mask;else R=h._tr_tally(S,0,S.window[S.strstart]),S.lookahead--,S.strstart++;if(R&&(N(S,!1),S.strm.avail_out===0))return _}return S.insert=S.strstart<X-1?S.strstart:X-1,ct===w?(N(S,!0),S.strm.avail_out===0?Z:L):S.last_lit&&(N(S,!1),S.strm.avail_out===0)?_:nt}function _t(S,ct){for(var I,R,O;;){if(S.lookahead<yt){if(St(S),S.lookahead<yt&&ct===g)return _;if(S.lookahead===0)break}if(I=0,S.lookahead>=X&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+X-1])&S.hash_mask,I=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),S.prev_length=S.match_length,S.prev_match=S.match_start,S.match_length=X-1,I!==0&&S.prev_length<S.max_lazy_match&&S.strstart-I<=S.w_size-yt&&(S.match_length=rt(S,I),S.match_length<=5&&(S.strategy===1||S.match_length===X&&4096<S.strstart-S.match_start)&&(S.match_length=X-1)),S.prev_length>=X&&S.match_length<=S.prev_length){for(O=S.strstart+S.lookahead-X,R=h._tr_tally(S,S.strstart-1-S.prev_match,S.prev_length-X),S.lookahead-=S.prev_length-1,S.prev_length-=2;++S.strstart<=O&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+X-1])&S.hash_mask,I=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),--S.prev_length!=0;);if(S.match_available=0,S.match_length=X-1,S.strstart++,R&&(N(S,!1),S.strm.avail_out===0))return _}else if(S.match_available){if((R=h._tr_tally(S,0,S.window[S.strstart-1]))&&N(S,!1),S.strstart++,S.lookahead--,S.strm.avail_out===0)return _}else S.match_available=1,S.strstart++,S.lookahead--}return S.match_available&&(R=h._tr_tally(S,0,S.window[S.strstart-1]),S.match_available=0),S.insert=S.strstart<X-1?S.strstart:X-1,ct===w?(N(S,!0),S.strm.avail_out===0?Z:L):S.last_lit&&(N(S,!1),S.strm.avail_out===0)?_:nt}function ft(S,ct,I,R,O){this.good_length=S,this.max_lazy=ct,this.nice_length=I,this.max_chain=R,this.func=O}function Tt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(2*V),this.dyn_dtree=new u.Buf16(2*(2*D+1)),this.bl_tree=new u.Buf16(2*(2*P+1)),pt(this.dyn_ltree),pt(this.dyn_dtree),pt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(G+1),this.heap=new u.Buf16(2*B+1),pt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*B+1),pt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Et(S){var ct;return S&&S.state?(S.total_in=S.total_out=0,S.data_type=E,(ct=S.state).pending=0,ct.pending_out=0,ct.wrap<0&&(ct.wrap=-ct.wrap),ct.status=ct.wrap?U:st,S.adler=ct.wrap===2?0:1,ct.last_flush=g,h._tr_init(ct),b):it(S,C)}function Rt(S){var ct=Et(S);return ct===b&&(function(I){I.window_size=2*I.w_size,pt(I.head),I.max_lazy_match=d[I.level].max_lazy,I.good_match=d[I.level].good_length,I.nice_match=d[I.level].nice_length,I.max_chain_length=d[I.level].max_chain,I.strstart=0,I.block_start=0,I.lookahead=0,I.insert=0,I.match_length=I.prev_length=X-1,I.match_available=0,I.ins_h=0})(S.state),ct}function It(S,ct,I,R,O,q){if(!S)return C;var ht=1;if(ct===T&&(ct=6),R<0?(ht=0,R=-R):15<R&&(ht=2,R-=16),O<1||A<O||I!==k||R<8||15<R||ct<0||9<ct||q<0||j<q)return it(S,C);R===8&&(R=9);var gt=new Tt;return(S.state=gt).strm=S,gt.wrap=ht,gt.gzhead=null,gt.w_bits=R,gt.w_size=1<<gt.w_bits,gt.w_mask=gt.w_size-1,gt.hash_bits=O+7,gt.hash_size=1<<gt.hash_bits,gt.hash_mask=gt.hash_size-1,gt.hash_shift=~~((gt.hash_bits+X-1)/X),gt.window=new u.Buf8(2*gt.w_size),gt.head=new u.Buf16(gt.hash_size),gt.prev=new u.Buf16(gt.w_size),gt.lit_bufsize=1<<O+6,gt.pending_buf_size=4*gt.lit_bufsize,gt.pending_buf=new u.Buf8(gt.pending_buf_size),gt.d_buf=1*gt.lit_bufsize,gt.l_buf=3*gt.lit_bufsize,gt.level=ct,gt.strategy=q,gt.method=I,Rt(S)}d=[new ft(0,0,0,0,function(S,ct){var I=65535;for(I>S.pending_buf_size-5&&(I=S.pending_buf_size-5);;){if(S.lookahead<=1){if(St(S),S.lookahead===0&&ct===g)return _;if(S.lookahead===0)break}S.strstart+=S.lookahead,S.lookahead=0;var R=S.block_start+I;if((S.strstart===0||S.strstart>=R)&&(S.lookahead=S.strstart-R,S.strstart=R,N(S,!1),S.strm.avail_out===0)||S.strstart-S.block_start>=S.w_size-yt&&(N(S,!1),S.strm.avail_out===0))return _}return S.insert=0,ct===w?(N(S,!0),S.strm.avail_out===0?Z:L):(S.strstart>S.block_start&&(N(S,!1),S.strm.avail_out),_)}),new ft(4,4,8,4,wt),new ft(4,5,16,8,wt),new ft(4,6,32,32,wt),new ft(4,4,16,16,_t),new ft(8,16,32,32,_t),new ft(8,16,128,128,_t),new ft(8,32,128,256,_t),new ft(32,128,258,1024,_t),new ft(32,258,258,4096,_t)],c.deflateInit=function(S,ct){return It(S,ct,k,15,8,0)},c.deflateInit2=It,c.deflateReset=Rt,c.deflateResetKeep=Et,c.deflateSetHeader=function(S,ct){return S&&S.state?S.state.wrap!==2?C:(S.state.gzhead=ct,b):C},c.deflate=function(S,ct){var I,R,O,q;if(!S||!S.state||5<ct||ct<0)return S?it(S,C):C;if(R=S.state,!S.output||!S.input&&S.avail_in!==0||R.status===666&&ct!==w)return it(S,S.avail_out===0?-5:C);if(R.strm=S,I=R.last_flush,R.last_flush=ct,R.status===U)if(R.wrap===2)S.adler=0,K(R,31),K(R,139),K(R,8),R.gzhead?(K(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),K(R,255&R.gzhead.time),K(R,R.gzhead.time>>8&255),K(R,R.gzhead.time>>16&255),K(R,R.gzhead.time>>24&255),K(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),K(R,255&R.gzhead.os),R.gzhead.extra&&R.gzhead.extra.length&&(K(R,255&R.gzhead.extra.length),K(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(S.adler=p(S.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=69):(K(R,0),K(R,0),K(R,0),K(R,0),K(R,0),K(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),K(R,3),R.status=st);else{var ht=k+(R.w_bits-8<<4)<<8;ht|=(2<=R.strategy||R.level<2?0:R.level<6?1:R.level===6?2:3)<<6,R.strstart!==0&&(ht|=32),ht+=31-ht%31,R.status=st,W(R,ht),R.strstart!==0&&(W(R,S.adler>>>16),W(R,65535&S.adler)),S.adler=1}if(R.status===69)if(R.gzhead.extra){for(O=R.pending;R.gzindex<(65535&R.gzhead.extra.length)&&(R.pending!==R.pending_buf_size||(R.gzhead.hcrc&&R.pending>O&&(S.adler=p(S.adler,R.pending_buf,R.pending-O,O)),z(S),O=R.pending,R.pending!==R.pending_buf_size));)K(R,255&R.gzhead.extra[R.gzindex]),R.gzindex++;R.gzhead.hcrc&&R.pending>O&&(S.adler=p(S.adler,R.pending_buf,R.pending-O,O)),R.gzindex===R.gzhead.extra.length&&(R.gzindex=0,R.status=73)}else R.status=73;if(R.status===73)if(R.gzhead.name){O=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>O&&(S.adler=p(S.adler,R.pending_buf,R.pending-O,O)),z(S),O=R.pending,R.pending===R.pending_buf_size)){q=1;break}q=R.gzindex<R.gzhead.name.length?255&R.gzhead.name.charCodeAt(R.gzindex++):0,K(R,q)}while(q!==0);R.gzhead.hcrc&&R.pending>O&&(S.adler=p(S.adler,R.pending_buf,R.pending-O,O)),q===0&&(R.gzindex=0,R.status=91)}else R.status=91;if(R.status===91)if(R.gzhead.comment){O=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>O&&(S.adler=p(S.adler,R.pending_buf,R.pending-O,O)),z(S),O=R.pending,R.pending===R.pending_buf_size)){q=1;break}q=R.gzindex<R.gzhead.comment.length?255&R.gzhead.comment.charCodeAt(R.gzindex++):0,K(R,q)}while(q!==0);R.gzhead.hcrc&&R.pending>O&&(S.adler=p(S.adler,R.pending_buf,R.pending-O,O)),q===0&&(R.status=103)}else R.status=103;if(R.status===103&&(R.gzhead.hcrc?(R.pending+2>R.pending_buf_size&&z(S),R.pending+2<=R.pending_buf_size&&(K(R,255&S.adler),K(R,S.adler>>8&255),S.adler=0,R.status=st)):R.status=st),R.pending!==0){if(z(S),S.avail_out===0)return R.last_flush=-1,b}else if(S.avail_in===0&&$(ct)<=$(I)&&ct!==w)return it(S,-5);if(R.status===666&&S.avail_in!==0)return it(S,-5);if(S.avail_in!==0||R.lookahead!==0||ct!==g&&R.status!==666){var gt=R.strategy===2?(function(tt,vt){for(var xt;;){if(tt.lookahead===0&&(St(tt),tt.lookahead===0)){if(vt===g)return _;break}if(tt.match_length=0,xt=h._tr_tally(tt,0,tt.window[tt.strstart]),tt.lookahead--,tt.strstart++,xt&&(N(tt,!1),tt.strm.avail_out===0))return _}return tt.insert=0,vt===w?(N(tt,!0),tt.strm.avail_out===0?Z:L):tt.last_lit&&(N(tt,!1),tt.strm.avail_out===0)?_:nt})(R,ct):R.strategy===3?(function(tt,vt){for(var xt,bt,kt,Zt,Bt=tt.window;;){if(tt.lookahead<=lt){if(St(tt),tt.lookahead<=lt&&vt===g)return _;if(tt.lookahead===0)break}if(tt.match_length=0,tt.lookahead>=X&&0<tt.strstart&&(bt=Bt[kt=tt.strstart-1])===Bt[++kt]&&bt===Bt[++kt]&&bt===Bt[++kt]){Zt=tt.strstart+lt;do;while(bt===Bt[++kt]&&bt===Bt[++kt]&&bt===Bt[++kt]&&bt===Bt[++kt]&&bt===Bt[++kt]&&bt===Bt[++kt]&&bt===Bt[++kt]&&bt===Bt[++kt]&&kt<Zt);tt.match_length=lt-(Zt-kt),tt.match_length>tt.lookahead&&(tt.match_length=tt.lookahead)}if(tt.match_length>=X?(xt=h._tr_tally(tt,1,tt.match_length-X),tt.lookahead-=tt.match_length,tt.strstart+=tt.match_length,tt.match_length=0):(xt=h._tr_tally(tt,0,tt.window[tt.strstart]),tt.lookahead--,tt.strstart++),xt&&(N(tt,!1),tt.strm.avail_out===0))return _}return tt.insert=0,vt===w?(N(tt,!0),tt.strm.avail_out===0?Z:L):tt.last_lit&&(N(tt,!1),tt.strm.avail_out===0)?_:nt})(R,ct):d[R.level].func(R,ct);if(gt!==Z&&gt!==L||(R.status=666),gt===_||gt===Z)return S.avail_out===0&&(R.last_flush=-1),b;if(gt===nt&&(ct===1?h._tr_align(R):ct!==5&&(h._tr_stored_block(R,0,0,!1),ct===3&&(pt(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),z(S),S.avail_out===0))return R.last_flush=-1,b}return ct!==w?b:R.wrap<=0?1:(R.wrap===2?(K(R,255&S.adler),K(R,S.adler>>8&255),K(R,S.adler>>16&255),K(R,S.adler>>24&255),K(R,255&S.total_in),K(R,S.total_in>>8&255),K(R,S.total_in>>16&255),K(R,S.total_in>>24&255)):(W(R,S.adler>>>16),W(R,65535&S.adler)),z(S),0<R.wrap&&(R.wrap=-R.wrap),R.pending!==0?b:1)},c.deflateEnd=function(S){var ct;return S&&S.state?(ct=S.state.status)!==U&&ct!==69&&ct!==73&&ct!==91&&ct!==103&&ct!==st&&ct!==666?it(S,C):(S.state=null,ct===st?it(S,-3):b):C},c.deflateSetDictionary=function(S,ct){var I,R,O,q,ht,gt,tt,vt,xt=ct.length;if(!S||!S.state||(q=(I=S.state).wrap)===2||q===1&&I.status!==U||I.lookahead)return C;for(q===1&&(S.adler=m(S.adler,ct,xt,0)),I.wrap=0,xt>=I.w_size&&(q===0&&(pt(I.head),I.strstart=0,I.block_start=0,I.insert=0),vt=new u.Buf8(I.w_size),u.arraySet(vt,ct,xt-I.w_size,I.w_size,0),ct=vt,xt=I.w_size),ht=S.avail_in,gt=S.next_in,tt=S.input,S.avail_in=xt,S.next_in=0,S.input=ct,St(I);I.lookahead>=X;){for(R=I.strstart,O=I.lookahead-(X-1);I.ins_h=(I.ins_h<<I.hash_shift^I.window[R+X-1])&I.hash_mask,I.prev[R&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=R,R++,--O;);I.strstart=R,I.lookahead=X-1,St(I)}return I.strstart+=I.lookahead,I.block_start=I.strstart,I.insert=I.lookahead,I.lookahead=0,I.match_length=I.prev_length=X-1,I.match_available=0,S.next_in=gt,S.input=tt,S.avail_in=ht,I.wrap=q,b},c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,o,c){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,o,c){o.exports=function(d,u){var h,m,p,y,g,w,b,C,T,j,E,k,A,B,D,P,V,G,X,lt,yt,U,st,_,nt;h=d.state,m=d.next_in,_=d.input,p=m+(d.avail_in-5),y=d.next_out,nt=d.output,g=y-(u-d.avail_out),w=y+(d.avail_out-257),b=h.dmax,C=h.wsize,T=h.whave,j=h.wnext,E=h.window,k=h.hold,A=h.bits,B=h.lencode,D=h.distcode,P=(1<<h.lenbits)-1,V=(1<<h.distbits)-1;t:do{A<15&&(k+=_[m++]<<A,A+=8,k+=_[m++]<<A,A+=8),G=B[k&P];e:for(;;){if(k>>>=X=G>>>24,A-=X,(X=G>>>16&255)===0)nt[y++]=65535&G;else{if(!(16&X)){if((64&X)==0){G=B[(65535&G)+(k&(1<<X)-1)];continue e}if(32&X){h.mode=12;break t}d.msg="invalid literal/length code",h.mode=30;break t}lt=65535&G,(X&=15)&&(A<X&&(k+=_[m++]<<A,A+=8),lt+=k&(1<<X)-1,k>>>=X,A-=X),A<15&&(k+=_[m++]<<A,A+=8,k+=_[m++]<<A,A+=8),G=D[k&V];n:for(;;){if(k>>>=X=G>>>24,A-=X,!(16&(X=G>>>16&255))){if((64&X)==0){G=D[(65535&G)+(k&(1<<X)-1)];continue n}d.msg="invalid distance code",h.mode=30;break t}if(yt=65535&G,A<(X&=15)&&(k+=_[m++]<<A,(A+=8)<X&&(k+=_[m++]<<A,A+=8)),b<(yt+=k&(1<<X)-1)){d.msg="invalid distance too far back",h.mode=30;break t}if(k>>>=X,A-=X,(X=y-g)<yt){if(T<(X=yt-X)&&h.sane){d.msg="invalid distance too far back",h.mode=30;break t}if(st=E,(U=0)===j){if(U+=C-X,X<lt){for(lt-=X;nt[y++]=E[U++],--X;);U=y-yt,st=nt}}else if(j<X){if(U+=C+j-X,(X-=j)<lt){for(lt-=X;nt[y++]=E[U++],--X;);if(U=0,j<lt){for(lt-=X=j;nt[y++]=E[U++],--X;);U=y-yt,st=nt}}}else if(U+=j-X,X<lt){for(lt-=X;nt[y++]=E[U++],--X;);U=y-yt,st=nt}for(;2<lt;)nt[y++]=st[U++],nt[y++]=st[U++],nt[y++]=st[U++],lt-=3;lt&&(nt[y++]=st[U++],1<lt&&(nt[y++]=st[U++]))}else{for(U=y-yt;nt[y++]=nt[U++],nt[y++]=nt[U++],nt[y++]=nt[U++],2<(lt-=3););lt&&(nt[y++]=nt[U++],1<lt&&(nt[y++]=nt[U++]))}break}}break}}while(m<p&&y<w);m-=lt=A>>3,k&=(1<<(A-=lt<<3))-1,d.next_in=m,d.next_out=y,d.avail_in=m<p?p-m+5:5-(m-p),d.avail_out=y<w?w-y+257:257-(y-w),h.hold=k,h.bits=A}},{}],49:[function(r,o,c){var d=r("../utils/common"),u=r("./adler32"),h=r("./crc32"),m=r("./inffast"),p=r("./inftrees"),y=1,g=2,w=0,b=-2,C=1,T=852,j=592;function E(U){return(U>>>24&255)+(U>>>8&65280)+((65280&U)<<8)+((255&U)<<24)}function k(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function A(U){var st;return U&&U.state?(st=U.state,U.total_in=U.total_out=st.total=0,U.msg="",st.wrap&&(U.adler=1&st.wrap),st.mode=C,st.last=0,st.havedict=0,st.dmax=32768,st.head=null,st.hold=0,st.bits=0,st.lencode=st.lendyn=new d.Buf32(T),st.distcode=st.distdyn=new d.Buf32(j),st.sane=1,st.back=-1,w):b}function B(U){var st;return U&&U.state?((st=U.state).wsize=0,st.whave=0,st.wnext=0,A(U)):b}function D(U,st){var _,nt;return U&&U.state?(nt=U.state,st<0?(_=0,st=-st):(_=1+(st>>4),st<48&&(st&=15)),st&&(st<8||15<st)?b:(nt.window!==null&&nt.wbits!==st&&(nt.window=null),nt.wrap=_,nt.wbits=st,B(U))):b}function P(U,st){var _,nt;return U?(nt=new k,(U.state=nt).window=null,(_=D(U,st))!==w&&(U.state=null),_):b}var V,G,X=!0;function lt(U){if(X){var st;for(V=new d.Buf32(512),G=new d.Buf32(32),st=0;st<144;)U.lens[st++]=8;for(;st<256;)U.lens[st++]=9;for(;st<280;)U.lens[st++]=7;for(;st<288;)U.lens[st++]=8;for(p(y,U.lens,0,288,V,0,U.work,{bits:9}),st=0;st<32;)U.lens[st++]=5;p(g,U.lens,0,32,G,0,U.work,{bits:5}),X=!1}U.lencode=V,U.lenbits=9,U.distcode=G,U.distbits=5}function yt(U,st,_,nt){var Z,L=U.state;return L.window===null&&(L.wsize=1<<L.wbits,L.wnext=0,L.whave=0,L.window=new d.Buf8(L.wsize)),nt>=L.wsize?(d.arraySet(L.window,st,_-L.wsize,L.wsize,0),L.wnext=0,L.whave=L.wsize):(nt<(Z=L.wsize-L.wnext)&&(Z=nt),d.arraySet(L.window,st,_-nt,Z,L.wnext),(nt-=Z)?(d.arraySet(L.window,st,_-nt,nt,0),L.wnext=nt,L.whave=L.wsize):(L.wnext+=Z,L.wnext===L.wsize&&(L.wnext=0),L.whave<L.wsize&&(L.whave+=Z))),0}c.inflateReset=B,c.inflateReset2=D,c.inflateResetKeep=A,c.inflateInit=function(U){return P(U,15)},c.inflateInit2=P,c.inflate=function(U,st){var _,nt,Z,L,it,$,pt,z,N,K,W,rt,St,wt,_t,ft,Tt,Et,Rt,It,S,ct,I,R,O=0,q=new d.Buf8(4),ht=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!U||!U.state||!U.output||!U.input&&U.avail_in!==0)return b;(_=U.state).mode===12&&(_.mode=13),it=U.next_out,Z=U.output,pt=U.avail_out,L=U.next_in,nt=U.input,$=U.avail_in,z=_.hold,N=_.bits,K=$,W=pt,ct=w;t:for(;;)switch(_.mode){case C:if(_.wrap===0){_.mode=13;break}for(;N<16;){if($===0)break t;$--,z+=nt[L++]<<N,N+=8}if(2&_.wrap&&z===35615){q[_.check=0]=255&z,q[1]=z>>>8&255,_.check=h(_.check,q,2,0),N=z=0,_.mode=2;break}if(_.flags=0,_.head&&(_.head.done=!1),!(1&_.wrap)||(((255&z)<<8)+(z>>8))%31){U.msg="incorrect header check",_.mode=30;break}if((15&z)!=8){U.msg="unknown compression method",_.mode=30;break}if(N-=4,S=8+(15&(z>>>=4)),_.wbits===0)_.wbits=S;else if(S>_.wbits){U.msg="invalid window size",_.mode=30;break}_.dmax=1<<S,U.adler=_.check=1,_.mode=512&z?10:12,N=z=0;break;case 2:for(;N<16;){if($===0)break t;$--,z+=nt[L++]<<N,N+=8}if(_.flags=z,(255&_.flags)!=8){U.msg="unknown compression method",_.mode=30;break}if(57344&_.flags){U.msg="unknown header flags set",_.mode=30;break}_.head&&(_.head.text=z>>8&1),512&_.flags&&(q[0]=255&z,q[1]=z>>>8&255,_.check=h(_.check,q,2,0)),N=z=0,_.mode=3;case 3:for(;N<32;){if($===0)break t;$--,z+=nt[L++]<<N,N+=8}_.head&&(_.head.time=z),512&_.flags&&(q[0]=255&z,q[1]=z>>>8&255,q[2]=z>>>16&255,q[3]=z>>>24&255,_.check=h(_.check,q,4,0)),N=z=0,_.mode=4;case 4:for(;N<16;){if($===0)break t;$--,z+=nt[L++]<<N,N+=8}_.head&&(_.head.xflags=255&z,_.head.os=z>>8),512&_.flags&&(q[0]=255&z,q[1]=z>>>8&255,_.check=h(_.check,q,2,0)),N=z=0,_.mode=5;case 5:if(1024&_.flags){for(;N<16;){if($===0)break t;$--,z+=nt[L++]<<N,N+=8}_.length=z,_.head&&(_.head.extra_len=z),512&_.flags&&(q[0]=255&z,q[1]=z>>>8&255,_.check=h(_.check,q,2,0)),N=z=0}else _.head&&(_.head.extra=null);_.mode=6;case 6:if(1024&_.flags&&($<(rt=_.length)&&(rt=$),rt&&(_.head&&(S=_.head.extra_len-_.length,_.head.extra||(_.head.extra=new Array(_.head.extra_len)),d.arraySet(_.head.extra,nt,L,rt,S)),512&_.flags&&(_.check=h(_.check,nt,rt,L)),$-=rt,L+=rt,_.length-=rt),_.length))break t;_.length=0,_.mode=7;case 7:if(2048&_.flags){if($===0)break t;for(rt=0;S=nt[L+rt++],_.head&&S&&_.length<65536&&(_.head.name+=String.fromCharCode(S)),S&&rt<$;);if(512&_.flags&&(_.check=h(_.check,nt,rt,L)),$-=rt,L+=rt,S)break t}else _.head&&(_.head.name=null);_.length=0,_.mode=8;case 8:if(4096&_.flags){if($===0)break t;for(rt=0;S=nt[L+rt++],_.head&&S&&_.length<65536&&(_.head.comment+=String.fromCharCode(S)),S&&rt<$;);if(512&_.flags&&(_.check=h(_.check,nt,rt,L)),$-=rt,L+=rt,S)break t}else _.head&&(_.head.comment=null);_.mode=9;case 9:if(512&_.flags){for(;N<16;){if($===0)break t;$--,z+=nt[L++]<<N,N+=8}if(z!==(65535&_.check)){U.msg="header crc mismatch",_.mode=30;break}N=z=0}_.head&&(_.head.hcrc=_.flags>>9&1,_.head.done=!0),U.adler=_.check=0,_.mode=12;break;case 10:for(;N<32;){if($===0)break t;$--,z+=nt[L++]<<N,N+=8}U.adler=_.check=E(z),N=z=0,_.mode=11;case 11:if(_.havedict===0)return U.next_out=it,U.avail_out=pt,U.next_in=L,U.avail_in=$,_.hold=z,_.bits=N,2;U.adler=_.check=1,_.mode=12;case 12:if(st===5||st===6)break t;case 13:if(_.last){z>>>=7&N,N-=7&N,_.mode=27;break}for(;N<3;){if($===0)break t;$--,z+=nt[L++]<<N,N+=8}switch(_.last=1&z,N-=1,3&(z>>>=1)){case 0:_.mode=14;break;case 1:if(lt(_),_.mode=20,st!==6)break;z>>>=2,N-=2;break t;case 2:_.mode=17;break;case 3:U.msg="invalid block type",_.mode=30}z>>>=2,N-=2;break;case 14:for(z>>>=7&N,N-=7&N;N<32;){if($===0)break t;$--,z+=nt[L++]<<N,N+=8}if((65535&z)!=(z>>>16^65535)){U.msg="invalid stored block lengths",_.mode=30;break}if(_.length=65535&z,N=z=0,_.mode=15,st===6)break t;case 15:_.mode=16;case 16:if(rt=_.length){if($<rt&&(rt=$),pt<rt&&(rt=pt),rt===0)break t;d.arraySet(Z,nt,L,rt,it),$-=rt,L+=rt,pt-=rt,it+=rt,_.length-=rt;break}_.mode=12;break;case 17:for(;N<14;){if($===0)break t;$--,z+=nt[L++]<<N,N+=8}if(_.nlen=257+(31&z),z>>>=5,N-=5,_.ndist=1+(31&z),z>>>=5,N-=5,_.ncode=4+(15&z),z>>>=4,N-=4,286<_.nlen||30<_.ndist){U.msg="too many length or distance symbols",_.mode=30;break}_.have=0,_.mode=18;case 18:for(;_.have<_.ncode;){for(;N<3;){if($===0)break t;$--,z+=nt[L++]<<N,N+=8}_.lens[ht[_.have++]]=7&z,z>>>=3,N-=3}for(;_.have<19;)_.lens[ht[_.have++]]=0;if(_.lencode=_.lendyn,_.lenbits=7,I={bits:_.lenbits},ct=p(0,_.lens,0,19,_.lencode,0,_.work,I),_.lenbits=I.bits,ct){U.msg="invalid code lengths set",_.mode=30;break}_.have=0,_.mode=19;case 19:for(;_.have<_.nlen+_.ndist;){for(;ft=(O=_.lencode[z&(1<<_.lenbits)-1])>>>16&255,Tt=65535&O,!((_t=O>>>24)<=N);){if($===0)break t;$--,z+=nt[L++]<<N,N+=8}if(Tt<16)z>>>=_t,N-=_t,_.lens[_.have++]=Tt;else{if(Tt===16){for(R=_t+2;N<R;){if($===0)break t;$--,z+=nt[L++]<<N,N+=8}if(z>>>=_t,N-=_t,_.have===0){U.msg="invalid bit length repeat",_.mode=30;break}S=_.lens[_.have-1],rt=3+(3&z),z>>>=2,N-=2}else if(Tt===17){for(R=_t+3;N<R;){if($===0)break t;$--,z+=nt[L++]<<N,N+=8}N-=_t,S=0,rt=3+(7&(z>>>=_t)),z>>>=3,N-=3}else{for(R=_t+7;N<R;){if($===0)break t;$--,z+=nt[L++]<<N,N+=8}N-=_t,S=0,rt=11+(127&(z>>>=_t)),z>>>=7,N-=7}if(_.have+rt>_.nlen+_.ndist){U.msg="invalid bit length repeat",_.mode=30;break}for(;rt--;)_.lens[_.have++]=S}}if(_.mode===30)break;if(_.lens[256]===0){U.msg="invalid code -- missing end-of-block",_.mode=30;break}if(_.lenbits=9,I={bits:_.lenbits},ct=p(y,_.lens,0,_.nlen,_.lencode,0,_.work,I),_.lenbits=I.bits,ct){U.msg="invalid literal/lengths set",_.mode=30;break}if(_.distbits=6,_.distcode=_.distdyn,I={bits:_.distbits},ct=p(g,_.lens,_.nlen,_.ndist,_.distcode,0,_.work,I),_.distbits=I.bits,ct){U.msg="invalid distances set",_.mode=30;break}if(_.mode=20,st===6)break t;case 20:_.mode=21;case 21:if(6<=$&&258<=pt){U.next_out=it,U.avail_out=pt,U.next_in=L,U.avail_in=$,_.hold=z,_.bits=N,m(U,W),it=U.next_out,Z=U.output,pt=U.avail_out,L=U.next_in,nt=U.input,$=U.avail_in,z=_.hold,N=_.bits,_.mode===12&&(_.back=-1);break}for(_.back=0;ft=(O=_.lencode[z&(1<<_.lenbits)-1])>>>16&255,Tt=65535&O,!((_t=O>>>24)<=N);){if($===0)break t;$--,z+=nt[L++]<<N,N+=8}if(ft&&(240&ft)==0){for(Et=_t,Rt=ft,It=Tt;ft=(O=_.lencode[It+((z&(1<<Et+Rt)-1)>>Et)])>>>16&255,Tt=65535&O,!(Et+(_t=O>>>24)<=N);){if($===0)break t;$--,z+=nt[L++]<<N,N+=8}z>>>=Et,N-=Et,_.back+=Et}if(z>>>=_t,N-=_t,_.back+=_t,_.length=Tt,ft===0){_.mode=26;break}if(32&ft){_.back=-1,_.mode=12;break}if(64&ft){U.msg="invalid literal/length code",_.mode=30;break}_.extra=15&ft,_.mode=22;case 22:if(_.extra){for(R=_.extra;N<R;){if($===0)break t;$--,z+=nt[L++]<<N,N+=8}_.length+=z&(1<<_.extra)-1,z>>>=_.extra,N-=_.extra,_.back+=_.extra}_.was=_.length,_.mode=23;case 23:for(;ft=(O=_.distcode[z&(1<<_.distbits)-1])>>>16&255,Tt=65535&O,!((_t=O>>>24)<=N);){if($===0)break t;$--,z+=nt[L++]<<N,N+=8}if((240&ft)==0){for(Et=_t,Rt=ft,It=Tt;ft=(O=_.distcode[It+((z&(1<<Et+Rt)-1)>>Et)])>>>16&255,Tt=65535&O,!(Et+(_t=O>>>24)<=N);){if($===0)break t;$--,z+=nt[L++]<<N,N+=8}z>>>=Et,N-=Et,_.back+=Et}if(z>>>=_t,N-=_t,_.back+=_t,64&ft){U.msg="invalid distance code",_.mode=30;break}_.offset=Tt,_.extra=15&ft,_.mode=24;case 24:if(_.extra){for(R=_.extra;N<R;){if($===0)break t;$--,z+=nt[L++]<<N,N+=8}_.offset+=z&(1<<_.extra)-1,z>>>=_.extra,N-=_.extra,_.back+=_.extra}if(_.offset>_.dmax){U.msg="invalid distance too far back",_.mode=30;break}_.mode=25;case 25:if(pt===0)break t;if(rt=W-pt,_.offset>rt){if((rt=_.offset-rt)>_.whave&&_.sane){U.msg="invalid distance too far back",_.mode=30;break}St=rt>_.wnext?(rt-=_.wnext,_.wsize-rt):_.wnext-rt,rt>_.length&&(rt=_.length),wt=_.window}else wt=Z,St=it-_.offset,rt=_.length;for(pt<rt&&(rt=pt),pt-=rt,_.length-=rt;Z[it++]=wt[St++],--rt;);_.length===0&&(_.mode=21);break;case 26:if(pt===0)break t;Z[it++]=_.length,pt--,_.mode=21;break;case 27:if(_.wrap){for(;N<32;){if($===0)break t;$--,z|=nt[L++]<<N,N+=8}if(W-=pt,U.total_out+=W,_.total+=W,W&&(U.adler=_.check=_.flags?h(_.check,Z,W,it-W):u(_.check,Z,W,it-W)),W=pt,(_.flags?z:E(z))!==_.check){U.msg="incorrect data check",_.mode=30;break}N=z=0}_.mode=28;case 28:if(_.wrap&&_.flags){for(;N<32;){if($===0)break t;$--,z+=nt[L++]<<N,N+=8}if(z!==(4294967295&_.total)){U.msg="incorrect length check",_.mode=30;break}N=z=0}_.mode=29;case 29:ct=1;break t;case 30:ct=-3;break t;case 31:return-4;case 32:default:return b}return U.next_out=it,U.avail_out=pt,U.next_in=L,U.avail_in=$,_.hold=z,_.bits=N,(_.wsize||W!==U.avail_out&&_.mode<30&&(_.mode<27||st!==4))&&yt(U,U.output,U.next_out,W-U.avail_out)?(_.mode=31,-4):(K-=U.avail_in,W-=U.avail_out,U.total_in+=K,U.total_out+=W,_.total+=W,_.wrap&&W&&(U.adler=_.check=_.flags?h(_.check,Z,W,U.next_out-W):u(_.check,Z,W,U.next_out-W)),U.data_type=_.bits+(_.last?64:0)+(_.mode===12?128:0)+(_.mode===20||_.mode===15?256:0),(K==0&&W===0||st===4)&&ct===w&&(ct=-5),ct)},c.inflateEnd=function(U){if(!U||!U.state)return b;var st=U.state;return st.window&&(st.window=null),U.state=null,w},c.inflateGetHeader=function(U,st){var _;return U&&U.state?(2&(_=U.state).wrap)==0?b:((_.head=st).done=!1,w):b},c.inflateSetDictionary=function(U,st){var _,nt=st.length;return U&&U.state?(_=U.state).wrap!==0&&_.mode!==11?b:_.mode===11&&u(1,st,nt,0)!==_.check?-3:yt(U,st,nt,nt)?(_.mode=31,-4):(_.havedict=1,w):b},c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,o,c){var d=r("../utils/common"),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(y,g,w,b,C,T,j,E){var k,A,B,D,P,V,G,X,lt,yt=E.bits,U=0,st=0,_=0,nt=0,Z=0,L=0,it=0,$=0,pt=0,z=0,N=null,K=0,W=new d.Buf16(16),rt=new d.Buf16(16),St=null,wt=0;for(U=0;U<=15;U++)W[U]=0;for(st=0;st<b;st++)W[g[w+st]]++;for(Z=yt,nt=15;1<=nt&&W[nt]===0;nt--);if(nt<Z&&(Z=nt),nt===0)return C[T++]=20971520,C[T++]=20971520,E.bits=1,0;for(_=1;_<nt&&W[_]===0;_++);for(Z<_&&(Z=_),U=$=1;U<=15;U++)if($<<=1,($-=W[U])<0)return-1;if(0<$&&(y===0||nt!==1))return-1;for(rt[1]=0,U=1;U<15;U++)rt[U+1]=rt[U]+W[U];for(st=0;st<b;st++)g[w+st]!==0&&(j[rt[g[w+st]]++]=st);if(V=y===0?(N=St=j,19):y===1?(N=u,K-=257,St=h,wt-=257,256):(N=m,St=p,-1),U=_,P=T,it=st=z=0,B=-1,D=(pt=1<<(L=Z))-1,y===1&&852<pt||y===2&&592<pt)return 1;for(;;){for(G=U-it,lt=j[st]<V?(X=0,j[st]):j[st]>V?(X=St[wt+j[st]],N[K+j[st]]):(X=96,0),k=1<<U-it,_=A=1<<L;C[P+(z>>it)+(A-=k)]=G<<24|X<<16|lt|0,A!==0;);for(k=1<<U-1;z&k;)k>>=1;if(k!==0?(z&=k-1,z+=k):z=0,st++,--W[U]==0){if(U===nt)break;U=g[w+j[st]]}if(Z<U&&(z&D)!==B){for(it===0&&(it=Z),P+=_,$=1<<(L=U-it);L+it<nt&&!(($-=W[L+it])<=0);)L++,$<<=1;if(pt+=1<<L,y===1&&852<pt||y===2&&592<pt)return 1;C[B=z&D]=Z<<24|L<<16|P-T|0}}return z!==0&&(C[P+z]=U-it<<24|64<<16|0),E.bits=Z,0}},{"../utils/common":41}],51:[function(r,o,c){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,o,c){var d=r("../utils/common"),u=0,h=1;function m(O){for(var q=O.length;0<=--q;)O[q]=0}var p=0,y=29,g=256,w=g+1+y,b=30,C=19,T=2*w+1,j=15,E=16,k=7,A=256,B=16,D=17,P=18,V=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],G=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],X=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],lt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],yt=new Array(2*(w+2));m(yt);var U=new Array(2*b);m(U);var st=new Array(512);m(st);var _=new Array(256);m(_);var nt=new Array(y);m(nt);var Z,L,it,$=new Array(b);function pt(O,q,ht,gt,tt){this.static_tree=O,this.extra_bits=q,this.extra_base=ht,this.elems=gt,this.max_length=tt,this.has_stree=O&&O.length}function z(O,q){this.dyn_tree=O,this.max_code=0,this.stat_desc=q}function N(O){return O<256?st[O]:st[256+(O>>>7)]}function K(O,q){O.pending_buf[O.pending++]=255&q,O.pending_buf[O.pending++]=q>>>8&255}function W(O,q,ht){O.bi_valid>E-ht?(O.bi_buf|=q<<O.bi_valid&65535,K(O,O.bi_buf),O.bi_buf=q>>E-O.bi_valid,O.bi_valid+=ht-E):(O.bi_buf|=q<<O.bi_valid&65535,O.bi_valid+=ht)}function rt(O,q,ht){W(O,ht[2*q],ht[2*q+1])}function St(O,q){for(var ht=0;ht|=1&O,O>>>=1,ht<<=1,0<--q;);return ht>>>1}function wt(O,q,ht){var gt,tt,vt=new Array(j+1),xt=0;for(gt=1;gt<=j;gt++)vt[gt]=xt=xt+ht[gt-1]<<1;for(tt=0;tt<=q;tt++){var bt=O[2*tt+1];bt!==0&&(O[2*tt]=St(vt[bt]++,bt))}}function _t(O){var q;for(q=0;q<w;q++)O.dyn_ltree[2*q]=0;for(q=0;q<b;q++)O.dyn_dtree[2*q]=0;for(q=0;q<C;q++)O.bl_tree[2*q]=0;O.dyn_ltree[2*A]=1,O.opt_len=O.static_len=0,O.last_lit=O.matches=0}function ft(O){8<O.bi_valid?K(O,O.bi_buf):0<O.bi_valid&&(O.pending_buf[O.pending++]=O.bi_buf),O.bi_buf=0,O.bi_valid=0}function Tt(O,q,ht,gt){var tt=2*q,vt=2*ht;return O[tt]<O[vt]||O[tt]===O[vt]&&gt[q]<=gt[ht]}function Et(O,q,ht){for(var gt=O.heap[ht],tt=ht<<1;tt<=O.heap_len&&(tt<O.heap_len&&Tt(q,O.heap[tt+1],O.heap[tt],O.depth)&&tt++,!Tt(q,gt,O.heap[tt],O.depth));)O.heap[ht]=O.heap[tt],ht=tt,tt<<=1;O.heap[ht]=gt}function Rt(O,q,ht){var gt,tt,vt,xt,bt=0;if(O.last_lit!==0)for(;gt=O.pending_buf[O.d_buf+2*bt]<<8|O.pending_buf[O.d_buf+2*bt+1],tt=O.pending_buf[O.l_buf+bt],bt++,gt===0?rt(O,tt,q):(rt(O,(vt=_[tt])+g+1,q),(xt=V[vt])!==0&&W(O,tt-=nt[vt],xt),rt(O,vt=N(--gt),ht),(xt=G[vt])!==0&&W(O,gt-=$[vt],xt)),bt<O.last_lit;);rt(O,A,q)}function It(O,q){var ht,gt,tt,vt=q.dyn_tree,xt=q.stat_desc.static_tree,bt=q.stat_desc.has_stree,kt=q.stat_desc.elems,Zt=-1;for(O.heap_len=0,O.heap_max=T,ht=0;ht<kt;ht++)vt[2*ht]!==0?(O.heap[++O.heap_len]=Zt=ht,O.depth[ht]=0):vt[2*ht+1]=0;for(;O.heap_len<2;)vt[2*(tt=O.heap[++O.heap_len]=Zt<2?++Zt:0)]=1,O.depth[tt]=0,O.opt_len--,bt&&(O.static_len-=xt[2*tt+1]);for(q.max_code=Zt,ht=O.heap_len>>1;1<=ht;ht--)Et(O,vt,ht);for(tt=kt;ht=O.heap[1],O.heap[1]=O.heap[O.heap_len--],Et(O,vt,1),gt=O.heap[1],O.heap[--O.heap_max]=ht,O.heap[--O.heap_max]=gt,vt[2*tt]=vt[2*ht]+vt[2*gt],O.depth[tt]=(O.depth[ht]>=O.depth[gt]?O.depth[ht]:O.depth[gt])+1,vt[2*ht+1]=vt[2*gt+1]=tt,O.heap[1]=tt++,Et(O,vt,1),2<=O.heap_len;);O.heap[--O.heap_max]=O.heap[1],(function(Bt,De){var $n,We,Ri,Jt,ge,Je,ae=De.dyn_tree,hr=De.max_code,Jo=De.stat_desc.static_tree,tl=De.stat_desc.has_stree,la=De.stat_desc.extra_bits,Di=De.stat_desc.extra_base,bn=De.stat_desc.max_length,tn=0;for(Jt=0;Jt<=j;Jt++)Bt.bl_count[Jt]=0;for(ae[2*Bt.heap[Bt.heap_max]+1]=0,$n=Bt.heap_max+1;$n<T;$n++)bn<(Jt=ae[2*ae[2*(We=Bt.heap[$n])+1]+1]+1)&&(Jt=bn,tn++),ae[2*We+1]=Jt,hr<We||(Bt.bl_count[Jt]++,ge=0,Di<=We&&(ge=la[We-Di]),Je=ae[2*We],Bt.opt_len+=Je*(Jt+ge),tl&&(Bt.static_len+=Je*(Jo[2*We+1]+ge)));if(tn!==0){do{for(Jt=bn-1;Bt.bl_count[Jt]===0;)Jt--;Bt.bl_count[Jt]--,Bt.bl_count[Jt+1]+=2,Bt.bl_count[bn]--,tn-=2}while(0<tn);for(Jt=bn;Jt!==0;Jt--)for(We=Bt.bl_count[Jt];We!==0;)hr<(Ri=Bt.heap[--$n])||(ae[2*Ri+1]!==Jt&&(Bt.opt_len+=(Jt-ae[2*Ri+1])*ae[2*Ri],ae[2*Ri+1]=Jt),We--)}})(O,q),wt(vt,Zt,O.bl_count)}function S(O,q,ht){var gt,tt,vt=-1,xt=q[1],bt=0,kt=7,Zt=4;for(xt===0&&(kt=138,Zt=3),q[2*(ht+1)+1]=65535,gt=0;gt<=ht;gt++)tt=xt,xt=q[2*(gt+1)+1],++bt<kt&&tt===xt||(bt<Zt?O.bl_tree[2*tt]+=bt:tt!==0?(tt!==vt&&O.bl_tree[2*tt]++,O.bl_tree[2*B]++):bt<=10?O.bl_tree[2*D]++:O.bl_tree[2*P]++,vt=tt,Zt=(bt=0)===xt?(kt=138,3):tt===xt?(kt=6,3):(kt=7,4))}function ct(O,q,ht){var gt,tt,vt=-1,xt=q[1],bt=0,kt=7,Zt=4;for(xt===0&&(kt=138,Zt=3),gt=0;gt<=ht;gt++)if(tt=xt,xt=q[2*(gt+1)+1],!(++bt<kt&&tt===xt)){if(bt<Zt)for(;rt(O,tt,O.bl_tree),--bt!=0;);else tt!==0?(tt!==vt&&(rt(O,tt,O.bl_tree),bt--),rt(O,B,O.bl_tree),W(O,bt-3,2)):bt<=10?(rt(O,D,O.bl_tree),W(O,bt-3,3)):(rt(O,P,O.bl_tree),W(O,bt-11,7));vt=tt,Zt=(bt=0)===xt?(kt=138,3):tt===xt?(kt=6,3):(kt=7,4)}}m($);var I=!1;function R(O,q,ht,gt){W(O,(p<<1)+(gt?1:0),3),(function(tt,vt,xt,bt){ft(tt),K(tt,xt),K(tt,~xt),d.arraySet(tt.pending_buf,tt.window,vt,xt,tt.pending),tt.pending+=xt})(O,q,ht)}c._tr_init=function(O){I||((function(){var q,ht,gt,tt,vt,xt=new Array(j+1);for(tt=gt=0;tt<y-1;tt++)for(nt[tt]=gt,q=0;q<1<<V[tt];q++)_[gt++]=tt;for(_[gt-1]=tt,tt=vt=0;tt<16;tt++)for($[tt]=vt,q=0;q<1<<G[tt];q++)st[vt++]=tt;for(vt>>=7;tt<b;tt++)for($[tt]=vt<<7,q=0;q<1<<G[tt]-7;q++)st[256+vt++]=tt;for(ht=0;ht<=j;ht++)xt[ht]=0;for(q=0;q<=143;)yt[2*q+1]=8,q++,xt[8]++;for(;q<=255;)yt[2*q+1]=9,q++,xt[9]++;for(;q<=279;)yt[2*q+1]=7,q++,xt[7]++;for(;q<=287;)yt[2*q+1]=8,q++,xt[8]++;for(wt(yt,w+1,xt),q=0;q<b;q++)U[2*q+1]=5,U[2*q]=St(q,5);Z=new pt(yt,V,g+1,w,j),L=new pt(U,G,0,b,j),it=new pt(new Array(0),X,0,C,k)})(),I=!0),O.l_desc=new z(O.dyn_ltree,Z),O.d_desc=new z(O.dyn_dtree,L),O.bl_desc=new z(O.bl_tree,it),O.bi_buf=0,O.bi_valid=0,_t(O)},c._tr_stored_block=R,c._tr_flush_block=function(O,q,ht,gt){var tt,vt,xt=0;0<O.level?(O.strm.data_type===2&&(O.strm.data_type=(function(bt){var kt,Zt=4093624447;for(kt=0;kt<=31;kt++,Zt>>>=1)if(1&Zt&&bt.dyn_ltree[2*kt]!==0)return u;if(bt.dyn_ltree[18]!==0||bt.dyn_ltree[20]!==0||bt.dyn_ltree[26]!==0)return h;for(kt=32;kt<g;kt++)if(bt.dyn_ltree[2*kt]!==0)return h;return u})(O)),It(O,O.l_desc),It(O,O.d_desc),xt=(function(bt){var kt;for(S(bt,bt.dyn_ltree,bt.l_desc.max_code),S(bt,bt.dyn_dtree,bt.d_desc.max_code),It(bt,bt.bl_desc),kt=C-1;3<=kt&&bt.bl_tree[2*lt[kt]+1]===0;kt--);return bt.opt_len+=3*(kt+1)+5+5+4,kt})(O),tt=O.opt_len+3+7>>>3,(vt=O.static_len+3+7>>>3)<=tt&&(tt=vt)):tt=vt=ht+5,ht+4<=tt&&q!==-1?R(O,q,ht,gt):O.strategy===4||vt===tt?(W(O,2+(gt?1:0),3),Rt(O,yt,U)):(W(O,4+(gt?1:0),3),(function(bt,kt,Zt,Bt){var De;for(W(bt,kt-257,5),W(bt,Zt-1,5),W(bt,Bt-4,4),De=0;De<Bt;De++)W(bt,bt.bl_tree[2*lt[De]+1],3);ct(bt,bt.dyn_ltree,kt-1),ct(bt,bt.dyn_dtree,Zt-1)})(O,O.l_desc.max_code+1,O.d_desc.max_code+1,xt+1),Rt(O,O.dyn_ltree,O.dyn_dtree)),_t(O),gt&&ft(O)},c._tr_tally=function(O,q,ht){return O.pending_buf[O.d_buf+2*O.last_lit]=q>>>8&255,O.pending_buf[O.d_buf+2*O.last_lit+1]=255&q,O.pending_buf[O.l_buf+O.last_lit]=255&ht,O.last_lit++,q===0?O.dyn_ltree[2*ht]++:(O.matches++,q--,O.dyn_ltree[2*(_[ht]+g+1)]++,O.dyn_dtree[2*N(q)]++),O.last_lit===O.lit_bufsize-1},c._tr_align=function(O){W(O,2,3),rt(O,A,yt),(function(q){q.bi_valid===16?(K(q,q.bi_buf),q.bi_buf=0,q.bi_valid=0):8<=q.bi_valid&&(q.pending_buf[q.pending++]=255&q.bi_buf,q.bi_buf>>=8,q.bi_valid-=8)})(O)}},{"../utils/common":41}],53:[function(r,o,c){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,o,c){(function(d){(function(u,h){if(!u.setImmediate){var m,p,y,g,w=1,b={},C=!1,T=u.document,j=Object.getPrototypeOf&&Object.getPrototypeOf(u);j=j&&j.setTimeout?j:u,m={}.toString.call(u.process)==="[object process]"?function(B){process.nextTick(function(){k(B)})}:(function(){if(u.postMessage&&!u.importScripts){var B=!0,D=u.onmessage;return u.onmessage=function(){B=!1},u.postMessage("","*"),u.onmessage=D,B}})()?(g="setImmediate$"+Math.random()+"$",u.addEventListener?u.addEventListener("message",A,!1):u.attachEvent("onmessage",A),function(B){u.postMessage(g+B,"*")}):u.MessageChannel?((y=new MessageChannel).port1.onmessage=function(B){k(B.data)},function(B){y.port2.postMessage(B)}):T&&"onreadystatechange"in T.createElement("script")?(p=T.documentElement,function(B){var D=T.createElement("script");D.onreadystatechange=function(){k(B),D.onreadystatechange=null,p.removeChild(D),D=null},p.appendChild(D)}):function(B){setTimeout(k,0,B)},j.setImmediate=function(B){typeof B!="function"&&(B=new Function(""+B));for(var D=new Array(arguments.length-1),P=0;P<D.length;P++)D[P]=arguments[P+1];var V={callback:B,args:D};return b[w]=V,m(w),w++},j.clearImmediate=E}function E(B){delete b[B]}function k(B){if(C)setTimeout(k,0,B);else{var D=b[B];if(D){C=!0;try{(function(P){var V=P.callback,G=P.args;switch(G.length){case 0:V();break;case 1:V(G[0]);break;case 2:V(G[0],G[1]);break;case 3:V(G[0],G[1],G[2]);break;default:V.apply(h,G)}})(D)}finally{E(B),C=!1}}}}function A(B){B.source===u&&typeof B.data=="string"&&B.data.indexOf(g)===0&&k(+B.data.slice(g.length))}})(typeof self>"u"?d===void 0?this:d:self)}).call(this,typeof Eo<"u"?Eo:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Du)),Du.exports}var OT=DT();const BT=tf(OT);var _i=(s=>(s.INVALID_FILE="INVALID_FILE",s.MISSING_MANIFEST="MISSING_MANIFEST",s.CORRUPTION="CORRUPTION",s.DATABASE_ERROR="DATABASE_ERROR",s.UNKNOWN="UNKNOWN",s))(_i||{});class wi extends Error{constructor(i,r){super(r),this.type=i,this.name="IngestionError"}}const Go=class Go{static async findCover(i,r){var o,c;try{const d=i.replace(/\(.*\)/,"").trim(),u=r.replace(/\(.*\)/,"").trim(),h=encodeURIComponent(`${d} ${u}`),m=new AbortController,p=setTimeout(()=>m.abort(),2500),y=await fetch(`${this.SEARCH_URL}?q=${h}&limit=1&fields=cover_i`,{signal:m.signal});if(clearTimeout(p),!y.ok)return;const w=(c=(o=(await y.json()).docs)==null?void 0:o[0])==null?void 0:c.cover_i;if(w)return`${this.IMAGE_URL}/${w}-L.jpg`}catch{}}};Go.SEARCH_URL="https://openlibrary.org/search.json",Go.IMAGE_URL="https://covers.openlibrary.org/b/id";let qo=Go;class Ee{constructor(){this.dbName="FlowLibraryDB",this.version=2,this.db=null}static getInstance(){return Ee.instance||(Ee.instance=new Ee),Ee.instance}async init(){if(!this.db)return new Promise((i,r)=>{const o=indexedDB.open(this.dbName,this.version);o.onerror=()=>r(o.error),o.onupgradeneeded=c=>{const d=c.target.result;d.objectStoreNames.contains("books")||d.createObjectStore("books",{keyPath:"id"}),d.objectStoreNames.contains("metadata")||d.createObjectStore("metadata",{keyPath:"id"}),d.objectStoreNames.contains("sources")||d.createObjectStore("sources")},o.onsuccess=c=>{this.db=c.target.result,i()}})}async saveBook(i){await this.init();const{chapters:r,...o}=i;await this.put("books",i),await this.put("metadata",o)}async saveSource(i,r){await this.init(),await this.put("sources",r,i)}async getSource(i){return await this.init(),this.get("sources",i)}async deleteBook(i){await this.init(),await this.delete("books",i),await this.delete("metadata",i),await this.delete("sources",i)}async getAllMetadata(){return await this.init(),this.getAll("metadata")}async getFullBook(i){return await this.init(),this.get("books",i)}async put(i,r,o){return new Promise((c,d)=>{const h=this.db.transaction(i,"readwrite").objectStore(i),m=o?h.put(r,o):h.put(r);m.onsuccess=()=>c(),m.onerror=()=>d(m.error)})}async get(i,r){return new Promise((o,c)=>{const h=this.db.transaction(i,"readonly").objectStore(i).get(r);h.onsuccess=()=>o(h.result),h.onerror=()=>c(h.error)})}async getAll(i){return new Promise((r,o)=>{const u=this.db.transaction(i,"readonly").objectStore(i).getAll();u.onsuccess=()=>r(u.result),u.onerror=()=>o(u.error)})}async delete(i,r){return new Promise((o,c)=>{const h=this.db.transaction(i,"readwrite").objectStore(i).delete(r);h.onsuccess=()=>o(),h.onerror=()=>c(h.error)})}}class Yn{constructor(){}static getInstance(){return Yn.instance||(Yn.instance=new Yn),Yn.instance}async ingest(i){try{console.log(`[Ingestion] Starting import of: ${i.name} (${(i.size/1024).toFixed(1)} KB)`),this.validateFile(i);let r;try{r=await i.arrayBuffer(),console.log(`[Ingestion] File loaded into memory: ${r.byteLength} bytes`)}catch(h){throw console.error("[Ingestion] Failed to read file:",h),new wi(_i.UNKNOWN,`Failed to read file: ${h instanceof Error?h.message:"Unknown error"}`)}const o=await this.unzipFromBuffer(r);console.log("[Ingestion] ZIP extracted, files:",Object.keys(o.files).length);const c=await this.parseContainer(o);console.log(`[Ingestion] OPF path: ${c}`);const d=await this.parseOPF(o,c);console.log(`[Ingestion] OPF parsed - Title: "${d.metadata.title}", Spine items: ${d.spine.length}`);const u=await this.constructBookFromZip(o,d);return console.log(`[Ingestion] Book constructed with ${u.chapters.length} chapters`),u.coverUrl||(u.coverUrl=await qo.findCover(u.title,u.author)),u.sourceType="epub",await this.persistBook(u,r),console.log("[Ingestion] Book persisted to storage"),u}catch(r){throw console.error("[Ingestion] Import failed:",r),r instanceof wi?r:new wi(_i.UNKNOWN,r.message||"Unknown import error")}}async ingestFromText(i,r,o,c,d){const u=crypto.randomUUID(),h=this.heuristicChaptering(o),m={id:u,title:i,author:r,coverUrl:d,tintColorHex:c,lastOpened:new Date,isFinished:!1,bookmarkProgress:0,chapters:h,sourceType:"text"};m.coverUrl||(m.coverUrl=await qo.findCover(i,r));const y=new TextEncoder().encode(o).buffer;return await this.persistBook(m,y),m}async persistBook(i,r){const o=Ee.getInstance();await o.saveBook(i),await o.saveSource(i.id,r)}heuristicChaptering(i){let r=i;const o=r.indexOf("*** START OF"),c=r.indexOf("*** END OF");if(o!==-1){const g=r.substring(o),w=g.indexOf(`
`,g.indexOf(`
`)+1);r=g.substring(w)}c!==-1&&(r=r.substring(0,c));const d=r.split(/\n\s*\n/),u=[];let h=[],m="Preface",p=1;const y=400;for(let g=0;g<d.length;g++){const b=d[g].replace(/\s+/g," ").trim();if(!b)continue;const C=/^(chapter|book|part|letter|prologue|epilogue|foreword|preface|stave|volume|vol\.)\s*([ivxlcdm\d]+|the\s+\w+)?/i.test(b),T=/^[IVXLCDM]+\.?$/.test(b),j=/^\d+\.?$/.test(b);if((C||T&&b.length<10||j&&b.length<5)&&b.length<100)if(Wa(h.join(" "))>50||u.length===0){this.flushChapter(u,h,m,p++),h=[],m=b;continue}else{m=b;continue}h.push(b),h.length>=y&&(this.flushChapter(u,h,m,p++),h=[],m=`Part ${p}`)}return h.length>0&&this.flushChapter(u,h,m,p++),u}flushChapter(i,r,o,c){const d=r.map(m=>`<p>${m}</p>`).join(`
`),u=Wa(d);let h=o.trim();i.push({id:crypto.randomUUID(),title:h,content:d,sortOrder:i.length,wordCount:u,estimatedReadTime:Math.ceil(u/250)})}async constructBookFromZip(i,r){const o=crypto.randomUUID();let c;if(r.coverPath){const h=i.file(r.coverPath);if(h){const m=await h.async("blob");c=URL.createObjectURL(m)}}const d=[],u=20;console.log(`[Ingestion] Processing ${r.spine.length} spine items for "${r.metadata.title}"`);for(let h=0;h<r.spine.length;h+=u){const m=r.spine.slice(h,h+u);(await Promise.all(m.map((y,g)=>this.processEpubChapter(i,y,h+g)))).forEach(y=>{y&&d.push(y)}),h+u<r.spine.length&&await new Promise(y=>setTimeout(y,0))}if(console.log(`[Ingestion] Extracted ${d.length} chapters from "${r.metadata.title}"`),d.length===0&&r.spine.length>0){console.warn("[Ingestion] No chapters extracted, trying without front-matter filter...");for(let h=0;h<r.spine.length;h++){const m=await this.processEpubChapterPermissive(i,r.spine[h],h);m&&d.push(m)}console.log(`[Ingestion] Permissive mode extracted ${d.length} chapters`)}return{id:o,title:r.metadata.title,author:r.metadata.author,coverUrl:c,lastOpened:new Date,isFinished:!1,bookmarkProgress:0,chapters:d}}async processEpubChapterPermissive(i,r,o){const c=i.file(r);if(!c)return console.warn(`[Ingestion] File not found: ${r}`),null;const d=await c.async("uint8array"),u=this.cleanTextAggressive(d),h=u.replace(/<[^>]+>/g," ").trim(),m=Wa(h);return m<3?null:{id:crypto.randomUUID(),title:`Section ${o+1}`,content:u,sortOrder:o,wordCount:m,estimatedReadTime:Math.ceil(m/250)}}async processEpubChapter(i,r,o){const c=i.file(r);if(!c)return null;const d=await c.async("uint8array"),u=this.cleanTextAggressive(d),h=u.replace(/<[^>]+>/g," ").trim(),m=Wa(h);return m<10||o<10&&this.isLikelyFrontMatter(h,m)?null:{id:crypto.randomUUID(),title:`Chapter ${o+1}`,content:u,sortOrder:o,wordCount:m,estimatedReadTime:Math.ceil(m/250)}}cleanTextAggressive(i){let r="";try{r=new TextDecoder("utf-8",{fatal:!0}).decode(i)}catch{r=new TextDecoder("windows-1252").decode(i)}return r=r.replace(/<(script|style|head)[^>]*>[\s\S]*?<\/\1>/gi,""),r=r.replace(/<br\s*\/?>/gi,"___BR___"),r=r.replace(/<\/(p|div|h\d|li|blockquote)>/gi,"___P___"),r=r.replace(/<[^>]+>/g,""),r=this.decodeEntities(r),r=r.replace(/\s+/g," "),r=r.replace(/___BR___/g,`
`),r=r.replace(/___P___/g,`

`),r.split(`

`).map(o=>o.trim()).filter(o=>o.length>0&&!/^\d+$/.test(o)).map(o=>`<p>${o}</p>`).join(`
`)}isLikelyFrontMatter(i,r){if(r>600)return!1;const o=i.toLowerCase().slice(0,1e3);return r<200&&/copyright|rights reserved|isbn|published by|table of contents|acknowledgments/.test(o)}decodeEntities(i){const r=document.createElement("textarea");return r.innerHTML=i,r.value}validateFile(i){if(!i.name.toLowerCase().endsWith(".epub")||i.size===0)throw new wi(_i.INVALID_FILE,"Invalid EPUB file.")}async unzipFromBuffer(i){try{const r=new BT;console.log(`[Ingestion] Loading ZIP from ArrayBuffer (${i.byteLength} bytes)...`);const o=await r.loadAsync(i);return console.log("[Ingestion] ZIP loaded successfully"),o}catch(r){throw console.error("[Ingestion] ZIP extraction failed:",r),new wi(_i.CORRUPTION,`Corrupted archive: ${r instanceof Error?r.message:"Unknown error"}`)}}async unzip(i){const r=await i.arrayBuffer();return this.unzipFromBuffer(r)}async parseContainer(i){const r=i.file("META-INF/container.xml");if(!r)throw new wi(_i.MISSING_MANIFEST,"Missing container.xml");const c=(await r.async("string")).match(/full-path=["']([^"']+)["']/i);if(!c)throw new wi(_i.MISSING_MANIFEST,"Invalid container.xml");return c[1]}async parseOPF(i,r){var T,j,E,k,A;const o=i.file(r);if(!o)throw new wi(_i.MISSING_MANIFEST,"Missing OPF");const c=await o.async("string"),d=((j=(T=c.match(/<dc:title[^>]*>(.*?)<\/dc:title>/is))==null?void 0:T[1])==null?void 0:j.trim())||"Unknown",u=((k=(E=c.match(/<dc:creator[^>]*>(.*?)<\/dc:creator>/is))==null?void 0:E[1])==null?void 0:k.trim())||"Unknown",h=new Map,m=/<item\s+([^>]+?)\s*\/?>/gi;let p;for(;(p=m.exec(c))!==null;){const B=p[1],D=B.match(/id=["']([^"']+)["']/i),P=B.match(/href=["']([^"']+)["']/i);D&&P&&h.set(D[1],P[1])}console.log(`[Ingestion] Manifest has ${h.size} items`);const y=[],g=/<itemref\s+[^>]*idref=["']([^"']+)["'][^>]*\/?>/gi;let w;for(;(w=g.exec(c))!==null;){const B=w[1],D=h.get(B);D&&y.push(this.resolvePath(r,D))}if(console.log(`[Ingestion] Spine has ${y.length} items`),y.length===0){console.warn("[Ingestion] Empty spine, falling back to manifest HTML files");for(const[B,D]of h)/\.(x?html?|htm)$/i.test(D)&&y.push(this.resolvePath(r,D));y.sort(),console.log(`[Ingestion] Fallback found ${y.length} HTML files`)}const b=(A=c.match(/<meta\s+name=["']cover["']\s+content=["']([^"']+)["']/i))==null?void 0:A[1];let C=b?h.get(b):void 0;return C&&(C=this.resolvePath(r,C)),{metadata:{title:d,author:u},spine:y,coverPath:C}}resolvePath(i,r){return(i.substring(0,i.lastIndexOf("/")+1)+r).replace(/\/+/g,"/")}}class Re{static pulse(i){if(typeof navigator>"u"||!navigator.vibrate)return;const r=i.punctuation||"";if(/[.?!]/.test(r)){navigator.vibrate(15);return}if(/[,;:]/.test(r)){navigator.vibrate(5);return}}static impactMedium(){typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(20)}static impactLight(){typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(5)}}const LT=()=>{const s=aa.getInstance(),i=s.mode,r=Me(),o=d=>{s.setMode(d)},c=["Modern","Sepia","Night","OLED"];return x.jsxs("div",{className:"flex flex-col gap-3",children:[x.jsx("h3",{className:"text-[11px] font-medium opacity-50 lowercase",style:{color:r.secondaryText},children:"appearance"}),x.jsx("div",{className:"grid grid-cols-4 gap-2",children:c.map(d=>{const u=Za[d],h=i===d;return x.jsxs("button",{onClick:()=>o(d),className:"group relative flex flex-col items-center gap-1.5 outline-none",children:[x.jsxs("div",{className:`relative w-full aspect-[4/5] rounded-xl border transition-all duration-200 ease-out overflow-hidden ${h?"ring-2 ring-offset-1 scale-[1.03]":"hover:scale-[1.02]"}`,style:{backgroundColor:u.background,borderColor:h?"transparent":"rgba(128,128,128,0.15)",ringColor:r.accent},children:[x.jsxs("div",{className:"absolute inset-3 flex flex-col items-center justify-center",children:[x.jsx("div",{className:"font-serif text-xl font-semibold",style:{color:u.primaryText},children:"Aa"}),x.jsx("div",{className:"w-full h-0.5 rounded-full mt-2 opacity-15",style:{backgroundColor:u.primaryText}}),x.jsx("div",{className:"w-2/3 h-0.5 rounded-full mt-1 opacity-15",style:{backgroundColor:u.primaryText}})]}),h&&x.jsx("div",{className:"absolute bottom-1.5 right-1.5 w-3.5 h-3.5 rounded-full flex items-center justify-center",style:{backgroundColor:r.accent},children:x.jsx("svg",{width:"8",height:"6",viewBox:"0 0 10 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{d:"M1 4L3.5 6.5L9 1",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),x.jsx("span",{className:"text-[9px] font-medium transition-colors lowercase",style:{color:h?r.accent:r.secondaryText,opacity:h?1:.6},children:d})]},d)})}),x.jsxs("div",{className:"mt-1 flex items-center justify-between p-3 rounded-xl border",style:{backgroundColor:r.surface,borderColor:r.borderColor},children:[x.jsx("span",{className:"text-xs font-medium lowercase",style:{color:r.primaryText},children:"follow system"}),x.jsx("button",{onClick:()=>o(i==="System"?"Modern":"System"),className:"relative w-10 h-5 rounded-full transition-colors duration-200 focus:outline-none",style:{backgroundColor:i==="System"?r.accent:r.borderColor},children:x.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white w-4 h-4 rounded-full shadow-sm transition-transform duration-200 ${i==="System"?"translate-x-5":"translate-x-0"}`})})]})]})},UT=()=>{const{settings:s,updateSettings:i}=dr(),r=Me(),[o,c]=H.useState(s.rsvpSpeed),d=H.useRef(null);H.useEffect(()=>{Math.abs(s.rsvpSpeed-o)>10&&!d.current&&c(s.rsvpSpeed)},[s.rsvpSpeed]);const u=m=>{const p=Math.max(100,Math.min(1e3,m));c(p),d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{i({rsvpSpeed:p,hasCustomSpeed:!0}),d.current=null},100)},h=[{name:"Serif",label:"fancy",val:"New York"},{name:"Sans",label:"clean",val:"SF Pro"}];return x.jsxs("div",{className:"flex flex-col gap-6 pt-2",children:[x.jsxs("div",{className:"space-y-3",children:[x.jsxs("h3",{className:"text-[11px] font-medium opacity-50 lowercase flex items-center gap-1.5",style:{color:r.secondaryText},children:[x.jsx(MT,{size:12})," pace"]}),x.jsxs("div",{className:"rounded-2xl p-4 border",style:{backgroundColor:r.surface,borderColor:r.borderColor},children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsx("span",{className:"text-sm font-medium lowercase",style:{color:r.primaryText},children:"speed (wpm)"}),x.jsx("span",{className:"text-xl font-semibold tracking-tight tabular-nums",style:{color:r.primaryText},children:o})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("button",{onClick:()=>u(o-25),className:"w-10 h-10 rounded-xl flex items-center justify-center active:scale-95 transition-all",style:{backgroundColor:r.borderColor,color:r.primaryText},children:x.jsx(ky,{size:16})}),x.jsx("div",{className:"flex-1 relative h-8 flex items-center",children:x.jsx("input",{type:"range",min:100,max:1e3,step:25,value:o,onChange:m=>u(parseInt(m.target.value)),className:"w-full h-1.5 rounded-full appearance-none cursor-pointer focus:outline-none",style:{backgroundColor:r.borderColor,accentColor:r.accent}})}),x.jsx("button",{onClick:()=>u(o+25),className:"w-10 h-10 rounded-xl flex items-center justify-center active:scale-95 transition-all",style:{backgroundColor:r.borderColor,color:r.primaryText},children:x.jsx(Df,{size:16})})]})]})]}),x.jsx("div",{className:"w-full h-px",style:{backgroundColor:r.borderColor}}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("h3",{className:"text-[11px] font-medium opacity-50 lowercase flex items-center gap-1.5",style:{color:r.secondaryText},children:[x.jsx(ir,{size:12})," typography"]}),x.jsx("div",{className:"grid grid-cols-2 gap-3",children:h.map(m=>x.jsxs("button",{onClick:()=>i({fontFamily:m.val}),className:`flex flex-col items-center justify-center gap-1.5 p-5 rounded-2xl border transition-all duration-200 ${s.fontFamily===m.val?"scale-[1.02]":"hover:scale-[1.01]"}`,style:{backgroundColor:s.fontFamily===m.val?r.primaryText:r.surface,borderColor:s.fontFamily===m.val?r.primaryText:r.borderColor,color:s.fontFamily===m.val?r.surface:r.primaryText},children:[x.jsx("span",{className:"text-2xl font-semibold",style:{fontFamily:VT(m.val)},children:"Aa"}),x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("span",{className:"text-sm font-medium",children:m.name}),x.jsx("span",{className:"text-[9px] font-medium opacity-50",style:{color:s.fontFamily===m.val?r.surface:r.secondaryText},children:m.label})]})]},m.val))}),x.jsxs("div",{className:"rounded-2xl p-4 border space-y-5 mt-3",style:{backgroundColor:r.surface,borderColor:r.borderColor},children:[x.jsx(Ou,{label:"size",value:s.fontSize,min:14,max:40,onChange:m=>i({fontSize:m}),theme:r}),x.jsx(Ou,{label:"room",value:s.lineHeight,min:1,max:2.2,step:.1,onChange:m=>i({lineHeight:m}),theme:r}),x.jsx(Ou,{label:"gaps",value:s.paragraphSpacing,min:0,max:40,onChange:m=>i({paragraphSpacing:m}),theme:r})]})]})]})},Ou=({label:s,value:i,min:r,max:o,step:c=1,onChange:d,theme:u})=>x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"text-xs font-medium w-12 lowercase",style:{color:u.secondaryText},children:s}),x.jsx("input",{type:"range",min:r,max:o,step:c,value:i,onChange:h=>d(parseFloat(h.target.value)),className:"flex-1 h-1 rounded-full appearance-none cursor-pointer",style:{backgroundColor:u.borderColor,accentColor:u.accent}}),x.jsx("span",{className:"text-xs font-medium w-8 text-right tabular-nums",style:{color:u.primaryText},children:i.toFixed(c<1?1:0)})]});function VT(s){return s==="New York"?"serif":s==="SF Pro"?"sans-serif":"serif"}const FT="570686176836-dtbdhnverff6qo63tfbgvmrts2oadqmp.apps.googleusercontent.com",HT="https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/drive.appdata";class sa{constructor(){this.accessToken=null,this.tokenExpiry=0,this.libraryFolderId=null}static getInstance(){return sa.instance||(sa.instance=new sa),sa.instance}get isAuthenticated(){return!!this.accessToken&&Date.now()<this.tokenExpiry}async init(){window.google&&(this.tokenClient=window.google.accounts.oauth2.initTokenClient({client_id:FT,scope:HT,callback:i=>{if(i.error!==void 0)throw i;this.accessToken=i.access_token,this.tokenExpiry=Date.now()+Number(i.expires_in)*1e3-6e4}}))}async signIn(){return this.tokenClient||await this.init(),new Promise(i=>{this.tokenClient.callback=r=>{r.access_token&&(this.accessToken=r.access_token,this.tokenExpiry=Date.now()+Number(r.expires_in)*1e3-6e4,i())},this.accessToken&&Date.now()<this.tokenExpiry?i():this.tokenClient.requestAccessToken({prompt:"consent"})})}async fetch(i,r={}){this.isAuthenticated||await this.signIn();const o={Authorization:`Bearer ${this.accessToken}`,...r.headers||{}};r.body instanceof FormData?delete o["Content-Type"]:o["Content-Type"]||(o["Content-Type"]="application/json");const c=async u=>fetch(i,{...r,headers:u});let d=await c(o);return d.status===401&&(await this.signIn(),o.Authorization=`Bearer ${this.accessToken}`,d=await c(o)),!d.ok&&d.status!==404&&console.warn(`[DriveService] Request failed: ${i} (${d.status})`),d}async getUserInfo(){return(await(await this.fetch("https://www.googleapis.com/oauth2/v3/userinfo")).json()).email}async ensureLibraryFolder(){if(this.libraryFolderId)return this.libraryFolderId;const o=await(await this.fetch(`https://www.googleapis.com/drive/v3/files?q=${encodeURIComponent("mimeType='application/vnd.google-apps.folder' and name='Flow Library' and trashed=false")}`)).json();if(o.files&&o.files.length>0)return this.libraryFolderId=o.files[0].id,this.libraryFolderId;const d=await(await this.fetch("https://www.googleapis.com/drive/v3/files",{method:"POST",body:JSON.stringify({name:"Flow Library",mimeType:"application/vnd.google-apps.folder"})})).json();return this.libraryFolderId=d.id,this.libraryFolderId}async uploadFile(i,r){const o=await this.ensureLibraryFolder(),c={name:i,parents:[o]},d=new FormData;return d.append("metadata",new Blob([JSON.stringify(c)],{type:"application/json"})),d.append("file",r),(await(await this.fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",body:d})).json()).id}async listBooks(){const r=`'${await this.ensureLibraryFolder()}' in parents and mimeType!='application/vnd.google-apps.folder' and trashed=false`;return(await(await this.fetch(`https://www.googleapis.com/drive/v3/files?q=${encodeURIComponent(r)}&fields=files(id, name, modifiedTime, size, mimeType)`)).json()).files||[]}async downloadFile(i){return(await this.fetch(`https://www.googleapis.com/drive/v3/files/${i}?alt=media`)).arrayBuffer()}async getSyncState(){const o=await(await this.fetch(`https://www.googleapis.com/drive/v3/files?q=${encodeURIComponent("name='flow_state.json' and 'appDataFolder' in parents and trashed=false")}&spaces=appDataFolder`)).json();if(!o.files||o.files.length===0)return null;const c=o.files[0].id,d=await this.fetch(`https://www.googleapis.com/drive/v3/files/${c}?alt=media`);try{return await d.json()}catch{return null}}async saveSyncState(i){const c=await(await this.fetch(`https://www.googleapis.com/drive/v3/files?q=${encodeURIComponent("name='flow_state.json' and 'appDataFolder' in parents and trashed=false")}&spaces=appDataFolder`)).json(),d=new Blob([JSON.stringify(i)],{type:"application/json"});if(c.files&&c.files.length>0){const u=c.files[0].id;await this.fetch(`https://www.googleapis.com/upload/drive/v3/files/${u}?uploadType=media`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:d})}else{const u={name:"flow_state.json",parents:["appDataFolder"]},h=new FormData;h.append("metadata",new Blob([JSON.stringify(u)],{type:"application/json"})),h.append("file",d),await this.fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",body:h})}}}class Pe{constructor(){this.status="idle",this.listeners=new Set,this.isSyncing=!1,this.pendingSync=!1,this.drive=sa.getInstance(),this.storage=Ee.getInstance(),this.ingestion=Yn.getInstance(),this.settings=_n.getInstance()}static getInstance(){return Pe.instance||(Pe.instance=new Pe),Pe.instance}subscribe(i){return this.listeners.add(i),()=>this.listeners.delete(i)}notifyStatus(i){this.status=i,this.listeners.forEach(r=>{var o;return(o=r.onStatusChange)==null?void 0:o.call(r,i)})}async connect(){try{await this.drive.signIn();const i=await this.drive.getUserInfo();return this.settings.updateSettings({isSyncEnabled:!0,googleDriveEmail:i}),this.syncNow(!0),this.syncTimer&&clearInterval(this.syncTimer),this.syncTimer=setInterval(()=>this.syncNow(!1),3e5),i}catch(i){throw console.error(i),new Error("Failed to connect Google Drive")}}requestSync(){this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{this.syncNow(!1)},2e3)}async syncNow(i=!1){if(this.settings.getSettings().isSyncEnabled&&!(!i&&!this.drive.isAuthenticated)){if(this.isSyncing){this.pendingSync=!0;return}this.isSyncing=!0,this.notifyStatus("syncing");try{await this.syncState(),await this.syncBooks(),this.notifyStatus("success"),setTimeout(()=>this.notifyStatus("idle"),3e3)}catch(r){console.error("[SyncManager] Sync failed",r),this.notifyStatus("error")}finally{this.isSyncing=!1,this.pendingSync&&(this.pendingSync=!1,this.syncNow(!1))}}}async syncState(){const i=await this.storage.getAllMetadata(),r=await this.drive.getSyncState();if(!r){const d=this.buildSyncState(i);await this.drive.saveSyncState(d);return}if(r.preferences){const d=this.settings.getSettings();JSON.stringify(d)!==JSON.stringify(r.preferences)&&this.settings.updateSettings(r.preferences)}let o=!1;const c=r.books||{};for(const d of i){this.getFingerprint(d);let u=Object.keys(c).find(h=>{const m=c[h];return!!(d.driveId&&m.driveId===d.driveId)});if(u){const h=c[u],m=new Date(d.lastOpened).getTime(),p=h.lastOpened,y=p>m+1e4,g=m>p+1e4;y?await this.applyRemoteUpdate(d,h):g?(c[u]=this.mapBookToSyncEntry(d),o=!0):(h.progress||0)>(d.bookmarkProgress||0)?await this.applyRemoteUpdate(d,h):(d.bookmarkProgress||0)>(h.progress||0)&&(c[u]=this.mapBookToSyncEntry(d),o=!0)}else c[d.id]=this.mapBookToSyncEntry(d),o=!0}o&&(r.timestamp=Date.now(),r.books=c,await this.drive.saveSyncState(r))}async syncBooks(){const i=await this.drive.listBooks(),r=await this.storage.getAllMetadata(),o=new Map,c=new Map;r.forEach(d=>{d.driveId&&o.set(d.driveId,d),c.set(this.getFingerprint(d),d)});for(const d of i){if(o.has(d.id))continue;const u=this.parseFilename(d.name),h=`${u.title}|${u.author}`,m=c.get(h);if(m){console.log(`[Sync] Linking existing book "${m.title}" to Drive ID: ${d.id}`),m.driveId=d.id,await this.storage.saveBook(m);continue}try{console.log(`[Sync] Downloading new book: ${d.name}`);const p=await this.drive.downloadFile(d.id);let y;const g=d.name.toLowerCase().endsWith(".txt")||d.mimeType==="text/plain";if(g){const b=new TextDecoder().decode(p);y=await this.ingestion.ingestFromText(u.title,u.author,b)}else{const w=new Blob([p],{type:"application/epub+zip"}),b=new File([w],d.name,{type:"application/epub+zip"});y=await this.ingestion.ingest(b)}y.driveId=d.id,y.sourceType=g?"text":"epub",await this.storage.saveBook(y),this.listeners.forEach(w=>{var b;return(b=w.onNewBook)==null?void 0:b.call(w,y)})}catch(p){console.error(`[Sync] Download failed for ${d.name}`,p)}}for(const d of r)if(!d.driveId)try{const u=await this.storage.getSource(d.id);if(u){console.log(`[Sync] Uploading: ${d.title}`);let h,m;d.sourceType==="text"?(h=new Blob([u],{type:"text/plain"}),m=`${this.sanitizeFilename(d.title)} - ${this.sanitizeFilename(d.author)}.txt`):(h=new Blob([u],{type:"application/epub+zip"}),m=`${this.sanitizeFilename(d.title)}.epub`);const p=await this.drive.uploadFile(m,h);d.driveId=p,await this.storage.saveBook(d)}}catch(u){console.error(`[Sync] Upload failed for ${d.title}`,u)}}async applyRemoteUpdate(i,r){(i.bookmarkProgress!==r.progress||i.isFinished!==r.isFinished)&&(i.bookmarkProgress=r.progress,i.lastTokenIndex=r.lastTokenIndex,i.isFinished=r.isFinished,i.lastOpened=new Date(r.lastOpened),await this.storage.saveBook(i),this.listeners.forEach(o=>{var c;return(c=o.onNewBook)==null?void 0:c.call(o,i)}))}buildSyncState(i){const r={version:1,timestamp:Date.now(),books:{},preferences:this.settings.getSettings()};return i.forEach(o=>{r.books[o.id]=this.mapBookToSyncEntry(o)}),r}mapBookToSyncEntry(i){return{progress:i.bookmarkProgress,lastTokenIndex:i.lastTokenIndex,isFinished:i.isFinished,lastOpened:new Date(i.lastOpened).getTime(),driveId:i.driveId}}getFingerprint(i){return`${i.title.trim().toLowerCase()}|${i.author.trim().toLowerCase()}`}parseFilename(i){const r=i.replace(/\.(txt|epub)$/i,""),o=r.split(" - ");return o.length>=2?{title:o[0].trim(),author:o.slice(1).join(" - ").trim()}:{title:r.trim(),author:"Unknown Author"}}sanitizeFilename(i){return i.replace(/[^a-z0-9 \-_]/gi,"").trim()}resolveConflict(i,r){i.bookmarkProgress=r,this.storage.saveBook(i),this.listeners.forEach(o=>{var c;return(c=o.onNewBook)==null?void 0:c.call(o,i)})}}const jy=({onClose:s})=>{const[i,r]=H.useState("optical"),o=Me(),{settings:c}=dr(),[d,u]=H.useState(!1),h=async()=>{u(!0);try{await Pe.getInstance().connect()}catch{alert("Could not connect to Google Drive.")}finally{u(!1)}},m=sa.getInstance().isAuthenticated;return x.jsxs("div",{className:"flex flex-col h-full transition-colors duration-300",style:{backgroundColor:o.background},children:[x.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b",style:{borderColor:o.borderColor},children:[x.jsx("div",{children:x.jsx("h2",{className:"text-xl font-bold lowercase tracking-tight",style:{color:o.primaryText},children:"settings"})}),x.jsx("button",{onClick:s,className:"w-11 h-11 rounded-full flex items-center justify-center transition-all active:scale-95",style:{backgroundColor:`${o.primaryText}08`},children:x.jsx(Of,{size:20,style:{color:o.primaryText}})})]}),(!c.isSyncEnabled||!m)&&x.jsx("div",{className:"px-6 pt-5",children:x.jsxs("button",{onClick:h,disabled:d,className:"w-full p-4 rounded-2xl flex items-center justify-between active:scale-[0.98] transition-all",style:{backgroundColor:o.surface,border:`1px solid ${o.borderColor}`},children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"p-2 rounded-xl bg-blue-500 text-white",children:x.jsx(Wu,{size:16})}),x.jsxs("div",{className:"text-left",children:[x.jsx("h3",{className:"text-sm font-semibold lowercase",style:{color:o.primaryText},children:c.isSyncEnabled?"reconnect cloud":"enable cloud sync"}),x.jsx("p",{className:"text-[10px] opacity-40",style:{color:o.secondaryText},children:c.isSyncEnabled?"session expired":"sync via google drive"})]})]}),x.jsx("span",{className:"text-xs font-semibold text-blue-500",children:d?"...":"connect"})]})}),c.isSyncEnabled&&m&&x.jsx("div",{className:"px-6 pt-5",children:x.jsxs("div",{className:"w-full p-4 rounded-2xl flex items-center gap-3 border",style:{backgroundColor:o.surface,borderColor:o.borderColor},children:[x.jsx("div",{className:"p-2 rounded-xl bg-emerald-500 text-white",children:x.jsx(Wu,{size:16})}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("h3",{className:"text-sm font-semibold lowercase",style:{color:o.primaryText},children:"synced"}),x.jsx("p",{className:"text-[10px] opacity-40 truncate",style:{color:o.secondaryText},children:c.googleDriveEmail||"connected"})]}),x.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"})]})}),x.jsx("div",{className:"px-6 pt-5 z-10",children:x.jsxs("div",{className:"flex p-0.5 rounded-xl border",style:{borderColor:o.borderColor},children:[x.jsxs("button",{onClick:()=>r("optical"),className:"flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg text-xs font-medium transition-all lowercase",style:{backgroundColor:i==="optical"?o.surface:"transparent",color:i==="optical"?o.primaryText:o.secondaryText,opacity:i==="optical"?1:.5},children:[x.jsx(fT,{size:14})," theme"]}),x.jsxs("button",{onClick:()=>r("typo"),className:"flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg text-xs font-medium transition-all lowercase",style:{backgroundColor:i==="typo"?o.surface:"transparent",color:i==="typo"?o.primaryText:o.secondaryText,opacity:i==="typo"?1:.5},children:[x.jsx(ir,{size:14})," typography"]})]})}),x.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar px-6 pb-10 pt-5",children:[x.jsx("div",{className:`transition-opacity duration-200 ${i==="optical"?"block":"hidden"}`,children:x.jsx(LT,{})}),x.jsx("div",{className:`transition-opacity duration-200 ${i==="typo"?"block":"hidden"}`,children:x.jsx(UT,{})})]})]})},PT=[{title:"Frankenstein",author:"Mary Shelley",summary:"A scientist creates a sentient creature in a unorthodox scientific experiment. Gothic sci-fi vibes.",moodColor:"#56494E",genre:"Gothic Fiction",tags:["Sci-Fi","Classic","Horror"],gutenbergId:"84"},{title:"Pride and Prejudice",author:"Jane Austen",summary:"The turbulent relationship between Elizabeth Bennet and Fitzwilliam Darcy. Witty and romantic.",moodColor:"#D8A49B",genre:"Romance",tags:["Social Commentary","Classic"],gutenbergId:"1342"},{title:"Dracula",author:"Bram Stoker",summary:"Count Dracula's attempt to move from Transylvania to England. The ultimate vampire horror.",moodColor:"#740001",genre:"Horror",tags:["Epistolary","Classic","Vampires"],gutenbergId:"345"},{title:"The Great Gatsby",author:"F. Scott Fitzgerald",summary:"A portrait of the Jazz Age in all its decadence and excess. Tragic glamour.",moodColor:"#E3C565",genre:"Modernist Fiction",tags:["Jazz Age","American Classic"],gutenbergId:"64317"},{title:"Moby Dick",author:"Herman Melville",summary:"The narrative of the sailor Ishmael and the obsessive quest of Ahab. Deep ocean madness.",moodColor:"#476C9B",genre:"Adventure",tags:["Nautical","Classic"],gutenbergId:"2701"},{title:"Alice's Adventures in Wonderland",author:"Lewis Carroll",summary:"A young girl named Alice falls through a rabbit hole into a fantasy world. Surreal and trippy.",moodColor:"#6D9DC5",genre:"Fantasy",tags:["Surrealism","Classic","Children"],gutenbergId:"11"},{title:"The Picture of Dorian Gray",author:"Oscar Wilde",summary:"A philosophical novel about a man whose portrait ages while he stays young. Aesthetic hedonism.",moodColor:"#2E4052",genre:"Philosophical Fiction",tags:["Aestheticism","Classic"],gutenbergId:"174"},{title:"The Adventures of Sherlock Holmes",author:"Arthur Conan Doyle",summary:"A consulting detective known for his proficiency with observation and deduction. Foggy London mystery.",moodColor:"#5C5C5C",genre:"Mystery",tags:["Detective","Classic"],gutenbergId:"1661"},{title:"The Metamorphosis",author:"Franz Kafka",summary:"Salesman Gregor Samsa wakes one morning to find himself inexplicably transformed. Existential dread.",moodColor:"#556B2F",genre:"Existentialism",tags:["Absurdist","Classic"],gutenbergId:"5200"},{title:"Wuthering Heights",author:"Emily Bront",summary:"A tale of the all-encompassing and passionate, yet thwarted, love. Windy moors and ghosts.",moodColor:"#483C46",genre:"Gothic Romance",tags:["Moors","Classic"],gutenbergId:"768"}],IT=s=>{let i=0;for(let o=0;o<s.length;o++)i=s.charCodeAt(o)+((i<<5)-i);const r=(i&16777215).toString(16).toUpperCase();return"#"+"00000".substring(0,6-r.length)+r};class Ja{constructor(){}static getInstance(){return Ja.instance||(Ja.instance=new Ja),Ja.instance}getFeaturedBooks(){return PT.map(i=>({...i,coverUrl:i.coverUrl||`https://www.gutenberg.org/cache/epub/${i.gutenbergId}/pg${i.gutenbergId}.cover.medium.jpg`}))}async searchCuratedBooks(i){const r=i.trim();if(!r)return this.getFeaturedBooks();const o=`https://gutendex.com/books/?search=${encodeURIComponent(r)}`,c=`https://gutendex.com/books/?topic=${encodeURIComponent(r)}`;try{const[d,u]=await Promise.all([fetch(o).then(g=>g.json()),fetch(c).then(g=>g.json())]),h=d.results||[],m=u.results||[],p=new Set,y=[];return[...h,...m].forEach(g=>{p.has(g.id)||(p.add(g.id),y.push(g))}),y.filter(g=>g.formats["text/plain"]||g.formats["text/plain; charset=utf-8"]).slice(0,20).map(g=>{const w=g.authors.length>0?g.authors[0].name.replace(/,/,""):"Unknown Author",b=g.formats["image/jpeg"]||g.formats["image/png"]||`https://www.gutenberg.org/cache/epub/${g.id}/pg${g.id}.cover.medium.jpg`,C=g.subjects.length>0?g.subjects[0].split(" -- ")[0]:"Classic",T=g.subjects.map(j=>j.split(" -- ")[0]).slice(0,3);return{title:g.title,author:w,summary:g.summaries&&g.summaries.length>0?g.summaries[0]:`A ${C} masterpiece by ${w}.`,genre:C,tags:T,moodColor:IT(g.title),gutenbergId:g.id.toString(),coverUrl:b}})}catch(d){return console.error("Discovery search failed",d),[]}}async downloadBook(i){if(console.log(`[CloudService] Initiating acquisition for: ${i.title} (ID: ${i.gutenbergId})`),!i.gutenbergId)throw new Error("Cannot download book without Gutenberg ID");try{const r=i.gutenbergId,o=`https://api.github.com/search/repositories?q=${r}+in:name+user:GITenberg`;console.log(`[CloudService] Locating repo: ${o}`);const c=await fetch(o);if(!c.ok)throw new Error("Could not locate book repository.");const d=await c.json();if(!d.items||d.items.length===0)throw new Error("Book not found in GITenberg archives.");const u=d.items[0],h=u.default_branch||"master",p=`https://raw.githubusercontent.com/GITenberg/${u.name}/${h}/${r}.txt`;console.log(`[CloudService] Fetching raw text from: ${p}`);const y=await fetch(p);if(!y.ok)throw new Error("Failed to retrieve text content from archive.");const g=await y.text();if(g.trim().startsWith("<!DOCTYPE html>")||g.length<500)throw new Error("Downloaded content appears invalid.");return Yn.getInstance().ingestFromText(i.title,i.author,g,i.moodColor,i.coverUrl)}catch(r){throw console.error("[CloudService] Download failed",r),new Error("Could not download book. Please try another title.")}}}const qT=["philosophy","gothic","sci-fi","adventure","poetry","mystery"],GT=({existingBooks:s,onClose:i,onImport:r,onOpen:o})=>{const c=Me(),d=Ja.getInstance(),[u,h]=H.useState(""),[m,p]=H.useState([]),[y,g]=H.useState(!1),[w,b]=H.useState({});H.useEffect(()=>{const A=d.getFeaturedBooks();console.log("TitanCloudLibrary: Loading featured books",A.length,A),p(A)},[]);const C=async(A,B)=>{A==null||A.preventDefault();const D=B!==void 0?B:u;if(!D.trim()){p(d.getFeaturedBooks());return}g(!0),p([]);try{const P=await d.searchCuratedBooks(D);p(P)}catch(P){console.error(P)}finally{g(!1)}};H.useEffect(()=>{u.trim()===""&&p(d.getFeaturedBooks())},[u]);const T=async A=>{const B=w[A.title]||"idle";if(!(B==="loading"||B==="success")){b(D=>({...D,[A.title]:"loading"}));try{const D=await d.downloadBook(A);r(D),b(P=>({...P,[A.title]:"success"}))}catch(D){console.error(`Failed to download ${A.title}`,D),b(P=>({...P,[A.title]:"error"})),setTimeout(()=>{b(P=>({...P,[A.title]:"idle"}))},3e3)}}},j=(A,B)=>{switch(A){case"loading":return x.jsxs("div",{className:"flex items-center gap-2 relative w-full justify-center h-full",children:[x.jsx("span",{className:"lowercase z-10",children:"retrieving..."}),x.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-black/10 overflow-hidden",children:x.jsx("div",{className:"h-full bg-current opacity-50 w-full origin-left animate-[progress-scan_1.5s_ease-in-out_infinite]"})})]});case"success":return x.jsxs(x.Fragment,{children:[x.jsx(Io,{size:16}),x.jsx("span",{className:"lowercase",children:"added to shelf"})]});case"error":return x.jsxs(x.Fragment,{children:[x.jsx(Hw,{size:16}),x.jsx("span",{className:"lowercase",children:"failed. retry?"})]});default:return x.jsxs(x.Fragment,{children:[x.jsx(Zw,{size:16}),x.jsx("span",{className:"lowercase",children:"add to shelf"})]})}},E=(A,B)=>{const D={border:"none",color:"#FFF",backgroundColor:B||c.accent};return A==="loading"?{...D,backgroundColor:c.surface,color:c.primaryText,border:`1px solid ${c.borderColor}`,cursor:"wait"}:A==="success"?{...D,backgroundColor:"#10b981"}:A==="error"?{...D,backgroundColor:"#ef4444"}:D},k=m.length>0&&m[0].isCopyrightedReplacement;return x.jsxs("div",{className:"flex flex-col h-full bg-[#F2F2F7] dark:bg-black transition-colors",style:{backgroundColor:c.background},children:[x.jsxs("div",{className:"flex items-center justify-between px-6 py-6 border-b",style:{borderColor:c.borderColor},children:[x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(iT,{size:24,style:{color:c.accent}}),x.jsx("h2",{className:"text-2xl font-serif font-black lowercase tracking-tight leading-none",style:{color:c.primaryText},children:"visit the library"})]}),x.jsx("p",{className:"text-xs font-medium opacity-60 lowercase max-w-[240px]",style:{color:c.secondaryText},children:"classics from the ether. public domain, free forever."})]}),x.jsx("button",{onClick:i,className:"p-3 -mr-3 rounded-full hover:bg-black/5 transition-colors",children:x.jsx(Of,{size:24,style:{color:c.secondaryText}})})]}),x.jsxs("div",{className:"px-6 pt-6 pb-2",children:[x.jsxs("form",{onSubmit:C,className:"relative group",children:[x.jsx("input",{type:"text",placeholder:"search title, author, genre, or keyword...",value:u,onChange:A=>h(A.target.value),className:"w-full h-14 pl-12 pr-4 rounded-2xl text-lg font-medium outline-none transition-all shadow-sm focus:shadow-md",style:{backgroundColor:c.surface,color:c.primaryText,border:`1px solid ${c.borderColor}`}}),x.jsx(bT,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 opacity-40 group-focus-within:opacity-100 transition-opacity",style:{color:c.primaryText}})]}),!u&&x.jsx("div",{className:"flex flex-wrap gap-2 mt-3 animate-fadeIn",children:qT.map(A=>x.jsx("button",{onClick:()=>{h(A),C(void 0,A)},className:"px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-widest border transition-all active:scale-95 opacity-50 hover:opacity-100",style:{backgroundColor:c.surface,borderColor:c.borderColor,color:c.primaryText},children:A},A))}),x.jsx(ki,{children:y&&x.jsxs(Gn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center justify-center gap-2 py-4 text-sm font-medium",style:{color:c.secondaryText},children:[x.jsx($g,{className:"animate-spin",size:16}),x.jsx("span",{children:"scanning archives..."})]})})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-20 pt-6 custom-scrollbar",children:[x.jsx(ki,{children:y&&x.jsxs(Gn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center justify-center gap-2 py-4 mb-2 text-sm font-medium",style:{color:c.secondaryText},children:[x.jsx($g,{className:"animate-spin",size:16}),x.jsx("span",{children:"scanning archives..."})]})}),x.jsx(ki,{children:!y&&k&&x.jsxs(Gn.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 rounded-2xl flex items-start gap-4 border",style:{backgroundColor:c.surface,borderColor:c.borderColor},children:[x.jsx("div",{className:"p-2 rounded-full bg-neutral-100 shrink-0",children:x.jsx(lT,{size:16,className:"text-neutral-500"})}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-bold text-sm lowercase mb-1",style:{color:c.primaryText},children:"locked in the vault"}),x.jsxs("p",{className:"text-xs font-medium leading-relaxed opacity-70 lowercase",style:{color:c.secondaryText},children:["bad news: that book is still under copyright protection.",x.jsx("br",{}),"good news: we found these public domain classics that share the same soul."]})]})]})}),!y&&!k&&x.jsxs("div",{className:"mb-4 flex items-center gap-2 opacity-50",children:[x.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",style:{color:c.secondaryText},children:u?"results":"curated selection"}),x.jsx("div",{className:"h-px flex-1 bg-current opacity-20",style:{color:c.secondaryText}})]}),!y&&m.length===0&&u&&x.jsx("div",{className:"flex flex-col items-center justify-center h-40 text-center opacity-60",children:x.jsx("p",{className:"font-serif italic text-lg lowercase",style:{color:c.secondaryText},children:'"the library is vast, but this shelf is empty."'})}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.jsx(ki,{mode:"popLayout",children:m.map((A,B)=>{var V;const D=s.find(G=>G.title.trim().toLowerCase()===A.title.trim().toLowerCase()&&G.author.trim().toLowerCase()===A.author.trim().toLowerCase()),P=w[A.title]||"idle";return x.jsxs(Gn.div,{layout:!0,initial:!1,animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:B*.03},className:"relative p-5 rounded-3xl overflow-hidden shadow-sm hover:shadow-md transition-shadow group border",style:{backgroundColor:c.surface,borderColor:c.borderColor},children:[x.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 rounded-full blur-[60px] opacity-[0.15] transition-opacity group-hover:opacity-[0.25]",style:{backgroundColor:A.moodColor||c.accent}}),x.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("h3",{className:"font-serif font-bold text-xl leading-tight mb-1",style:{color:c.primaryText},children:A.title}),x.jsx("p",{className:"text-sm font-medium opacity-60 uppercase tracking-wider mb-2",style:{color:c.primaryText},children:A.author}),x.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[A.genre&&x.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-tighter",style:{backgroundColor:`${c.accent}20`,color:c.accent,border:`1px solid ${c.accent}30`},children:A.genre}),(V=A.tags)==null?void 0:V.slice(0,3).map((G,X)=>x.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-medium opacity-50 border border-white/10",style:{color:c.primaryText},children:G.toLowerCase()},X))]}),x.jsx("p",{className:"text-sm leading-relaxed opacity-80 line-clamp-2",style:{color:c.secondaryText},children:A.summary})]}),D?x.jsxs("button",{onClick:()=>o(D),className:"mt-5 flex items-center justify-center gap-2 w-full h-11 rounded-xl font-bold text-sm transition-all active:scale-95 shadow-sm hover:shadow-md",style:{backgroundColor:c.accent,color:"#FFF",border:"none"},children:[x.jsx(Rf,{size:16,fill:"currentColor"}),x.jsx("span",{className:"lowercase",children:"open book"})]}):x.jsx("button",{onClick:()=>T(A),disabled:P==="loading"||P==="success",className:"mt-5 flex items-center justify-center gap-2 w-full h-11 rounded-xl font-bold text-sm transition-all active:scale-95 disabled:opacity-90 disabled:scale-100 shadow-sm hover:shadow-md overflow-hidden relative",style:E(P,A.moodColor),children:j(P,A.moodColor)})]})]},A.title)})})})]})]})},YT=({book:s,onClick:i})=>{const r=H.useMemo(()=>{var p;let d=((p=s.chapters)==null?void 0:p.reduce((y,g)=>y+g.wordCount,0))||s.title.length*500;const u=36,h=64,m=Math.min(1,Math.max(0,d/1e5));return u+m*(h-u)},[s]),o=H.useMemo(()=>{const d=s.author.split(" ");return d.length>0?d[d.length-1]:s.author},[s.author]),c=s.tintColorHex||"#333";return x.jsxs(Gn.div,{layoutId:`spine-${s.id}`,onClick:i,className:"relative h-72 cursor-pointer group mx-[1px] mb-0 rounded-sm overflow-hidden transform-gpu",style:{width:`${r}px`,backgroundColor:c,boxShadow:"inset 0 0 15px rgba(0,0,0,0.3), inset 1px 0 0 rgba(255,255,255,0.1)"},whileHover:{y:-8,zIndex:10,transition:{type:"spring",stiffness:400,damping:25}},children:[x.jsx("div",{className:"absolute inset-0 opacity-30 pointer-events-none mix-blend-multiply grayscale",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`}}),x.jsx("div",{className:"absolute top-0 bottom-0 left-[2px] w-[1px] bg-black/20"}),x.jsx("div",{className:"absolute top-0 bottom-0 right-[2px] w-[1px] bg-black/20"}),x.jsxs("div",{className:"absolute inset-0 flex flex-col items-center py-6 px-1 z-20",children:[x.jsx("div",{className:"flex-none pt-2 pb-6",style:{writingMode:"vertical-rl",textOrientation:"mixed"},children:x.jsx("span",{className:"font-sans text-[9px] font-bold text-white/70 uppercase tracking-[0.15em]",children:o})}),x.jsx("div",{className:"flex-1 flex items-center justify-center w-full overflow-hidden",style:{writingMode:"vertical-rl",textOrientation:"mixed"},children:x.jsx("span",{className:"font-serif font-semibold text-xs md:text-sm tracking-wide text-white/95 text-center leading-relaxed line-clamp-3",style:{textShadow:"0 1px 2px rgba(0,0,0,0.5)",fontVariant:"small-caps"},children:s.title.toLowerCase()})}),x.jsx("div",{className:"flex-none mt-auto pt-4 opacity-50",children:x.jsx("div",{className:"w-4 h-4 border border-white/60 rounded-full flex items-center justify-center",children:x.jsx("div",{className:"w-1.5 h-1.5 bg-white/60 rounded-sm"})})})]}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/20 via-transparent to-black/20 pointer-events-none"})]})},ZT=({books:s,onInspectBook:i})=>x.jsx("div",{className:"relative w-full pb-32",children:x.jsxs("div",{className:"flex flex-wrap items-end gap-y-16 px-6 perspective-[1000px]",children:[s.map(r=>x.jsx(YT,{book:r,onClick:()=>i(r)},r.id)),x.jsx("div",{className:"w-full h-2 rounded-full bg-current opacity-[0.03] mt-[-4px] blur-[1px]"})]})}),XT=({book:s,onClose:i,onOpen:r,onToggleFavorite:o,onToggleRead:c,onDelete:d})=>{var y;const u=Me(),h=H.useRef(0),m=g=>{const w=Date.now();w-h.current<300||(h.current=w,Re.impactLight(),g())},p=s.tintColorHex||"#333";return x.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6 perspective-[2000px]",children:[x.jsx("div",{onClick:i,className:"absolute inset-0 bg-black/60 backdrop-blur-md",style:{animation:"fadeIn 400ms cubic-bezier(0.16, 1, 0.3, 1)"}}),x.jsxs("div",{className:"relative w-full max-w-sm bg-white rounded-3xl shadow-2xl overflow-hidden flex flex-col origin-left z-50 max-h-[90vh]",style:{backgroundColor:u.surface,animation:"slideUp 500ms cubic-bezier(0.16, 1, 0.3, 1)"},children:[x.jsxs("div",{className:"relative overflow-hidden flex items-center justify-center p-8 min-h-[280px]",style:{backgroundColor:s.tintColorHex?`${s.tintColorHex}08`:"#f5f5f7"},children:[x.jsx("div",{className:"relative w-36 h-52 shadow-[0_16px_40px_rgba(0,0,0,0.25)] rounded-sm",style:{animation:"fadeIn 400ms cubic-bezier(0.16, 1, 0.3, 1) 100ms both"},children:s.coverUrl?x.jsx("img",{src:s.coverUrl,className:"w-full h-full object-cover rounded-sm",alt:s.title}):x.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-6 text-center border-[6px] border-double",style:{backgroundColor:p,borderColor:"rgba(255,255,255,0.2)",color:"#FFF"},children:[x.jsx(_y,{size:28,className:"mb-4 opacity-40"}),x.jsx("h2",{className:"font-serif font-black text-base leading-tight line-clamp-3",children:s.title})]})}),x.jsx("div",{className:"absolute inset-y-0 left-0 w-16 bg-gradient-to-r from-black/10 to-transparent pointer-events-none mix-blend-multiply"}),x.jsx("button",{onClick:g=>{g.stopPropagation(),o(s.id,!s.isFavorite)},className:"absolute top-6 right-6 p-3.5 rounded-full bg-black/10 backdrop-blur-md hover:bg-black/20 transition-all text-white z-50 shadow-lg active:scale-90",children:x.jsx($w,{size:22,fill:s.isFavorite?"#E25822":"none",stroke:s.isFavorite?"#E25822":"currentColor",className:"drop-shadow-sm"})})]}),x.jsxs("div",{className:"p-6 flex flex-col gap-5 border-t relative z-10",style:{backgroundColor:u.surface,borderColor:u.borderColor},children:[x.jsxs("div",{className:"text-center",children:[x.jsx("h2",{className:"font-serif font-bold text-2xl leading-tight lowercase tracking-tight",style:{color:u.primaryText},children:s.title}),x.jsx("p",{className:"font-sans text-xs font-medium opacity-40 mt-1.5",style:{color:u.secondaryText},children:s.author}),x.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mt-6",children:[s.genre&&x.jsx("span",{className:"px-3 py-1 rounded-full text-[9px] font-bold uppercase tracking-widest",style:{backgroundColor:`${u.accent}15`,color:u.accent,border:`1px solid ${u.accent}20`},children:s.genre}),(y=s.tags)==null?void 0:y.slice(0,3).map((g,w)=>x.jsx("span",{className:"px-3 py-1 rounded-full text-[9px] font-bold opacity-30 border border-current uppercase tracking-tighter",style:{color:u.primaryText},children:g.toLowerCase()},w))]}),s.description&&x.jsx("div",{className:"mt-5 text-left max-h-24 overflow-y-auto px-1 custom-scrollbar",children:x.jsxs("p",{className:"text-xs leading-relaxed opacity-60 italic",style:{color:u.secondaryText},children:['"',s.description,'"']})})]}),x.jsxs("button",{onClick:()=>m(()=>r(s)),className:"h-12 w-full rounded-xl flex items-center justify-center gap-2 font-semibold text-white shadow-lg active:scale-[0.98] transition-transform",style:{backgroundColor:u.accent},children:[x.jsx(Rf,{size:16,fill:"currentColor"}),x.jsx("span",{className:"lowercase text-base",children:"start reading"})]})]}),x.jsxs("div",{className:"grid grid-cols-3 divide-x border-t",style:{borderColor:u.borderColor,color:u.secondaryText},children:[x.jsxs("button",{onClick:()=>{Re.impactMedium(),confirm("Delete this book?")&&(d(s.id),i())},className:"h-14 flex items-center justify-center gap-1.5 hover:bg-red-500/10 transition-colors text-red-400 hover:text-red-500",children:[x.jsx(Ey,{size:16}),x.jsx("span",{className:"text-xs font-medium",children:"delete"})]}),x.jsxs("button",{onClick:()=>m(()=>c(s.id,!s.isFinished)),className:"h-14 flex items-center justify-center gap-1.5 hover:bg-black/5 transition-colors",style:{color:s.isFinished?"#10b981":u.secondaryText},children:[s.isFinished?x.jsx(Mw,{size:16}):x.jsx(Cy,{size:16}),x.jsx("span",{className:"text-xs font-medium",children:s.isFinished?"read":"mark read"})]}),x.jsxs("button",{onClick:i,className:"h-12 flex items-center justify-center gap-1.5 hover:bg-black/5 transition-colors",children:[x.jsx(jw,{size:16}),x.jsx("span",{className:"text-xs font-medium",children:"back"})]})]})]})]})},KT=({books:s,onBookSelect:i,onBookImported:r,onDeleteBooks:o,onToggleReadStatus:c,onToggleFavorite:d})=>{const u=H.useRef(null),h=H.useRef(null),m=H.useRef(null),[p,y]=H.useState(!1),g=Me(),[w,b]=H.useState("grid"),[C,T]=H.useState(!1),[j,E]=H.useState(new Set),[k,A]=H.useState(!1),[B,D]=H.useState(!1),[P,V]=H.useState(!1),G=H.useRef(!1),[X,lt]=H.useState(!1),[yt,U]=H.useState(!1),[st,_]=H.useState(!1),[nt,Z]=H.useState(!1),[L,it]=H.useState(null);H.useEffect(()=>{const I=()=>{G.current||(G.current=!0,L?it(null):P||yt?pt():(B||X)&&$(),G.current=!1)};return window.addEventListener("popstate",I),()=>window.removeEventListener("popstate",I)},[L,P,yt,B,X]);const $=()=>{lt(!0),setTimeout(()=>{D(!1),lt(!1)},400)},pt=()=>{U(!0),setTimeout(()=>{V(!1),U(!1)},400)},[z,N]=H.useState(0),K=H.useRef(null),W=H.useRef(0);H.useEffect(()=>{const I=h.current;if(!I)return;const R=()=>{if(!m.current)return;const O=I.scrollTop,q=Math.max(.8,1-O/300),ht=Math.max(0,1-O/150);m.current.style.transform=`scale(${q})`,m.current.style.opacity=ht.toString()};return I.addEventListener("scroll",R,{passive:!0}),R(),()=>I.removeEventListener("scroll",R)},[]);const{activeBooks:rt,finishedBooks:St,favoriteBooks:wt}=H.useMemo(()=>{const I=[...s].sort((R,O)=>new Date(O.lastOpened).getTime()-new Date(R.lastOpened).getTime());return{favoriteBooks:I.filter(R=>R.isFavorite),activeBooks:I.filter(R=>!R.isFinished),finishedBooks:I.filter(R=>R.isFinished)}},[s]);H.useEffect(()=>{wt.length>0&&!nt&&s.some(I=>I.isFavorite&&!I.isFinished)},[wt.length]);const _t=async I=>{var O;const R=(O=I.target.files)==null?void 0:O[0];if(R){y(!0);try{const q=await Yn.getInstance().ingest(R);if(!q.chapters||q.chapters.length===0){console.error("[TitanLibrary] Book imported but has 0 chapters:",{title:q.title,author:q.author,id:q.id});const ht=[`Date: ${new Date().toISOString()}`,`UserAgent: ${navigator.userAgent}`,`Platform: ${navigator.platform}`,`File: ${R.name}`,`BookTitle: ${q.title}`,`BookAuthor: ${q.author}`,`BookId: ${q.id}`,`ChaptersLength: ${q.chapters?q.chapters.length:"undefined"}`,"","Notes: Import produced zero chapters. Attach this file when reporting."].join(`
`);((tt,vt=`flow-diagnostics-${Date.now()}.txt`)=>{try{const xt=new Blob([tt],{type:"text/plain"}),bt=URL.createObjectURL(xt),kt=document.createElement("a");kt.href=bt,kt.download=vt,document.body.appendChild(kt),kt.click(),kt.remove(),setTimeout(()=>URL.revokeObjectURL(bt),1500)}catch(xt){console.error("Failed to create diagnostics download",xt)}})(ht),alert(`Import failed: "${q.title}" was processed but no readable content was found. A diagnostic file has been downloaded to help with reporting.`);return}console.log(`[TitanLibrary] Successfully imported "${q.title}" with ${q.chapters.length} chapters`),r(q)}catch(q){console.error("[TitanLibrary] Import error:",q);try{const ht=[`Date: ${new Date().toISOString()}`,`UserAgent: ${navigator.userAgent}`,`Platform: ${navigator.platform}`,`File: ${R?R.name:"unknown"}`,`Error: ${q instanceof Error?q.message:String(q)}`,`Stack: ${q instanceof Error&&q.stack?q.stack:"no-stack"}`,"","Notes: Import threw an exception. Attach this file when reporting."].join(`
`),gt=new Blob([ht],{type:"text/plain"}),tt=URL.createObjectURL(gt),vt=document.createElement("a");vt.href=tt,vt.download=`flow-import-error-${Date.now()}.txt`,document.body.appendChild(vt),vt.click(),vt.remove(),setTimeout(()=>URL.revokeObjectURL(tt),1500)}catch(ht){console.error("Failed to create diagnostics download",ht)}alert(`Import failed: ${q instanceof Error?q.message:"Unknown error. A diagnostic file has been downloaded."}`)}finally{y(!1),u.current&&(u.current.value="")}}},ft=()=>{var I;return(I=u.current)==null?void 0:I.click()},Tt=()=>{Re.impactMedium(),T(I=>(I&&(E(new Set),N(0)),!I))},Et=I=>{Re.impactLight(),E(R=>{const O=new Set(R);return O.has(I.id)?O.delete(I.id):O.add(I.id),O})},Rt=()=>{if(j.size===0)return;const O=!s.filter(q=>j.has(q.id)).every(q=>q.isFinished);c(Array.from(j),O),Re.impactMedium(),T(!1),E(new Set)},It=I=>{if(j.size===0)return;I.preventDefault(),W.current=performance.now(),I.target.setPointerCapture(I.pointerId);const R=()=>{const O=performance.now()-W.current,q=Math.min(O/600,1);N(q),q<1?K.current=requestAnimationFrame(R):ct()};K.current=requestAnimationFrame(R)},S=I=>{K.current&&(cancelAnimationFrame(K.current),K.current=null),N(0),I.target.releasePointerCapture(I.pointerId)},ct=()=>{K.current&&cancelAnimationFrame(K.current),navigator.vibrate&&navigator.vibrate([40,30,40]),o(Array.from(j)),E(new Set),N(0),A(!0),T(!1)};return x.jsxs("div",{className:"relative h-full w-full overflow-hidden",style:{backgroundColor:g.background},children:[x.jsx("input",{type:"file",ref:u,onChange:_t,accept:".epub",className:"hidden"}),x.jsx("button",{onClick:()=>{G.current||window.history.pushState({modal:"settings"},"",window.location.href),D(!0)},className:"absolute top-6 right-6 z-40 p-3 rounded-full hover:bg-black/5 transition-colors",style:{color:g.secondaryText},children:x.jsx(ST,{size:24})}),x.jsxs("div",{ref:h,className:"h-full w-full overflow-y-auto custom-scrollbar pt-24 pb-48 px-6 md:px-12",children:[x.jsxs("div",{ref:m,className:"mb-8 origin-left will-change-transform flex items-end justify-between",style:{transform:"scale(1)",opacity:1},children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-black tracking-tight lowercase leading-none",style:{color:g.primaryText},children:"bookshelf"}),x.jsxs("p",{className:"text-sm font-sans font-medium mt-2 lowercase opacity-50",style:{color:g.secondaryText},children:[rt.length," ",rt.length===1?"book":"books"," in progress"]})]}),s.length>0&&x.jsxs("div",{className:"flex p-0.5 rounded-xl border",style:{borderColor:g.borderColor,backgroundColor:g.surface},children:[x.jsx("button",{onClick:()=>b("grid"),className:`p-2 rounded-lg transition-all active:scale-90 ${w==="grid"?"shadow-sm":"opacity-40 hover:opacity-70"}`,style:{backgroundColor:w==="grid"?g.background:"transparent",color:g.primaryText},children:x.jsx(Jw,{size:18})}),x.jsx("button",{onClick:()=>b("shelf"),className:`p-2 rounded-lg transition-all active:scale-90 ${w==="shelf"?"shadow-sm":"opacity-40 hover:opacity-70"}`,style:{backgroundColor:w==="shelf"?g.background:"transparent",color:g.primaryText},children:x.jsx(eT,{size:18})})]})]}),s.length===0?x.jsx(RT,{onImport:ft,hasDeleted:k}):w==="shelf"?x.jsx("div",{className:"transition-opacity duration-400",style:{transitionTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)"},children:x.jsx(ZT,{books:s,onBookSelect:i,onInspectBook:I=>{G.current||window.history.pushState({modal:"detail"},"",window.location.href),it(I)}})}):x.jsxs("div",{className:"flex flex-col gap-12 transition-opacity duration-400",style:{transitionTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)"},children:[x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-x-4 gap-y-6 md:gap-x-6 md:gap-y-8",children:x.jsx(ki,{mode:"popLayout",children:rt.map(I=>x.jsx(Gn.div,{initial:!1,animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},children:x.jsx(Ru,{book:I,onSelect:i,isEditing:C,isSelected:j.has(I.id),onToggleSelect:Et,onRequestManage:()=>{T(!0),E(new Set([I.id]))},onLongPress:R=>{G.current||window.history.pushState({modal:"detail"},"",window.location.href),it(R)}})},I.id))})}),wt.length>0&&x.jsxs("div",{className:"mt-6 border-t pt-6",style:{borderColor:g.borderColor},children:[x.jsxs("button",{onClick:I=>{I.stopPropagation(),Z(R=>!R)},className:"flex items-center gap-1.5 text-sm font-medium lowercase hover:opacity-80 transition-opacity mb-4",style:{color:g.secondaryText,opacity:.6},children:[nt?x.jsx($u,{size:16}):x.jsx(Qg,{size:16}),x.jsxs("span",{children:["favorites (",wt.length,")"]})]}),nt&&x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-x-4 gap-y-6 md:gap-x-6 md:gap-y-8 pb-6",children:wt.map(I=>x.jsx("div",{children:x.jsx(Ru,{book:I,onSelect:i,isEditing:C,isSelected:j.has(I.id),onToggleSelect:Et,onLongPress:R=>{G.current||window.history.pushState({modal:"detail"},"",window.location.href),it(R)}})},`fav-${I.id}`))})]}),St.length>0&&x.jsxs("div",{className:"mt-2 border-t pt-6",style:{borderColor:g.borderColor},children:[x.jsxs("button",{onClick:I=>{I.stopPropagation(),_(R=>!R)},className:"flex items-center gap-1.5 text-sm font-medium lowercase hover:opacity-80 transition-opacity mb-4",style:{color:g.secondaryText,opacity:.6},children:[st?x.jsx($u,{size:16}):x.jsx(Qg,{size:16}),x.jsxs("span",{children:["finished (",St.length,")"]})]}),st&&x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-x-4 gap-y-6 md:gap-x-6 md:gap-y-8 pb-6",children:St.map(I=>x.jsx("div",{children:x.jsx(Ru,{book:I,onSelect:i,isEditing:C,isSelected:j.has(I.id),onToggleSelect:Et,onLongPress:R=>{G.current||window.history.pushState({modal:"detail"},"",window.location.href),it(R)}})},`fin-${I.id}`))})]}),x.jsx("div",{className:"h-24"})]})]}),x.jsx("div",{className:"absolute left-0 right-0 flex justify-center pointer-events-none z-30",style:{bottom:"calc(1.5rem + env(safe-area-inset-bottom))"},children:x.jsx(Gn.div,{layout:!0,initial:!1,className:"pointer-events-auto shadow-xl backdrop-blur-2xl border flex items-center p-1.5 rounded-2xl gap-1 relative overflow-hidden",style:{backgroundColor:g.surface+"f0",borderColor:g.borderColor,minWidth:"180px"},children:x.jsx(ki,{mode:"wait",children:C?x.jsxs(Gn.div,{initial:!1,animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex items-center w-full gap-2 px-1",children:[x.jsx("button",{onClick:Tt,className:"w-9 h-9 rounded-xl flex items-center justify-center hover:bg-black/5 transition-colors",style:{color:g.primaryText},children:x.jsx(Of,{size:18})}),x.jsx("div",{className:"w-px h-5 bg-black/10"}),x.jsx("button",{onClick:Rt,disabled:j.size===0,className:"w-9 h-9 rounded-xl flex items-center justify-center hover:bg-black/5 transition-colors disabled:opacity-30",style:{color:g.primaryText},children:x.jsx(Dw,{size:18})}),x.jsx("div",{className:"w-px h-5 bg-black/10"}),x.jsxs("button",{onPointerDown:It,onPointerUp:S,onPointerLeave:S,disabled:j.size===0,className:"flex-1 relative flex items-center justify-center gap-1.5 px-4 h-9 rounded-xl font-semibold text-white shadow-md active:scale-[0.98] transition-transform overflow-hidden disabled:opacity-50 disabled:active:scale-100 lowercase text-sm",style:{backgroundColor:g.accent},children:[x.jsx("div",{className:"absolute inset-0 bg-white mix-blend-overlay origin-left",style:{transform:`scaleX(${z})`,transition:"transform 0.05s linear"}}),x.jsxs("div",{className:"relative z-10 flex items-center gap-1.5",children:[x.jsx(Ey,{size:16}),x.jsx("span",{children:j.size>0?`delete ${j.size}`:"select"})]})]})]},"edit-dock"):x.jsxs(Gn.div,{initial:!1,animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex items-center w-full gap-2 px-1",children:[x.jsx("button",{onClick:Tt,disabled:s.length===0,className:"w-9 h-9 rounded-xl flex items-center justify-center hover:bg-black/5 disabled:opacity-30 transition-colors",style:{color:g.secondaryText},children:x.jsx(_T,{size:18})}),x.jsx("div",{className:"w-px h-5 bg-black/10"}),x.jsx("button",{onClick:()=>{G.current||window.history.pushState({modal:"cloud"},"",window.location.href),V(!0)},className:"w-9 h-9 rounded-xl flex items-center justify-center hover:bg-black/5 transition-colors",style:{color:g.accent},children:x.jsx(qw,{size:18})}),x.jsx("div",{className:"w-px h-5 bg-black/10"}),x.jsxs("button",{onClick:ft,className:"flex-1 flex items-center justify-center gap-1.5 px-4 h-9 rounded-xl font-semibold text-white shadow-md active:scale-[0.98] transition-transform lowercase text-sm",style:{backgroundColor:g.accent},children:[p?x.jsx(Ay,{size:16,className:"animate-spin"}):x.jsx(Df,{size:16,strokeWidth:3}),x.jsx("span",{children:"import"})]})]},"normal-dock")})})}),x.jsx(ki,{children:L&&x.jsx(XT,{book:s.find(I=>I.id===L.id)||L,onClose:()=>it(null),onOpen:I=>{it(null),i(I)},onToggleFavorite:(I,R)=>d(I,R),onToggleRead:(I,R)=>c([I],R),onDelete:I=>{o([I]),it(null),s.length===1&&A(!0)}})}),(P||yt)&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 z-[100]",style:{backgroundColor:"rgba(0,0,0,0.5)",backdropFilter:"blur(2px)",animation:yt?"fadeOut 0.4s ease-out":"fadeIn 0.6s ease-out"},onClick:pt}),x.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[101] rounded-t-[32px] h-[90vh] shadow-2xl overflow-hidden",style:{backgroundColor:g.background,animation:yt?"slideDown 0.5s cubic-bezier(0.7, 0, 0.84, 0)":"slideUp 0.8s cubic-bezier(0.16, 1, 0.3, 1)"},children:x.jsx(GT,{existingBooks:s,onClose:pt,onImport:I=>{r(I)},onOpen:I=>{V(!1),i(I)}})})]}),(B||X)&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 z-[100]",style:{backgroundColor:"rgba(0,0,0,0.5)",backdropFilter:"blur(2px)",animation:X?"fadeOut 0.4s ease-out":"fadeIn 0.6s ease-out"},onClick:$}),x.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[101] rounded-t-[32px] h-[70vh] shadow-2xl overflow-hidden",style:{backgroundColor:g.background,animation:X?"slideDown 0.5s cubic-bezier(0.7, 0, 0.84, 0)":"slideUp 0.8s cubic-bezier(0.16, 1, 0.3, 1)"},children:x.jsx(jy,{onClose:$})})]})]})};class vn{constructor(){this.tokens=[],this.currentIndex=0,this.wpm=150,this.rampStep=3,this._isPlaying=!1,this.animationFrameId=null,this.lastFrameTime=0,this.accumulatedTime=0,this.listeners=new Set,this.completionListeners=new Set,this.notifyScheduled=!1,this.loop=i=>{if(!this._isPlaying)return;if(this.lastFrameTime===0){this.lastFrameTime=i,this.animationFrameId=requestAnimationFrame(this.loop);return}const r=(i-this.lastFrameTime)/1e3;this.lastFrameTime=i;const o=Math.min(r,.1);this.accumulatedTime+=o;const c=this.currentToken;if(!c){this.finish();return}const d=60/this.wpm;let u=1;this.rampStep===0?u=2:this.rampStep===1?u=1.5:this.rampStep===2&&(u=1.2);const h=d*c.durationMultiplier*u;this.accumulatedTime>=h&&(this.advance(),this.accumulatedTime-=h),this._isPlaying&&(this.animationFrameId=requestAnimationFrame(this.loop))}}static getInstance(){return vn.instance||(vn.instance=new vn),vn.instance}get currentToken(){return this.currentIndex>=0&&this.currentIndex<this.tokens.length?this.tokens[this.currentIndex]:null}get isPlaying(){return this._isPlaying}setTokens(i){this.tokens=i,this.currentIndex>=i.length&&(this.currentIndex=0),this.notify()}clear(){this.pause(),this.tokens=[],this.currentIndex=0,this.notify()}play(){this._isPlaying||this.tokens.length!==0&&(this.currentIndex>=this.tokens.length-1&&(this.currentIndex=0),this._isPlaying=!0,this.lastFrameTime=0,this.accumulatedTime=0,this.rampStep=0,this.loop(performance.now()),this.notify())}pause(){this._isPlaying&&(this._isPlaying=!1,this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.notify())}stop(){this.pause(),this.accumulatedTime=0,this.rampStep=3,this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.notify()}toggle(){this._isPlaying?this.pause():this.play()}seek(i){const r=this._isPlaying;r&&this.pause(),this.currentIndex=Math.max(0,Math.min(i,this.tokens.length-1)),this.accumulatedTime=0,this.notify(),r&&this.play()}updateWPM(i){this.wpm=Math.max(50,Math.min(2e3,i)),this.notify()}advance(){this.currentIndex<this.tokens.length-1?(this.currentIndex++,this.rampStep<3&&this.rampStep++,this.notify()):this.finish()}finish(){this.pause(),this.currentIndex=this.tokens.length-1,this.notify(),this.completionListeners.forEach(i=>i())}subscribe(i){return this.listeners.add(i),()=>this.listeners.delete(i)}onComplete(i){return this.completionListeners.add(i),()=>this.completionListeners.delete(i)}notify(){this._isPlaying&&!this.notifyScheduled?(this.notifyScheduled=!0,queueMicrotask(()=>{this.notifyScheduled=!1,this.listeners.forEach(i=>i())})):this._isPlaying||this.listeners.forEach(i=>i())}}const QT=`
self.onmessage = function(e) {
    const { text, startingIndex } = e.data;
    const tokens = [];
    let currentTokenIndex = startingIndex;
    
    // 
    // WORD SETS (Inlined for worker)
    // 
    
    const FUNCTION_WORDS = new Set([
      'a', 'an', 'the', 'i', 'me', 'my', 'mine', 'we', 'us', 'our', 'ours',
      'you', 'your', 'yours', 'he', 'him', 'his', 'she', 'her', 'hers',
      'it', 'its', 'they', 'them', 'their', 'theirs', 'this', 'that', 'these', 'those',
      'who', 'whom', 'whose', 'which', 'what', 'at', 'by', 'for', 'from', 'in', 'of',
      'on', 'to', 'with', 'about', 'after', 'before', 'between', 'into', 'through',
      'during', 'above', 'below', 'under', 'over', 'behind', 'beside', 'beyond',
      'am', 'is', 'are', 'was', 'were', 'be', 'been', 'being', 'have', 'has', 'had',
      'do', 'does', 'did', 'will', 'would', 'shall', 'should', 'may', 'might',
      'must', 'can', 'could', 'and', 'or', 'but', 'nor', 'so', 'yet', 'as', 'if',
      'then', 'than', 'when', 'while', 'where', 'there', 'here', 'not', "n't", 'no',
      'yes', 'very', 'just', 'only', 'also', 'even', 'still', 'too'
    ]);
    
    const CLAUSE_STARTERS = new Set([
      'although', 'because', 'before', 'after', 'unless', 'until', 'while',
      'whereas', 'whenever', 'wherever', 'whether', 'though', 'since',
      'however', 'therefore', 'moreover', 'furthermore', 'nevertheless',
      'meanwhile', 'otherwise', 'consequently', 'accordingly'
    ]);
    
    const EMPHASIS_WORDS = new Set([
      'never', 'always', 'absolutely', 'definitely', 'certainly', 'surely',
      'suddenly', 'finally', 'immediately', 'instantly', 'important', 'critical',
      'crucial', 'essential', 'significant', 'amazing', 'incredible', 'extraordinary',
      'remarkable', 'astonishing', 'terrible', 'horrible', 'devastating',
      'catastrophic', 'beautiful', 'gorgeous', 'magnificent', 'stunning',
      'first', 'second', 'third', 'lastly'
    ]);
    
    const PUNCT_PAUSES = {
      '.': 1.4, '?': 1.5, '!': 1.3, ';': 0.9, ':': 0.8, ',': 0.35,
      '\\u2014': 0.6, '\\u2013': 0.4, '-': 0.1, '"': 0.25, "'": 0.15, '\\u201C': 0.25,
      '\\u201D': 0.25, '\\u2018': 0.15, '\\u2019': 0.15, '(': 0.2, ')': 0.3, '\\u2026': 1.8
    };
    
    // 
    // STATE TRACKING
    // 
    
    let sentencePosition = 0;
    let quoteDepth = 0;
    let prevPunctuation = '';
    
    // 
    // DURATION CALCULATOR (Inlined)
    // 
    
    function calcDuration(word, punct, prevPunct, sentPos, isDialogue) {
        const lowerWord = word.toLowerCase();
        const len = word.length;
        let dur = 1.0;
        
        // Length-based
        if (len >= 12) dur *= 1.3;
        else if (len >= 8) dur *= 1.15;
        else if (len <= 2) dur *= 0.75;
        else if (len <= 4) dur *= 0.9;
        
        // Category-based
        if (FUNCTION_WORDS.has(lowerWord)) dur *= 0.8;
        if (EMPHASIS_WORDS.has(lowerWord)) dur *= 1.2;
        if (sentPos === 0) dur *= 1.15;
        if (CLAUSE_STARTERS.has(lowerWord)) dur *= 1.1;
        
        // Punctuation
        if (punct) {
            let pPause = 0;
            for (let c of punct) {
                pPause += PUNCT_PAUSES[c] || 0;
            }
            if (punct.includes('...') || punct.includes('\\u2026')) pPause = Math.max(pPause, 1.8);
            dur += Math.min(pPause, 2.5);
        }
        
        // Dialogue pacing
        if (isDialogue) dur *= 0.95;
        
        // Special patterns
        if (/\\d/.test(word)) dur *= 1.2;
        if (word === word.toUpperCase() && len > 1 && /[A-Z]/.test(word)) dur *= 1.15;
        if (word.includes('-') && len > 5) dur *= 1.1;
        if (word.includes("'") && len < 8) dur *= 0.9;
        
        return Math.max(0.5, Math.min(4.0, dur));
    }
    
    // 
    // PROCESSING LOOP
    // 
    
    const CHUNK_SIZE = 10000;
    let match;
    const regex = /([^\\s]+)(\\s*)/g;
    const punctuationRegex = /^(.+?)([.,;:!?"')\\]}\\u201C\\u201D\\u2018\\u2019\\u00BB\\u203A\\u2026\\u2014\\u2013-]+)?$/;
    const sentenceEndRegex = /[.?!\\u2026]/;
    const quoteChars = new Set(['"', '\\u201C', '\\u201D', '\\u2018', '\\u2019', "'", '\\u00AB', '\\u00BB']);
    
    function calculateORP(len) {
        if (len <= 1) return 0;
        if (len >= 2 && len <= 5) return 1;
        if (len >= 6 && len <= 10) return 2;
        return 3;
    }
    
    function processChunk() {
        let count = 0;
        
        while (count < CHUNK_SIZE) {
            match = regex.exec(text);
            if (!match) break;
            
            const fullChunk = match[1];
            const trailingSpace = match[2];
            const matchIndex = match.index;
            
            const separationMatch = fullChunk.match(punctuationRegex);
            let wordContent = fullChunk;
            let punctuationStr = "";
            
            if (separationMatch) {
                wordContent = separationMatch[1];
                punctuationStr = separationMatch[2] || "";
            }
            
            const len = wordContent.length;
            const orpIndex = (len <= 10) ? calculateORP(len) : 3;
            const leftSegment = wordContent.slice(0, orpIndex);
            const centerCharacter = wordContent[orpIndex] || "";
            const rightSegment = wordContent.slice(orpIndex + 1);
            
            // Update quote depth for dialogue tracking
            let isDialogue = quoteDepth > 0;
            for (let c of fullChunk) {
                if (c === '"' || c === '\\u201C' || c === '\\u00AB') quoteDepth++;
                else if (c === '"' || c === '\\u201D' || c === '\\u00BB') quoteDepth = Math.max(0, quoteDepth - 1);
            }
            
            // Calculate grammar-aware duration
            const duration = calcDuration(
                wordContent, 
                punctuationStr, 
                prevPunctuation,
                sentencePosition,
                isDialogue
            );
            
            // Track sentence position
            const isSentenceEnd = sentenceEndRegex.test(punctuationStr);
            if (isSentenceEnd) {
                sentencePosition = 0;
            } else {
                sentencePosition++;
            }
            prevPunctuation = punctuationStr;
            
            const isParagraphEnd = trailingSpace.indexOf('\\n') !== -1;
            
            // Add paragraph pause
            let finalDuration = duration;
            if (isParagraphEnd) finalDuration += 1.8;
            
            tokens.push({
                id: 't-' + currentTokenIndex,
                originalText: fullChunk,
                leftSegment,
                centerCharacter,
                rightSegment,
                punctuation: punctuationStr || undefined,
                durationMultiplier: finalDuration,
                isSentenceEnd,
                isParagraphEnd,
                globalIndex: currentTokenIndex,
                startOffset: matchIndex
            });
            
            currentTokenIndex++;
            count++;
        }
        
        if (!match) {
            self.postMessage(tokens);
        } else {
            setTimeout(processChunk, 0);
        }
    }
    
    processChunk();
};
`,$T=QT,na=class na{static initWorker(){if(!this.worker)try{const i=new Blob([$T],{type:"application/javascript"});this.workerUrl=URL.createObjectURL(i),this.worker=new Worker(this.workerUrl),this.worker.onmessage=r=>{const o=r.data;this.isProcessing=!1,this.pendingResolve&&(this.pendingResolve(o),this.pendingResolve=null,this.pendingReject=null)},this.worker.onerror=r=>{console.error("RSVP Worker Error",r),this.isProcessing=!1,this.pendingReject&&(this.pendingReject(r),this.pendingResolve=null,this.pendingReject=null),this.terminate()}}catch(i){console.error("Failed to initialize RSVP Worker",i)}}static async process(i,r=0){return this.isProcessing&&this.pendingReject&&(this.pendingReject(new Error("Cancelled by new process request")),this.pendingResolve=null,this.pendingReject=null,this.terminate()),this.worker||this.initWorker(),new Promise((o,c)=>{this.pendingResolve=o,this.pendingReject=c,this.isProcessing=!0,this.worker?this.worker.postMessage({text:i,startingIndex:r}):c(new Error("Worker failed to initialize"))})}static terminate(){this.worker&&(this.worker.terminate(),this.worker=null),this.workerUrl&&(URL.revokeObjectURL(this.workerUrl),this.workerUrl=null),this.isProcessing=!1}};na.worker=null,na.workerUrl=null,na.pendingResolve=null,na.pendingReject=null,na.isProcessing=!1;let Ju=na;var Zn=(s=>(s.IDLE="IDLE",s.PLAYING="PLAYING",s.PAUSED="PAUSED",s.FINISHED="FINISHED",s))(Zn||{});class mn{constructor(){this.state="IDLE",this.listeners=new Set,this.lastSavedIndex=-1,this.lastContentRef=null,this.preparationPromise=null,this.wakeLock=null,this.notifyScheduled=!1,this.heartbeat=vn.getInstance(),this.core=Ie.getInstance(),this.heartbeat.subscribe(()=>this.handleHeartbeatUpdate()),this.heartbeat.onComplete(()=>{this.state="FINISHED",this.releaseWakeLock(),this.notify()});const i=_n.getInstance(),r=i.getSettings().rsvpSpeed;this.updateWPM(r),i.subscribe(()=>{const o=i.getSettings().rsvpSpeed;this.heartbeat.wpm!==o&&this.updateWPM(o)}),document.addEventListener("visibilitychange",async()=>{this.wakeLock!==null&&document.visibilityState==="visible"&&this.state==="PLAYING"&&await this.requestWakeLock()})}static getInstance(){return mn.instance||(mn.instance=new mn),mn.instance}async prepare(i,r={}){if(this.lastContentRef===i&&this.heartbeat.tokens.length>0){this.applyConfig(r);return}if(this.preparationPromise)try{if(await this.preparationPromise,this.lastContentRef===i){this.applyConfig(r);return}}catch{}this.preparationPromise=(async()=>{try{const o=await Ju.process(i);this.heartbeat.setTokens(o),this.lastContentRef=i}finally{this.preparationPromise=null}})(),await this.preparationPromise,this.applyConfig(r)}applyConfig(i){const r=this.heartbeat.tokens;let o=0;if(i.index!==void 0)o=Math.max(0,Math.min(i.index,r.length-1));else if(i.offset!==void 0){const c=i.offset,d=r.findIndex(u=>u.startOffset>=c);d!==-1?o=d:o=Math.max(0,r.length-1)}else{const c=i.progress??0;o=Math.max(0,Math.min(Math.floor(r.length*c),r.length-1))}this.heartbeat.seek(o),this.state="PAUSED",this.lastSavedIndex=o,this.notify()}togglePlay(){this.state==="PLAYING"?this.pause():this.play()}play(){this.state==="FINISHED"&&(this.heartbeat.seek(0),this.state="PAUSED",Re.impactMedium()),this.heartbeat.tokens.length!==0&&(this.state="PLAYING",this.heartbeat.play(),this.requestWakeLock(),this.notify())}pause(i=!1){if(this.state="PAUSED",this.heartbeat.pause(),this.releaseWakeLock(),!i){const r=this.heartbeat.currentIndex,c=Math.max(0,r-1);c!==r&&this.heartbeat.seek(c)}this.syncProgressToCore(!0),this.notify()}seekRelative(i){const r=this.heartbeat.currentIndex,o=r+i;o!==r&&(this.state==="PLAYING"&&this.pause(!0),this.heartbeat.seek(o),this.syncProgressToCore(!0))}shutdown(i=!0){i&&this.syncProgressToCore(!0),this.heartbeat.stop(),this.state="IDLE",this.releaseWakeLock(),this.lastContentRef=null,this.heartbeat.clear(),this.notify()}updateWPM(i){this.heartbeat.updateWPM(i)}async requestWakeLock(){if("wakeLock"in navigator)try{this.wakeLock=await navigator.wakeLock.request("screen")}catch(i){console.warn("Wake Lock request failed:",i)}}releaseWakeLock(){this.wakeLock&&this.wakeLock.release().then(()=>{this.wakeLock=null}).catch(i=>console.error(i))}handleHeartbeatUpdate(){!this.heartbeat.isPlaying&&this.state==="PLAYING"&&(this.state="PAUSED",this.releaseWakeLock());const i=this.heartbeat.currentIndex;Math.abs(i-this.lastSavedIndex)>=100&&(this.syncProgressToCore(),this.lastSavedIndex=i),this.notify()}syncProgressToCore(i=!1){if(this.heartbeat.tokens.length===0)return;const o=this.heartbeat.currentToken,c=this.heartbeat.currentIndex;o?this.core.syncFromRSVP(o.startOffset,c):c>0&&this.core.saveProgress(c)}subscribe(i){return this.listeners.add(i),()=>this.listeners.delete(i)}notify(){this.notifyScheduled||(this.notifyScheduled=!0,queueMicrotask(()=>{this.notifyScheduled=!1,this.listeners.forEach(i=>i())}))}}class WT{constructor(){this._content="",this.attributes={},this.layoutManagers=[]}get string(){return this._content}set string(i){this._content=i}addLayoutManager(i){this.layoutManagers.push(i)}}class JT{constructor(i){this.widthTracksTextView=!1,this.heightTracksTextView=!1,this.lineFragmentPadding=5,this.size=i}}class Jg{constructor(i){this.textContainers=[],this.id=i}addTextContainer(i){this.textContainers.push(i)}enumerateTextSegments(i,r,o){o({x:0,y:0,width:0,height:0})}}class Ie{constructor(){this.listeners=new Set,this.jumpListeners=new Set,this.offsetJumpListeners=new Set,this.progressListeners=new Set,this.isLoading=!1,this.loadingProgress=0,this.currentBook=null,this.currentProgress=0,this.isRSVPMode=!1,this.globalCharacterOffset=0,this.userSelectionOffset=null,this.totalTokens=1,this.chapterTokenOffsets=[],this._loadTimestamp=0,this._lastSavedTokenIndex=-1,this._userIntentionalRewind=!1,this.contentStorage=new WT,this.primaryLayout=new Jg("primary"),this.ghostLayout=new Jg("ghost"),this.configurePipeline(),_n.getInstance().subscribe(()=>this.updateTypography())}static getInstance(){return Ie.instance||(Ie.instance=new Ie),Ie.instance}configurePipeline(){this.contentStorage.addLayoutManager(this.primaryLayout),this.contentStorage.addLayoutManager(this.ghostLayout)}async load(i){var o;this._loadTimestamp=Date.now(),this._lastSavedTokenIndex=-1,this._userIntentionalRewind=!1,this.isLoading=!0,this.loadingProgress=.1,this.notify();const r={...i};if(((o=this.currentBook)==null?void 0:o.id)===i.id&&this.contentStorage.string.length>0){r.lastTokenIndex!==void 0&&(this.currentBook.lastTokenIndex=r.lastTokenIndex,this.totalTokens>0&&(this.currentProgress=Math.min(1,r.lastTokenIndex/this.totalTokens))),this.currentBook.bookmarkProgress=r.bookmarkProgress||this.currentProgress,this.isLoading=!1,this.loadingProgress=1,this.notify();return}this.unload(),this.notify(),await new Promise(c=>setTimeout(c,50));try{const c=r.chapters?[...r.chapters]:[];c.sort((m,p)=>m.sortOrder-p.sortOrder),this.chapterTokenOffsets=[];let d=0;const u=[],h=c.length;for(let m=0;m<h;m++){m%3===0&&(this.loadingProgress=.1+.8*(m/h),this.notify(),await new Promise(w=>setTimeout(w,0)));const y=(c[m].content||"").replace(/<(?:.|\n)*?>/gm," ").replace(/&nbsp;/g," ").replace(/\s+/g," ").trim(),g=Wa(y);this.chapterTokenOffsets.push(d),d+=g,u.push(y)}this.totalTokens=Math.max(1,d),this.contentStorage.string=u.join(`

`),this.currentBook=r,r.lastTokenIndex!==void 0?(this.currentBook.lastTokenIndex=r.lastTokenIndex,this.currentProgress=Math.min(1,r.lastTokenIndex/this.totalTokens)):(this.currentProgress=r.bookmarkProgress||0,this.currentProgress>0&&(this.currentBook.lastTokenIndex=Math.floor(this.currentProgress*this.totalTokens))),this.currentBook.bookmarkProgress=this.currentProgress,this.updateTypography(),mn.getInstance().prepare(this.contentStorage.string).catch(()=>{})}catch(c){console.error("[TitanCore] Critical Error loading book:",c)}finally{this.isLoading=!1,this.loadingProgress=1,this.notify()}}unload(){this.currentBook=null,this.contentStorage.string="",this.userSelectionOffset=null,this.isRSVPMode=!1,this.totalTokens=1,this.chapterTokenOffsets=[]}updateTypography(){const i=_n.getInstance().getSettings();let r='"New York Extra Large", "Times New Roman", serif';i.fontFamily==="SF Pro"&&(r='"SF Pro Rounded", -apple-system, sans-serif'),i.fontFamily==="OpenDyslexic"&&(r='"OpenDyslexic", "Comic Sans MS", sans-serif'),i.fontFamily==="Atkinson Hyperlegible"&&(r='"Atkinson Hyperlegible", sans-serif');const o=i.fontSize<18?"500":i.fontSize>32?"300":"400";this.contentStorage.attributes={fontFamily:r,fontSize:`${i.fontSize}px`,lineHeight:`${i.lineHeight}`,paragraphSpacing:`${i.paragraphSpacing}px`,letterSpacing:"0.2px",fontWeight:o,color:"inherit"},this.notify()}updateLayout(i){this.primaryLayout.textContainers=[];const r=new JT(i);r.widthTracksTextView=!0,this.primaryLayout.addTextContainer(r),this.notify()}saveProgress(i,r=!1){if(!this.currentBook||typeof i!="number"||i<0||i===this._lastSavedTokenIndex&&!r)return;r&&i===0&&(this._userIntentionalRewind=!0);const o=Date.now()-this._loadTimestamp,c=this.currentBook.lastTokenIndex||0;if(i===0&&c>50&&o<3e3&&!this._userIntentionalRewind)return;this._lastSavedTokenIndex=i,this.currentBook.lastTokenIndex=i;let d=0;this.totalTokens>0&&(d=i/this.totalTokens),(isNaN(d)||!isFinite(d))&&(d=0),this.currentProgress=Math.min(1,Math.max(0,d)),this.currentBook.bookmarkProgress=this.currentProgress,this.currentBook.lastOpened=new Date,this.currentProgress>=.99&&(this.currentBook.isFinished=!0),this.progressListeners.forEach(u=>u(this.currentProgress)),this.notify()}restorePosition(i,r){return 0}jump(i){if(this.currentProgress=Math.max(0,Math.min(1,i)),this.currentBook&&this.totalTokens>0){const r=Math.floor(i*this.totalTokens);this.currentBook.lastTokenIndex=r,this.currentBook.bookmarkProgress=this.currentProgress,this.jumpListeners.forEach(o=>o(i)),this.progressListeners.forEach(o=>o(i))}this.notify()}jumpToChapter(i){if(i<0||i>=this.chapterTokenOffsets.length)return;const r=this.chapterTokenOffsets[i];i===0&&(this._userIntentionalRewind=!0),this.currentBook.lastTokenIndex=r,this.totalTokens>0&&(this.currentProgress=r/this.totalTokens,this.currentBook.bookmarkProgress=this.currentProgress),this.jumpListeners.forEach(o=>o(this.currentProgress)),this.progressListeners.forEach(o=>o(this.currentProgress)),this.notify()}syncFromRSVP(i,r){this.globalCharacterOffset=i,this.saveProgress(r),this.offsetJumpListeners.forEach(o=>o(i))}selectText(i){this.userSelectionOffset=i,this.notify()}onJump(i){return this.jumpListeners.add(i),()=>this.jumpListeners.delete(i)}onOffsetJump(i){return this.offsetJumpListeners.add(i),()=>this.offsetJumpListeners.delete(i)}onProgress(i){return this.progressListeners.add(i),()=>this.progressListeners.delete(i)}rectForRange(i){return null}subscribe(i){return this.listeners.add(i),()=>this.listeners.delete(i)}notify(){this.listeners.forEach(i=>i())}}const t_=H.memo(({token:s,isActive:i,theme:r})=>x.jsx("span",{id:`w-${s.globalIndex}`,"data-idx":s.globalIndex,"data-off":s.startOffset,className:`inline py-0.5 rounded-[2px] cursor-pointer select-none transition-colors duration-200 ${i?"":"hover:opacity-60"}`,style:{backgroundColor:i?r.accent:"transparent",color:i?"#FFFFFF":"inherit",boxDecorationBreak:"clone",WebkitBoxDecorationBreak:"clone"},children:s.originalText})),e_=H.memo(({text:s,settings:i,startTokenIndex:r,onParagraphClick:o})=>x.jsx("p",{id:`p-${r}`,"data-start-index":r,onClick:()=>o(r),className:"max-w-[60ch] mx-auto box-border relative cursor-pointer hover:opacity-100 transition-opacity scroll-mt-32",style:{fontSize:`${i.fontSize}px`,lineHeight:i.lineHeight,marginBottom:i.paragraphSpacing,fontFamily:i.fontFamily==="New York"?"serif":"sans-serif",color:"inherit",opacity:.9,whiteSpace:"pre-line",textAlign:"justify",hyphens:"auto",WebkitHyphens:"auto"},children:s})),n_=H.memo(({tokens:s,activeIndex:i,onWordClick:r,settings:o,theme:c,startTokenIndex:d})=>{const u=H.useCallback(h=>{const m=h.target;if(m.dataset.idx){h.stopPropagation();const p=parseInt(m.dataset.idx||"-1"),y=parseInt(m.dataset.off||"0");p>=0&&r(p,y)}},[r]);return x.jsx("p",{id:`p-${d}`,"data-start-index":d,onClick:u,className:"max-w-[60ch] mx-auto box-border relative scroll-mt-32",style:{fontSize:`${o.fontSize}px`,lineHeight:o.lineHeight,marginBottom:o.paragraphSpacing,fontFamily:o.fontFamily==="New York"?"serif":"sans-serif",opacity:.9,whiteSpace:"pre-line",textAlign:"justify",hyphens:"auto",WebkitHyphens:"auto"},children:s.map((h,m)=>x.jsxs(es.Fragment,{children:[x.jsx(t_,{token:h,isActive:h.globalIndex===i,theme:c})," "]},h.id))})}),i_=H.memo(({sectionIndex:s,paragraphs:i,activeParagraphIndex:r,activeIndex:o,onWordClick:c,onParagraphClick:d,settings:u,theme:h})=>x.jsx("div",{children:i.map((m,p)=>{const y=s*30+p;return Math.abs(y-r)<=1?x.jsx(n_,{startTokenIndex:m.startIndex,tokens:m.tokens,activeIndex:o,onWordClick:c,settings:u,theme:h},y):x.jsx(e_,{text:m.plainText,settings:u,startTokenIndex:m.startIndex,onParagraphClick:d},y)})})),a_=({book:s,onToggleChrome:i,onRequestRSVP:r,isActive:o})=>{const c=Ie.getInstance(),d=mn.getInstance(),u=vn.getInstance(),h=Me(),{settings:m}=dr(),p=H.useRef(null),[y,g]=H.useState([]),[w,b]=H.useState(-1),C=H.useRef(-1),[T,j]=H.useState(!1),[E,k]=H.useState(0),[A,B]=H.useState(!1),D=H.useRef(!1),P=H.useRef(null);H.useRef(null);const V=H.useCallback(L=>{b(L),C.current=L},[]),G=H.useCallback((L,it)=>{if(!p.current)return;let $=document.getElementById(`w-${L}`);if(!$){const rt=Array.from(p.current.querySelectorAll("p[data-start-index]"));let St=null,wt=-1;for(const _t of rt){const ft=parseInt(_t.dataset.startIndex||"-1");ft<=L&&ft>wt&&(St=_t,wt=ft)}$=St}if(!$){if(c.totalTokens>0){const rt=L/c.totalTokens,wt=p.current.scrollHeight*rt;p.current.scrollTo({top:wt,behavior:it?"smooth":"instant"})}return}D.current=!0;const pt=p.current,z=pt.clientHeight*.15;let N=$.offsetTop,K=$.offsetParent;for(;K&&K!==pt;)N+=K.offsetTop,K=K.offsetParent;const W=N-z;pt.scrollTo({top:Math.max(0,W),behavior:it?"smooth":"instant"}),setTimeout(()=>{D.current=!1},it?600:100)},[]);H.useEffect(()=>{var z;"scrollRestoration"in history&&(history.scrollRestoration="manual"),j(!1),B(!1),D.current=!0;const it=(((z=c.currentBook)==null?void 0:z.id)===s.id?c.currentBook.lastTokenIndex:void 0)??s.lastTokenIndex;it!==void 0&&V(it);const $=c.subscribe(()=>{k(c.loadingProgress)});return(async()=>{var N;if(j(!1),B(!1),k(0),g([]),!s.chapters||s.chapters.length===0){console.error("[TitanReaderView] Book has no chapters! This indicates a data loading issue.",{bookId:s.id,title:s.title,hasChapters:!!s.chapters,chaptersLength:(N=s.chapters)==null?void 0:N.length}),j(!0),B(!0);return}try{await c.load(s);const K=c.contentStorage.string;K||console.warn("[TitanReaderView] Loaded book has no content string."),await d.prepare(K,{progress:0})}catch(K){console.error("[TitanReaderView] Initialization pipeline failed:",K)}finally{const K=u.tokens;g(K),j(!0),requestAnimationFrame(()=>{B(!0)})}})(),()=>$()},[s.id,V]),H.useEffect(()=>{const L=()=>{var K;const z=(K=c.currentBook)==null?void 0:K.lastTokenIndex;if(z===void 0)return;const N=Math.abs(z-C.current);if(N>0&&(V(z),N>10)){const W=c.isRSVPMode;G(z,W)}},it=z=>{if(c.totalTokens>0){const N=Math.floor(z*c.totalTokens);V(N),G(N,c.isRSVPMode)}},$=c.subscribe(L),pt=c.onJump(it);return()=>{$(),pt()}},[V,G]),H.useEffect(()=>{const L=mn.getInstance(),it=vn.getInstance();let $=L.state;const pt=()=>{const N=L.state;if($==="PLAYING"&&N==="PAUSED"){const K=it.currentIndex;V(K),G(K,!0)}$=N},z=L.subscribe(pt);return()=>z()},[V,G]),H.useLayoutEffect(()=>{if(!T||y.length===0)return;requestAnimationFrame(()=>{var $;const it=((($=c.currentBook)==null?void 0:$.id)===s.id?c.currentBook.lastTokenIndex:s.lastTokenIndex)??-1;it<=10?(p.current&&(p.current.scrollTop=0),setTimeout(()=>{B(!0),D.current=!1},100)):(G(it,!1),setTimeout(()=>B(!0),100))})},[T,y.length,s.id,G]);const X=H.useRef(null),lt=H.useRef(-1),yt=H.useCallback(L=>{lt.current=L,X.current&&clearTimeout(X.current),X.current=window.setTimeout(()=>{lt.current>=0&&c.saveProgress(lt.current),X.current=null},500)},[]);H.useEffect(()=>()=>{X.current&&(lt.current>=0&&c.saveProgress(lt.current),clearTimeout(X.current))},[]),H.useEffect(()=>{var pt;if(!A||!o){P.current&&P.current.disconnect();return}P.current&&P.current.disconnect();const L=z=>{if(!D.current){for(const N of z)if(N.isIntersecting){const K=N.target,W=parseInt(K.dataset.startIndex||"-1");if(W>=0){V(W),yt(W);break}}}},it={root:p.current,rootMargin:"-10% 0px -60% 0px",threshold:0};P.current=new IntersectionObserver(L,it);const $=(pt=p.current)==null?void 0:pt.querySelectorAll("p[data-start-index]");return $==null||$.forEach(z=>{var N;return(N=P.current)==null?void 0:N.observe(z)}),()=>{var z;return(z=P.current)==null?void 0:z.disconnect()}},[A,y.length,V]);const U=H.useMemo(()=>{const L=[];let it=[],$=-1;for(const pt of y)it.length===0&&($=pt.globalIndex),it.push(pt),pt.isParagraphEnd&&(L.push({tokens:it,startIndex:$,plainText:it.map(z=>z.originalText).join(" ")}),it=[]);return it.length>0&&L.push({tokens:it,startIndex:$===-1?0:$,plainText:it.map(pt=>pt.originalText).join(" ")}),L},[y]),st=H.useCallback((L,it)=>{V(L),c.saveProgress(L),r&&r(it,L)},[r,V]),_=H.useCallback(L=>{V(L),c.saveProgress(L)},[V]),nt=H.useMemo(()=>U.findIndex(L=>w>=L.startIndex&&w<L.startIndex+L.tokens.length),[U,w]),Z=H.useMemo(()=>{const L=[];for(let it=0;it<U.length;it+=30)L.push(U.slice(it,it+30));return L},[U]);return x.jsxs("div",{ref:p,className:"absolute inset-0 z-10 w-full h-full overflow-y-auto overflow-x-hidden custom-scrollbar box-border",style:{backgroundColor:h.background,color:h.primaryText,scrollBehavior:"auto",WebkitOverflowScrolling:"touch",touchAction:"pan-y",overscrollBehaviorY:"contain",transform:"translateZ(0)"},onClick:L=>{L.target===L.currentTarget&&i()},children:[!T&&x.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[100] pointer-events-auto",style:{backgroundColor:h.background},children:x.jsxs("div",{className:"flex flex-col items-center gap-6",children:[x.jsxs("div",{className:"w-12 h-12 relative",children:[x.jsx("div",{className:"absolute inset-0 rounded-full border-2 opacity-20",style:{borderColor:h.accent}}),x.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-t-transparent animate-spin",style:{borderColor:h.accent,borderTopColor:"transparent"}})]}),x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("span",{className:"text-sm font-bold tracking-widest lowercase",style:{color:h.secondaryText},children:"loading"}),x.jsxs("span",{className:"text-xs font-mono mt-1 opacity-50",style:{color:h.primaryText},children:[Math.floor(E*100),"%"]})]})]})}),T&&y.length===0&&x.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[50] pointer-events-none",style:{backgroundColor:h.background},children:x.jsxs("div",{className:"flex flex-col items-center gap-4 px-8 text-center",children:[x.jsx("div",{className:"text-4xl opacity-30",children:""}),x.jsx("span",{className:"text-lg font-medium",style:{color:h.secondaryText},children:"No content available"}),x.jsx("span",{className:"text-sm opacity-60",style:{color:h.secondaryText},children:"This book appears to be empty or failed to load."})]})}),x.jsxs("div",{className:"w-full min-h-[100dvh] px-6 md:px-0 py-24 md:py-32 box-border relative",children:[Z.map((L,it)=>x.jsx(i_,{sectionIndex:it,paragraphs:L,activeParagraphIndex:nt,activeIndex:w,onWordClick:st,onParagraphClick:_,settings:m,theme:h},it)),x.jsx("div",{className:"h-[40vh]"})]})]})},s_=es.memo(({token:s})=>{const i=Me(),r="#E25822",o=H.useMemo(()=>{if(!s)return 1;const u=s.originalText.length;return u<=10?1:Math.max(.6,10/u)},[s]),c=H.useMemo(()=>`radial-gradient(circle at 35.5% 42%, transparent 20%, ${i.background} 85%)`,[i.background]);return s?x.jsxs("div",{className:"absolute inset-0 pointer-events-none select-none overflow-hidden box-border",children:[x.jsx("div",{className:"absolute inset-0 z-10",style:{background:c}}),x.jsxs("div",{className:"absolute left-[35.5%] top-0 bottom-0 w-[1px] z-0",style:{backgroundColor:r,opacity:.15},children:[x.jsx("div",{className:"absolute top-[20%] bottom-[20%] w-[1px]",style:{backgroundColor:r,opacity:.3}}),x.jsx("div",{className:"absolute top-[42%] left-1/2 -translate-x-1/2 -translate-y-1/2 w-[3px] h-[30px] rounded-full",style:{backgroundColor:r,opacity:.5}})]}),x.jsx("div",{className:"absolute top-[42%] left-[35.5%]",style:{transform:`scale(${o})`,visibility:"visible",opacity:1,zIndex:2147483647,willChange:"transform, opacity"},children:x.jsxs("span",{className:"relative inline-block font-sans font-semibold leading-none whitespace-nowrap transform -translate-x-1/2 transition-none",style:{fontSize:"clamp(3rem, 13vw, 5rem)",color:r,textShadow:`0 0 10px ${r}15`},children:[s.centerCharacter,x.jsx("span",{className:"absolute right-[100%] top-0 h-full flex items-center justify-end font-normal pr-[2px]",style:{color:i.primaryText},children:s.leftSegment}),x.jsxs("span",{className:"absolute left-[100%] top-0 h-full flex items-center justify-start font-normal pl-[2px]",style:{color:i.primaryText},children:[s.rightSegment,s.punctuation&&x.jsx("span",{className:"font-light opacity-60 ml-[2px]",style:{color:i.secondaryText},children:s.punctuation})]})]})})]}):null}),r_=({onTap:s,onScrubEnd:i})=>{const r=mn.getInstance(),o=vn.getInstance(),c=Me(),d=H.useRef(null),u=H.useRef(null),[h,m]=H.useState(null),[p,y]=H.useState(0),[g,w]=H.useState([]),b=H.useRef(-1),[C,T]=H.useState(!1),[j,E]=H.useState(null),[k,A]=H.useState(0),B=H.useRef({x:0,y:0,time:0,index:0,offset:0}),D=H.useRef(-1),P=H.useRef(null),V=H.useRef(!1),G=200,X=12,lt=12,yt=H.useRef(new Map),U="#E25822",st=35.5;H.useEffect(()=>{m(o.currentToken),w(o.tokens),b.current=o.currentIndex,y(o.currentIndex);let N=null,K=!1;const W=()=>{const wt=o.currentIndex;(wt!==b.current||o.tokens!==g)&&(K||(K=!0,N=requestAnimationFrame(()=>{b.current=wt,m(o.currentToken),w(o.tokens),C||y(wt),K=!1})))},rt=r.subscribe(W),St=o.subscribe(W);return()=>{rt(),St(),N!==null&&cancelAnimationFrame(N)}},[C]);const _=H.useMemo(()=>j!==null&&g[j]?g[j]:h,[h,g,j]),nt=j??p,Z=H.useMemo(()=>{if(!C||g.length===0)return{tokens:[],startIdx:0};const N=Math.max(0,nt-lt),K=Math.min(g.length-1,nt+lt);return{tokens:g.slice(N,K+1),startIdx:N}},[g,nt,C]);H.useLayoutEffect(()=>{var wt;if(!u.current||!C||V.current)return;const N=u.current,K=Array.from(N.children),rt=(((wt=d.current)==null?void 0:wt.clientWidth)||window.innerWidth)*(st/100);yt.current.clear(),K.forEach(_t=>{const ft=parseInt(_t.dataset.idx||"0"),Tt=_t.getBoundingClientRect(),Et=N.getBoundingClientRect(),Rt=Tt.left-Et.left,It=Tt.width,S=Rt+It/2;yt.current.set(ft,{left:Rt,width:It,center:S})});const St=yt.current.get(nt);St&&A(rt-St.center)},[Z,nt,C]),H.useEffect(()=>()=>{P.current&&clearTimeout(P.current)},[]);const L=N=>{var K,W;N.stopPropagation(),(W=(K=N.target).setPointerCapture)==null||W.call(K,N.pointerId),B.current={x:N.clientX,y:N.clientY,time:Date.now(),index:p,offset:k},V.current=!1,P.current=setTimeout(()=>{T(!0),E(p),Re.impactMedium(),r.state===Zn.PLAYING&&r.pause(!0)},G)},it=N=>{var rt;const K=N.clientX-B.current.x,W=Math.abs(N.clientY-B.current.y);if(!C&&(Math.abs(K)>X||W>30)&&P.current&&(clearTimeout(P.current),P.current=null),C){V.current=!0;const St=B.current.offset+K;A(St);const _t=(((rt=d.current)==null?void 0:rt.clientWidth)||window.innerWidth)*(st/100);let ft=j??p,Tt=1/0;yt.current.forEach((Et,Rt)=>{const It=Et.center+St,S=Math.abs(It-_t);S<Tt&&(Tt=S,ft=Rt)}),ft!==j&&(E(ft),ft!==D.current&&(Re.impactLight(),D.current=ft))}},$=N=>{var rt,St,wt;(St=(rt=N.target).releasePointerCapture)==null||St.call(rt,N.pointerId),P.current&&(clearTimeout(P.current),P.current=null);const K=Math.abs(N.clientX-B.current.x),W=Date.now()-B.current.time;if(C){const _t=j??p;o.seek(_t),y(_t),i==null||i(_t),Re.impactMedium();const Tt=(((wt=d.current)==null?void 0:wt.clientWidth)||window.innerWidth)*(st/100),Et=yt.current.get(_t);Et&&A(Tt-Et.center),T(!1),E(null),V.current=!1}else K<X&&W<G&&(s==null||s())},pt=N=>{var K,W;(W=(K=N.target).releasePointerCapture)==null||W.call(K,N.pointerId),P.current&&(clearTimeout(P.current),P.current=null),C&&(o.seek(B.current.index),y(B.current.index)),T(!1),E(null),V.current=!1},z="clamp(3rem, 13vw, 5rem)";return x.jsxs("div",{ref:d,className:"absolute inset-0 select-none overflow-hidden touch-none",onPointerDown:L,onPointerMove:it,onPointerUp:$,onPointerCancel:pt,onPointerLeave:pt,children:[x.jsx(s_,{token:_}),C&&Z.tokens.length>0&&x.jsxs("div",{className:"absolute inset-x-0 top-[42%] -translate-y-1/2 h-20 flex items-center overflow-hidden z-[100] pointer-events-none",style:{animation:"cursorFadeIn 0.12s ease-out"},children:[x.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-32 z-10",style:{background:`linear-gradient(to right, ${c.background}, transparent)`}}),x.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-32 z-10",style:{background:`linear-gradient(to left, ${c.background}, transparent)`}}),x.jsx("div",{className:"absolute top-0 bottom-0 w-[2px] z-20",style:{left:`${st}%`,transform:"translateX(-50%)",backgroundColor:U,opacity:.6}}),x.jsx("div",{ref:u,className:"flex items-center gap-3 whitespace-nowrap",style:{transform:`translateX(${k}px)`,transition:V.current?"none":"transform 0.12s cubic-bezier(0.2, 0, 0, 1)"},children:Z.tokens.map((N,K)=>{const W=Z.startIdx+K,rt=W===nt,St=Math.abs(W-nt),wt=rt?.15:Math.max(.15,.7-St*.06),_t=Math.max(.85,1-St*.02);return x.jsx("span",{"data-idx":W,className:"font-sans inline-block",style:{fontSize:`calc(${z} * 0.42)`,fontWeight:rt?600:400,color:rt?U:c.primaryText,opacity:wt,transform:`scale(${_t})`,transition:"opacity 0.05s"},children:N.originalText},N.id)})})]}),C&&x.jsx("div",{className:"absolute bottom-[32%] left-0 right-0 flex justify-center z-[101] pointer-events-none",style:{animation:"cursorFadeIn 0.15s ease-out"},children:x.jsx("div",{className:"px-4 py-1.5 rounded-full backdrop-blur-md border",style:{backgroundColor:`${c.surface}dd`,borderColor:c.borderColor},children:x.jsxs("span",{className:"text-xs font-mono tabular-nums",style:{color:c.secondaryText},children:[nt+1," / ",g.length]})})}),x.jsx("style",{children:`
        @keyframes cursorFadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
      `})]})},o_=({book:s,currentProgress:i,preciseThresholds:r,onSelectChapter:o,onSelect:c,onClose:d,readSpeed:u})=>{const h=Me(),m=H.useRef(null),p=H.useMemo(()=>!s.chapters||s.chapters.length===0?[]:s.chapters.map((b,C)=>{const T=r[C]??0;let j=b.title.trim();const E=j.match(/^(?:chapter|part|book|letter|section)\s+(?:[\divxlcdm]+)\s*[:.-]\s+(.+)$/i),k=j.match(/^\d+\.\s+(.+)$/i);E&&E[1]?j=E[1]:k&&k[1]&&(j=k[1]);const A=Math.ceil(b.wordCount/u);return{original:b,index:C,cleanTitle:j,startProgress:T,durationLabel:A<1?"< 1m":`${A}m`}}),[s,u,r]),y=H.useMemo(()=>{let b=0;for(let C=0;C<p.length&&i>=p[C].startProgress-1e-4;C++)b=C;return b},[p,i]);H.useEffect(()=>{if(m.current){const C=Math.max(0,y*64-100);m.current.scrollTo({top:C,behavior:"smooth"})}},[]);const g=b=>{Re.impactMedium(),o?o(b):c&&c(p[b].startProgress),d()},w=H.useRef(Date.now());return x.jsxs("div",{className:"absolute bottom-full mb-4 left-2 right-2 z-50 flex flex-col max-h-[60vh] rounded-3xl overflow-hidden shadow-2xl border backdrop-blur-3xl origin-bottom animate-slideUp",style:{backgroundColor:`${h.dimmer}f5`,borderColor:h.borderColor},children:[x.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b shrink-0",style:{borderColor:h.borderColor},children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-base font-bold lowercase",style:{color:h.primaryText},children:"chapters"}),x.jsxs("span",{className:"text-[10px] opacity-40",style:{color:h.secondaryText},children:[p.length," ",p.length!==1?"sections":"section"]})]}),x.jsx("button",{onClick:d,className:"w-11 h-11 rounded-full flex items-center justify-center transition-all active:scale-95",style:{backgroundColor:`${h.primaryText}08`,color:h.primaryText},children:x.jsx($u,{size:20})})]}),x.jsx("div",{ref:m,className:"overflow-y-auto custom-scrollbar px-2 pb-4 pt-1",children:p.map((b,C)=>{const T=C===y;return x.jsxs("button",{onClick:()=>g(b.index),className:`w-full text-left flex items-center gap-3 p-3 rounded-2xl transition-all duration-200 group ${T?"shadow-md":"hover:bg-white/5 opacity-50"}`,style:{backgroundColor:T?h.surface:"transparent"},children:[x.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 transition-all ${T?"bg-white/5":"bg-transparent"}`,style:{color:T?h.accent:h.secondaryText},children:T?x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-0 bg-current opacity-30 animate-ping rounded-full"}),x.jsx("div",{className:"w-2.5 h-2.5 bg-current rounded-full"})]}):x.jsx("span",{className:"text-xs font-semibold opacity-40 tabular-nums",children:C+1})}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("h4",{className:"text-sm font-semibold truncate lowercase",style:{color:h.primaryText},children:b.cleanTitle}),b.cleanTitle!==b.original.title&&x.jsx("span",{className:"text-[10px] opacity-30 truncate block",style:{color:h.primaryText},children:b.original.title})]}),x.jsx("div",{className:"flex items-center gap-1 opacity-40 shrink-0",style:{color:h.primaryText},children:x.jsx("span",{className:"text-[11px] font-medium tabular-nums",children:b.durationLabel})})]},b.original.id)})})]},w.current)},l_=({book:s,onToggleRSVP:i,isRSVPActive:r,onSettingsClick:o})=>{const c=Ie.getInstance(),d=mn.getInstance(),u=vn.getInstance(),{settings:h,updateSettings:m}=dr(),p=Me(),[y,g]=H.useState(!1),[w,b]=H.useState(!1),[C,T]=H.useState(0),[j,E]=H.useState(0),[k,A]=H.useState(!1),B=H.useRef(!1),D=H.useRef(null),P=H.useRef(null),V=H.useRef(null),G=H.useRef(!1),X=H.useRef(null),lt=H.useRef(0),yt=H.useRef(0),U=H.useRef(!1),st=H.useRef(0),_=H.useRef(0),nt=p.accent,Z=H.useMemo(()=>{if(c.chapterTokenOffsets.length>0&&c.totalTokens>0)return c.chapterTokenOffsets.map(Et=>Et/c.totalTokens);if(!s.chapters||s.chapters.length===0)return[];const ft=s.chapters.reduce((Et,Rt)=>Et+Rt.wordCount,0);if(ft===0)return s.chapters.map((Et,Rt)=>Rt/s.chapters.length);let Tt=0;return s.chapters.map(Et=>{const Rt=Tt/ft;return Tt+=Et.wordCount,Rt})},[s,c.chapterTokenOffsets,c.totalTokens]),L=H.useCallback(ft=>{const Tt=Math.max(1,u.tokens.length||c.totalTokens),Et=Math.floor(ft*Tt),Rt=Tt-Et,It=h.rsvpSpeed||250,S=Math.ceil(Rt/It);if(S<1)return"< 1m";if(S>=60){const ct=Math.floor(S/60),I=S%60;return`${ct}h ${I}m`}return`${S}m`},[h.rsvpSpeed,u.tokens.length,c.totalTokens]),it=H.useCallback(ft=>{if(!s.chapters||s.chapters.length===0)return"";let Tt=0;for(let ct=Z.length-1;ct>=0;ct--)if(ft>=Z[ct]-1e-4){Tt=ct;break}const Et=s.chapters[Tt];if(!Et)return"";const Rt=Et.title.trim(),It=Rt.match(/^(?:chapter|part|book|letter|section)\s+(?:[\divxlcdm]+)\s*[:.-]\s+(.+)$/i),S=Rt.match(/^\d+\.\s+(.+)$/i);return It&&It[1]?It[1]:S&&S[1]?S[1]:Rt},[s.chapters,Z]),$=H.useRef(0),pt=H.useCallback(ft=>{const Tt=Math.max(0,Math.min(1,ft));if(D.current&&(D.current.style.width=`${Tt*100}%`),V.current&&(V.current.style.left=`${Tt*100}%`,V.current.style.transform="translateX(-50%)"),B.current)return;(Math.abs(Tt-$.current)>.005||Tt===0||Tt===1)&&($.current=Tt,E(Tt))},[]);H.useEffect(()=>{const ft=()=>{g(d.state===Zn.PLAYING)},Tt=R=>{G.current||pt(R)},Et=()=>{if(!G.current&&c.isRSVPMode&&u.tokens.length>0){const R=u.currentIndex/u.tokens.length;pt(R)}};ft();const Rt=c.isRSVPMode&&u.tokens.length>0?u.currentIndex/u.tokens.length:c.currentProgress;$.current=Rt,E(Rt),pt(Rt);const It=c.subscribe(ft),S=d.subscribe(ft),ct=c.onProgress(Tt),I=u.subscribe(Et);return()=>{It(),S(),ct(),I()}},[pt]);const z=ft=>{if(ft.preventDefault(),ft.stopPropagation(),b(!0),G.current=!0,lt.current=ft.clientY,P.current){const Tt=P.current.getBoundingClientRect();yt.current=Math.max(0,Math.min(1,(ft.clientX-Tt.left)/Tt.width))}U.current=d.state===Zn.PLAYING,U.current&&d.pause(),W(ft.clientX,ft.clientY,!1),ft.target.setPointerCapture(ft.pointerId)},N=ft=>{G.current&&(ft.preventDefault(),X.current&&cancelAnimationFrame(X.current),X.current=requestAnimationFrame(()=>{W(ft.clientX,ft.clientY,!0)}))},K=ft=>{if(G.current){if(X.current&&cancelAnimationFrame(X.current),b(!1),G.current=!1,ft.target.releasePointerCapture(ft.pointerId),P.current){const Tt=P.current.getBoundingClientRect(),Et=Math.max(0,Math.min(1,(ft.clientX-Tt.left)/Tt.width));rt(Et)}U.current&&d.play()}},W=(ft,Tt,Et)=>{if(!P.current)return;const Rt=P.current.getBoundingClientRect();let It=(ft-Rt.left)/Rt.width;if(Et){const ct=Math.abs(Tt-lt.current);let I=1;ct>200?I=.1:ct>100?I=.3:ct>50&&(I=.6),I<1&&(It=yt.current+(It-yt.current)*I)}const S=Math.max(0,Math.min(1,It));if(T(ct=>(Z.some(R=>ct<R&&S>=R||ct>R&&S<=R)&&Re.impactLight(),S)),pt(S),c.isRSVPMode){const ct=Math.max(1,u.tokens.length);u.seek(Math.floor(S*ct))}else c.jump(S)},rt=ft=>{if(c.isRSVPMode){const Tt=Math.max(1,u.tokens.length);u.seek(Math.floor(ft*Tt))}else c.jump(ft)},St=ft=>{ft.stopPropagation();const Tt=Date.now();Tt-st.current<300||(st.current=Tt,navigator.vibrate&&navigator.vibrate(10),i())},wt=ft=>{const Tt=Date.now();if(Tt-_.current<80)return;_.current=Tt,Re.impactLight();const Et=h.rsvpSpeed||250,Rt=Math.max(50,Math.min(2e3,Et+ft));m({rsvpSpeed:Rt,hasCustomSpeed:!0})},_t=ft=>{if(Re.impactMedium(),c.isRSVPMode){if(ft<c.chapterTokenOffsets.length){const Tt=c.chapterTokenOffsets[ft];u.seek(Tt),c.jumpToChapter(ft)}}else c.jumpToChapter(ft)};return x.jsxs("div",{className:"w-full relative pointer-events-auto",children:[k&&x.jsx(o_,{book:s,currentProgress:j,readSpeed:h.rsvpSpeed,preciseThresholds:Z,onSelectChapter:ft=>_t(ft),onClose:()=>{B.current=!1,A(!1)}}),w&&!k&&x.jsx("div",{className:"absolute -top-12 left-0 right-0 flex justify-center pointer-events-none z-50",style:{animation:"fadeIn 300ms cubic-bezier(0.16, 1, 0.3, 1)"},children:x.jsxs("div",{className:"px-4 py-1.5 rounded-full shadow-xl border backdrop-blur-md text-xs font-bold font-variant-numeric tabular-nums flex items-center gap-2",style:{backgroundColor:p.surface,borderColor:p.borderColor,color:p.primaryText},children:[x.jsxs("span",{children:[(C*100).toFixed(0),"%"]}),x.jsx("span",{className:"opacity-30",children:"|"}),x.jsx("span",{className:"lowercase",children:L(C)})]})}),x.jsxs("div",{className:"w-full backdrop-blur-2xl rounded-3xl shadow-2xl border overflow-hidden",style:{backgroundColor:`${p.surface}f5`,borderColor:p.borderColor},children:[x.jsxs("button",{onClick:()=>{Re.impactLight(),!k&&d.state===Zn.PLAYING&&d.pause();const ft=!k;B.current=ft,A(ft)},className:"w-full flex justify-between items-center px-5 pt-2.5 pb-0 text-[10px] font-medium select-none hover:opacity-100 transition-opacity active:scale-[0.99]",style:{color:p.primaryText,opacity:k?.8:.4},children:[x.jsxs("div",{className:"flex items-center gap-1.5 truncate max-w-[70%]",children:[x.jsx(sT,{size:10,className:"opacity-60"}),x.jsx("span",{className:"truncate lowercase",children:it(j)})]}),x.jsx("span",{className:"tabular-nums opacity-60 text-[9px]",children:L(j)})]}),x.jsx("div",{className:"relative h-4 w-full cursor-pointer group touch-none z-20",onPointerDown:z,onPointerMove:N,onPointerUp:K,onPointerCancel:K,children:x.jsxs("div",{ref:P,className:"absolute inset-x-6 inset-y-0 flex items-center",children:[x.jsxs("div",{className:"w-full h-[1.5px] rounded-full overflow-hidden relative",style:{backgroundColor:p.primaryText+"08"},children:[x.jsx("div",{ref:D,className:"absolute top-0 left-0 bottom-0 h-full will-change-transform rounded-full",style:{width:"0%",backgroundColor:nt}}),H.useMemo(()=>Z.map((ft,Tt)=>x.jsx("div",{className:"absolute top-0 bottom-0 w-[1px] bg-white/10",style:{left:`${ft*100}%`}},Tt)),[Z])]}),x.jsx("div",{ref:V,className:`absolute top-1/2 w-3.5 h-3.5 -mt-[7px] rounded-full shadow-lg border-2 border-white transition-all duration-200 will-change-transform ${w?"scale-125":"scale-0 group-hover:scale-75"}`,style:{left:"0%",backgroundColor:p.accent,boxShadow:`0 0 10px ${p.accent}33`}})]})}),x.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center px-5 pb-4 pt-0.5",children:[x.jsxs("div",{className:"flex items-center h-11 rounded-xl overflow-hidden border",style:{borderColor:p.borderColor,backgroundColor:`${p.primaryText}05`},children:[x.jsx("button",{onClick:()=>wt(-25),className:"w-11 h-full flex items-center justify-center hover:bg-white/5 active:scale-90 transition-all outline-none",style:{color:p.secondaryText},children:x.jsx(ky,{size:16})}),x.jsx("div",{className:"w-px h-5",style:{backgroundColor:p.borderColor}}),x.jsx("div",{className:"px-2 text-center flex items-center justify-center min-w-[44px]",children:x.jsx("span",{className:"font-variant-numeric tabular-nums text-xs font-semibold",style:{color:p.primaryText},children:h.rsvpSpeed})}),x.jsx("div",{className:"w-px h-5",style:{backgroundColor:p.borderColor}}),x.jsx("button",{onClick:()=>wt(25),className:"w-11 h-full flex items-center justify-center hover:bg-white/5 active:scale-90 transition-all outline-none",style:{color:p.secondaryText},children:x.jsx(Df,{size:16})})]}),x.jsx("div",{className:"flex items-center justify-center px-4",children:x.jsx("button",{onClick:St,className:"w-12 h-12 rounded-full flex items-center justify-center shadow-lg relative text-white border border-white/10 hover:scale-105 active:scale-95 transition-all outline-none",style:{backgroundColor:nt,boxShadow:`0 6px 24px -4px ${nt}66`},children:r&&y?x.jsx(hT,{size:20,className:"fill-white"}):x.jsx(Rf,{size:20,className:"fill-white ml-0.5"})})}),x.jsxs("button",{className:"flex items-center justify-center h-11 gap-2 rounded-xl border hover:bg-white/5 active:scale-95 transition-all outline-none px-3",style:{borderColor:p.borderColor,backgroundColor:`${p.primaryText}05`},onClick:ft=>{ft.stopPropagation(),o()},children:[x.jsx(ir,{size:16,style:{color:p.secondaryText}}),x.jsx("div",{className:"w-px h-4",style:{backgroundColor:p.borderColor}}),x.jsxs("div",{className:"flex items-baseline gap-0.5 opacity-60",children:[x.jsx(ir,{size:14,style:{color:p.secondaryText}}),x.jsx(ir,{size:10,style:{color:p.secondaryText}})]})]})]})]})]})},c_=({book:s,onClose:i})=>{const r=Ie.getInstance(),o=mn.getInstance(),c=vn.getInstance(),d=Me(),[u,h]=H.useState(!0),[m,p]=H.useState(!1),[y,g]=H.useState(!1),[w,b]=H.useState(0),[C,T]=H.useState(!1),[j,E]=H.useState(!1),k=H.useRef(!1),A=H.useRef(!1);H.useEffect(()=>{p(r.isRSVPMode);const L=()=>{p(r.isRSVPMode),g(o.state===Zn.PLAYING),b(r.currentProgress)},it=r.subscribe(L),$=o.subscribe(L);return L(),()=>{it(),$()}},[]),H.useEffect(()=>()=>{o.shutdown(r.isRSVPMode),r.isRSVPMode=!1,c.clear()},[]),H.useEffect(()=>{const L=()=>{if(!k.current){if(k.current=!0,C||j)B();else if(m){const it=Ie.getInstance(),$=mn.getInstance();it.isRSVPMode&&($.pause(),$.shutdown(!0),it.isRSVPMode=!1,it.notify(),p(!1),h(!0))}k.current=!1}};return window.addEventListener("popstate",L),()=>window.removeEventListener("popstate",L)},[C,j,m]),H.useEffect(()=>{let L;return u&&m&&(L=setTimeout(()=>h(!1),2500)),()=>clearTimeout(L)},[u,m]),H.useEffect(()=>{C&&o.state===Zn.PLAYING&&o.pause()},[C]);const B=()=>{E(!0),setTimeout(()=>{T(!1),E(!1)},400)},D=()=>{var $;let L=(($=r.currentBook)==null?void 0:$.lastTokenIndex)??(s.lastTokenIndex||0);r.isRSVPMode&&(L=c.currentIndex,r.saveProgress(L));const it=r.currentProgress;o.shutdown(r.isRSVPMode),r.isRSVPMode=!1,i(s.id,L,it)},P=async(L,it,$)=>{var z;if(A.current)return;if(m&&L===void 0&&it===void 0&&$===void 0){o.state===Zn.PLAYING?o.pause():o.play();return}const pt=L??!r.isRSVPMode;if(!(pt===r.isRSVPMode&&it===void 0&&$===void 0)){A.current=!0;try{if(pt){const N=r.contentStorage.string,K={offset:it??r.userSelectionOffset??void 0,index:$??(it===void 0?((z=r.currentBook)==null?void 0:z.lastTokenIndex)??void 0:void 0),progress:it===void 0&&$===void 0?r.currentProgress:void 0};await o.prepare(N,K),r.isRSVPMode=!0,r.notify(),k.current||window.history.pushState({rsvpMode:!0},"",window.location.href),o.play(),h(!1)}else{o.pause();const N=c.currentIndex;if(r.isRSVPMode=!1,r.saveProgress(N,!0),r.totalTokens>0){const K=N/r.totalTokens;r.jump(K)}h(!0)}}catch(N){console.error("Toggle failed",N),r.isRSVPMode=!1,r.notify()}finally{A.current=!1}}},V=()=>{o.state===Zn.PLAYING?o.pause():P(!1)},G=H.useRef(null),X=H.useRef({x:0,y:0,time:0}),[lt,yt]=H.useState(!1),U=350,st=15,_=L=>{!m||y||(X.current={x:L.clientX,y:L.clientY,time:Date.now()},G.current=setTimeout(()=>{yt(!0),Re.impactMedium(),P(!1)},U))},nt=L=>{if(!G.current)return;const it=Math.abs(L.clientX-X.current.x),$=Math.abs(L.clientY-X.current.y);(it>st||$>st)&&(clearTimeout(G.current),G.current=null)},Z=()=>{G.current&&(clearTimeout(G.current),G.current=null),yt(!1)};return x.jsxs("div",{className:"fixed inset-0 z-50 w-full h-[100dvh] overflow-hidden m-0 p-0 animate-fadeIn",style:{backgroundColor:d.background},children:[x.jsxs("div",{className:"absolute inset-0 z-10 w-full h-full will-change-transform transition-opacity duration-300",style:{opacity:m?y?0:.4:1,pointerEvents:"auto"},onPointerDown:_,onPointerMove:nt,onPointerUp:Z,onPointerCancel:Z,onPointerLeave:Z,children:[x.jsx(a_,{book:s,onToggleChrome:()=>h(L=>!L),onRequestRSVP:(L,it)=>P(!0,L,it),isActive:!m||!y}),lt&&x.jsx("div",{className:"absolute inset-0 bg-black/10 pointer-events-none z-50"})]}),x.jsxs("div",{className:`absolute inset-0 z-20 transition-all duration-300 will-change-[transform,opacity] ${m?"opacity-100 scale-100":"opacity-0 scale-95"}`,style:{pointerEvents:m?"auto":"none",transitionTimingFunction:"cubic-bezier(0.2, 0, 0, 1)"},children:[x.jsx(r_,{onTap:V,onScrubEnd:L=>{console.log("[Teleprompter] Scrub ended at:",L)}}),x.jsx("style",{children:`
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .animate-fadeIn { animation: fadeIn 0.3s ease-out forwards; }
      `})]}),x.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 w-[90%] max-w-[450px] z-50 pointer-events-auto",style:{bottom:"calc(2rem + env(safe-area-inset-bottom))"},children:x.jsx(l_,{book:s,onToggleRSVP:L=>P(void 0,L),isRSVPActive:m,onSettingsClick:()=>{k.current||window.history.pushState({modal:"settings"},"",window.location.href),T(!0)}})}),x.jsx("div",{className:`absolute top-0 left-0 right-0 z-[60] transition-transform duration-400 pointer-events-none ${u&&!m?"translate-y-0":"-translate-y-full"}`,style:{transitionTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)"},children:x.jsx("div",{className:"backdrop-blur-2xl border-b pt-safe-top py-4 px-5 flex items-center justify-between pointer-events-auto",style:{backgroundColor:d.dimmer,borderColor:d.borderColor},children:x.jsx("button",{onClick:D,className:"w-11 h-11 -ml-1 rounded-full flex items-center justify-center transition-all active:scale-95",style:{backgroundColor:`${d.primaryText}08`,color:d.primaryText},children:x.jsx(Uw,{size:20})})})}),(C||j)&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 z-[100]",style:{backgroundColor:"rgba(0,0,0,0.5)",backdropFilter:"blur(2px)",animation:j?"fadeOut 0.4s ease-out":"fadeIn 0.6s ease-out"},onClick:B}),x.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[101] rounded-t-[32px] h-[70vh] shadow-2xl overflow-hidden",style:{backgroundColor:d.background,animation:j?"slideDown 0.5s cubic-bezier(0.7, 0, 0.84, 0)":"slideUp 0.8s cubic-bezier(0.16, 1, 0.3, 1)"},children:x.jsx(jy,{onClose:B})})]})]})},$s=(s,i,r,o)=>{const c=Wa(r);return{id:s,title:i,content:r,sortOrder:o,wordCount:c}},u_=`
<p>Yo, dude. The internet is totally bonkers right now. Just way too much noise.</p>
<p>Your brain probably feels like burnt toast. <strong>Flow</strong> is the opposite of that. Its just a chill corner to hang out with a book.</p>
<p>No beeping. No distractions. Just you and the stories, man.</p>
<p>Take a breath. Its gonna be okay.</p>
`,f_=`
<p>Check it out, we got two ways to do this.</p>
<p>First is <strong>Scroll Mode</strong>. That's the classic style. Nice and slow. Like eating a sandwich one bite at a time.</p>
<p>Then, there's <strong>Flow Mode</strong>. Thats the big Play button. It shoots words at you one by one. Sounds crazy, but it's actually super mathematical. It's like the book is reading itself to you. Just tap it and relax.</p>
`,d_=`
<p>Moving your eyes left and right is a lot of work, man. Too much exercise.</p>
<p>In Flow Mode, you don't gotta move at all.</p>
<p>Just look at the <span style="color: #E25822;">red letter</span>. That's the sweet spot. Keep your eyes soft and locked there, and the words just melt into your brain. Its like telepathy, dude.</p>
`,h_=`
<p>That capsule at the bottom? That's your control panel.</p>
<ul>
<li><strong>The Scrubber:</strong> Drag it to jump around time. It clicks! So satisfying.</li>
<li><strong>The Tuner:</strong> Speed is key. If it's too slow, crank it up. If it's too fast, slow it down. Find your groove.</li>
<li><strong>The Visuals:</strong> Tap the settings to change the font. Make it look algebraic.</li>
</ul>
`,m_=`
<p>This guide is nice, but you gotta bring your own loot.</p>
<p>You got some <strong>EPUBs</strong> stashed away, right?</p>
<ol>
<li>Head back to the <strong>Bookshelf</strong>.</li>
<li>Hit the <strong>Add Book</strong> button.</li>
<li>Load 'em up.</li>
</ol>
<p>Well fix the formatting. You just stretch out and enjoy the silence. Maybe make some bacon pancakes.</p>
`,Bu=()=>[{id:"guide-book-v1",title:"welcome to flow",author:"Flowy",coverUrl:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1000&auto=format&fit=crop",tintColorHex:"#E25822",lastOpened:new Date,isFinished:!1,bookmarkProgress:0,chapters:[$s("g1","The Noise",u_,0),$s("g2","Two Speeds",f_,1),$s("g3","The Red Letter",d_,2),$s("g4","Vibe Check",h_,3),$s("g5","Your Stash",m_,4)]}],t0=({status:s,message:i,onAction:r,actionLabel:o})=>{const c=Me();return x.jsxs("div",{className:"absolute bottom-24 left-1/2 -translate-x-1/2 z-[60] flex items-center gap-3 px-4 py-3 rounded-full shadow-xl backdrop-blur-md border border-white/10",style:{backgroundColor:c.surface,animation:"slideUp 400ms cubic-bezier(0.16, 1, 0.3, 1)"},children:[s==="syncing"&&x.jsx(yT,{size:18,className:"animate-spin text-blue-500"}),s==="error"&&x.jsx(AT,{size:18,className:"text-red-500"}),s==="success"&&x.jsx(Io,{size:18,className:"text-green-500"}),s==="idle"&&x.jsx(Wu,{size:18,style:{color:c.secondaryText}}),x.jsx("span",{className:"text-sm font-medium pr-1",style:{color:c.primaryText},children:i||(s==="syncing"?"Syncing library...":"Cloud connected")}),r&&x.jsx("button",{onClick:r,className:"ml-2 px-3 py-1 rounded-full text-xs font-bold bg-blue-500 text-white active:scale-95 transition-transform",children:o})]})},p_=()=>{const s=Me(),[i,r]=H.useState([]),[o,c]=H.useState(null),d=H.useRef(!1),[u,h]=H.useState("idle"),[m,p]=H.useState(null),y=H.useRef([]);H.useEffect(()=>{const k=()=>{if(d.current||!o)return;if(d.current=!0,y.current.find(B=>B.id===o)){const B=Ie.getInstance();w(o,B.currentTokenIndex,B.currentProgress)}d.current=!1};return window.addEventListener("popstate",k),()=>window.removeEventListener("popstate",k)},[o]),H.useEffect(()=>{Ie.getInstance(),Yn.getInstance();const k=Ee.getInstance(),A=Pe.getInstance();(async()=>{try{await k.init();let D=await k.getAllMetadata();if(D.length===0){const V=Bu();for(const G of V)await k.saveBook(G);D=V}else{const V="guide-book-v1",G=D.find(X=>X.id===V);if(G){const X=await k.getFullBook(V);if(!X||!X.chapters||X.chapters.length===0){console.warn("[App] Welcome book content missing, repairing...");const yt=Bu().find(U=>U.id===V);yt&&(yt.bookmarkProgress=G.bookmarkProgress||0,yt.lastTokenIndex=G.lastTokenIndex,yt.lastOpened=G.lastOpened,await k.saveBook(yt),D=D.map(U=>U.id===V?yt:U))}}}const P=D.map(V=>({...V,lastOpened:new Date(V.lastOpened)}));r(P),y.current=P,A.subscribe({onStatusChange:V=>h(V),onNewBook:V=>{r(G=>G.find(lt=>lt.id===V.id)?G.map(lt=>lt.id===V.id?V:lt):[V,...G])},onConflict:(V,G)=>{p({book:V,remote:G})}}),A.syncNow(!1)}catch(D){console.error("App boot failed:",D)}})()},[]),H.useEffect(()=>{y.current=i},[i]),H.useEffect(()=>{if(!o)return;const k=Ie.getInstance();let A=-1;const B=async(G=!1)=>{if(!k.isLoading&&k.currentBook&&k.currentBook.id===o){const X=isNaN(k.currentProgress)||!isFinite(k.currentProgress)?0:k.currentProgress;if(!G&&Math.abs(X-A)<.001)return;A=X;const lt={...k.currentBook,bookmarkProgress:X,isFinished:k.currentBook.isFinished,lastTokenIndex:k.currentBook.lastTokenIndex,lastOpened:new Date},U=y.current.map(st=>st.id===lt.id?lt:st);r(U),await Ee.getInstance().saveBook(lt),Pe.getInstance().requestSync()}},D=setInterval(()=>B(!1),5e3),P=()=>{B(!0),Pe.getInstance().syncNow(!1)},V=()=>{document.visibilityState==="hidden"&&B(!0)};return window.addEventListener("beforeunload",P),document.addEventListener("visibilitychange",V),()=>{clearInterval(D),window.removeEventListener("beforeunload",P),document.removeEventListener("visibilitychange",V),B(!0)}},[o]);const g=async k=>{if(d.current||window.history.pushState({bookOpen:!0,bookId:k.id},"",window.location.href),!k.chapters||k.chapters.length===0){let A=await Ee.getInstance().getFullBook(k.id);if((!A||!A.chapters||A.chapters.length===0)&&k.id==="guide-book-v1"){console.warn("[App] Welcome book content missing on open, regenerating...");const D=Bu().find(P=>P.id==="guide-book-v1");D&&(D.bookmarkProgress=k.bookmarkProgress||0,D.lastTokenIndex=k.lastTokenIndex,D.lastOpened=k.lastOpened,await Ee.getInstance().saveBook(D),A=D)}A&&A.chapters&&A.chapters.length>0?(ib.flushSync(()=>{r(B=>B.map(D=>D.id===k.id?A:D))}),c(A.id)):(console.error("[App] Failed to load full book from storage:",k.id),c(k.id))}else c(k.id)},w=async(k,A,B)=>{var P;const D=y.current.find(V=>V.id===k);if(D){const V=isNaN(B)||!isFinite(B)?0:B,G={...D,lastTokenIndex:A,bookmarkProgress:V,isFinished:V>=.99||((P=Ie.getInstance().currentBook)==null?void 0:P.isFinished)||!1,lastOpened:new Date},X=y.current.map(lt=>lt.id===k?G:lt);r(X),await Ee.getInstance().saveBook(G),Pe.getInstance().syncNow(!1)}c(null)},b=async k=>{r(A=>A.filter(B=>!k.includes(B.id)));for(const A of k)await Ee.getInstance().deleteBook(A)},C=async(k,A)=>{const B=[];r(D=>D.map(P=>{if(k.includes(P.id)){const V={...P,isFinished:A,bookmarkProgress:A?1:P.bookmarkProgress>=.99?0:P.bookmarkProgress,lastTokenIndex:A?P.lastTokenIndex:P.bookmarkProgress>=.99?0:P.lastTokenIndex};return B.push(V),V}return P}));for(const D of B)await Ee.getInstance().saveBook(D);Pe.getInstance().requestSync()},T=async(k,A)=>{let B;r(D=>D.map(V=>{if(V.id===k){const G={...V,isFavorite:A};return B=G,G}return V})),B&&(await Ee.getInstance().saveBook(B),Pe.getInstance().requestSync())},j=async k=>{r(A=>[k,...A]),await Ee.getInstance().saveBook(k),Pe.getInstance().syncNow(!1)},E=i.find(k=>k.id===o);return x.jsxs("div",{className:"fixed inset-0 overflow-hidden font-sans select-none antialiased transition-colors duration-500",style:{backgroundColor:s.background,color:s.primaryText},children:[x.jsx("div",{className:`w-full h-full transition-all duration-500 ${E?"scale-95 opacity-50 blur-[2px] pointer-events-none":"scale-100 opacity-100 blur-0"}`,style:{transitionTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)"},children:x.jsx(KT,{books:i,onBookSelect:g,onBookImported:j,onDeleteBooks:b,onToggleReadStatus:C,onToggleFavorite:T})}),E&&x.jsx("div",{style:{animation:"fadeIn 400ms cubic-bezier(0.16, 1, 0.3, 1)"},children:x.jsx(c_,{book:E,onClose:w},E.id)},E.id),x.jsxs(ki,{children:[(u==="syncing"||u==="error"||u==="success")&&x.jsx(t0,{status:u}),m&&x.jsx(t0,{status:"idle",message:`Cloud has different progress for "${m.book.title}"`,actionLabel:`Jump to ${Math.floor(m.remote*100)}%`,onAction:()=>{Pe.getInstance().resolveConflict(m.book,m.remote),p(null)}})]})]})};Y1(async()=>{const{registerSW:s}=await import("./virtual_pwa-register-BtdRVyIr.js");return{registerSW:s}},[]).then(({registerSW:s})=>{s({onRegisteredSW(i,r){r&&setInterval(()=>{r.update()},60*1e3),console.log("[SW] Registered:",i)},onOfflineReady(){console.log("[SW] App is ready to work offline")}})}).catch(s=>{console.debug("[SW] PWA register not available",s)});class g_ extends es.Component{constructor(i){super(i),this.state={hasError:!1,error:null}}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,r){console.error("ErrorBoundary caught:",i,r)}render(){var i,r;return this.state.hasError?x.jsxs("div",{style:{padding:"20px",color:"white",backgroundColor:"black"},children:[x.jsx("h1",{children:"Something went wrong"}),x.jsxs("pre",{style:{color:"red",whiteSpace:"pre-wrap"},children:[(i=this.state.error)==null?void 0:i.toString(),`

`,(r=this.state.error)==null?void 0:r.stack]})]}):this.props.children}}const zy=document.getElementById("root");if(!zy)throw new Error("Could not find root element to mount to");console.log("Mounting App...");const y_=nb.createRoot(zy);y_.render(x.jsx(es.StrictMode,{children:x.jsx(g_,{children:x.jsx(p_,{})})}));export{Y1 as _};
