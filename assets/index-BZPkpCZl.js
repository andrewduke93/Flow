(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function i(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(u){if(u.ep)return;u.ep=!0;const c=i(u);fetch(u.href,c)}})();(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();var Ea=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gu(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Em={exports:{}},Xo={};/**
* @license React
* react-jsx-runtime.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Pm;function $b(){if(Pm)return Xo;Pm=1;var o=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(a,u,c){var f=null;if(c!==void 0&&(f=""+c),u.key!==void 0&&(f=""+u.key),"key"in u){c={};for(var h in u)h!=="key"&&(c[h]=u[h])}else c=u;return u=c.ref,{$$typeof:o,type:a,key:f,ref:u!==void 0?u:null,props:c}}return Xo.Fragment=n,Xo.jsx=i,Xo.jsxs=i,Xo}var jm;function Wb(){return jm||(jm=1,Em.exports=$b()),Em.exports}var b=Wb(),Am={exports:{}},Re={};/**
* @license React
* react.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Im;function Zb(){if(Im)return Re;Im=1;var o=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),w=Symbol.iterator;function k(P){return P===null||typeof P!="object"?null:(P=w&&P[w]||P["@@iterator"],typeof P=="function"?P:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function _(P,R,ee){this.props=P,this.context=R,this.refs=A,this.updater=ee||j}_.prototype.isReactComponent={},_.prototype.setState=function(P,R){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,R,"setState")},_.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function C(){}C.prototype=_.prototype;function E(P,R,ee){this.props=P,this.context=R,this.refs=A,this.updater=ee||j}var F=E.prototype=new C;F.constructor=E,S(F,_.prototype),F.isPureReactComponent=!0;var L=Array.isArray;function B(){}var M={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function H(P,R,ee){var ne=ee.ref;return{$$typeof:o,type:P,key:R,ref:ne!==void 0?ne:null,props:ee}}function ie(P,R){return H(P.type,R,P.props)}function ge(P){return typeof P=="object"&&P!==null&&P.$$typeof===o}function D(P){var R={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ee){return R[ee]})}var Y=/\/+/g;function T(P,R){return typeof P=="object"&&P!==null&&P.key!=null?D(""+P.key):R.toString(36)}function oe(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(B,B):(P.status="pending",P.then(function(R){P.status==="pending"&&(P.status="fulfilled",P.value=R)},function(R){P.status==="pending"&&(P.status="rejected",P.reason=R)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function G(P,R,ee,ne,ce){var Te=typeof P;(Te==="undefined"||Te==="boolean")&&(P=null);var Ee=!1;if(P===null)Ee=!0;else switch(Te){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(P.$$typeof){case o:case n:Ee=!0;break;case g:return Ee=P._init,G(Ee(P._payload),R,ee,ne,ce)}}if(Ee)return ce=ce(P),Ee=ne===""?"."+T(P,0):ne,L(ce)?(ee="",Ee!=null&&(ee=Ee.replace(Y,"$&/")+"/"),G(ce,R,ee,"",function(ye){return ye})):ce!=null&&(ge(ce)&&(ce=ie(ce,ee+(ce.key==null||P&&P.key===ce.key?"":(""+ce.key).replace(Y,"$&/")+"/")+Ee)),R.push(ce)),1;Ee=0;var be=ne===""?".":ne+":";if(L(P))for(var ke=0;ke<P.length;ke++)ne=P[ke],Te=be+T(ne,ke),Ee+=G(ne,R,ee,Te,ce);else if(ke=k(P),typeof ke=="function")for(P=ke.call(P),ke=0;!(ne=P.next()).done;)ne=ne.value,Te=be+T(ne,ke++),Ee+=G(ne,R,ee,Te,ce);else if(Te==="object"){if(typeof P.then=="function")return G(oe(P),R,ee,ne,ce);throw R=String(P),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function O(P,R,ee){if(P==null)return P;var ne=[],ce=0;return G(P,ne,"","",function(Te){return R.call(ee,Te,ce++)}),ne}function le(P){if(P._status===-1){var R=P._result;R=R(),R.then(function(ee){(P._status===0||P._status===-1)&&(P._status=1,P._result=ee)},function(ee){(P._status===0||P._status===-1)&&(P._status=2,P._result=ee)}),P._status===-1&&(P._status=0,P._result=R)}if(P._status===1)return P._result.default;throw P._result}var re=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},me={map:O,forEach:function(P,R,ee){O(P,function(){R.apply(this,arguments)},ee)},count:function(P){var R=0;return O(P,function(){R++}),R},toArray:function(P){return O(P,function(R){return R})||[]},only:function(P){if(!ge(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Re.Activity=y,Re.Children=me,Re.Component=_,Re.Fragment=i,Re.Profiler=u,Re.PureComponent=E,Re.StrictMode=a,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Re.__COMPILER_RUNTIME={__proto__:null,c:function(P){return M.H.useMemoCache(P)}},Re.cache=function(P){return function(){return P.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(P,R,ee){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ne=S({},P.props),ce=P.key;if(R!=null)for(Te in R.key!==void 0&&(ce=""+R.key),R)!q.call(R,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&R.ref===void 0||(ne[Te]=R[Te]);var Te=arguments.length-2;if(Te===1)ne.children=ee;else if(1<Te){for(var Ee=Array(Te),be=0;be<Te;be++)Ee[be]=arguments[be+2];ne.children=Ee}return H(P.type,ce,ne)},Re.createContext=function(P){return P={$$typeof:f,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:c,_context:P},P},Re.createElement=function(P,R,ee){var ne,ce={},Te=null;if(R!=null)for(ne in R.key!==void 0&&(Te=""+R.key),R)q.call(R,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ce[ne]=R[ne]);var Ee=arguments.length-2;if(Ee===1)ce.children=ee;else if(1<Ee){for(var be=Array(Ee),ke=0;ke<Ee;ke++)be[ke]=arguments[ke+2];ce.children=be}if(P&&P.defaultProps)for(ne in Ee=P.defaultProps,Ee)ce[ne]===void 0&&(ce[ne]=Ee[ne]);return H(P,Te,ce)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(P){return{$$typeof:h,render:P}},Re.isValidElement=ge,Re.lazy=function(P){return{$$typeof:g,_payload:{_status:-1,_result:P},_init:le}},Re.memo=function(P,R){return{$$typeof:m,type:P,compare:R===void 0?null:R}},Re.startTransition=function(P){var R=M.T,ee={};M.T=ee;try{var ne=P(),ce=M.S;ce!==null&&ce(ee,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(B,re)}catch(Te){re(Te)}finally{R!==null&&ee.types!==null&&(R.types=ee.types),M.T=R}},Re.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Re.use=function(P){return M.H.use(P)},Re.useActionState=function(P,R,ee){return M.H.useActionState(P,R,ee)},Re.useCallback=function(P,R){return M.H.useCallback(P,R)},Re.useContext=function(P){return M.H.useContext(P)},Re.useDebugValue=function(){},Re.useDeferredValue=function(P,R){return M.H.useDeferredValue(P,R)},Re.useEffect=function(P,R){return M.H.useEffect(P,R)},Re.useEffectEvent=function(P){return M.H.useEffectEvent(P)},Re.useId=function(){return M.H.useId()},Re.useImperativeHandle=function(P,R,ee){return M.H.useImperativeHandle(P,R,ee)},Re.useInsertionEffect=function(P,R){return M.H.useInsertionEffect(P,R)},Re.useLayoutEffect=function(P,R){return M.H.useLayoutEffect(P,R)},Re.useMemo=function(P,R){return M.H.useMemo(P,R)},Re.useOptimistic=function(P,R){return M.H.useOptimistic(P,R)},Re.useReducer=function(P,R,ee){return M.H.useReducer(P,R,ee)},Re.useRef=function(P){return M.H.useRef(P)},Re.useState=function(P){return M.H.useState(P)},Re.useSyncExternalStore=function(P,R,ee){return M.H.useSyncExternalStore(P,R,ee)},Re.useTransition=function(){return M.H.useTransition()},Re.version="19.2.3",Re}var zm;function Xu(){return zm||(zm=1,Am.exports=Zb()),Am.exports}var $=Xu();const Wa=Gu($);var fu={exports:{}},Qo={},Nm={exports:{}},Rm={};/**
* @license React
* scheduler.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Fm;function qb(){return Fm||(Fm=1,(function(o){function n(G,O){var le=G.length;G.push(O);e:for(;0<le;){var re=le-1>>>1,me=G[re];if(0<u(me,O))G[re]=O,G[le]=me,le=re;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var O=G[0],le=G.pop();if(le!==O){G[0]=le;e:for(var re=0,me=G.length,P=me>>>1;re<P;){var R=2*(re+1)-1,ee=G[R],ne=R+1,ce=G[ne];if(0>u(ee,le))ne<me&&0>u(ce,ee)?(G[re]=ce,G[ne]=le,re=ne):(G[re]=ee,G[R]=le,re=R);else if(ne<me&&0>u(ce,le))G[re]=ce,G[ne]=le,re=ne;else break e}}return O}function u(G,O){var le=G.sortIndex-O.sortIndex;return le!==0?le:G.id-O.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;o.unstable_now=function(){return c.now()}}else{var f=Date,h=f.now();o.unstable_now=function(){return f.now()-h}}var p=[],m=[],g=1,y=null,w=3,k=!1,j=!1,S=!1,A=!1,_=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function F(G){for(var O=i(m);O!==null;){if(O.callback===null)a(m);else if(O.startTime<=G)a(m),O.sortIndex=O.expirationTime,n(p,O);else break;O=i(m)}}function L(G){if(S=!1,F(G),!j)if(i(p)!==null)j=!0,B||(B=!0,D());else{var O=i(m);O!==null&&oe(L,O.startTime-G)}}var B=!1,M=-1,q=5,H=-1;function ie(){return A?!0:!(o.unstable_now()-H<q)}function ge(){if(A=!1,B){var G=o.unstable_now();H=G;var O=!0;try{e:{j=!1,S&&(S=!1,C(M),M=-1),k=!0;var le=w;try{t:{for(F(G),y=i(p);y!==null&&!(y.expirationTime>G&&ie());){var re=y.callback;if(typeof re=="function"){y.callback=null,w=y.priorityLevel;var me=re(y.expirationTime<=G);if(G=o.unstable_now(),typeof me=="function"){y.callback=me,F(G),O=!0;break t}y===i(p)&&a(p),F(G)}else a(p);y=i(p)}if(y!==null)O=!0;else{var P=i(m);P!==null&&oe(L,P.startTime-G),O=!1}}break e}finally{y=null,w=le,k=!1}O=void 0}}finally{O?D():B=!1}}}var D;if(typeof E=="function")D=function(){E(ge)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,T=Y.port2;Y.port1.onmessage=ge,D=function(){T.postMessage(null)}}else D=function(){_(ge,0)};function oe(G,O){M=_(function(){G(o.unstable_now())},O)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(G){G.callback=null},o.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<G?Math.floor(1e3/G):5},o.unstable_getCurrentPriorityLevel=function(){return w},o.unstable_next=function(G){switch(w){case 1:case 2:case 3:var O=3;break;default:O=w}var le=w;w=O;try{return G()}finally{w=le}},o.unstable_requestPaint=function(){A=!0},o.unstable_runWithPriority=function(G,O){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var le=w;w=G;try{return O()}finally{w=le}},o.unstable_scheduleCallback=function(G,O,le){var re=o.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?re+le:re):le=re,G){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=le+me,G={id:g++,callback:O,priorityLevel:G,startTime:le,expirationTime:me,sortIndex:-1},le>re?(G.sortIndex=le,n(m,G),i(p)===null&&G===i(m)&&(S?(C(M),M=-1):S=!0,oe(L,le-re))):(G.sortIndex=me,n(p,G),j||k||(j=!0,B||(B=!0,D()))),G},o.unstable_shouldYield=ie,o.unstable_wrapCallback=function(G){var O=w;return function(){var le=w;w=O;try{return G.apply(this,arguments)}finally{w=le}}}})(Rm)),Rm}var Lm;function Hb(){return Lm||(Lm=1,Nm.exports=qb()),Nm.exports}var hu={exports:{}},Et={};/**
* @license React
* react-dom.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Dm;function Gb(){if(Dm)return Et;Dm=1;var o=Xu();function n(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function c(p,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:y==null?null:""+y,children:p,containerInfo:m,implementation:g}}var f=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Et.createPortal=function(p,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return c(p,m,null,g)},Et.flushSync=function(p){var m=f.T,g=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=m,a.p=g,a.d.f()}},Et.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(p,m))},Et.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Et.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var g=m.as,y=h(g,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,k=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?a.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:k}):g==="script"&&a.d.X(p,{crossOrigin:y,integrity:w,fetchPriority:k,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Et.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);a.d.M(p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(p)},Et.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=h(g,m.crossOrigin);a.d.L(p,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Et.preloadModule=function(p,m){if(typeof p=="string")if(m){var g=h(m.as,m.crossOrigin);a.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(p)},Et.requestFormReset=function(p){a.d.r(p)},Et.unstable_batchedUpdates=function(p,m){return p(m)},Et.useFormState=function(p,m,g){return f.H.useFormState(p,m,g)},Et.useFormStatus=function(){return f.H.useHostTransitionStatus()},Et.version="19.2.3",Et}var Om;function ty(){if(Om)return hu.exports;Om=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(n){console.error(n)}}return o(),hu.exports=Gb(),hu.exports}/**
* @license React
* react-dom-client.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Mm;function Xb(){if(Mm)return Qo;Mm=1;var o=Hb(),n=Xu(),i=ty();function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(a(188))}function m(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(a(188));return t!==e?null:e}for(var r=e,s=t;;){var l=r.return;if(l===null)break;var d=l.alternate;if(d===null){if(s=l.return,s!==null){r=s;continue}break}if(l.child===d.child){for(d=l.child;d;){if(d===r)return p(l),e;if(d===s)return p(l),t;d=d.sibling}throw Error(a(188))}if(r.return!==s.return)r=l,s=d;else{for(var v=!1,I=l.child;I;){if(I===r){v=!0,r=l,s=d;break}if(I===s){v=!0,s=l,r=d;break}I=I.sibling}if(!v){for(I=d.child;I;){if(I===r){v=!0,r=d,s=l;break}if(I===s){v=!0,s=d,r=l;break}I=I.sibling}if(!v)throw Error(a(189))}}if(r.alternate!==s)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),E=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.iterator;function D(e){return e===null||typeof e!="object"?null:(e=ge&&e[ge]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Symbol.for("react.client.reference");function T(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Y?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case _:return"Profiler";case A:return"StrictMode";case L:return"Suspense";case B:return"SuspenseList";case H:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case E:return e.displayName||"Context";case C:return(e._context.displayName||"Context")+".Consumer";case F:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return t=e.displayName||null,t!==null?t:T(e.type)||"Memo";case q:t=e._payload,e=e._init;try{return T(e(t))}catch{}}return null}var oe=Array.isArray,G=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},re=[],me=-1;function P(e){return{current:e}}function R(e){0>me||(e.current=re[me],re[me]=null,me--)}function ee(e,t){me++,re[me]=e.current,e.current=t}var ne=P(null),ce=P(null),Te=P(null),Ee=P(null);function be(e,t){switch(ee(Te,t),ee(ce,e),ee(ne,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Qp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Qp(t),e=Jp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}R(ne),ee(ne,e)}function ke(){R(ne),R(ce),R(Te)}function ye(e){e.memoizedState!==null&&ee(Ee,e);var t=ne.current,r=Jp(t,e.type);t!==r&&(ee(ce,e),ee(ne,r))}function Se(e){ce.current===e&&(R(ne),R(ce)),Ee.current===e&&(R(Ee),Zo._currentValue=le)}var ze,Ne;function x(e){if(ze===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ze=t&&t[1]||"",Ne=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ze+e+Ne}var se=!1;function V(e,t){if(!e||se)return"";se=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(ae){var te=ae}Reflect.construct(e,[],pe)}else{try{pe.call()}catch(ae){te=ae}e.call(pe.prototype)}}else{try{throw Error()}catch(ae){te=ae}(pe=e())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(ae){if(ae&&te&&typeof ae.stack=="string")return[ae.stack,te.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=s.DetermineComponentFrameRoot(),v=d[0],I=d[1];if(v&&I){var U=v.split(`
`),K=I.split(`
`);for(l=s=0;s<U.length&&!U[s].includes("DetermineComponentFrameRoot");)s++;for(;l<K.length&&!K[l].includes("DetermineComponentFrameRoot");)l++;if(s===U.length||l===K.length)for(s=U.length-1,l=K.length-1;1<=s&&0<=l&&U[s]!==K[l];)l--;for(;1<=s&&0<=l;s--,l--)if(U[s]!==K[l]){if(s!==1||l!==1)do if(s--,l--,0>l||U[s]!==K[l]){var ue=`
`+U[s].replace(" at new "," at ");return e.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",e.displayName)),ue}while(1<=s&&0<=l);break}}}finally{se=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?x(r):""}function z(e,t){switch(e.tag){case 26:case 27:case 5:return x(e.type);case 16:return x("Lazy");case 13:return e.child!==t&&t!==null?x("Suspense Fallback"):x("Suspense");case 19:return x("SuspenseList");case 0:case 15:return V(e.type,!1);case 11:return V(e.type.render,!1);case 1:return V(e.type,!0);case 31:return x("Activity");default:return""}}function N(e){try{var t="",r=null;do t+=z(e,r),r=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var W=Object.prototype.hasOwnProperty,de=o.unstable_scheduleCallback,he=o.unstable_cancelCallback,Q=o.unstable_shouldYield,ve=o.unstable_requestPaint,we=o.unstable_now,xe=o.unstable_getCurrentPriorityLevel,Pe=o.unstable_ImmediatePriority,He=o.unstable_UserBlockingPriority,De=o.unstable_NormalPriority,Rt=o.unstable_LowPriority,Qr=o.unstable_IdlePriority,Kt=o.log,Nn=o.unstable_setDisableYieldValue,Ye=null,gt=null;function Yt(e){if(typeof Kt=="function"&&Nn(e),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(Ye,e)}catch{}}var st=Math.clz32?Math.clz32:Ya,hi=Math.log,Ka=Math.LN2;function Ya(e){return e>>>=0,e===0?32:31-(hi(e)/Ka|0)|0}var as=256,Rn=262144,vr=4194304;function er(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pi(e,t,r){var s=e.pendingLanes;if(s===0)return 0;var l=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var I=s&134217727;return I!==0?(s=I&~d,s!==0?l=er(s):(v&=I,v!==0?l=er(v):r||(r=I&~e,r!==0&&(l=er(r))))):(I=s&~d,I!==0?l=er(I):v!==0?l=er(v):r||(r=s&~e,r!==0&&(l=er(r)))),l===0?0:t!==0&&t!==l&&(t&d)===0&&(d=l&-l,r=t&-t,d>=r||d===32&&(r&4194048)!==0)?t:l}function no(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function A0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ad(){var e=vr;return vr<<=1,(vr&62914560)===0&&(vr=4194304),e}function el(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function so(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function I0(e,t,r,s,l,d){var v=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var I=e.entanglements,U=e.expirationTimes,K=e.hiddenUpdates;for(r=v&~r;0<r;){var ue=31-st(r),pe=1<<ue;I[ue]=0,U[ue]=-1;var te=K[ue];if(te!==null)for(K[ue]=null,ue=0;ue<te.length;ue++){var ae=te[ue];ae!==null&&(ae.lane&=-536870913)}r&=~pe}s!==0&&Id(e,s,0),d!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~t))}function Id(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-st(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|r&261930}function zd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-st(r),l=1<<s;l&t|e[s]&t&&(e[s]|=t),r&=~l}}function Nd(e,t){var r=t&-t;return r=(r&42)!==0?1:tl(r),(r&(e.suspendedLanes|t))!==0?0:r}function tl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function rl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Rd(){var e=O.p;return e!==0?e:(e=window.event,e===void 0?32:xm(e.type))}function Fd(e,t){var r=O.p;try{return O.p=e,t()}finally{O.p=r}}var Jr=Math.random().toString(36).slice(2),xt="__reactFiber$"+Jr,Ft="__reactProps$"+Jr,ls="__reactContainer$"+Jr,nl="__reactEvents$"+Jr,z0="__reactListeners$"+Jr,N0="__reactHandles$"+Jr,Ld="__reactResources$"+Jr,oo="__reactMarker$"+Jr;function sl(e){delete e[xt],delete e[Ft],delete e[nl],delete e[z0],delete e[N0]}function cs(e){var t=e[xt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ls]||r[xt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=sm(e);e!==null;){if(r=e[xt])return r;e=sm(e)}return t}e=r,r=e.parentNode}return null}function us(e){if(e=e[xt]||e[ls]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function io(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(a(33))}function ds(e){var t=e[Ld];return t||(t=e[Ld]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function yt(e){e[oo]=!0}var Dd=new Set,Od={};function Fn(e,t){fs(e,t),fs(e+"Capture",t)}function fs(e,t){for(Od[e]=t,e=0;e<t.length;e++)Dd.add(t[e])}var R0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Md={},Bd={};function F0(e){return W.call(Bd,e)?!0:W.call(Md,e)?!1:R0.test(e)?Bd[e]=!0:(Md[e]=!0,!1)}function mi(e,t,r){if(F0(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function gi(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function Er(e,t,r,s){if(s===null)e.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+s)}}function tr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function L0(e,t,r){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var l=s.get,d=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(v){r=""+v,d.call(this,v)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(v){r=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ol(e){if(!e._valueTracker){var t=Vd(e)?"checked":"value";e._valueTracker=L0(e,t,""+e[t])}}function Ud(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Vd(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var D0=/[\n"\\]/g;function fr(e){return e.replace(D0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function il(e,t,r,s,l,d,v,I){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),t!=null?v==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+tr(t)):e.value!==""+tr(t)&&(e.value=""+tr(t)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),t!=null?al(e,v,tr(t)):r!=null?al(e,v,tr(r)):s!=null&&e.removeAttribute("value"),l==null&&d!=null&&(e.defaultChecked=!!d),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?e.name=""+tr(I):e.removeAttribute("name")}function $d(e,t,r,s,l,d,v,I){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){ol(e);return}r=r!=null?""+tr(r):"",t=t!=null?""+tr(t):r,I||t===e.value||(e.value=t),e.defaultValue=t}s=s??l,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=I?e.checked:!!s,e.defaultChecked=!!s,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),ol(e)}function al(e,t,r){t==="number"&&yi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function hs(e,t,r,s){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&s&&(e[r].defaultSelected=!0)}else{for(r=""+tr(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Wd(e,t,r){if(t!=null&&(t=""+tr(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+tr(r):""}function Zd(e,t,r,s){if(t==null){if(s!=null){if(r!=null)throw Error(a(92));if(oe(s)){if(1<s.length)throw Error(a(93));s=s[0]}r=s}r==null&&(r=""),t=r}r=tr(t),e.defaultValue=r,s=e.textContent,s===r&&s!==""&&s!==null&&(e.value=s),ol(e)}function ps(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var O0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qd(e,t,r){var s=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,r):typeof r!="number"||r===0||O0.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Hd(e,t,r){if(t!=null&&typeof t!="object")throw Error(a(62));if(e=e.style,r!=null){for(var s in r)!r.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var l in t)s=t[l],t.hasOwnProperty(l)&&r[l]!==s&&qd(e,l,s)}else for(var d in t)t.hasOwnProperty(d)&&qd(e,d,t[d])}function ll(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var M0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),B0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vi(e){return B0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pr(){}var cl=null;function ul(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ms=null,gs=null;function Gd(e){var t=us(e);if(t&&(e=t.stateNode)){var r=e[Ft]||null;e:switch(e=t.stateNode,t.type){case"input":if(il(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+fr(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var l=s[Ft]||null;if(!l)throw Error(a(90));il(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<r.length;t++)s=r[t],s.form===e.form&&Ud(s)}break e;case"textarea":Wd(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&hs(e,!!r.multiple,t,!1)}}}var dl=!1;function Xd(e,t,r){if(dl)return e(t,r);dl=!0;try{var s=e(t);return s}finally{if(dl=!1,(ms!==null||gs!==null)&&(oa(),ms&&(t=ms,e=gs,gs=ms=null,Gd(t),e)))for(t=0;t<e.length;t++)Gd(e[t])}}function ao(e,t){var r=e.stateNode;if(r===null)return null;var s=r[Ft]||null;if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,t,typeof r));return r}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fl=!1;if(jr)try{var lo={};Object.defineProperty(lo,"passive",{get:function(){fl=!0}}),window.addEventListener("test",lo,lo),window.removeEventListener("test",lo,lo)}catch{fl=!1}var Kr=null,hl=null,bi=null;function Qd(){if(bi)return bi;var e,t=hl,r=t.length,s,l="value"in Kr?Kr.value:Kr.textContent,d=l.length;for(e=0;e<r&&t[e]===l[e];e++);var v=r-e;for(s=1;s<=v&&t[r-s]===l[d-s];s++);return bi=l.slice(e,1<s?1-s:void 0)}function xi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ki(){return!0}function Jd(){return!1}function Lt(e){function t(r,s,l,d,v){this._reactName=r,this._targetInst=l,this.type=s,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var I in e)e.hasOwnProperty(I)&&(r=e[I],this[I]=r?r(d):d[I]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ki:Jd,this.isPropagationStopped=Jd,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),t}var Ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=Lt(Ln),co=y({},Ln,{view:0,detail:0}),V0=Lt(co),pl,ml,uo,Si=y({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==uo&&(uo&&e.type==="mousemove"?(pl=e.screenX-uo.screenX,ml=e.screenY-uo.screenY):ml=pl=0,uo=e),pl)},movementY:function(e){return"movementY"in e?e.movementY:ml}}),Kd=Lt(Si),U0=y({},Si,{dataTransfer:0}),$0=Lt(U0),W0=y({},co,{relatedTarget:0}),gl=Lt(W0),Z0=y({},Ln,{animationName:0,elapsedTime:0,pseudoElement:0}),q0=Lt(Z0),H0=y({},Ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),G0=Lt(H0),X0=y({},Ln,{data:0}),Yd=Lt(X0),Q0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=K0[e])?!!t[e]:!1}function yl(){return Y0}var ev=y({},co,{key:function(e){if(e.key){var t=Q0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?J0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yl,charCode:function(e){return e.type==="keypress"?xi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tv=Lt(ev),rv=y({},Si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ef=Lt(rv),nv=y({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yl}),sv=Lt(nv),ov=y({},Ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),iv=Lt(ov),av=y({},Si,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lv=Lt(av),cv=y({},Ln,{newState:0,oldState:0}),uv=Lt(cv),dv=[9,13,27,32],vl=jr&&"CompositionEvent"in window,fo=null;jr&&"documentMode"in document&&(fo=document.documentMode);var fv=jr&&"TextEvent"in window&&!fo,tf=jr&&(!vl||fo&&8<fo&&11>=fo),rf=" ",nf=!1;function sf(e,t){switch(e){case"keyup":return dv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function of(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ys=!1;function hv(e,t){switch(e){case"compositionend":return of(t);case"keypress":return t.which!==32?null:(nf=!0,rf);case"textInput":return e=t.data,e===rf&&nf?null:e;default:return null}}function pv(e,t){if(ys)return e==="compositionend"||!vl&&sf(e,t)?(e=Qd(),bi=hl=Kr=null,ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tf&&t.locale!=="ko"?null:t.data;default:return null}}var mv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function af(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mv[e.type]:t==="textarea"}function lf(e,t,r,s){ms?gs?gs.push(s):gs=[s]:ms=s,t=fa(t,"onChange"),0<t.length&&(r=new wi("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var ho=null,po=null;function gv(e){Wp(e,0)}function Ti(e){var t=io(e);if(Ud(t))return e}function cf(e,t){if(e==="change")return t}var uf=!1;if(jr){var bl;if(jr){var xl="oninput"in document;if(!xl){var df=document.createElement("div");df.setAttribute("oninput","return;"),xl=typeof df.oninput=="function"}bl=xl}else bl=!1;uf=bl&&(!document.documentMode||9<document.documentMode)}function ff(){ho&&(ho.detachEvent("onpropertychange",hf),po=ho=null)}function hf(e){if(e.propertyName==="value"&&Ti(po)){var t=[];lf(t,po,e,ul(e)),Xd(gv,t)}}function yv(e,t,r){e==="focusin"?(ff(),ho=t,po=r,ho.attachEvent("onpropertychange",hf)):e==="focusout"&&ff()}function vv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ti(po)}function bv(e,t){if(e==="click")return Ti(t)}function xv(e,t){if(e==="input"||e==="change")return Ti(t)}function kv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wt=typeof Object.is=="function"?Object.is:kv;function mo(e,t){if(Wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var l=r[s];if(!W.call(t,l)||!Wt(e[l],t[l]))return!1}return!0}function pf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mf(e,t){var r=pf(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pf(r)}}function gf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=yi(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=yi(e.document)}return t}function kl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var wv=jr&&"documentMode"in document&&11>=document.documentMode,vs=null,wl=null,go=null,Sl=!1;function vf(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Sl||vs==null||vs!==yi(s)||(s=vs,"selectionStart"in s&&kl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),go&&mo(go,s)||(go=s,s=fa(wl,"onSelect"),0<s.length&&(t=new wi("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=vs)))}function Dn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var bs={animationend:Dn("Animation","AnimationEnd"),animationiteration:Dn("Animation","AnimationIteration"),animationstart:Dn("Animation","AnimationStart"),transitionrun:Dn("Transition","TransitionRun"),transitionstart:Dn("Transition","TransitionStart"),transitioncancel:Dn("Transition","TransitionCancel"),transitionend:Dn("Transition","TransitionEnd")},Tl={},bf={};jr&&(bf=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function On(e){if(Tl[e])return Tl[e];if(!bs[e])return e;var t=bs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in bf)return Tl[e]=t[r];return e}var xf=On("animationend"),kf=On("animationiteration"),wf=On("animationstart"),Sv=On("transitionrun"),Tv=On("transitionstart"),_v=On("transitioncancel"),Sf=On("transitionend"),Tf=new Map,_l="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_l.push("scrollEnd");function hr(e,t){Tf.set(e,t),Fn(t,[e])}var _i=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},rr=[],xs=0,Cl=0;function Ci(){for(var e=xs,t=Cl=xs=0;t<e;){var r=rr[t];rr[t++]=null;var s=rr[t];rr[t++]=null;var l=rr[t];rr[t++]=null;var d=rr[t];if(rr[t++]=null,s!==null&&l!==null){var v=s.pending;v===null?l.next=l:(l.next=v.next,v.next=l),s.pending=l}d!==0&&_f(r,l,d)}}function Ei(e,t,r,s){rr[xs++]=e,rr[xs++]=t,rr[xs++]=r,rr[xs++]=s,Cl|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function El(e,t,r,s){return Ei(e,t,r,s),Pi(e)}function Mn(e,t){return Ei(e,null,null,t),Pi(e)}function _f(e,t,r){e.lanes|=r;var s=e.alternate;s!==null&&(s.lanes|=r);for(var l=!1,d=e.return;d!==null;)d.childLanes|=r,s=d.alternate,s!==null&&(s.childLanes|=r),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(l=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,l&&t!==null&&(l=31-st(r),e=d.hiddenUpdates,s=e[l],s===null?e[l]=[t]:s.push(t),t.lane=r|536870912),d):null}function Pi(e){if(50<Oo)throw Oo=0,Lc=null,Error(a(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ks={};function Cv(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(e,t,r,s){return new Cv(e,t,r,s)}function Pl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ar(e,t){var r=e.alternate;return r===null?(r=Zt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Cf(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ji(e,t,r,s,l,d){var v=0;if(s=e,typeof e=="function")Pl(e)&&(v=1);else if(typeof e=="string")v=Ib(e,r,ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case H:return e=Zt(31,r,t,l),e.elementType=H,e.lanes=d,e;case S:return Bn(r.children,l,d,t);case A:v=8,l|=24;break;case _:return e=Zt(12,r,t,l|2),e.elementType=_,e.lanes=d,e;case L:return e=Zt(13,r,t,l),e.elementType=L,e.lanes=d,e;case B:return e=Zt(19,r,t,l),e.elementType=B,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E:v=10;break e;case C:v=9;break e;case F:v=11;break e;case M:v=14;break e;case q:v=16,s=null;break e}v=29,r=Error(a(130,e===null?"null":typeof e,"")),s=null}return t=Zt(v,r,t,l),t.elementType=e,t.type=s,t.lanes=d,t}function Bn(e,t,r,s){return e=Zt(7,e,s,t),e.lanes=r,e}function jl(e,t,r){return e=Zt(6,e,null,t),e.lanes=r,e}function Ef(e){var t=Zt(18,null,null,0);return t.stateNode=e,t}function Al(e,t,r){return t=Zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Pf=new WeakMap;function nr(e,t){if(typeof e=="object"&&e!==null){var r=Pf.get(e);return r!==void 0?r:(t={value:e,source:t,stack:N(t)},Pf.set(e,t),t)}return{value:e,source:t,stack:N(t)}}var ws=[],Ss=0,Ai=null,yo=0,sr=[],or=0,Yr=null,br=1,xr="";function Ir(e,t){ws[Ss++]=yo,ws[Ss++]=Ai,Ai=e,yo=t}function jf(e,t,r){sr[or++]=br,sr[or++]=xr,sr[or++]=Yr,Yr=e;var s=br;e=xr;var l=32-st(s)-1;s&=~(1<<l),r+=1;var d=32-st(t)+l;if(30<d){var v=l-l%5;d=(s&(1<<v)-1).toString(32),s>>=v,l-=v,br=1<<32-st(t)+l|r<<l|s,xr=d+e}else br=1<<d|r<<l|s,xr=e}function Il(e){e.return!==null&&(Ir(e,1),jf(e,1,0))}function zl(e){for(;e===Ai;)Ai=ws[--Ss],ws[Ss]=null,yo=ws[--Ss],ws[Ss]=null;for(;e===Yr;)Yr=sr[--or],sr[or]=null,xr=sr[--or],sr[or]=null,br=sr[--or],sr[or]=null}function Af(e,t){sr[or++]=br,sr[or++]=xr,sr[or++]=Yr,br=t.id,xr=t.overflow,Yr=e}var kt=null,tt=null,$e=!1,en=null,ir=!1,Nl=Error(a(519));function tn(e){var t=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vo(nr(t,e)),Nl}function If(e){var t=e.stateNode,r=e.type,s=e.memoizedProps;switch(t[xt]=e,t[Ft]=s,r){case"dialog":Me("cancel",t),Me("close",t);break;case"iframe":case"object":case"embed":Me("load",t);break;case"video":case"audio":for(r=0;r<Bo.length;r++)Me(Bo[r],t);break;case"source":Me("error",t);break;case"img":case"image":case"link":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"input":Me("invalid",t),$d(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Me("invalid",t);break;case"textarea":Me("invalid",t),Zd(t,s.value,s.defaultValue,s.children)}r=s.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||s.suppressHydrationWarning===!0||Gp(t.textContent,r)?(s.popover!=null&&(Me("beforetoggle",t),Me("toggle",t)),s.onScroll!=null&&Me("scroll",t),s.onScrollEnd!=null&&Me("scrollend",t),s.onClick!=null&&(t.onclick=Pr),t=!0):t=!1,t||tn(e,!0)}function zf(e){for(kt=e.return;kt;)switch(kt.tag){case 5:case 31:case 13:ir=!1;return;case 27:case 3:ir=!0;return;default:kt=kt.return}}function Ts(e){if(e!==kt)return!1;if(!$e)return zf(e),$e=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Jc(e.type,e.memoizedProps)),r=!r),r&&tt&&tn(e),zf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));tt=nm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));tt=nm(e)}else t===27?(t=tt,gn(e.type)?(e=ru,ru=null,tt=e):tt=t):tt=kt?ar(e.stateNode.nextSibling):null;return!0}function Vn(){tt=kt=null,$e=!1}function Rl(){var e=en;return e!==null&&(Bt===null?Bt=e:Bt.push.apply(Bt,e),en=null),e}function vo(e){en===null?en=[e]:en.push(e)}var Fl=P(null),Un=null,zr=null;function rn(e,t,r){ee(Fl,t._currentValue),t._currentValue=r}function Nr(e){e._currentValue=Fl.current,R(Fl)}function Ll(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Dl(e,t,r,s){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var d=l.dependencies;if(d!==null){var v=l.child;d=d.firstContext;e:for(;d!==null;){var I=d;d=l;for(var U=0;U<t.length;U++)if(I.context===t[U]){d.lanes|=r,I=d.alternate,I!==null&&(I.lanes|=r),Ll(d.return,r,e),s||(v=null);break e}d=I.next}}else if(l.tag===18){if(v=l.return,v===null)throw Error(a(341));v.lanes|=r,d=v.alternate,d!==null&&(d.lanes|=r),Ll(v,r,e),v=null}else v=l.child;if(v!==null)v.return=l;else for(v=l;v!==null;){if(v===e){v=null;break}if(l=v.sibling,l!==null){l.return=v.return,v=l;break}v=v.return}l=v}}function _s(e,t,r,s){e=null;for(var l=t,d=!1;l!==null;){if(!d){if((l.flags&524288)!==0)d=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var v=l.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var I=l.type;Wt(l.pendingProps.value,v.value)||(e!==null?e.push(I):e=[I])}}else if(l===Ee.current){if(v=l.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(Zo):e=[Zo])}l=l.return}e!==null&&Dl(t,e,r,s),t.flags|=262144}function Ii(e){for(e=e.firstContext;e!==null;){if(!Wt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function $n(e){Un=e,zr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function wt(e){return Nf(Un,e)}function zi(e,t){return Un===null&&$n(e),Nf(e,t)}function Nf(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},zr===null){if(e===null)throw Error(a(308));zr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else zr=zr.next=t;return r}var Ev=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},Pv=o.unstable_scheduleCallback,jv=o.unstable_NormalPriority,dt={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ol(){return{controller:new Ev,data:new Map,refCount:0}}function bo(e){e.refCount--,e.refCount===0&&Pv(jv,function(){e.controller.abort()})}var xo=null,Ml=0,Cs=0,Es=null;function Av(e,t){if(xo===null){var r=xo=[];Ml=0,Cs=Uc(),Es={status:"pending",value:void 0,then:function(s){r.push(s)}}}return Ml++,t.then(Rf,Rf),t}function Rf(){if(--Ml===0&&xo!==null){Es!==null&&(Es.status="fulfilled");var e=xo;xo=null,Cs=0,Es=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Iv(e,t){var r=[],s={status:"pending",value:null,reason:null,then:function(l){r.push(l)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var l=0;l<r.length;l++)(0,r[l])(t)},function(l){for(s.status="rejected",s.reason=l,l=0;l<r.length;l++)(0,r[l])(void 0)}),s}var Ff=G.S;G.S=function(e,t){vp=we(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Av(e,t),Ff!==null&&Ff(e,t)};var Wn=P(null);function Bl(){var e=Wn.current;return e!==null?e:et.pooledCache}function Ni(e,t){t===null?ee(Wn,Wn.current):ee(Wn,t.pool)}function Lf(){var e=Bl();return e===null?null:{parent:dt._currentValue,pool:e}}var Ps=Error(a(460)),Vl=Error(a(474)),Ri=Error(a(542)),Fi={then:function(){}};function Df(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Of(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(Pr,Pr),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Bf(e),e;default:if(typeof t.status=="string")t.then(Pr,Pr);else{if(e=et,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=s}},function(s){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Bf(e),e}throw qn=t,Ps}}function Zn(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(qn=r,Ps):r}}var qn=null;function Mf(){if(qn===null)throw Error(a(459));var e=qn;return qn=null,e}function Bf(e){if(e===Ps||e===Ri)throw Error(a(483))}var js=null,ko=0;function Li(e){var t=ko;return ko+=1,js===null&&(js=[]),Of(js,e,t)}function wo(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Di(e,t){throw t.$$typeof===w?Error(a(525)):(e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Vf(e){function t(X,Z){if(e){var J=X.deletions;J===null?(X.deletions=[Z],X.flags|=16):J.push(Z)}}function r(X,Z){if(!e)return null;for(;Z!==null;)t(X,Z),Z=Z.sibling;return null}function s(X){for(var Z=new Map;X!==null;)X.key!==null?Z.set(X.key,X):Z.set(X.index,X),X=X.sibling;return Z}function l(X,Z){return X=Ar(X,Z),X.index=0,X.sibling=null,X}function d(X,Z,J){return X.index=J,e?(J=X.alternate,J!==null?(J=J.index,J<Z?(X.flags|=67108866,Z):J):(X.flags|=67108866,Z)):(X.flags|=1048576,Z)}function v(X){return e&&X.alternate===null&&(X.flags|=67108866),X}function I(X,Z,J,fe){return Z===null||Z.tag!==6?(Z=jl(J,X.mode,fe),Z.return=X,Z):(Z=l(Z,J),Z.return=X,Z)}function U(X,Z,J,fe){var je=J.type;return je===S?ue(X,Z,J.props.children,fe,J.key):Z!==null&&(Z.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===q&&Zn(je)===Z.type)?(Z=l(Z,J.props),wo(Z,J),Z.return=X,Z):(Z=ji(J.type,J.key,J.props,null,X.mode,fe),wo(Z,J),Z.return=X,Z)}function K(X,Z,J,fe){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==J.containerInfo||Z.stateNode.implementation!==J.implementation?(Z=Al(J,X.mode,fe),Z.return=X,Z):(Z=l(Z,J.children||[]),Z.return=X,Z)}function ue(X,Z,J,fe,je){return Z===null||Z.tag!==7?(Z=Bn(J,X.mode,fe,je),Z.return=X,Z):(Z=l(Z,J),Z.return=X,Z)}function pe(X,Z,J){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=jl(""+Z,X.mode,J),Z.return=X,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case k:return J=ji(Z.type,Z.key,Z.props,null,X.mode,J),wo(J,Z),J.return=X,J;case j:return Z=Al(Z,X.mode,J),Z.return=X,Z;case q:return Z=Zn(Z),pe(X,Z,J)}if(oe(Z)||D(Z))return Z=Bn(Z,X.mode,J,null),Z.return=X,Z;if(typeof Z.then=="function")return pe(X,Li(Z),J);if(Z.$$typeof===E)return pe(X,zi(X,Z),J);Di(X,Z)}return null}function te(X,Z,J,fe){var je=Z!==null?Z.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return je!==null?null:I(X,Z,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case k:return J.key===je?U(X,Z,J,fe):null;case j:return J.key===je?K(X,Z,J,fe):null;case q:return J=Zn(J),te(X,Z,J,fe)}if(oe(J)||D(J))return je!==null?null:ue(X,Z,J,fe,null);if(typeof J.then=="function")return te(X,Z,Li(J),fe);if(J.$$typeof===E)return te(X,Z,zi(X,J),fe);Di(X,J)}return null}function ae(X,Z,J,fe,je){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return X=X.get(J)||null,I(Z,X,""+fe,je);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case k:return X=X.get(fe.key===null?J:fe.key)||null,U(Z,X,fe,je);case j:return X=X.get(fe.key===null?J:fe.key)||null,K(Z,X,fe,je);case q:return fe=Zn(fe),ae(X,Z,J,fe,je)}if(oe(fe)||D(fe))return X=X.get(J)||null,ue(Z,X,fe,je,null);if(typeof fe.then=="function")return ae(X,Z,J,Li(fe),je);if(fe.$$typeof===E)return ae(X,Z,J,zi(Z,fe),je);Di(Z,fe)}return null}function _e(X,Z,J,fe){for(var je=null,We=null,Ce=Z,Le=Z=0,Ue=null;Ce!==null&&Le<J.length;Le++){Ce.index>Le?(Ue=Ce,Ce=null):Ue=Ce.sibling;var Ze=te(X,Ce,J[Le],fe);if(Ze===null){Ce===null&&(Ce=Ue);break}e&&Ce&&Ze.alternate===null&&t(X,Ce),Z=d(Ze,Z,Le),We===null?je=Ze:We.sibling=Ze,We=Ze,Ce=Ue}if(Le===J.length)return r(X,Ce),$e&&Ir(X,Le),je;if(Ce===null){for(;Le<J.length;Le++)Ce=pe(X,J[Le],fe),Ce!==null&&(Z=d(Ce,Z,Le),We===null?je=Ce:We.sibling=Ce,We=Ce);return $e&&Ir(X,Le),je}for(Ce=s(Ce);Le<J.length;Le++)Ue=ae(Ce,X,Le,J[Le],fe),Ue!==null&&(e&&Ue.alternate!==null&&Ce.delete(Ue.key===null?Le:Ue.key),Z=d(Ue,Z,Le),We===null?je=Ue:We.sibling=Ue,We=Ue);return e&&Ce.forEach(function(kn){return t(X,kn)}),$e&&Ir(X,Le),je}function Ae(X,Z,J,fe){if(J==null)throw Error(a(151));for(var je=null,We=null,Ce=Z,Le=Z=0,Ue=null,Ze=J.next();Ce!==null&&!Ze.done;Le++,Ze=J.next()){Ce.index>Le?(Ue=Ce,Ce=null):Ue=Ce.sibling;var kn=te(X,Ce,Ze.value,fe);if(kn===null){Ce===null&&(Ce=Ue);break}e&&Ce&&kn.alternate===null&&t(X,Ce),Z=d(kn,Z,Le),We===null?je=kn:We.sibling=kn,We=kn,Ce=Ue}if(Ze.done)return r(X,Ce),$e&&Ir(X,Le),je;if(Ce===null){for(;!Ze.done;Le++,Ze=J.next())Ze=pe(X,Ze.value,fe),Ze!==null&&(Z=d(Ze,Z,Le),We===null?je=Ze:We.sibling=Ze,We=Ze);return $e&&Ir(X,Le),je}for(Ce=s(Ce);!Ze.done;Le++,Ze=J.next())Ze=ae(Ce,X,Le,Ze.value,fe),Ze!==null&&(e&&Ze.alternate!==null&&Ce.delete(Ze.key===null?Le:Ze.key),Z=d(Ze,Z,Le),We===null?je=Ze:We.sibling=Ze,We=Ze);return e&&Ce.forEach(function(Ub){return t(X,Ub)}),$e&&Ir(X,Le),je}function Ke(X,Z,J,fe){if(typeof J=="object"&&J!==null&&J.type===S&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case k:e:{for(var je=J.key;Z!==null;){if(Z.key===je){if(je=J.type,je===S){if(Z.tag===7){r(X,Z.sibling),fe=l(Z,J.props.children),fe.return=X,X=fe;break e}}else if(Z.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===q&&Zn(je)===Z.type){r(X,Z.sibling),fe=l(Z,J.props),wo(fe,J),fe.return=X,X=fe;break e}r(X,Z);break}else t(X,Z);Z=Z.sibling}J.type===S?(fe=Bn(J.props.children,X.mode,fe,J.key),fe.return=X,X=fe):(fe=ji(J.type,J.key,J.props,null,X.mode,fe),wo(fe,J),fe.return=X,X=fe)}return v(X);case j:e:{for(je=J.key;Z!==null;){if(Z.key===je)if(Z.tag===4&&Z.stateNode.containerInfo===J.containerInfo&&Z.stateNode.implementation===J.implementation){r(X,Z.sibling),fe=l(Z,J.children||[]),fe.return=X,X=fe;break e}else{r(X,Z);break}else t(X,Z);Z=Z.sibling}fe=Al(J,X.mode,fe),fe.return=X,X=fe}return v(X);case q:return J=Zn(J),Ke(X,Z,J,fe)}if(oe(J))return _e(X,Z,J,fe);if(D(J)){if(je=D(J),typeof je!="function")throw Error(a(150));return J=je.call(J),Ae(X,Z,J,fe)}if(typeof J.then=="function")return Ke(X,Z,Li(J),fe);if(J.$$typeof===E)return Ke(X,Z,zi(X,J),fe);Di(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,Z!==null&&Z.tag===6?(r(X,Z.sibling),fe=l(Z,J),fe.return=X,X=fe):(r(X,Z),fe=jl(J,X.mode,fe),fe.return=X,X=fe),v(X)):r(X,Z)}return function(X,Z,J,fe){try{ko=0;var je=Ke(X,Z,J,fe);return js=null,je}catch(Ce){if(Ce===Ps||Ce===Ri)throw Ce;var We=Zt(29,Ce,null,X.mode);return We.lanes=fe,We.return=X,We}finally{}}}var Hn=Vf(!0),Uf=Vf(!1),nn=!1;function Ul(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $l(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function sn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function on(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(qe&2)!==0){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,t=Pi(e),_f(e,null,r),t}return Ei(e,s,t,r),Pi(e)}function So(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,zd(e,r)}}function Wl(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var l=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?l=d=v:d=d.next=v,r=r.next}while(r!==null);d===null?l=d=t:d=d.next=t}else l=d=t;r={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:d,shared:s.shared,callbacks:s.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var Zl=!1;function To(){if(Zl){var e=Es;if(e!==null)throw e}}function _o(e,t,r,s){Zl=!1;var l=e.updateQueue;nn=!1;var d=l.firstBaseUpdate,v=l.lastBaseUpdate,I=l.shared.pending;if(I!==null){l.shared.pending=null;var U=I,K=U.next;U.next=null,v===null?d=K:v.next=K,v=U;var ue=e.alternate;ue!==null&&(ue=ue.updateQueue,I=ue.lastBaseUpdate,I!==v&&(I===null?ue.firstBaseUpdate=K:I.next=K,ue.lastBaseUpdate=U))}if(d!==null){var pe=l.baseState;v=0,ue=K=U=null,I=d;do{var te=I.lane&-536870913,ae=te!==I.lane;if(ae?(Ve&te)===te:(s&te)===te){te!==0&&te===Cs&&(Zl=!0),ue!==null&&(ue=ue.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var _e=e,Ae=I;te=t;var Ke=r;switch(Ae.tag){case 1:if(_e=Ae.payload,typeof _e=="function"){pe=_e.call(Ke,pe,te);break e}pe=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ae.payload,te=typeof _e=="function"?_e.call(Ke,pe,te):_e,te==null)break e;pe=y({},pe,te);break e;case 2:nn=!0}}te=I.callback,te!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=l.callbacks,ae===null?l.callbacks=[te]:ae.push(te))}else ae={lane:te,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ue===null?(K=ue=ae,U=pe):ue=ue.next=ae,v|=te;if(I=I.next,I===null){if(I=l.shared.pending,I===null)break;ae=I,I=ae.next,ae.next=null,l.lastBaseUpdate=ae,l.shared.pending=null}}while(!0);ue===null&&(U=pe),l.baseState=U,l.firstBaseUpdate=K,l.lastBaseUpdate=ue,d===null&&(l.shared.lanes=0),dn|=v,e.lanes=v,e.memoizedState=pe}}function $f(e,t){if(typeof e!="function")throw Error(a(191,e));e.call(t)}function Wf(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)$f(r[e],t)}var As=P(null),Oi=P(0);function Zf(e,t){e=Ur,ee(Oi,e),ee(As,t),Ur=e|t.baseLanes}function ql(){ee(Oi,Ur),ee(As,As.current)}function Hl(){Ur=Oi.current,R(As),R(Oi)}var qt=P(null),pr=null;function an(e){var t=e.alternate;ee(lt,lt.current&1),ee(qt,e),pr===null&&(t===null||As.current!==null||t.memoizedState!==null)&&(pr=e)}function Gl(e){ee(lt,lt.current),ee(qt,e),pr===null&&(pr=e)}function qf(e){e.tag===22?(ee(lt,lt.current),ee(qt,e),pr===null&&(pr=e)):ln()}function ln(){ee(lt,lt.current),ee(qt,qt.current)}function Ht(e){R(qt),pr===e&&(pr=null),R(lt)}var lt=P(0);function Mi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||eu(r)||tu(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rr=0,Fe=null,Qe=null,ft=null,Bi=!1,Is=!1,Gn=!1,Vi=0,Co=0,zs=null,zv=0;function it(){throw Error(a(321))}function Xl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Wt(e[r],t[r]))return!1;return!0}function Ql(e,t,r,s,l,d){return Rr=d,Fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,G.H=e===null||e.memoizedState===null?jh:dc,Gn=!1,d=r(s,l),Gn=!1,Is&&(d=Gf(t,r,s,l)),Hf(e),d}function Hf(e){G.H=jo;var t=Qe!==null&&Qe.next!==null;if(Rr=0,ft=Qe=Fe=null,Bi=!1,Co=0,zs=null,t)throw Error(a(300));e===null||ht||(e=e.dependencies,e!==null&&Ii(e)&&(ht=!0))}function Gf(e,t,r,s){Fe=e;var l=0;do{if(Is&&(zs=null),Co=0,Is=!1,25<=l)throw Error(a(301));if(l+=1,ft=Qe=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=Ah,d=t(r,s)}while(Is);return d}function Nv(){var e=G.H,t=e.useState()[0];return t=typeof t.then=="function"?Eo(t):t,e=e.useState()[0],(Qe!==null?Qe.memoizedState:null)!==e&&(Fe.flags|=1024),t}function Jl(){var e=Vi!==0;return Vi=0,e}function Kl(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Yl(e){if(Bi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Bi=!1}Rr=0,ft=Qe=Fe=null,Is=!1,Co=Vi=0,zs=null}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Fe.memoizedState=ft=e:ft=ft.next=e,ft}function ct(){if(Qe===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=ft===null?Fe.memoizedState:ft.next;if(t!==null)ft=t,Qe=e;else{if(e===null)throw Fe.alternate===null?Error(a(467)):Error(a(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},ft===null?Fe.memoizedState=ft=e:ft=ft.next=e}return ft}function Ui(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eo(e){var t=Co;return Co+=1,zs===null&&(zs=[]),e=Of(zs,e,t),t=Fe,(ft===null?t.memoizedState:ft.next)===null&&(t=t.alternate,G.H=t===null||t.memoizedState===null?jh:dc),e}function $i(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Eo(e);if(e.$$typeof===E)return wt(e)}throw Error(a(438,String(e)))}function ec(e){var t=null,r=Fe.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var s=Fe.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=Ui(),Fe.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),s=0;s<e;s++)r[s]=ie;return t.index++,r}function Fr(e,t){return typeof t=="function"?t(e):t}function Wi(e){var t=ct();return tc(t,Qe,e)}function tc(e,t,r){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=r;var l=e.baseQueue,d=s.pending;if(d!==null){if(l!==null){var v=l.next;l.next=d.next,d.next=v}t.baseQueue=l=d,s.pending=null}if(d=e.baseState,l===null)e.memoizedState=d;else{t=l.next;var I=v=null,U=null,K=t,ue=!1;do{var pe=K.lane&-536870913;if(pe!==K.lane?(Ve&pe)===pe:(Rr&pe)===pe){var te=K.revertLane;if(te===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),pe===Cs&&(ue=!0);else if((Rr&te)===te){K=K.next,te===Cs&&(ue=!0);continue}else pe={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},U===null?(I=U=pe,v=d):U=U.next=pe,Fe.lanes|=te,dn|=te;pe=K.action,Gn&&r(d,pe),d=K.hasEagerState?K.eagerState:r(d,pe)}else te={lane:pe,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},U===null?(I=U=te,v=d):U=U.next=te,Fe.lanes|=pe,dn|=pe;K=K.next}while(K!==null&&K!==t);if(U===null?v=d:U.next=I,!Wt(d,e.memoizedState)&&(ht=!0,ue&&(r=Es,r!==null)))throw r;e.memoizedState=d,e.baseState=v,e.baseQueue=U,s.lastRenderedState=d}return l===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function rc(e){var t=ct(),r=t.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var s=r.dispatch,l=r.pending,d=t.memoizedState;if(l!==null){r.pending=null;var v=l=l.next;do d=e(d,v.action),v=v.next;while(v!==l);Wt(d,t.memoizedState)||(ht=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,s]}function Xf(e,t,r){var s=Fe,l=ct(),d=$e;if(d){if(r===void 0)throw Error(a(407));r=r()}else r=t();var v=!Wt((Qe||l).memoizedState,r);if(v&&(l.memoizedState=r,ht=!0),l=l.queue,oc(Kf.bind(null,s,l,e),[e]),l.getSnapshot!==t||v||ft!==null&&ft.memoizedState.tag&1){if(s.flags|=2048,Ns(9,{destroy:void 0},Jf.bind(null,s,l,r,t),null),et===null)throw Error(a(349));d||(Rr&127)!==0||Qf(s,t,r)}return r}function Qf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Fe.updateQueue,t===null?(t=Ui(),Fe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Jf(e,t,r,s){t.value=r,t.getSnapshot=s,Yf(t)&&eh(e)}function Kf(e,t,r){return r(function(){Yf(t)&&eh(e)})}function Yf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Wt(e,r)}catch{return!0}}function eh(e){var t=Mn(e,2);t!==null&&Vt(t,e,2)}function nc(e){var t=zt();if(typeof e=="function"){var r=e;if(e=r(),Gn){Yt(!0);try{r()}finally{Yt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:e},t}function th(e,t,r,s){return e.baseState=r,tc(e,Qe,typeof s=="function"?s:Fr)}function Rv(e,t,r,s,l){if(Hi(e))throw Error(a(485));if(e=t.action,e!==null){var d={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};G.T!==null?r(!0):d.isTransition=!1,s(d),r=t.pending,r===null?(d.next=t.pending=d,rh(t,d)):(d.next=r.next,t.pending=r.next=d)}}function rh(e,t){var r=t.action,s=t.payload,l=e.state;if(t.isTransition){var d=G.T,v={};G.T=v;try{var I=r(l,s),U=G.S;U!==null&&U(v,I),nh(e,t,I)}catch(K){sc(e,t,K)}finally{d!==null&&v.types!==null&&(d.types=v.types),G.T=d}}else try{d=r(l,s),nh(e,t,d)}catch(K){sc(e,t,K)}}function nh(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(s){sh(e,t,s)},function(s){return sc(e,t,s)}):sh(e,t,r)}function sh(e,t,r){t.status="fulfilled",t.value=r,oh(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,rh(e,r)))}function sc(e,t,r){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=r,oh(t),t=t.next;while(t!==s)}e.action=null}function oh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ih(e,t){return t}function ah(e,t){if($e){var r=et.formState;if(r!==null){e:{var s=Fe;if($e){if(tt){t:{for(var l=tt,d=ir;l.nodeType!==8;){if(!d){l=null;break t}if(l=ar(l.nextSibling),l===null){l=null;break t}}d=l.data,l=d==="F!"||d==="F"?l:null}if(l){tt=ar(l.nextSibling),s=l.data==="F!";break e}}tn(s)}s=!1}s&&(t=r[0])}}return r=zt(),r.memoizedState=r.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ih,lastRenderedState:t},r.queue=s,r=Ch.bind(null,Fe,s),s.dispatch=r,s=nc(!1),d=uc.bind(null,Fe,!1,s.queue),s=zt(),l={state:t,dispatch:null,action:e,pending:null},s.queue=l,r=Rv.bind(null,Fe,l,d,r),l.dispatch=r,s.memoizedState=e,[t,r,!1]}function lh(e){var t=ct();return ch(t,Qe,e)}function ch(e,t,r){if(t=tc(e,t,ih)[0],e=Wi(Fr)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Eo(t)}catch(v){throw v===Ps?Ri:v}else s=t;t=ct();var l=t.queue,d=l.dispatch;return r!==t.memoizedState&&(Fe.flags|=2048,Ns(9,{destroy:void 0},Fv.bind(null,l,r),null)),[s,d,e]}function Fv(e,t){e.action=t}function uh(e){var t=ct(),r=Qe;if(r!==null)return ch(t,r,e);ct(),t=t.memoizedState,r=ct();var s=r.queue.dispatch;return r.memoizedState=e,[t,s,!1]}function Ns(e,t,r,s){return e={tag:e,create:r,deps:s,inst:t,next:null},t=Fe.updateQueue,t===null&&(t=Ui(),Fe.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e),e}function dh(){return ct().memoizedState}function Zi(e,t,r,s){var l=zt();Fe.flags|=e,l.memoizedState=Ns(1|t,{destroy:void 0},r,s===void 0?null:s)}function qi(e,t,r,s){var l=ct();s=s===void 0?null:s;var d=l.memoizedState.inst;Qe!==null&&s!==null&&Xl(s,Qe.memoizedState.deps)?l.memoizedState=Ns(t,d,r,s):(Fe.flags|=e,l.memoizedState=Ns(1|t,d,r,s))}function fh(e,t){Zi(8390656,8,e,t)}function oc(e,t){qi(2048,8,e,t)}function Lv(e){Fe.flags|=4;var t=Fe.updateQueue;if(t===null)t=Ui(),Fe.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function hh(e){var t=ct().memoizedState;return Lv({ref:t,nextImpl:e}),function(){if((qe&2)!==0)throw Error(a(440));return t.impl.apply(void 0,arguments)}}function ph(e,t){return qi(4,2,e,t)}function mh(e,t){return qi(4,4,e,t)}function gh(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yh(e,t,r){r=r!=null?r.concat([e]):null,qi(4,4,gh.bind(null,t,e),r)}function ic(){}function vh(e,t){var r=ct();t=t===void 0?null:t;var s=r.memoizedState;return t!==null&&Xl(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function bh(e,t){var r=ct();t=t===void 0?null:t;var s=r.memoizedState;if(t!==null&&Xl(t,s[1]))return s[0];if(s=e(),Gn){Yt(!0);try{e()}finally{Yt(!1)}}return r.memoizedState=[s,t],s}function ac(e,t,r){return r===void 0||(Rr&1073741824)!==0&&(Ve&261930)===0?e.memoizedState=t:(e.memoizedState=r,e=xp(),Fe.lanes|=e,dn|=e,r)}function xh(e,t,r,s){return Wt(r,t)?r:As.current!==null?(e=ac(e,r,s),Wt(e,t)||(ht=!0),e):(Rr&42)===0||(Rr&1073741824)!==0&&(Ve&261930)===0?(ht=!0,e.memoizedState=r):(e=xp(),Fe.lanes|=e,dn|=e,t)}function kh(e,t,r,s,l){var d=O.p;O.p=d!==0&&8>d?d:8;var v=G.T,I={};G.T=I,uc(e,!1,t,r);try{var U=l(),K=G.S;if(K!==null&&K(I,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ue=Iv(U,s);Po(e,t,ue,Qt(e))}else Po(e,t,s,Qt(e))}catch(pe){Po(e,t,{then:function(){},status:"rejected",reason:pe},Qt())}finally{O.p=d,v!==null&&I.types!==null&&(v.types=I.types),G.T=v}}function Dv(){}function lc(e,t,r,s){if(e.tag!==5)throw Error(a(476));var l=wh(e).queue;kh(e,l,t,le,r===null?Dv:function(){return Sh(e),r(s)})}function wh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:le},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Sh(e){var t=wh(e);t.next===null&&(t=e.alternate.memoizedState),Po(e,t.next.queue,{},Qt())}function cc(){return wt(Zo)}function Th(){return ct().memoizedState}function _h(){return ct().memoizedState}function Ov(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=Qt();e=sn(r);var s=on(t,e,r);s!==null&&(Vt(s,t,r),So(s,t,r)),t={cache:Ol()},e.payload=t;return}t=t.return}}function Mv(e,t,r){var s=Qt();r={lane:s,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Hi(e)?Eh(t,r):(r=El(e,t,r,s),r!==null&&(Vt(r,e,s),Ph(r,t,s)))}function Ch(e,t,r){var s=Qt();Po(e,t,r,s)}function Po(e,t,r,s){var l={lane:s,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Hi(e))Eh(t,l);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var v=t.lastRenderedState,I=d(v,r);if(l.hasEagerState=!0,l.eagerState=I,Wt(I,v))return Ei(e,t,l,0),et===null&&Ci(),!1}catch{}finally{}if(r=El(e,t,l,s),r!==null)return Vt(r,e,s),Ph(r,t,s),!0}return!1}function uc(e,t,r,s){if(s={lane:2,revertLane:Uc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Hi(e)){if(t)throw Error(a(479))}else t=El(e,r,s,2),t!==null&&Vt(t,e,2)}function Hi(e){var t=e.alternate;return e===Fe||t!==null&&t===Fe}function Eh(e,t){Is=Bi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ph(e,t,r){if((r&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,zd(e,r)}}var jo={readContext:wt,use:$i,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it,useHostTransitionStatus:it,useFormState:it,useActionState:it,useOptimistic:it,useMemoCache:it,useCacheRefresh:it};jo.useEffectEvent=it;var jh={readContext:wt,use:$i,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:fh,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,Zi(4194308,4,gh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Zi(4194308,4,e,t)},useInsertionEffect:function(e,t){Zi(4,2,e,t)},useMemo:function(e,t){var r=zt();t=t===void 0?null:t;var s=e();if(Gn){Yt(!0);try{e()}finally{Yt(!1)}}return r.memoizedState=[s,t],s},useReducer:function(e,t,r){var s=zt();if(r!==void 0){var l=r(t);if(Gn){Yt(!0);try{r(t)}finally{Yt(!1)}}}else l=t;return s.memoizedState=s.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},s.queue=e,e=e.dispatch=Mv.bind(null,Fe,e),[s.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:function(e){e=nc(e);var t=e.queue,r=Ch.bind(null,Fe,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:ic,useDeferredValue:function(e,t){var r=zt();return ac(r,e,t)},useTransition:function(){var e=nc(!1);return e=kh.bind(null,Fe,e.queue,!0,!1),zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var s=Fe,l=zt();if($e){if(r===void 0)throw Error(a(407));r=r()}else{if(r=t(),et===null)throw Error(a(349));(Ve&127)!==0||Qf(s,t,r)}l.memoizedState=r;var d={value:r,getSnapshot:t};return l.queue=d,fh(Kf.bind(null,s,d,e),[e]),s.flags|=2048,Ns(9,{destroy:void 0},Jf.bind(null,s,d,r,t),null),r},useId:function(){var e=zt(),t=et.identifierPrefix;if($e){var r=xr,s=br;r=(s&~(1<<32-st(s)-1)).toString(32)+r,t="_"+t+"R_"+r,r=Vi++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=zv++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:cc,useFormState:ah,useActionState:ah,useOptimistic:function(e){var t=zt();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=uc.bind(null,Fe,!0,r),r.dispatch=t,[e,t]},useMemoCache:ec,useCacheRefresh:function(){return zt().memoizedState=Ov.bind(null,Fe)},useEffectEvent:function(e){var t=zt(),r={impl:e};return t.memoizedState=r,function(){if((qe&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},dc={readContext:wt,use:$i,useCallback:vh,useContext:wt,useEffect:oc,useImperativeHandle:yh,useInsertionEffect:ph,useLayoutEffect:mh,useMemo:bh,useReducer:Wi,useRef:dh,useState:function(){return Wi(Fr)},useDebugValue:ic,useDeferredValue:function(e,t){var r=ct();return xh(r,Qe.memoizedState,e,t)},useTransition:function(){var e=Wi(Fr)[0],t=ct().memoizedState;return[typeof e=="boolean"?e:Eo(e),t]},useSyncExternalStore:Xf,useId:Th,useHostTransitionStatus:cc,useFormState:lh,useActionState:lh,useOptimistic:function(e,t){var r=ct();return th(r,Qe,e,t)},useMemoCache:ec,useCacheRefresh:_h};dc.useEffectEvent=hh;var Ah={readContext:wt,use:$i,useCallback:vh,useContext:wt,useEffect:oc,useImperativeHandle:yh,useInsertionEffect:ph,useLayoutEffect:mh,useMemo:bh,useReducer:rc,useRef:dh,useState:function(){return rc(Fr)},useDebugValue:ic,useDeferredValue:function(e,t){var r=ct();return Qe===null?ac(r,e,t):xh(r,Qe.memoizedState,e,t)},useTransition:function(){var e=rc(Fr)[0],t=ct().memoizedState;return[typeof e=="boolean"?e:Eo(e),t]},useSyncExternalStore:Xf,useId:Th,useHostTransitionStatus:cc,useFormState:uh,useActionState:uh,useOptimistic:function(e,t){var r=ct();return Qe!==null?th(r,Qe,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:ec,useCacheRefresh:_h};Ah.useEffectEvent=hh;function fc(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:y({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var hc={enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Qt(),l=sn(s);l.payload=t,r!=null&&(l.callback=r),t=on(e,l,s),t!==null&&(Vt(t,e,s),So(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Qt(),l=sn(s);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=on(e,l,s),t!==null&&(Vt(t,e,s),So(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Qt(),s=sn(r);s.tag=2,t!=null&&(s.callback=t),t=on(e,s,r),t!==null&&(Vt(t,e,r),So(t,e,r))}};function Ih(e,t,r,s,l,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,v):t.prototype&&t.prototype.isPureReactComponent?!mo(r,s)||!mo(l,d):!0}function zh(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&hc.enqueueReplaceState(t,t.state,null)}function Xn(e,t){var r=t;if("ref"in t){r={};for(var s in t)s!=="ref"&&(r[s]=t[s])}if(e=e.defaultProps){r===t&&(r=y({},r));for(var l in e)r[l]===void 0&&(r[l]=e[l])}return r}function Nh(e){_i(e)}function Rh(e){console.error(e)}function Fh(e){_i(e)}function Gi(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Lh(e,t,r){try{var s=e.onCaughtError;s(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function pc(e,t,r){return r=sn(r),r.tag=3,r.payload={element:null},r.callback=function(){Gi(e,t)},r}function Dh(e){return e=sn(e),e.tag=3,e}function Oh(e,t,r,s){var l=r.type.getDerivedStateFromError;if(typeof l=="function"){var d=s.value;e.payload=function(){return l(d)},e.callback=function(){Lh(t,r,s)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Lh(t,r,s),typeof l!="function"&&(fn===null?fn=new Set([this]):fn.add(this));var I=s.stack;this.componentDidCatch(s.value,{componentStack:I!==null?I:""})})}function Bv(e,t,r,s,l){if(r.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=r.alternate,t!==null&&_s(t,r,l,!0),r=qt.current,r!==null){switch(r.tag){case 31:case 13:return pr===null?ia():r.alternate===null&&at===0&&(at=3),r.flags&=-257,r.flags|=65536,r.lanes=l,s===Fi?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([s]):t.add(s),Mc(e,s,l)),!1;case 22:return r.flags|=65536,s===Fi?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([s]):r.add(s)),Mc(e,s,l)),!1}throw Error(a(435,r.tag))}return Mc(e,s,l),ia(),!1}if($e)return t=qt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=l,s!==Nl&&(e=Error(a(422),{cause:s}),vo(nr(e,r)))):(s!==Nl&&(t=Error(a(423),{cause:s}),vo(nr(t,r))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,s=nr(s,r),l=pc(e.stateNode,s,l),Wl(e,l),at!==4&&(at=2)),!1;var d=Error(a(520),{cause:s});if(d=nr(d,r),Do===null?Do=[d]:Do.push(d),at!==4&&(at=2),t===null)return!0;s=nr(s,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=l&-l,r.lanes|=e,e=pc(r.stateNode,s,e),Wl(r,e),!1;case 1:if(t=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(fn===null||!fn.has(d))))return r.flags|=65536,l&=-l,r.lanes|=l,l=Dh(l),Oh(l,e,r,s),Wl(r,l),!1}r=r.return}while(r!==null);return!1}var mc=Error(a(461)),ht=!1;function St(e,t,r,s){t.child=e===null?Uf(t,null,r,s):Hn(t,e.child,r,s)}function Mh(e,t,r,s,l){r=r.render;var d=t.ref;if("ref"in s){var v={};for(var I in s)I!=="ref"&&(v[I]=s[I])}else v=s;return $n(t),s=Ql(e,t,r,v,d,l),I=Jl(),e!==null&&!ht?(Kl(e,t,l),Lr(e,t,l)):($e&&I&&Il(t),t.flags|=1,St(e,t,s,l),t.child)}function Bh(e,t,r,s,l){if(e===null){var d=r.type;return typeof d=="function"&&!Pl(d)&&d.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=d,Vh(e,t,d,s,l)):(e=ji(r.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Sc(e,l)){var v=d.memoizedProps;if(r=r.compare,r=r!==null?r:mo,r(v,s)&&e.ref===t.ref)return Lr(e,t,l)}return t.flags|=1,e=Ar(d,s),e.ref=t.ref,e.return=t,t.child=e}function Vh(e,t,r,s,l){if(e!==null){var d=e.memoizedProps;if(mo(d,s)&&e.ref===t.ref)if(ht=!1,t.pendingProps=s=d,Sc(e,l))(e.flags&131072)!==0&&(ht=!0);else return t.lanes=e.lanes,Lr(e,t,l)}return gc(e,t,r,s,l)}function Uh(e,t,r,s){var l=s.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,e!==null){for(s=t.child=e.child,l=0;s!==null;)l=l|s.lanes|s.childLanes,s=s.sibling;s=l&~d}else s=0,t.child=null;return $h(e,t,d,r,s)}if((r&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ni(t,d!==null?d.cachePool:null),d!==null?Zf(t,d):ql(),qf(t);else return s=t.lanes=536870912,$h(e,t,d!==null?d.baseLanes|r:r,r,s)}else d!==null?(Ni(t,d.cachePool),Zf(t,d),ln(),t.memoizedState=null):(e!==null&&Ni(t,null),ql(),ln());return St(e,t,l,r),t.child}function Ao(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function $h(e,t,r,s,l){var d=Bl();return d=d===null?null:{parent:dt._currentValue,pool:d},t.memoizedState={baseLanes:r,cachePool:d},e!==null&&Ni(t,null),ql(),qf(t),e!==null&&_s(e,t,s,!0),t.childLanes=l,null}function Xi(e,t){return t=Ji({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Wh(e,t,r){return Hn(t,e.child,null,r),e=Xi(t,t.pendingProps),e.flags|=2,Ht(t),t.memoizedState=null,e}function Vv(e,t,r){var s=t.pendingProps,l=(t.flags&128)!==0;if(t.flags&=-129,e===null){if($e){if(s.mode==="hidden")return e=Xi(t,s),t.lanes=536870912,Ao(null,e);if(Gl(t),(e=tt)?(e=rm(e,ir),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Yr!==null?{id:br,overflow:xr}:null,retryLane:536870912,hydrationErrors:null},r=Ef(e),r.return=t,t.child=r,kt=t,tt=null)):e=null,e===null)throw tn(t);return t.lanes=536870912,null}return Xi(t,s)}var d=e.memoizedState;if(d!==null){var v=d.dehydrated;if(Gl(t),l)if(t.flags&256)t.flags&=-257,t=Wh(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(a(558));else if(ht||_s(e,t,r,!1),l=(r&e.childLanes)!==0,ht||l){if(s=et,s!==null&&(v=Nd(s,r),v!==0&&v!==d.retryLane))throw d.retryLane=v,Mn(e,v),Vt(s,e,v),mc;ia(),t=Wh(e,t,r)}else e=d.treeContext,tt=ar(v.nextSibling),kt=t,$e=!0,en=null,ir=!1,e!==null&&Af(t,e),t=Xi(t,s),t.flags|=4096;return t}return e=Ar(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Qi(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function gc(e,t,r,s,l){return $n(t),r=Ql(e,t,r,s,void 0,l),s=Jl(),e!==null&&!ht?(Kl(e,t,l),Lr(e,t,l)):($e&&s&&Il(t),t.flags|=1,St(e,t,r,l),t.child)}function Zh(e,t,r,s,l,d){return $n(t),t.updateQueue=null,r=Gf(t,s,r,l),Hf(e),s=Jl(),e!==null&&!ht?(Kl(e,t,d),Lr(e,t,d)):($e&&s&&Il(t),t.flags|=1,St(e,t,r,d),t.child)}function qh(e,t,r,s,l){if($n(t),t.stateNode===null){var d=ks,v=r.contextType;typeof v=="object"&&v!==null&&(d=wt(v)),d=new r(s,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=hc,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=s,d.state=t.memoizedState,d.refs={},Ul(t),v=r.contextType,d.context=typeof v=="object"&&v!==null?wt(v):ks,d.state=t.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(fc(t,r,v,s),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&hc.enqueueReplaceState(d,d.state,null),_o(t,s,d,l),To(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){d=t.stateNode;var I=t.memoizedProps,U=Xn(r,I);d.props=U;var K=d.context,ue=r.contextType;v=ks,typeof ue=="object"&&ue!==null&&(v=wt(ue));var pe=r.getDerivedStateFromProps;ue=typeof pe=="function"||typeof d.getSnapshotBeforeUpdate=="function",I=t.pendingProps!==I,ue||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(I||K!==v)&&zh(t,d,s,v),nn=!1;var te=t.memoizedState;d.state=te,_o(t,s,d,l),To(),K=t.memoizedState,I||te!==K||nn?(typeof pe=="function"&&(fc(t,r,pe,s),K=t.memoizedState),(U=nn||Ih(t,r,U,s,te,K,v))?(ue||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=K),d.props=s,d.state=K,d.context=v,s=U):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{d=t.stateNode,$l(e,t),v=t.memoizedProps,ue=Xn(r,v),d.props=ue,pe=t.pendingProps,te=d.context,K=r.contextType,U=ks,typeof K=="object"&&K!==null&&(U=wt(K)),I=r.getDerivedStateFromProps,(K=typeof I=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==pe||te!==U)&&zh(t,d,s,U),nn=!1,te=t.memoizedState,d.state=te,_o(t,s,d,l),To();var ae=t.memoizedState;v!==pe||te!==ae||nn||e!==null&&e.dependencies!==null&&Ii(e.dependencies)?(typeof I=="function"&&(fc(t,r,I,s),ae=t.memoizedState),(ue=nn||Ih(t,r,ue,s,te,ae,U)||e!==null&&e.dependencies!==null&&Ii(e.dependencies))?(K||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,ae,U),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,ae,U)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&te===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&te===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=ae),d.props=s,d.state=ae,d.context=U,s=ue):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&te===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&te===e.memoizedState||(t.flags|=1024),s=!1)}return d=s,Qi(e,t),s=(t.flags&128)!==0,d||s?(d=t.stateNode,r=s&&typeof r.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&s?(t.child=Hn(t,e.child,null,l),t.child=Hn(t,null,r,l)):St(e,t,r,l),t.memoizedState=d.state,e=t.child):e=Lr(e,t,l),e}function Hh(e,t,r,s){return Vn(),t.flags|=256,St(e,t,r,s),t.child}var yc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vc(e){return{baseLanes:e,cachePool:Lf()}}function bc(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=Xt),e}function Gh(e,t,r){var s=t.pendingProps,l=!1,d=(t.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(lt.current&2)!==0),v&&(l=!0,t.flags&=-129),v=(t.flags&32)!==0,t.flags&=-33,e===null){if($e){if(l?an(t):ln(),(e=tt)?(e=rm(e,ir),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Yr!==null?{id:br,overflow:xr}:null,retryLane:536870912,hydrationErrors:null},r=Ef(e),r.return=t,t.child=r,kt=t,tt=null)):e=null,e===null)throw tn(t);return tu(e)?t.lanes=32:t.lanes=536870912,null}var I=s.children;return s=s.fallback,l?(ln(),l=t.mode,I=Ji({mode:"hidden",children:I},l),s=Bn(s,l,r,null),I.return=t,s.return=t,I.sibling=s,t.child=I,s=t.child,s.memoizedState=vc(r),s.childLanes=bc(e,v,r),t.memoizedState=yc,Ao(null,s)):(an(t),xc(t,I))}var U=e.memoizedState;if(U!==null&&(I=U.dehydrated,I!==null)){if(d)t.flags&256?(an(t),t.flags&=-257,t=kc(e,t,r)):t.memoizedState!==null?(ln(),t.child=e.child,t.flags|=128,t=null):(ln(),I=s.fallback,l=t.mode,s=Ji({mode:"visible",children:s.children},l),I=Bn(I,l,r,null),I.flags|=2,s.return=t,I.return=t,s.sibling=I,t.child=s,Hn(t,e.child,null,r),s=t.child,s.memoizedState=vc(r),s.childLanes=bc(e,v,r),t.memoizedState=yc,t=Ao(null,s));else if(an(t),tu(I)){if(v=I.nextSibling&&I.nextSibling.dataset,v)var K=v.dgst;v=K,s=Error(a(419)),s.stack="",s.digest=v,vo({value:s,source:null,stack:null}),t=kc(e,t,r)}else if(ht||_s(e,t,r,!1),v=(r&e.childLanes)!==0,ht||v){if(v=et,v!==null&&(s=Nd(v,r),s!==0&&s!==U.retryLane))throw U.retryLane=s,Mn(e,s),Vt(v,e,s),mc;eu(I)||ia(),t=kc(e,t,r)}else eu(I)?(t.flags|=192,t.child=e.child,t=null):(e=U.treeContext,tt=ar(I.nextSibling),kt=t,$e=!0,en=null,ir=!1,e!==null&&Af(t,e),t=xc(t,s.children),t.flags|=4096);return t}return l?(ln(),I=s.fallback,l=t.mode,U=e.child,K=U.sibling,s=Ar(U,{mode:"hidden",children:s.children}),s.subtreeFlags=U.subtreeFlags&65011712,K!==null?I=Ar(K,I):(I=Bn(I,l,r,null),I.flags|=2),I.return=t,s.return=t,s.sibling=I,t.child=s,Ao(null,s),s=t.child,I=e.child.memoizedState,I===null?I=vc(r):(l=I.cachePool,l!==null?(U=dt._currentValue,l=l.parent!==U?{parent:U,pool:U}:l):l=Lf(),I={baseLanes:I.baseLanes|r,cachePool:l}),s.memoizedState=I,s.childLanes=bc(e,v,r),t.memoizedState=yc,Ao(e.child,s)):(an(t),r=e.child,e=r.sibling,r=Ar(r,{mode:"visible",children:s.children}),r.return=t,r.sibling=null,e!==null&&(v=t.deletions,v===null?(t.deletions=[e],t.flags|=16):v.push(e)),t.child=r,t.memoizedState=null,r)}function xc(e,t){return t=Ji({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ji(e,t){return e=Zt(22,e,null,t),e.lanes=0,e}function kc(e,t,r){return Hn(t,e.child,null,r),e=xc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xh(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ll(e.return,t,r)}function wc(e,t,r,s,l,d){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:l,treeForkCount:d}:(v.isBackwards=t,v.rendering=null,v.renderingStartTime=0,v.last=s,v.tail=r,v.tailMode=l,v.treeForkCount=d)}function Qh(e,t,r){var s=t.pendingProps,l=s.revealOrder,d=s.tail;s=s.children;var v=lt.current,I=(v&2)!==0;if(I?(v=v&1|2,t.flags|=128):v&=1,ee(lt,v),St(e,t,s,r),s=$e?yo:0,!I&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xh(e,r,t);else if(e.tag===19)Xh(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&Mi(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),wc(t,!1,l,r,d,s);break;case"backwards":case"unstable_legacy-backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Mi(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}wc(t,!0,r,null,d,s);break;case"together":wc(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Lr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),dn|=t.lanes,(r&t.childLanes)===0)if(e!==null){if(_s(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,r=Ar(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ar(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Sc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ii(e)))}function Uv(e,t,r){switch(t.tag){case 3:be(t,t.stateNode.containerInfo),rn(t,dt,e.memoizedState.cache),Vn();break;case 27:case 5:ye(t);break;case 4:be(t,t.stateNode.containerInfo);break;case 10:rn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Gl(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(an(t),t.flags|=128,null):(r&t.child.childLanes)!==0?Gh(e,t,r):(an(t),e=Lr(e,t,r),e!==null?e.sibling:null);an(t);break;case 19:var l=(e.flags&128)!==0;if(s=(r&t.childLanes)!==0,s||(_s(e,t,r,!1),s=(r&t.childLanes)!==0),l){if(s)return Qh(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ee(lt,lt.current),s)break;return null;case 22:return t.lanes=0,Uh(e,t,r,t.pendingProps);case 24:rn(t,dt,e.memoizedState.cache)}return Lr(e,t,r)}function Jh(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)ht=!0;else{if(!Sc(e,r)&&(t.flags&128)===0)return ht=!1,Uv(e,t,r);ht=(e.flags&131072)!==0}else ht=!1,$e&&(t.flags&1048576)!==0&&jf(t,yo,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Zn(t.elementType),t.type=e,typeof e=="function")Pl(e)?(s=Xn(e,s),t.tag=1,t=qh(null,t,e,s,r)):(t.tag=0,t=gc(null,t,e,s,r));else{if(e!=null){var l=e.$$typeof;if(l===F){t.tag=11,t=Mh(null,t,e,s,r);break e}else if(l===M){t.tag=14,t=Bh(null,t,e,s,r);break e}}throw t=T(e)||e,Error(a(306,t,""))}}return t;case 0:return gc(e,t,t.type,t.pendingProps,r);case 1:return s=t.type,l=Xn(s,t.pendingProps),qh(e,t,s,l,r);case 3:e:{if(be(t,t.stateNode.containerInfo),e===null)throw Error(a(387));s=t.pendingProps;var d=t.memoizedState;l=d.element,$l(e,t),_o(t,s,null,r);var v=t.memoizedState;if(s=v.cache,rn(t,dt,s),s!==d.cache&&Dl(t,[dt],r,!0),To(),s=v.element,d.isDehydrated)if(d={element:s,isDehydrated:!1,cache:v.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Hh(e,t,s,r);break e}else if(s!==l){l=nr(Error(a(424)),t),vo(l),t=Hh(e,t,s,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(tt=ar(e.firstChild),kt=t,$e=!0,en=null,ir=!0,r=Uf(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Vn(),s===l){t=Lr(e,t,r);break e}St(e,t,s,r)}t=t.child}return t;case 26:return Qi(e,t),e===null?(r=lm(t.type,null,t.pendingProps,null))?t.memoizedState=r:$e||(r=t.type,e=t.pendingProps,s=ha(Te.current).createElement(r),s[xt]=t,s[Ft]=e,Tt(s,r,e),yt(s),t.stateNode=s):t.memoizedState=lm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ye(t),e===null&&$e&&(s=t.stateNode=om(t.type,t.pendingProps,Te.current),kt=t,ir=!0,l=tt,gn(t.type)?(ru=l,tt=ar(s.firstChild)):tt=l),St(e,t,t.pendingProps.children,r),Qi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&$e&&((l=s=tt)&&(s=vb(s,t.type,t.pendingProps,ir),s!==null?(t.stateNode=s,kt=t,tt=ar(s.firstChild),ir=!1,l=!0):l=!1),l||tn(t)),ye(t),l=t.type,d=t.pendingProps,v=e!==null?e.memoizedProps:null,s=d.children,Jc(l,d)?s=null:v!==null&&Jc(l,v)&&(t.flags|=32),t.memoizedState!==null&&(l=Ql(e,t,Nv,null,null,r),Zo._currentValue=l),Qi(e,t),St(e,t,s,r),t.child;case 6:return e===null&&$e&&((e=r=tt)&&(r=bb(r,t.pendingProps,ir),r!==null?(t.stateNode=r,kt=t,tt=null,e=!0):e=!1),e||tn(t)),null;case 13:return Gh(e,t,r);case 4:return be(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Hn(t,null,s,r):St(e,t,s,r),t.child;case 11:return Mh(e,t,t.type,t.pendingProps,r);case 7:return St(e,t,t.pendingProps,r),t.child;case 8:return St(e,t,t.pendingProps.children,r),t.child;case 12:return St(e,t,t.pendingProps.children,r),t.child;case 10:return s=t.pendingProps,rn(t,t.type,s.value),St(e,t,s.children,r),t.child;case 9:return l=t.type._context,s=t.pendingProps.children,$n(t),l=wt(l),s=s(l),t.flags|=1,St(e,t,s,r),t.child;case 14:return Bh(e,t,t.type,t.pendingProps,r);case 15:return Vh(e,t,t.type,t.pendingProps,r);case 19:return Qh(e,t,r);case 31:return Vv(e,t,r);case 22:return Uh(e,t,r,t.pendingProps);case 24:return $n(t),s=wt(dt),e===null?(l=Bl(),l===null&&(l=et,d=Ol(),l.pooledCache=d,d.refCount++,d!==null&&(l.pooledCacheLanes|=r),l=d),t.memoizedState={parent:s,cache:l},Ul(t),rn(t,dt,l)):((e.lanes&r)!==0&&($l(e,t),_o(t,null,null,r),To()),l=e.memoizedState,d=t.memoizedState,l.parent!==s?(l={parent:s,cache:s},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),rn(t,dt,s)):(s=d.cache,rn(t,dt,s),s!==l.cache&&Dl(t,[dt],r,!0))),St(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Dr(e){e.flags|=4}function Tc(e,t,r,s,l){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(Tp())e.flags|=8192;else throw qn=Fi,Vl}else e.flags&=-16777217}function Kh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!hm(t))if(Tp())e.flags|=8192;else throw qn=Fi,Vl}function Ki(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ad():536870912,e.lanes|=t,Ds|=t)}function Io(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,s|=l.subtreeFlags&65011712,s|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function $v(e,t,r){var s=t.pendingProps;switch(zl(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return rt(t),null;case 3:return r=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Nr(dt),ke(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ts(t)?Dr(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Rl())),rt(t),null;case 26:var l=t.type,d=t.memoizedState;return e===null?(Dr(t),d!==null?(rt(t),Kh(t,d)):(rt(t),Tc(t,l,null,s,r))):d?d!==e.memoizedState?(Dr(t),rt(t),Kh(t,d)):(rt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&Dr(t),rt(t),Tc(t,l,e,s,r)),null;case 27:if(Se(t),r=Te.current,l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Dr(t);else{if(!s){if(t.stateNode===null)throw Error(a(166));return rt(t),null}e=ne.current,Ts(t)?If(t):(e=om(l,s,r),t.stateNode=e,Dr(t))}return rt(t),null;case 5:if(Se(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Dr(t);else{if(!s){if(t.stateNode===null)throw Error(a(166));return rt(t),null}if(d=ne.current,Ts(t))If(t);else{var v=ha(Te.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof s.is=="string"?v.createElement("select",{is:s.is}):v.createElement("select"),s.multiple?d.multiple=!0:s.size&&(d.size=s.size);break;default:d=typeof s.is=="string"?v.createElement(l,{is:s.is}):v.createElement(l)}}d[xt]=t,d[Ft]=s;e:for(v=t.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}t.stateNode=d;e:switch(Tt(d,l,s),l){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Dr(t)}}return rt(t),Tc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Dr(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(a(166));if(e=Te.current,Ts(t)){if(e=t.stateNode,r=t.memoizedProps,s=null,l=kt,l!==null)switch(l.tag){case 27:case 5:s=l.memoizedProps}e[xt]=t,e=!!(e.nodeValue===r||s!==null&&s.suppressHydrationWarning===!0||Gp(e.nodeValue,r)),e||tn(t,!0)}else e=ha(e).createTextNode(s),e[xt]=t,t.stateNode=e}return rt(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(s=Ts(t),r!==null){if(e===null){if(!s)throw Error(a(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[xt]=t}else Vn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;rt(t),e=!1}else r=Rl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(Ht(t),t):(Ht(t),null);if((t.flags&128)!==0)throw Error(a(558))}return rt(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=Ts(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(a(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(a(317));l[xt]=t}else Vn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;rt(t),l=!1}else l=Rl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(Ht(t),t):(Ht(t),null)}return Ht(t),(t.flags&128)!==0?(t.lanes=r,t):(r=s!==null,e=e!==null&&e.memoizedState!==null,r&&(s=t.child,l=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(l=s.alternate.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==l&&(s.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),Ki(t,t.updateQueue),rt(t),null);case 4:return ke(),e===null&&qc(t.stateNode.containerInfo),rt(t),null;case 10:return Nr(t.type),rt(t),null;case 19:if(R(lt),s=t.memoizedState,s===null)return rt(t),null;if(l=(t.flags&128)!==0,d=s.rendering,d===null)if(l)Io(s,!1);else{if(at!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Mi(e),d!==null){for(t.flags|=128,Io(s,!1),e=d.updateQueue,t.updateQueue=e,Ki(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)Cf(r,e),r=r.sibling;return ee(lt,lt.current&1|2),$e&&Ir(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&we()>na&&(t.flags|=128,l=!0,Io(s,!1),t.lanes=4194304)}else{if(!l)if(e=Mi(d),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Ki(t,e),Io(s,!0),s.tail===null&&s.tailMode==="hidden"&&!d.alternate&&!$e)return rt(t),null}else 2*we()-s.renderingStartTime>na&&r!==536870912&&(t.flags|=128,l=!0,Io(s,!1),t.lanes=4194304);s.isBackwards?(d.sibling=t.child,t.child=d):(e=s.last,e!==null?e.sibling=d:t.child=d,s.last=d)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=we(),e.sibling=null,r=lt.current,ee(lt,l?r&1|2:r&1),$e&&Ir(t,s.treeForkCount),e):(rt(t),null);case 22:case 23:return Ht(t),Hl(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(r&536870912)!==0&&(t.flags&128)===0&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),r=t.updateQueue,r!==null&&Ki(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==r&&(t.flags|=2048),e!==null&&R(Wn),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Nr(dt),rt(t),null;case 25:return null;case 30:return null}throw Error(a(156,t.tag))}function Wv(e,t){switch(zl(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Nr(dt),ke(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Se(t),null;case 31:if(t.memoizedState!==null){if(Ht(t),t.alternate===null)throw Error(a(340));Vn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ht(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));Vn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return R(lt),null;case 4:return ke(),null;case 10:return Nr(t.type),null;case 22:case 23:return Ht(t),Hl(),e!==null&&R(Wn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Nr(dt),null;case 25:return null;default:return null}}function Yh(e,t){switch(zl(t),t.tag){case 3:Nr(dt),ke();break;case 26:case 27:case 5:Se(t);break;case 4:ke();break;case 31:t.memoizedState!==null&&Ht(t);break;case 13:Ht(t);break;case 19:R(lt);break;case 10:Nr(t.type);break;case 22:case 23:Ht(t),Hl(),e!==null&&R(Wn);break;case 24:Nr(dt)}}function zo(e,t){try{var r=t.updateQueue,s=r!==null?r.lastEffect:null;if(s!==null){var l=s.next;r=l;do{if((r.tag&e)===e){s=void 0;var d=r.create,v=r.inst;s=d(),v.destroy=s}r=r.next}while(r!==l)}}catch(I){Xe(t,t.return,I)}}function cn(e,t,r){try{var s=t.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var d=l.next;s=d;do{if((s.tag&e)===e){var v=s.inst,I=v.destroy;if(I!==void 0){v.destroy=void 0,l=t;var U=r,K=I;try{K()}catch(ue){Xe(l,U,ue)}}}s=s.next}while(s!==d)}}catch(ue){Xe(t,t.return,ue)}}function ep(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{Wf(t,r)}catch(s){Xe(e,e.return,s)}}}function tp(e,t,r){r.props=Xn(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(s){Xe(e,t,s)}}function No(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof r=="function"?e.refCleanup=r(s):r.current=s}}catch(l){Xe(e,t,l)}}function kr(e,t){var r=e.ref,s=e.refCleanup;if(r!==null)if(typeof s=="function")try{s()}catch(l){Xe(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(l){Xe(e,t,l)}else r.current=null}function rp(e){var t=e.type,r=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&s.focus();break e;case"img":r.src?s.src=r.src:r.srcSet&&(s.srcset=r.srcSet)}}catch(l){Xe(e,e.return,l)}}function _c(e,t,r){try{var s=e.stateNode;fb(s,e.type,r,t),s[Ft]=t}catch(l){Xe(e,e.return,l)}}function np(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gn(e.type)||e.tag===4}function Cc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||np(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ec(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Pr));else if(s!==4&&(s===27&&gn(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(Ec(e,t,r),e=e.sibling;e!==null;)Ec(e,t,r),e=e.sibling}function Yi(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(s===27&&gn(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Yi(e,t,r),e=e.sibling;e!==null;)Yi(e,t,r),e=e.sibling}function sp(e){var t=e.stateNode,r=e.memoizedProps;try{for(var s=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);Tt(t,s,r),t[xt]=e,t[Ft]=r}catch(d){Xe(e,e.return,d)}}var Or=!1,pt=!1,Pc=!1,op=typeof WeakSet=="function"?WeakSet:Set,vt=null;function Zv(e,t){if(e=e.containerInfo,Xc=xa,e=yf(e),kl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var l=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var v=0,I=-1,U=-1,K=0,ue=0,pe=e,te=null;t:for(;;){for(var ae;pe!==r||l!==0&&pe.nodeType!==3||(I=v+l),pe!==d||s!==0&&pe.nodeType!==3||(U=v+s),pe.nodeType===3&&(v+=pe.nodeValue.length),(ae=pe.firstChild)!==null;)te=pe,pe=ae;for(;;){if(pe===e)break t;if(te===r&&++K===l&&(I=v),te===d&&++ue===s&&(U=v),(ae=pe.nextSibling)!==null)break;pe=te,te=pe.parentNode}pe=ae}r=I===-1||U===-1?null:{start:I,end:U}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qc={focusedElem:e,selectionRange:r},xa=!1,vt=t;vt!==null;)if(t=vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,vt=e;else for(;vt!==null;){switch(t=vt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)l=e[r],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,r=t,l=d.memoizedProps,d=d.memoizedState,s=r.stateNode;try{var _e=Xn(r.type,l);e=s.getSnapshotBeforeUpdate(_e,d),s.__reactInternalSnapshotBeforeUpdate=e}catch(Ae){Xe(r,r.return,Ae)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)Yc(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=t.sibling,e!==null){e.return=t.return,vt=e;break}vt=t.return}}function ip(e,t,r){var s=r.flags;switch(r.tag){case 0:case 11:case 15:Br(e,r),s&4&&zo(5,r);break;case 1:if(Br(e,r),s&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(v){Xe(r,r.return,v)}else{var l=Xn(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Xe(r,r.return,v)}}s&64&&ep(r),s&512&&No(r,r.return);break;case 3:if(Br(e,r),s&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{Wf(e,t)}catch(v){Xe(r,r.return,v)}}break;case 27:t===null&&s&4&&sp(r);case 26:case 5:Br(e,r),t===null&&s&4&&rp(r),s&512&&No(r,r.return);break;case 12:Br(e,r);break;case 31:Br(e,r),s&4&&cp(e,r);break;case 13:Br(e,r),s&4&&up(e,r),s&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=eb.bind(null,r),xb(e,r))));break;case 22:if(s=r.memoizedState!==null||Or,!s){t=t!==null&&t.memoizedState!==null||pt,l=Or;var d=pt;Or=s,(pt=t)&&!d?Vr(e,r,(r.subtreeFlags&8772)!==0):Br(e,r),Or=l,pt=d}break;case 30:break;default:Br(e,r)}}function ap(e){var t=e.alternate;t!==null&&(e.alternate=null,ap(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&sl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var nt=null,Dt=!1;function Mr(e,t,r){for(r=r.child;r!==null;)lp(e,t,r),r=r.sibling}function lp(e,t,r){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(Ye,r)}catch{}switch(r.tag){case 26:pt||kr(r,t),Mr(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:pt||kr(r,t);var s=nt,l=Dt;gn(r.type)&&(nt=r.stateNode,Dt=!1),Mr(e,t,r),Uo(r.stateNode),nt=s,Dt=l;break;case 5:pt||kr(r,t);case 6:if(s=nt,l=Dt,nt=null,Mr(e,t,r),nt=s,Dt=l,nt!==null)if(Dt)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(r.stateNode)}catch(d){Xe(r,t,d)}else try{nt.removeChild(r.stateNode)}catch(d){Xe(r,t,d)}break;case 18:nt!==null&&(Dt?(e=nt,em(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Zs(e)):em(nt,r.stateNode));break;case 4:s=nt,l=Dt,nt=r.stateNode.containerInfo,Dt=!0,Mr(e,t,r),nt=s,Dt=l;break;case 0:case 11:case 14:case 15:cn(2,r,t),pt||cn(4,r,t),Mr(e,t,r);break;case 1:pt||(kr(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"&&tp(r,t,s)),Mr(e,t,r);break;case 21:Mr(e,t,r);break;case 22:pt=(s=pt)||r.memoizedState!==null,Mr(e,t,r),pt=s;break;default:Mr(e,t,r)}}function cp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Zs(e)}catch(r){Xe(t,t.return,r)}}}function up(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Zs(e)}catch(r){Xe(t,t.return,r)}}function qv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new op),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new op),t;default:throw Error(a(435,e.tag))}}function ea(e,t){var r=qv(e);t.forEach(function(s){if(!r.has(s)){r.add(s);var l=tb.bind(null,e,s);s.then(l,l)}})}function Ot(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var l=r[s],d=e,v=t,I=v;e:for(;I!==null;){switch(I.tag){case 27:if(gn(I.type)){nt=I.stateNode,Dt=!1;break e}break;case 5:nt=I.stateNode,Dt=!1;break e;case 3:case 4:nt=I.stateNode.containerInfo,Dt=!0;break e}I=I.return}if(nt===null)throw Error(a(160));lp(d,v,l),nt=null,Dt=!1,d=l.alternate,d!==null&&(d.return=null),l.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)dp(t,e),t=t.sibling}var mr=null;function dp(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ot(t,e),Mt(e),s&4&&(cn(3,e,e.return),zo(3,e),cn(5,e,e.return));break;case 1:Ot(t,e),Mt(e),s&512&&(pt||r===null||kr(r,r.return)),s&64&&Or&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?s:r.concat(s))));break;case 26:var l=mr;if(Ot(t,e),Mt(e),s&512&&(pt||r===null||kr(r,r.return)),s&4){var d=r!==null?r.memoizedState:null;if(s=e.memoizedState,r===null)if(s===null)if(e.stateNode===null){e:{s=e.type,r=e.memoizedProps,l=l.ownerDocument||l;t:switch(s){case"title":d=l.getElementsByTagName("title")[0],(!d||d[oo]||d[xt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=l.createElement(s),l.head.insertBefore(d,l.querySelector("head > title"))),Tt(d,s,r),d[xt]=e,yt(d),s=d;break e;case"link":var v=dm("link","href",l).get(s+(r.href||""));if(v){for(var I=0;I<v.length;I++)if(d=v[I],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(I,1);break t}}d=l.createElement(s),Tt(d,s,r),l.head.appendChild(d);break;case"meta":if(v=dm("meta","content",l).get(s+(r.content||""))){for(I=0;I<v.length;I++)if(d=v[I],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(I,1);break t}}d=l.createElement(s),Tt(d,s,r),l.head.appendChild(d);break;default:throw Error(a(468,s))}d[xt]=e,yt(d),s=d}e.stateNode=s}else fm(l,e.type,e.stateNode);else e.stateNode=um(l,s,e.memoizedProps);else d!==s?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,s===null?fm(l,e.type,e.stateNode):um(l,s,e.memoizedProps)):s===null&&e.stateNode!==null&&_c(e,e.memoizedProps,r.memoizedProps)}break;case 27:Ot(t,e),Mt(e),s&512&&(pt||r===null||kr(r,r.return)),r!==null&&s&4&&_c(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Ot(t,e),Mt(e),s&512&&(pt||r===null||kr(r,r.return)),e.flags&32){l=e.stateNode;try{ps(l,"")}catch(_e){Xe(e,e.return,_e)}}s&4&&e.stateNode!=null&&(l=e.memoizedProps,_c(e,l,r!==null?r.memoizedProps:l)),s&1024&&(Pc=!0);break;case 6:if(Ot(t,e),Mt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,r=e.stateNode;try{r.nodeValue=s}catch(_e){Xe(e,e.return,_e)}}break;case 3:if(ga=null,l=mr,mr=pa(t.containerInfo),Ot(t,e),mr=l,Mt(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Zs(t.containerInfo)}catch(_e){Xe(e,e.return,_e)}Pc&&(Pc=!1,fp(e));break;case 4:s=mr,mr=pa(e.stateNode.containerInfo),Ot(t,e),Mt(e),mr=s;break;case 12:Ot(t,e),Mt(e);break;case 31:Ot(t,e),Mt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ea(e,s)));break;case 13:Ot(t,e),Mt(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ra=we()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ea(e,s)));break;case 22:l=e.memoizedState!==null;var U=r!==null&&r.memoizedState!==null,K=Or,ue=pt;if(Or=K||l,pt=ue||U,Ot(t,e),pt=ue,Or=K,Mt(e),s&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(r===null||U||Or||pt||Qn(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){U=r=t;try{if(d=U.stateNode,l)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{I=U.stateNode;var pe=U.memoizedProps.style,te=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;I.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(_e){Xe(U,U.return,_e)}}}else if(t.tag===6){if(r===null){U=t;try{U.stateNode.nodeValue=l?"":U.memoizedProps}catch(_e){Xe(U,U.return,_e)}}}else if(t.tag===18){if(r===null){U=t;try{var ae=U.stateNode;l?tm(ae,!0):tm(U.stateNode,!1)}catch(_e){Xe(U,U.return,_e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(r=s.retryQueue,r!==null&&(s.retryQueue=null,ea(e,r))));break;case 19:Ot(t,e),Mt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ea(e,s)));break;case 30:break;case 21:break;default:Ot(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{for(var r,s=e.return;s!==null;){if(np(s)){r=s;break}s=s.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var l=r.stateNode,d=Cc(e);Yi(e,d,l);break;case 5:var v=r.stateNode;r.flags&32&&(ps(v,""),r.flags&=-33);var I=Cc(e);Yi(e,I,v);break;case 3:case 4:var U=r.stateNode.containerInfo,K=Cc(e);Ec(e,K,U);break;default:throw Error(a(161))}}catch(ue){Xe(e,e.return,ue)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;fp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Br(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ip(e,t.alternate,t),t=t.sibling}function Qn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:cn(4,t,t.return),Qn(t);break;case 1:kr(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&tp(t,t.return,r),Qn(t);break;case 27:Uo(t.stateNode);case 26:case 5:kr(t,t.return),Qn(t);break;case 22:t.memoizedState===null&&Qn(t);break;case 30:Qn(t);break;default:Qn(t)}e=e.sibling}}function Vr(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,l=e,d=t,v=d.flags;switch(d.tag){case 0:case 11:case 15:Vr(l,d,r),zo(4,d);break;case 1:if(Vr(l,d,r),s=d,l=s.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(K){Xe(s,s.return,K)}if(s=d,l=s.updateQueue,l!==null){var I=s.stateNode;try{var U=l.shared.hiddenCallbacks;if(U!==null)for(l.shared.hiddenCallbacks=null,l=0;l<U.length;l++)$f(U[l],I)}catch(K){Xe(s,s.return,K)}}r&&v&64&&ep(d),No(d,d.return);break;case 27:sp(d);case 26:case 5:Vr(l,d,r),r&&s===null&&v&4&&rp(d),No(d,d.return);break;case 12:Vr(l,d,r);break;case 31:Vr(l,d,r),r&&v&4&&cp(l,d);break;case 13:Vr(l,d,r),r&&v&4&&up(l,d);break;case 22:d.memoizedState===null&&Vr(l,d,r),No(d,d.return);break;case 30:break;default:Vr(l,d,r)}t=t.sibling}}function jc(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&bo(r))}function Ac(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&bo(e))}function gr(e,t,r,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hp(e,t,r,s),t=t.sibling}function hp(e,t,r,s){var l=t.flags;switch(t.tag){case 0:case 11:case 15:gr(e,t,r,s),l&2048&&zo(9,t);break;case 1:gr(e,t,r,s);break;case 3:gr(e,t,r,s),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&bo(e)));break;case 12:if(l&2048){gr(e,t,r,s),e=t.stateNode;try{var d=t.memoizedProps,v=d.id,I=d.onPostCommit;typeof I=="function"&&I(v,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){Xe(t,t.return,U)}}else gr(e,t,r,s);break;case 31:gr(e,t,r,s);break;case 13:gr(e,t,r,s);break;case 23:break;case 22:d=t.stateNode,v=t.alternate,t.memoizedState!==null?d._visibility&2?gr(e,t,r,s):Ro(e,t):d._visibility&2?gr(e,t,r,s):(d._visibility|=2,Rs(e,t,r,s,(t.subtreeFlags&10256)!==0||!1)),l&2048&&jc(v,t);break;case 24:gr(e,t,r,s),l&2048&&Ac(t.alternate,t);break;default:gr(e,t,r,s)}}function Rs(e,t,r,s,l){for(l=l&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,v=t,I=r,U=s,K=v.flags;switch(v.tag){case 0:case 11:case 15:Rs(d,v,I,U,l),zo(8,v);break;case 23:break;case 22:var ue=v.stateNode;v.memoizedState!==null?ue._visibility&2?Rs(d,v,I,U,l):Ro(d,v):(ue._visibility|=2,Rs(d,v,I,U,l)),l&&K&2048&&jc(v.alternate,v);break;case 24:Rs(d,v,I,U,l),l&&K&2048&&Ac(v.alternate,v);break;default:Rs(d,v,I,U,l)}t=t.sibling}}function Ro(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,s=t,l=s.flags;switch(s.tag){case 22:Ro(r,s),l&2048&&jc(s.alternate,s);break;case 24:Ro(r,s),l&2048&&Ac(s.alternate,s);break;default:Ro(r,s)}t=t.sibling}}var Fo=8192;function Fs(e,t,r){if(e.subtreeFlags&Fo)for(e=e.child;e!==null;)pp(e,t,r),e=e.sibling}function pp(e,t,r){switch(e.tag){case 26:Fs(e,t,r),e.flags&Fo&&e.memoizedState!==null&&zb(r,mr,e.memoizedState,e.memoizedProps);break;case 5:Fs(e,t,r);break;case 3:case 4:var s=mr;mr=pa(e.stateNode.containerInfo),Fs(e,t,r),mr=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Fo,Fo=16777216,Fs(e,t,r),Fo=s):Fs(e,t,r));break;default:Fs(e,t,r)}}function mp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Lo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var s=t[r];vt=s,yp(s,e)}mp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gp(e),e=e.sibling}function gp(e){switch(e.tag){case 0:case 11:case 15:Lo(e),e.flags&2048&&cn(9,e,e.return);break;case 3:Lo(e);break;case 12:Lo(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ta(e)):Lo(e);break;default:Lo(e)}}function ta(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var s=t[r];vt=s,yp(s,e)}mp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:cn(8,t,t.return),ta(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,ta(t));break;default:ta(t)}e=e.sibling}}function yp(e,t){for(;vt!==null;){var r=vt;switch(r.tag){case 0:case 11:case 15:cn(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var s=r.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:bo(r.memoizedState.cache)}if(s=r.child,s!==null)s.return=r,vt=s;else e:for(r=e;vt!==null;){s=vt;var l=s.sibling,d=s.return;if(ap(s),s===r){vt=null;break e}if(l!==null){l.return=d,vt=l;break e}vt=d}}}var Hv={getCacheForType:function(e){var t=wt(dt),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return wt(dt).controller.signal}},Gv=typeof WeakMap=="function"?WeakMap:Map,qe=0,et=null,Oe=null,Ve=0,Ge=0,Gt=null,un=!1,Ls=!1,Ic=!1,Ur=0,at=0,dn=0,Jn=0,zc=0,Xt=0,Ds=0,Do=null,Bt=null,Nc=!1,ra=0,vp=0,na=1/0,sa=null,fn=null,mt=0,hn=null,Os=null,$r=0,Rc=0,Fc=null,bp=null,Oo=0,Lc=null;function Qt(){return(qe&2)!==0&&Ve!==0?Ve&-Ve:G.T!==null?Uc():Rd()}function xp(){if(Xt===0)if((Ve&536870912)===0||$e){var e=Rn;Rn<<=1,(Rn&3932160)===0&&(Rn=262144),Xt=e}else Xt=536870912;return e=qt.current,e!==null&&(e.flags|=32),Xt}function Vt(e,t,r){(e===et&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)&&(Ms(e,0),pn(e,Ve,Xt,!1)),so(e,r),((qe&2)===0||e!==et)&&(e===et&&((qe&2)===0&&(Jn|=r),at===4&&pn(e,Ve,Xt,!1)),wr(e))}function kp(e,t,r){if((qe&6)!==0)throw Error(a(327));var s=!r&&(t&127)===0&&(t&e.expiredLanes)===0||no(e,t),l=s?Jv(e,t):Oc(e,t,!0),d=s;do{if(l===0){Ls&&!s&&pn(e,t,0,!1);break}else{if(r=e.current.alternate,d&&!Xv(r)){l=Oc(e,t,!1),d=!1;continue}if(l===2){if(d=t,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){t=v;e:{var I=e;l=Do;var U=I.current.memoizedState.isDehydrated;if(U&&(Ms(I,v).flags|=256),v=Oc(I,v,!1),v!==2){if(Ic&&!U){I.errorRecoveryDisabledLanes|=d,Jn|=d,l=4;break e}d=Bt,Bt=l,d!==null&&(Bt===null?Bt=d:Bt.push.apply(Bt,d))}l=v}if(d=!1,l!==2)continue}}if(l===1){Ms(e,0),pn(e,t,0,!0);break}e:{switch(s=e,d=l,d){case 0:case 1:throw Error(a(345));case 4:if((t&4194048)!==t)break;case 6:pn(s,t,Xt,!un);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((t&62914560)===t&&(l=ra+300-we(),10<l)){if(pn(s,t,Xt,!un),pi(s,0,!0)!==0)break e;$r=t,s.timeoutHandle=Kp(wp.bind(null,s,r,Bt,sa,Nc,t,Xt,Jn,Ds,un,d,"Throttled",-0,0),l);break e}wp(s,r,Bt,sa,Nc,t,Xt,Jn,Ds,un,d,null,-0,0)}}break}while(!0);wr(e)}function wp(e,t,r,s,l,d,v,I,U,K,ue,pe,te,ae){if(e.timeoutHandle=-1,pe=t.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pr},pp(t,d,pe);var _e=(d&62914560)===d?ra-we():(d&4194048)===d?vp-we():0;if(_e=Nb(pe,_e),_e!==null){$r=d,e.cancelPendingCommit=_e(Ap.bind(null,e,t,d,r,s,l,v,I,U,ue,pe,null,te,ae)),pn(e,d,v,!K);return}}Ap(e,t,d,r,s,l,v,I,U)}function Xv(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var s=0;s<r.length;s++){var l=r[s],d=l.getSnapshot;l=l.value;try{if(!Wt(d(),l))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pn(e,t,r,s){t&=~zc,t&=~Jn,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var l=t;0<l;){var d=31-st(l),v=1<<d;s[d]=-1,l&=~v}r!==0&&Id(e,r,t)}function oa(){return(qe&6)===0?(Mo(0),!1):!0}function Dc(){if(Oe!==null){if(Ge===0)var e=Oe.return;else e=Oe,zr=Un=null,Yl(e),js=null,ko=0,e=Oe;for(;e!==null;)Yh(e.alternate,e),e=e.return;Oe=null}}function Ms(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,mb(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),$r=0,Dc(),et=e,Oe=r=Ar(e.current,null),Ve=t,Ge=0,Gt=null,un=!1,Ls=no(e,t),Ic=!1,Ds=Xt=zc=Jn=dn=at=0,Bt=Do=null,Nc=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var l=31-st(s),d=1<<l;t|=e[l],s&=~d}return Ur=t,Ci(),r}function Sp(e,t){Fe=null,G.H=jo,t===Ps||t===Ri?(t=Mf(),Ge=3):t===Vl?(t=Mf(),Ge=4):Ge=t===mc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Gt=t,Oe===null&&(at=1,Gi(e,nr(t,e.current)))}function Tp(){var e=qt.current;return e===null?!0:(Ve&4194048)===Ve?pr===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?e===pr:!1}function _p(){var e=G.H;return G.H=jo,e===null?jo:e}function Cp(){var e=G.A;return G.A=Hv,e}function ia(){at=4,un||(Ve&4194048)!==Ve&&qt.current!==null||(Ls=!0),(dn&134217727)===0&&(Jn&134217727)===0||et===null||pn(et,Ve,Xt,!1)}function Oc(e,t,r){var s=qe;qe|=2;var l=_p(),d=Cp();(et!==e||Ve!==t)&&(sa=null,Ms(e,t)),t=!1;var v=at;e:do try{if(Ge!==0&&Oe!==null){var I=Oe,U=Gt;switch(Ge){case 8:Dc(),v=6;break e;case 3:case 2:case 9:case 6:qt.current===null&&(t=!0);var K=Ge;if(Ge=0,Gt=null,Bs(e,I,U,K),r&&Ls){v=0;break e}break;default:K=Ge,Ge=0,Gt=null,Bs(e,I,U,K)}}Qv(),v=at;break}catch(ue){Sp(e,ue)}while(!0);return t&&e.shellSuspendCounter++,zr=Un=null,qe=s,G.H=l,G.A=d,Oe===null&&(et=null,Ve=0,Ci()),v}function Qv(){for(;Oe!==null;)Ep(Oe)}function Jv(e,t){var r=qe;qe|=2;var s=_p(),l=Cp();et!==e||Ve!==t?(sa=null,na=we()+500,Ms(e,t)):Ls=no(e,t);e:do try{if(Ge!==0&&Oe!==null){t=Oe;var d=Gt;t:switch(Ge){case 1:Ge=0,Gt=null,Bs(e,t,d,1);break;case 2:case 9:if(Df(d)){Ge=0,Gt=null,Pp(t);break}t=function(){Ge!==2&&Ge!==9||et!==e||(Ge=7),wr(e)},d.then(t,t);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:Df(d)?(Ge=0,Gt=null,Pp(t)):(Ge=0,Gt=null,Bs(e,t,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var I=Oe;if(v?hm(v):I.stateNode.complete){Ge=0,Gt=null;var U=I.sibling;if(U!==null)Oe=U;else{var K=I.return;K!==null?(Oe=K,aa(K)):Oe=null}break t}}Ge=0,Gt=null,Bs(e,t,d,5);break;case 6:Ge=0,Gt=null,Bs(e,t,d,6);break;case 8:Dc(),at=6;break e;default:throw Error(a(462))}}Kv();break}catch(ue){Sp(e,ue)}while(!0);return zr=Un=null,G.H=s,G.A=l,qe=r,Oe!==null?0:(et=null,Ve=0,Ci(),at)}function Kv(){for(;Oe!==null&&!Q();)Ep(Oe)}function Ep(e){var t=Jh(e.alternate,e,Ur);e.memoizedProps=e.pendingProps,t===null?aa(e):Oe=t}function Pp(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Zh(r,t,t.pendingProps,t.type,void 0,Ve);break;case 11:t=Zh(r,t,t.pendingProps,t.type.render,t.ref,Ve);break;case 5:Yl(t);default:Yh(r,t),t=Oe=Cf(t,Ur),t=Jh(r,t,Ur)}e.memoizedProps=e.pendingProps,t===null?aa(e):Oe=t}function Bs(e,t,r,s){zr=Un=null,Yl(t),js=null,ko=0;var l=t.return;try{if(Bv(e,l,t,r,Ve)){at=1,Gi(e,nr(r,e.current)),Oe=null;return}}catch(d){if(l!==null)throw Oe=l,d;at=1,Gi(e,nr(r,e.current)),Oe=null;return}t.flags&32768?($e||s===1?e=!0:Ls||(Ve&536870912)!==0?e=!1:(un=e=!0,(s===2||s===9||s===3||s===6)&&(s=qt.current,s!==null&&s.tag===13&&(s.flags|=16384))),jp(t,e)):aa(t)}function aa(e){var t=e;do{if((t.flags&32768)!==0){jp(t,un);return}e=t.return;var r=$v(t.alternate,t,Ur);if(r!==null){Oe=r;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);at===0&&(at=5)}function jp(e,t){do{var r=Wv(e.alternate,e);if(r!==null){r.flags&=32767,Oe=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){Oe=e;return}Oe=e=r}while(e!==null);at=6,Oe=null}function Ap(e,t,r,s,l,d,v,I,U){e.cancelPendingCommit=null;do la();while(mt!==0);if((qe&6)!==0)throw Error(a(327));if(t!==null){if(t===e.current)throw Error(a(177));if(d=t.lanes|t.childLanes,d|=Cl,I0(e,r,d,v,I,U),e===et&&(Oe=et=null,Ve=0),Os=t,hn=e,$r=r,Rc=d,Fc=l,bp=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,rb(De,function(){return Fp(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=G.T,G.T=null,l=O.p,O.p=2,v=qe,qe|=4;try{Zv(e,t,r)}finally{qe=v,O.p=l,G.T=s}}mt=1,Ip(),zp(),Np()}}function Ip(){if(mt===1){mt=0;var e=hn,t=Os,r=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var s=O.p;O.p=2;var l=qe;qe|=4;try{dp(t,e);var d=Qc,v=yf(e.containerInfo),I=d.focusedElem,U=d.selectionRange;if(v!==I&&I&&I.ownerDocument&&gf(I.ownerDocument.documentElement,I)){if(U!==null&&kl(I)){var K=U.start,ue=U.end;if(ue===void 0&&(ue=K),"selectionStart"in I)I.selectionStart=K,I.selectionEnd=Math.min(ue,I.value.length);else{var pe=I.ownerDocument||document,te=pe&&pe.defaultView||window;if(te.getSelection){var ae=te.getSelection(),_e=I.textContent.length,Ae=Math.min(U.start,_e),Ke=U.end===void 0?Ae:Math.min(U.end,_e);!ae.extend&&Ae>Ke&&(v=Ke,Ke=Ae,Ae=v);var X=mf(I,Ae),Z=mf(I,Ke);if(X&&Z&&(ae.rangeCount!==1||ae.anchorNode!==X.node||ae.anchorOffset!==X.offset||ae.focusNode!==Z.node||ae.focusOffset!==Z.offset)){var J=pe.createRange();J.setStart(X.node,X.offset),ae.removeAllRanges(),Ae>Ke?(ae.addRange(J),ae.extend(Z.node,Z.offset)):(J.setEnd(Z.node,Z.offset),ae.addRange(J))}}}}for(pe=[],ae=I;ae=ae.parentNode;)ae.nodeType===1&&pe.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<pe.length;I++){var fe=pe[I];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}xa=!!Xc,Qc=Xc=null}finally{qe=l,O.p=s,G.T=r}}e.current=t,mt=2}}function zp(){if(mt===2){mt=0;var e=hn,t=Os,r=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var s=O.p;O.p=2;var l=qe;qe|=4;try{ip(e,t.alternate,t)}finally{qe=l,O.p=s,G.T=r}}mt=3}}function Np(){if(mt===4||mt===3){mt=0,ve();var e=hn,t=Os,r=$r,s=bp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?mt=5:(mt=0,Os=hn=null,Rp(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(fn=null),rl(r),t=t.stateNode,gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(Ye,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=G.T,l=O.p,O.p=2,G.T=null;try{for(var d=e.onRecoverableError,v=0;v<s.length;v++){var I=s[v];d(I.value,{componentStack:I.stack})}}finally{G.T=t,O.p=l}}($r&3)!==0&&la(),wr(e),l=e.pendingLanes,(r&261930)!==0&&(l&42)!==0?e===Lc?Oo++:(Oo=0,Lc=e):Oo=0,Mo(0)}}function Rp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,bo(t)))}function la(){return Ip(),zp(),Np(),Fp()}function Fp(){if(mt!==5)return!1;var e=hn,t=Rc;Rc=0;var r=rl($r),s=G.T,l=O.p;try{O.p=32>r?32:r,G.T=null,r=Fc,Fc=null;var d=hn,v=$r;if(mt=0,Os=hn=null,$r=0,(qe&6)!==0)throw Error(a(331));var I=qe;if(qe|=4,gp(d.current),hp(d,d.current,v,r),qe=I,Mo(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(Ye,d)}catch{}return!0}finally{O.p=l,G.T=s,Rp(e,t)}}function Lp(e,t,r){t=nr(r,t),t=pc(e.stateNode,t,2),e=on(e,t,2),e!==null&&(so(e,2),wr(e))}function Xe(e,t,r){if(e.tag===3)Lp(e,e,r);else for(;t!==null;){if(t.tag===3){Lp(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(fn===null||!fn.has(s))){e=nr(r,e),r=Dh(2),s=on(t,r,2),s!==null&&(Oh(r,s,t,e),so(s,2),wr(s));break}}t=t.return}}function Mc(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Gv;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(r)||(Ic=!0,l.add(r),e=Yv.bind(null,e,t,r),t.then(e,e))}function Yv(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,et===e&&(Ve&r)===r&&(at===4||at===3&&(Ve&62914560)===Ve&&300>we()-ra?(qe&2)===0&&Ms(e,0):zc|=r,Ds===Ve&&(Ds=0)),wr(e)}function Dp(e,t){t===0&&(t=Ad()),e=Mn(e,t),e!==null&&(so(e,t),wr(e))}function eb(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Dp(e,r)}function tb(e,t){var r=0;switch(e.tag){case 31:case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(t),Dp(e,r)}function rb(e,t){return de(e,t)}var ca=null,Vs=null,Bc=!1,ua=!1,Vc=!1,mn=0;function wr(e){e!==Vs&&e.next===null&&(Vs===null?ca=Vs=e:Vs=Vs.next=e),ua=!0,Bc||(Bc=!0,sb())}function Mo(e,t){if(!Vc&&ua){Vc=!0;do for(var r=!1,s=ca;s!==null;){if(e!==0){var l=s.pendingLanes;if(l===0)var d=0;else{var v=s.suspendedLanes,I=s.pingedLanes;d=(1<<31-st(42|e)+1)-1,d&=l&~(v&~I),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,Vp(s,d))}else d=Ve,d=pi(s,s===et?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(d&3)===0||no(s,d)||(r=!0,Vp(s,d));s=s.next}while(r);Vc=!1}}function nb(){Op()}function Op(){ua=Bc=!1;var e=0;mn!==0&&pb()&&(e=mn);for(var t=we(),r=null,s=ca;s!==null;){var l=s.next,d=Mp(s,t);d===0?(s.next=null,r===null?ca=l:r.next=l,l===null&&(Vs=r)):(r=s,(e!==0||(d&3)!==0)&&(ua=!0)),s=l}mt!==0&&mt!==5||Mo(e),mn!==0&&(mn=0)}function Mp(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-st(d),I=1<<v,U=l[v];U===-1?((I&r)===0||(I&s)!==0)&&(l[v]=A0(I,t)):U<=t&&(e.expiredLanes|=I),d&=~I}if(t=et,r=Ve,r=pi(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,r===0||e===t&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&he(s),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||no(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(s!==null&&he(s),rl(r)){case 2:case 8:r=He;break;case 32:r=De;break;case 268435456:r=Qr;break;default:r=De}return s=Bp.bind(null,e),r=de(r,s),e.callbackPriority=t,e.callbackNode=r,t}return s!==null&&s!==null&&he(s),e.callbackPriority=2,e.callbackNode=null,2}function Bp(e,t){if(mt!==0&&mt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(la()&&e.callbackNode!==r)return null;var s=Ve;return s=pi(e,e===et?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(kp(e,s,t),Mp(e,we()),e.callbackNode!=null&&e.callbackNode===r?Bp.bind(null,e):null)}function Vp(e,t){if(la())return null;kp(e,t,!0)}function sb(){gb(function(){(qe&6)!==0?de(Pe,nb):Op()})}function Uc(){if(mn===0){var e=Cs;e===0&&(e=as,as<<=1,(as&261888)===0&&(as=256)),mn=e}return mn}function Up(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:vi(""+e)}function $p(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function ob(e,t,r,s,l){if(t==="submit"&&r&&r.stateNode===l){var d=Up((l[Ft]||null).action),v=s.submitter;v&&(t=(t=v[Ft]||null)?Up(t.formAction):v.getAttribute("formAction"),t!==null&&(d=t,v=null));var I=new wi("action","action",null,s,l);e.push({event:I,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(mn!==0){var U=v?$p(l,v):new FormData(l);lc(r,{pending:!0,data:U,method:l.method,action:d},null,U)}}else typeof d=="function"&&(I.preventDefault(),U=v?$p(l,v):new FormData(l),lc(r,{pending:!0,data:U,method:l.method,action:d},d,U))},currentTarget:l}]})}}for(var $c=0;$c<_l.length;$c++){var Wc=_l[$c],ib=Wc.toLowerCase(),ab=Wc[0].toUpperCase()+Wc.slice(1);hr(ib,"on"+ab)}hr(xf,"onAnimationEnd"),hr(kf,"onAnimationIteration"),hr(wf,"onAnimationStart"),hr("dblclick","onDoubleClick"),hr("focusin","onFocus"),hr("focusout","onBlur"),hr(Sv,"onTransitionRun"),hr(Tv,"onTransitionStart"),hr(_v,"onTransitionCancel"),hr(Sf,"onTransitionEnd"),fs("onMouseEnter",["mouseout","mouseover"]),fs("onMouseLeave",["mouseout","mouseover"]),fs("onPointerEnter",["pointerout","pointerover"]),fs("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bo));function Wp(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],l=s.event;s=s.listeners;e:{var d=void 0;if(t)for(var v=s.length-1;0<=v;v--){var I=s[v],U=I.instance,K=I.currentTarget;if(I=I.listener,U!==d&&l.isPropagationStopped())break e;d=I,l.currentTarget=K;try{d(l)}catch(ue){_i(ue)}l.currentTarget=null,d=U}else for(v=0;v<s.length;v++){if(I=s[v],U=I.instance,K=I.currentTarget,I=I.listener,U!==d&&l.isPropagationStopped())break e;d=I,l.currentTarget=K;try{d(l)}catch(ue){_i(ue)}l.currentTarget=null,d=U}}}}function Me(e,t){var r=t[nl];r===void 0&&(r=t[nl]=new Set);var s=e+"__bubble";r.has(s)||(Zp(t,e,2,!1),r.add(s))}function Zc(e,t,r){var s=0;t&&(s|=4),Zp(r,e,s,t)}var da="_reactListening"+Math.random().toString(36).slice(2);function qc(e){if(!e[da]){e[da]=!0,Dd.forEach(function(r){r!=="selectionchange"&&(lb.has(r)||Zc(r,!1,e),Zc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[da]||(t[da]=!0,Zc("selectionchange",!1,t))}}function Zp(e,t,r,s){switch(xm(t)){case 2:var l=Lb;break;case 8:l=Db;break;default:l=au}r=l.bind(null,t,r,e),l=void 0,!fl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function Hc(e,t,r,s,l){var d=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var v=s.tag;if(v===3||v===4){var I=s.stateNode.containerInfo;if(I===l)break;if(v===4)for(v=s.return;v!==null;){var U=v.tag;if((U===3||U===4)&&v.stateNode.containerInfo===l)return;v=v.return}for(;I!==null;){if(v=cs(I),v===null)return;if(U=v.tag,U===5||U===6||U===26||U===27){s=d=v;continue e}I=I.parentNode}}s=s.return}Xd(function(){var K=d,ue=ul(r),pe=[];e:{var te=Tf.get(e);if(te!==void 0){var ae=wi,_e=e;switch(e){case"keypress":if(xi(r)===0)break e;case"keydown":case"keyup":ae=tv;break;case"focusin":_e="focus",ae=gl;break;case"focusout":_e="blur",ae=gl;break;case"beforeblur":case"afterblur":ae=gl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Kd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=$0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=sv;break;case xf:case kf:case wf:ae=q0;break;case Sf:ae=iv;break;case"scroll":case"scrollend":ae=V0;break;case"wheel":ae=lv;break;case"copy":case"cut":case"paste":ae=G0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=ef;break;case"toggle":case"beforetoggle":ae=uv}var Ae=(t&4)!==0,Ke=!Ae&&(e==="scroll"||e==="scrollend"),X=Ae?te!==null?te+"Capture":null:te;Ae=[];for(var Z=K,J;Z!==null;){var fe=Z;if(J=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||J===null||X===null||(fe=ao(Z,X),fe!=null&&Ae.push(Vo(Z,fe,J))),Ke)break;Z=Z.return}0<Ae.length&&(te=new ae(te,_e,null,r,ue),pe.push({event:te,listeners:Ae}))}}if((t&7)===0){e:{if(te=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",te&&r!==cl&&(_e=r.relatedTarget||r.fromElement)&&(cs(_e)||_e[ls]))break e;if((ae||te)&&(te=ue.window===ue?ue:(te=ue.ownerDocument)?te.defaultView||te.parentWindow:window,ae?(_e=r.relatedTarget||r.toElement,ae=K,_e=_e?cs(_e):null,_e!==null&&(Ke=c(_e),Ae=_e.tag,_e!==Ke||Ae!==5&&Ae!==27&&Ae!==6)&&(_e=null)):(ae=null,_e=K),ae!==_e)){if(Ae=Kd,fe="onMouseLeave",X="onMouseEnter",Z="mouse",(e==="pointerout"||e==="pointerover")&&(Ae=ef,fe="onPointerLeave",X="onPointerEnter",Z="pointer"),Ke=ae==null?te:io(ae),J=_e==null?te:io(_e),te=new Ae(fe,Z+"leave",ae,r,ue),te.target=Ke,te.relatedTarget=J,fe=null,cs(ue)===K&&(Ae=new Ae(X,Z+"enter",_e,r,ue),Ae.target=J,Ae.relatedTarget=Ke,fe=Ae),Ke=fe,ae&&_e)t:{for(Ae=cb,X=ae,Z=_e,J=0,fe=X;fe;fe=Ae(fe))J++;fe=0;for(var je=Z;je;je=Ae(je))fe++;for(;0<J-fe;)X=Ae(X),J--;for(;0<fe-J;)Z=Ae(Z),fe--;for(;J--;){if(X===Z||Z!==null&&X===Z.alternate){Ae=X;break t}X=Ae(X),Z=Ae(Z)}Ae=null}else Ae=null;ae!==null&&qp(pe,te,ae,Ae,!1),_e!==null&&Ke!==null&&qp(pe,Ke,_e,Ae,!0)}}e:{if(te=K?io(K):window,ae=te.nodeName&&te.nodeName.toLowerCase(),ae==="select"||ae==="input"&&te.type==="file")var We=cf;else if(af(te))if(uf)We=xv;else{We=vv;var Ce=yv}else ae=te.nodeName,!ae||ae.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?K&&ll(K.elementType)&&(We=cf):We=bv;if(We&&(We=We(e,K))){lf(pe,We,r,ue);break e}Ce&&Ce(e,te,K),e==="focusout"&&K&&te.type==="number"&&K.memoizedProps.value!=null&&al(te,"number",te.value)}switch(Ce=K?io(K):window,e){case"focusin":(af(Ce)||Ce.contentEditable==="true")&&(vs=Ce,wl=K,go=null);break;case"focusout":go=wl=vs=null;break;case"mousedown":Sl=!0;break;case"contextmenu":case"mouseup":case"dragend":Sl=!1,vf(pe,r,ue);break;case"selectionchange":if(wv)break;case"keydown":case"keyup":vf(pe,r,ue)}var Le;if(vl)e:{switch(e){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else ys?sf(e,r)&&(Ue="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ue="onCompositionStart");Ue&&(tf&&r.locale!=="ko"&&(ys||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&ys&&(Le=Qd()):(Kr=ue,hl="value"in Kr?Kr.value:Kr.textContent,ys=!0)),Ce=fa(K,Ue),0<Ce.length&&(Ue=new Yd(Ue,e,null,r,ue),pe.push({event:Ue,listeners:Ce}),Le?Ue.data=Le:(Le=of(r),Le!==null&&(Ue.data=Le)))),(Le=fv?hv(e,r):pv(e,r))&&(Ue=fa(K,"onBeforeInput"),0<Ue.length&&(Ce=new Yd("onBeforeInput","beforeinput",null,r,ue),pe.push({event:Ce,listeners:Ue}),Ce.data=Le)),ob(pe,e,K,r,ue)}Wp(pe,t)})}function Vo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function fa(e,t){for(var r=t+"Capture",s=[];e!==null;){var l=e,d=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||d===null||(l=ao(e,r),l!=null&&s.unshift(Vo(e,l,d)),l=ao(e,t),l!=null&&s.push(Vo(e,l,d))),e.tag===3)return s;e=e.return}return[]}function cb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function qp(e,t,r,s,l){for(var d=t._reactName,v=[];r!==null&&r!==s;){var I=r,U=I.alternate,K=I.stateNode;if(I=I.tag,U!==null&&U===s)break;I!==5&&I!==26&&I!==27||K===null||(U=K,l?(K=ao(r,d),K!=null&&v.unshift(Vo(r,K,U))):l||(K=ao(r,d),K!=null&&v.push(Vo(r,K,U)))),r=r.return}v.length!==0&&e.push({event:t,listeners:v})}var ub=/\r\n?/g,db=/\u0000|\uFFFD/g;function Hp(e){return(typeof e=="string"?e:""+e).replace(ub,`
`).replace(db,"")}function Gp(e,t){return t=Hp(t),Hp(e)===t}function Je(e,t,r,s,l,d){switch(r){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||ps(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&ps(e,""+s);break;case"className":gi(e,"class",s);break;case"tabIndex":gi(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":gi(e,r,s);break;case"style":Hd(e,s,d);break;case"data":if(t!=="object"){gi(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(r);break}s=vi(""+s),e.setAttribute(r,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(t!=="input"&&Je(e,t,"name",l.name,l,null),Je(e,t,"formEncType",l.formEncType,l,null),Je(e,t,"formMethod",l.formMethod,l,null),Je(e,t,"formTarget",l.formTarget,l,null)):(Je(e,t,"encType",l.encType,l,null),Je(e,t,"method",l.method,l,null),Je(e,t,"target",l.target,l,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(r);break}s=vi(""+s),e.setAttribute(r,s);break;case"onClick":s!=null&&(e.onclick=Pr);break;case"onScroll":s!=null&&Me("scroll",e);break;case"onScrollEnd":s!=null&&Me("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(r=s.__html,r!=null){if(l.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}r=vi(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(r,""+s):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":s===!0?e.setAttribute(r,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(r,s):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(r,s):e.removeAttribute(r);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(r):e.setAttribute(r,s);break;case"popover":Me("beforetoggle",e),Me("toggle",e),mi(e,"popover",s);break;case"xlinkActuate":Er(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Er(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Er(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Er(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Er(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Er(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Er(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Er(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Er(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":mi(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=M0.get(r)||r,mi(e,r,s))}}function Gc(e,t,r,s,l,d){switch(r){case"style":Hd(e,s,d);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(r=s.__html,r!=null){if(l.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof s=="string"?ps(e,s):(typeof s=="number"||typeof s=="bigint")&&ps(e,""+s);break;case"onScroll":s!=null&&Me("scroll",e);break;case"onScrollEnd":s!=null&&Me("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Pr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Od.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(l=r.endsWith("Capture"),t=r.slice(2,l?r.length-7:void 0),d=e[Ft]||null,d=d!=null?d[r]:null,typeof d=="function"&&e.removeEventListener(t,d,l),typeof s=="function")){typeof d!="function"&&d!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,s,l);break e}r in e?e[r]=s:s===!0?e.setAttribute(r,""):mi(e,r,s)}}}function Tt(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",e),Me("load",e);var s=!1,l=!1,d;for(d in r)if(r.hasOwnProperty(d)){var v=r[d];if(v!=null)switch(d){case"src":s=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Je(e,t,d,v,r,null)}}l&&Je(e,t,"srcSet",r.srcSet,r,null),s&&Je(e,t,"src",r.src,r,null);return;case"input":Me("invalid",e);var I=d=v=l=null,U=null,K=null;for(s in r)if(r.hasOwnProperty(s)){var ue=r[s];if(ue!=null)switch(s){case"name":l=ue;break;case"type":v=ue;break;case"checked":U=ue;break;case"defaultChecked":K=ue;break;case"value":d=ue;break;case"defaultValue":I=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(a(137,t));break;default:Je(e,t,s,ue,r,null)}}$d(e,d,I,U,K,v,l,!1);return;case"select":Me("invalid",e),s=v=d=null;for(l in r)if(r.hasOwnProperty(l)&&(I=r[l],I!=null))switch(l){case"value":d=I;break;case"defaultValue":v=I;break;case"multiple":s=I;default:Je(e,t,l,I,r,null)}t=d,r=v,e.multiple=!!s,t!=null?hs(e,!!s,t,!1):r!=null&&hs(e,!!s,r,!0);return;case"textarea":Me("invalid",e),d=l=s=null;for(v in r)if(r.hasOwnProperty(v)&&(I=r[v],I!=null))switch(v){case"value":s=I;break;case"defaultValue":l=I;break;case"children":d=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(91));break;default:Je(e,t,v,I,r,null)}Zd(e,s,l,d);return;case"option":for(U in r)if(r.hasOwnProperty(U)&&(s=r[U],s!=null))switch(U){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Je(e,t,U,s,r,null)}return;case"dialog":Me("beforetoggle",e),Me("toggle",e),Me("cancel",e),Me("close",e);break;case"iframe":case"object":Me("load",e);break;case"video":case"audio":for(s=0;s<Bo.length;s++)Me(Bo[s],e);break;case"image":Me("error",e),Me("load",e);break;case"details":Me("toggle",e);break;case"embed":case"source":case"link":Me("error",e),Me("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in r)if(r.hasOwnProperty(K)&&(s=r[K],s!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Je(e,t,K,s,r,null)}return;default:if(ll(t)){for(ue in r)r.hasOwnProperty(ue)&&(s=r[ue],s!==void 0&&Gc(e,t,ue,s,r,void 0));return}}for(I in r)r.hasOwnProperty(I)&&(s=r[I],s!=null&&Je(e,t,I,s,r,null))}function fb(e,t,r,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,d=null,v=null,I=null,U=null,K=null,ue=null;for(ae in r){var pe=r[ae];if(r.hasOwnProperty(ae)&&pe!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":U=pe;default:s.hasOwnProperty(ae)||Je(e,t,ae,null,s,pe)}}for(var te in s){var ae=s[te];if(pe=r[te],s.hasOwnProperty(te)&&(ae!=null||pe!=null))switch(te){case"type":d=ae;break;case"name":l=ae;break;case"checked":K=ae;break;case"defaultChecked":ue=ae;break;case"value":v=ae;break;case"defaultValue":I=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,t));break;default:ae!==pe&&Je(e,t,te,ae,s,pe)}}il(e,v,I,U,K,ue,d,l);return;case"select":ae=v=I=te=null;for(d in r)if(U=r[d],r.hasOwnProperty(d)&&U!=null)switch(d){case"value":break;case"multiple":ae=U;default:s.hasOwnProperty(d)||Je(e,t,d,null,s,U)}for(l in s)if(d=s[l],U=r[l],s.hasOwnProperty(l)&&(d!=null||U!=null))switch(l){case"value":te=d;break;case"defaultValue":I=d;break;case"multiple":v=d;default:d!==U&&Je(e,t,l,d,s,U)}t=I,r=v,s=ae,te!=null?hs(e,!!r,te,!1):!!s!=!!r&&(t!=null?hs(e,!!r,t,!0):hs(e,!!r,r?[]:"",!1));return;case"textarea":ae=te=null;for(I in r)if(l=r[I],r.hasOwnProperty(I)&&l!=null&&!s.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Je(e,t,I,null,s,l)}for(v in s)if(l=s[v],d=r[v],s.hasOwnProperty(v)&&(l!=null||d!=null))switch(v){case"value":te=l;break;case"defaultValue":ae=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(a(91));break;default:l!==d&&Je(e,t,v,l,s,d)}Wd(e,te,ae);return;case"option":for(var _e in r)if(te=r[_e],r.hasOwnProperty(_e)&&te!=null&&!s.hasOwnProperty(_e))switch(_e){case"selected":e.selected=!1;break;default:Je(e,t,_e,null,s,te)}for(U in s)if(te=s[U],ae=r[U],s.hasOwnProperty(U)&&te!==ae&&(te!=null||ae!=null))switch(U){case"selected":e.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Je(e,t,U,te,s,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in r)te=r[Ae],r.hasOwnProperty(Ae)&&te!=null&&!s.hasOwnProperty(Ae)&&Je(e,t,Ae,null,s,te);for(K in s)if(te=s[K],ae=r[K],s.hasOwnProperty(K)&&te!==ae&&(te!=null||ae!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(a(137,t));break;default:Je(e,t,K,te,s,ae)}return;default:if(ll(t)){for(var Ke in r)te=r[Ke],r.hasOwnProperty(Ke)&&te!==void 0&&!s.hasOwnProperty(Ke)&&Gc(e,t,Ke,void 0,s,te);for(ue in s)te=s[ue],ae=r[ue],!s.hasOwnProperty(ue)||te===ae||te===void 0&&ae===void 0||Gc(e,t,ue,te,s,ae);return}}for(var X in r)te=r[X],r.hasOwnProperty(X)&&te!=null&&!s.hasOwnProperty(X)&&Je(e,t,X,null,s,te);for(pe in s)te=s[pe],ae=r[pe],!s.hasOwnProperty(pe)||te===ae||te==null&&ae==null||Je(e,t,pe,te,s,ae)}function Xp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),s=0;s<r.length;s++){var l=r[s],d=l.transferSize,v=l.initiatorType,I=l.duration;if(d&&I&&Xp(v)){for(v=0,I=l.responseEnd,s+=1;s<r.length;s++){var U=r[s],K=U.startTime;if(K>I)break;var ue=U.transferSize,pe=U.initiatorType;ue&&Xp(pe)&&(U=U.responseEnd,v+=ue*(U<I?1:(I-K)/(U-K)))}if(--s,t+=8*(d+v)/(l.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Xc=null,Qc=null;function ha(e){return e.nodeType===9?e:e.ownerDocument}function Qp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Jc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kc=null;function pb(){var e=window.event;return e&&e.type==="popstate"?e===Kc?!1:(Kc=e,!0):(Kc=null,!1)}var Kp=typeof setTimeout=="function"?setTimeout:void 0,mb=typeof clearTimeout=="function"?clearTimeout:void 0,Yp=typeof Promise=="function"?Promise:void 0,gb=typeof queueMicrotask=="function"?queueMicrotask:typeof Yp<"u"?function(e){return Yp.resolve(null).then(e).catch(yb)}:Kp;function yb(e){setTimeout(function(){throw e})}function gn(e){return e==="head"}function em(e,t){var r=t,s=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"||r==="/&"){if(s===0){e.removeChild(l),Zs(t);return}s--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")s++;else if(r==="html")Uo(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Uo(r);for(var d=r.firstChild;d;){var v=d.nextSibling,I=d.nodeName;d[oo]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=v}}else r==="body"&&Uo(e.ownerDocument.body);r=l}while(r);Zs(t)}function tm(e,t){var r=e;e=0;do{var s=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=s}while(r)}function Yc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Yc(r),sl(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function vb(e,t,r,s){for(;e.nodeType===1;){var l=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[oo])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence")||d!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=ar(e.nextSibling),e===null)break}return null}function bb(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=ar(e.nextSibling),e===null))return null;return e}function rm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ar(e.nextSibling),e===null))return null;return e}function eu(e){return e.data==="$?"||e.data==="$~"}function tu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function xb(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var s=function(){t(),r.removeEventListener("DOMContentLoaded",s)};r.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function ar(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ru=null;function nm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return ar(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function sm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function om(e,t,r){switch(t=ha(r),e){case"html":if(e=t.documentElement,!e)throw Error(a(452));return e;case"head":if(e=t.head,!e)throw Error(a(453));return e;case"body":if(e=t.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Uo(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);sl(e)}var lr=new Map,im=new Set;function pa(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wr=O.d;O.d={f:kb,r:wb,D:Sb,C:Tb,L:_b,m:Cb,X:Pb,S:Eb,M:jb};function kb(){var e=Wr.f(),t=oa();return e||t}function wb(e){var t=us(e);t!==null&&t.tag===5&&t.type==="form"?Sh(t):Wr.r(e)}var Us=typeof document>"u"?null:document;function am(e,t,r){var s=Us;if(s&&typeof t=="string"&&t){var l=fr(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof r=="string"&&(l+='[crossorigin="'+r+'"]'),im.has(l)||(im.add(l),e={rel:e,crossOrigin:r,href:t},s.querySelector(l)===null&&(t=s.createElement("link"),Tt(t,"link",e),yt(t),s.head.appendChild(t)))}}function Sb(e){Wr.D(e),am("dns-prefetch",e,null)}function Tb(e,t){Wr.C(e,t),am("preconnect",e,t)}function _b(e,t,r){Wr.L(e,t,r);var s=Us;if(s&&e&&t){var l='link[rel="preload"][as="'+fr(t)+'"]';t==="image"&&r&&r.imageSrcSet?(l+='[imagesrcset="'+fr(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(l+='[imagesizes="'+fr(r.imageSizes)+'"]')):l+='[href="'+fr(e)+'"]';var d=l;switch(t){case"style":d=$s(e);break;case"script":d=Ws(e)}lr.has(d)||(e=y({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),lr.set(d,e),s.querySelector(l)!==null||t==="style"&&s.querySelector($o(d))||t==="script"&&s.querySelector(Wo(d))||(t=s.createElement("link"),Tt(t,"link",e),yt(t),s.head.appendChild(t)))}}function Cb(e,t){Wr.m(e,t);var r=Us;if(r&&e){var s=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+fr(s)+'"][href="'+fr(e)+'"]',d=l;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ws(e)}if(!lr.has(d)&&(e=y({rel:"modulepreload",href:e},t),lr.set(d,e),r.querySelector(l)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Wo(d)))return}s=r.createElement("link"),Tt(s,"link",e),yt(s),r.head.appendChild(s)}}}function Eb(e,t,r){Wr.S(e,t,r);var s=Us;if(s&&e){var l=ds(s).hoistableStyles,d=$s(e);t=t||"default";var v=l.get(d);if(!v){var I={loading:0,preload:null};if(v=s.querySelector($o(d)))I.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},r),(r=lr.get(d))&&nu(e,r);var U=v=s.createElement("link");yt(U),Tt(U,"link",e),U._p=new Promise(function(K,ue){U.onload=K,U.onerror=ue}),U.addEventListener("load",function(){I.loading|=1}),U.addEventListener("error",function(){I.loading|=2}),I.loading|=4,ma(v,t,s)}v={type:"stylesheet",instance:v,count:1,state:I},l.set(d,v)}}}function Pb(e,t){Wr.X(e,t);var r=Us;if(r&&e){var s=ds(r).hoistableScripts,l=Ws(e),d=s.get(l);d||(d=r.querySelector(Wo(l)),d||(e=y({src:e,async:!0},t),(t=lr.get(l))&&su(e,t),d=r.createElement("script"),yt(d),Tt(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(l,d))}}function jb(e,t){Wr.M(e,t);var r=Us;if(r&&e){var s=ds(r).hoistableScripts,l=Ws(e),d=s.get(l);d||(d=r.querySelector(Wo(l)),d||(e=y({src:e,async:!0,type:"module"},t),(t=lr.get(l))&&su(e,t),d=r.createElement("script"),yt(d),Tt(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(l,d))}}function lm(e,t,r,s){var l=(l=Te.current)?pa(l):null;if(!l)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=$s(r.href),r=ds(l).hoistableStyles,s=r.get(t),s||(s={type:"style",instance:null,count:0,state:null},r.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=$s(r.href);var d=ds(l).hoistableStyles,v=d.get(e);if(v||(l=l.ownerDocument||l,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=l.querySelector($o(e)))&&!d._p&&(v.instance=d,v.state.loading=5),lr.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},lr.set(e,r),d||Ab(l,e,r,v.state))),t&&s===null)throw Error(a(528,""));return v}if(t&&s!==null)throw Error(a(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ws(r),r=ds(l).hoistableScripts,s=r.get(t),s||(s={type:"script",instance:null,count:0,state:null},r.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function $s(e){return'href="'+fr(e)+'"'}function $o(e){return'link[rel="stylesheet"]['+e+"]"}function cm(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function Ab(e,t,r,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Tt(t,"link",r),yt(t),e.head.appendChild(t))}function Ws(e){return'[src="'+fr(e)+'"]'}function Wo(e){return"script[async]"+e}function um(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+fr(r.href)+'"]');if(s)return t.instance=s,yt(s),s;var l=y({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),yt(s),Tt(s,"style",l),ma(s,r.precedence,e),t.instance=s;case"stylesheet":l=$s(r.href);var d=e.querySelector($o(l));if(d)return t.state.loading|=4,t.instance=d,yt(d),d;s=cm(r),(l=lr.get(l))&&nu(s,l),d=(e.ownerDocument||e).createElement("link"),yt(d);var v=d;return v._p=new Promise(function(I,U){v.onload=I,v.onerror=U}),Tt(d,"link",s),t.state.loading|=4,ma(d,r.precedence,e),t.instance=d;case"script":return d=Ws(r.src),(l=e.querySelector(Wo(d)))?(t.instance=l,yt(l),l):(s=r,(l=lr.get(d))&&(s=y({},r),su(s,l)),e=e.ownerDocument||e,l=e.createElement("script"),yt(l),Tt(l,"link",s),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(a(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,ma(s,r.precedence,e));return t.instance}function ma(e,t,r){for(var s=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=s.length?s[s.length-1]:null,d=l,v=0;v<s.length;v++){var I=s[v];if(I.dataset.precedence===t)d=I;else if(d!==l)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function nu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function su(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ga=null;function dm(e,t,r){if(ga===null){var s=new Map,l=ga=new Map;l.set(r,s)}else l=ga,s=l.get(r),s||(s=new Map,l.set(r,s));if(s.has(e))return s;for(s.set(e,null),r=r.getElementsByTagName(e),l=0;l<r.length;l++){var d=r[l];if(!(d[oo]||d[xt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(t)||"";v=e+v;var I=s.get(v);I?I.push(d):s.set(v,[d])}}return s}function fm(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function Ib(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function hm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function zb(e,t,r,s){if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var l=$s(s.href),d=t.querySelector($o(l));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ya.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=d,yt(d);return}d=t.ownerDocument||t,s=cm(s),(l=lr.get(l))&&nu(s,l),d=d.createElement("link"),yt(d);var v=d;v._p=new Promise(function(I,U){v.onload=I,v.onerror=U}),Tt(d,"link",s),r.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=ya.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var ou=0;function Nb(e,t){return e.stylesheets&&e.count===0&&ba(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var s=setTimeout(function(){if(e.stylesheets&&ba(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&ou===0&&(ou=62500*hb());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ba(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>ou?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(l)}}:null}function ya(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ba(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var va=null;function ba(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,va=new Map,t.forEach(Rb,e),va=null,ya.call(e))}function Rb(e,t){if(!(t.state.loading&4)){var r=va.get(e);if(r)var s=r.get(null);else{r=new Map,va.set(e,r);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<l.length;d++){var v=l[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),s=v)}s&&r.set(null,s)}l=t.instance,v=l.getAttribute("data-precedence"),d=r.get(v)||s,d===s&&r.set(null,l),r.set(v,l),this.count++,s=ya.bind(this),l.addEventListener("load",s),l.addEventListener("error",s),d?d.parentNode.insertBefore(l,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var Zo={$$typeof:E,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function Fb(e,t,r,s,l,d,v,I,U){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=el(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=el(0),this.hiddenUpdates=el(null),this.identifierPrefix=s,this.onUncaughtError=l,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function pm(e,t,r,s,l,d,v,I,U,K,ue,pe){return e=new Fb(e,t,r,v,U,K,ue,pe,I),t=1,d===!0&&(t|=24),d=Zt(3,null,null,t),e.current=d,d.stateNode=e,t=Ol(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:s,isDehydrated:r,cache:t},Ul(d),e}function mm(e){return e?(e=ks,e):ks}function gm(e,t,r,s,l,d){l=mm(l),s.context===null?s.context=l:s.pendingContext=l,s=sn(t),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=on(e,s,t),r!==null&&(Vt(r,e,t),So(r,e,t))}function ym(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function iu(e,t){ym(e,t),(e=e.alternate)&&ym(e,t)}function vm(e){if(e.tag===13||e.tag===31){var t=Mn(e,67108864);t!==null&&Vt(t,e,67108864),iu(e,67108864)}}function bm(e){if(e.tag===13||e.tag===31){var t=Qt();t=tl(t);var r=Mn(e,t);r!==null&&Vt(r,e,t),iu(e,t)}}var xa=!0;function Lb(e,t,r,s){var l=G.T;G.T=null;var d=O.p;try{O.p=2,au(e,t,r,s)}finally{O.p=d,G.T=l}}function Db(e,t,r,s){var l=G.T;G.T=null;var d=O.p;try{O.p=8,au(e,t,r,s)}finally{O.p=d,G.T=l}}function au(e,t,r,s){if(xa){var l=lu(s);if(l===null)Hc(e,t,s,ka,r),km(e,s);else if(Mb(l,e,t,r,s))s.stopPropagation();else if(km(e,s),t&4&&-1<Ob.indexOf(e)){for(;l!==null;){var d=us(l);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=er(d.pendingLanes);if(v!==0){var I=d;for(I.pendingLanes|=2,I.entangledLanes|=2;v;){var U=1<<31-st(v);I.entanglements[1]|=U,v&=~U}wr(d),(qe&6)===0&&(na=we()+500,Mo(0))}}break;case 31:case 13:I=Mn(d,2),I!==null&&Vt(I,d,2),oa(),iu(d,2)}if(d=lu(s),d===null&&Hc(e,t,s,ka,r),d===l)break;l=d}l!==null&&s.stopPropagation()}else Hc(e,t,s,null,r)}}function lu(e){return e=ul(e),cu(e)}var ka=null;function cu(e){if(ka=null,e=cs(e),e!==null){var t=c(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=f(t),e!==null)return e;e=null}else if(r===31){if(e=h(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ka=e,null}function xm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xe()){case Pe:return 2;case He:return 8;case De:case Rt:return 32;case Qr:return 268435456;default:return 32}default:return 32}}var uu=!1,yn=null,vn=null,bn=null,qo=new Map,Ho=new Map,xn=[],Ob="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function km(e,t){switch(e){case"focusin":case"focusout":yn=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":qo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ho.delete(t.pointerId)}}function Go(e,t,r,s,l,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:d,targetContainers:[l]},t!==null&&(t=us(t),t!==null&&vm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Mb(e,t,r,s,l){switch(t){case"focusin":return yn=Go(yn,e,t,r,s,l),!0;case"dragenter":return vn=Go(vn,e,t,r,s,l),!0;case"mouseover":return bn=Go(bn,e,t,r,s,l),!0;case"pointerover":var d=l.pointerId;return qo.set(d,Go(qo.get(d)||null,e,t,r,s,l)),!0;case"gotpointercapture":return d=l.pointerId,Ho.set(d,Go(Ho.get(d)||null,e,t,r,s,l)),!0}return!1}function wm(e){var t=cs(e.target);if(t!==null){var r=c(t);if(r!==null){if(t=r.tag,t===13){if(t=f(r),t!==null){e.blockedOn=t,Fd(e.priority,function(){bm(r)});return}}else if(t===31){if(t=h(r),t!==null){e.blockedOn=t,Fd(e.priority,function(){bm(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=lu(e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);cl=s,r.target.dispatchEvent(s),cl=null}else return t=us(r),t!==null&&vm(t),e.blockedOn=r,!1;t.shift()}return!0}function Sm(e,t,r){wa(e)&&r.delete(t)}function Bb(){uu=!1,yn!==null&&wa(yn)&&(yn=null),vn!==null&&wa(vn)&&(vn=null),bn!==null&&wa(bn)&&(bn=null),qo.forEach(Sm),Ho.forEach(Sm)}function Sa(e,t){e.blockedOn===t&&(e.blockedOn=null,uu||(uu=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Bb)))}var Ta=null;function Tm(e){Ta!==e&&(Ta=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Ta===e&&(Ta=null);for(var t=0;t<e.length;t+=3){var r=e[t],s=e[t+1],l=e[t+2];if(typeof s!="function"){if(cu(s||r)===null)continue;break}var d=us(r);d!==null&&(e.splice(t,3),t-=3,lc(d,{pending:!0,data:l,method:r.method,action:s},s,l))}}))}function Zs(e){function t(U){return Sa(U,e)}yn!==null&&Sa(yn,e),vn!==null&&Sa(vn,e),bn!==null&&Sa(bn,e),qo.forEach(t),Ho.forEach(t);for(var r=0;r<xn.length;r++){var s=xn[r];s.blockedOn===e&&(s.blockedOn=null)}for(;0<xn.length&&(r=xn[0],r.blockedOn===null);)wm(r),r.blockedOn===null&&xn.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(s=0;s<r.length;s+=3){var l=r[s],d=r[s+1],v=l[Ft]||null;if(typeof d=="function")v||Tm(r);else if(v){var I=null;if(d&&d.hasAttribute("formAction")){if(l=d,v=d[Ft]||null)I=v.formAction;else if(cu(l)!==null)continue}else I=v.action;typeof I=="function"?r[s+1]=I:(r.splice(s,3),s-=3),Tm(r)}}}function _m(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return l=v})},focusReset:"manual",scroll:"manual"})}function t(){l!==null&&(l(),l=null),s||setTimeout(r,20)}function r(){if(!s&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),l!==null&&(l(),l=null)}}}function du(e){this._internalRoot=e}_a.prototype.render=du.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));var r=t.current,s=Qt();gm(r,s,e,t,null,null)},_a.prototype.unmount=du.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gm(e.current,2,null,e,null,null),oa(),t[ls]=null}};function _a(e){this._internalRoot=e}_a.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<xn.length&&t!==0&&t<xn[r].priority;r++);xn.splice(r,0,e),r===0&&wm(e)}};var Cm=n.version;if(Cm!=="19.2.3")throw Error(a(527,Cm,"19.2.3"));O.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var Vb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ca.isDisabled&&Ca.supportsFiber)try{Ye=Ca.inject(Vb),gt=Ca}catch{}}return Qo.createRoot=function(e,t){if(!u(e))throw Error(a(299));var r=!1,s="",l=Nh,d=Rh,v=Fh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(v=t.onRecoverableError)),t=pm(e,1,!1,null,null,r,s,null,l,d,v,_m),e[ls]=t.current,qc(e),new du(t)},Qo.hydrateRoot=function(e,t,r){if(!u(e))throw Error(a(299));var s=!1,l="",d=Nh,v=Rh,I=Fh,U=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(I=r.onRecoverableError),r.formState!==void 0&&(U=r.formState)),t=pm(e,1,!0,t,r??null,s,l,U,d,v,I,_m),t.context=mm(null),r=t.current,s=Qt(),s=tl(s),l=sn(s),l.callback=null,on(r,l,s),r=s,t.current.lanes=r,so(t,r),wr(t),e[ls]=t.current,qc(e),new _a(t)},Qo.version="19.2.3",Qo}var Bm;function Qb(){if(Bm)return fu.exports;Bm=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(n){console.error(n)}}return o(),fu.exports=Xb(),fu.exports}var Jb=Qb();const Kb=Gu(Jb);var Yb=ty();const Qu=$.createContext({transformPagePoint:o=>o,isStatic:!1,reducedMotion:"never"}),Za=$.createContext({}),qa=$.createContext(null),Ju=typeof document<"u",Ku=Ju?$.useLayoutEffect:$.useEffect,ry=$.createContext({strict:!1}),Yu=o=>o.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),e1="framerAppearId",ny="data-"+Yu(e1),t1={useManualTiming:!1};class Vm{constructor(){this.order=[],this.scheduled=new Set}add(n){if(!this.scheduled.has(n))return this.scheduled.add(n),this.order.push(n),!0}remove(n){const i=this.order.indexOf(n);i!==-1&&(this.order.splice(i,1),this.scheduled.delete(n))}clear(){this.order.length=0,this.scheduled.clear()}}function r1(o){let n=new Vm,i=new Vm,a=0,u=!1,c=!1;const f=new WeakSet,h={schedule:(p,m=!1,g=!1)=>{const y=g&&u,w=y?n:i;return m&&f.add(p),w.add(p)&&y&&u&&(a=n.order.length),p},cancel:p=>{i.remove(p),f.delete(p)},process:p=>{if(u){c=!0;return}if(u=!0,[n,i]=[i,n],i.clear(),a=n.order.length,a)for(let m=0;m<a;m++){const g=n.order[m];f.has(g)&&(h.schedule(g),o()),g(p)}u=!1,c&&(c=!1,h.process(p))}};return h}const Pa=["read","resolveKeyframes","update","preRender","render","postRender"],n1=40;function sy(o,n){let i=!1,a=!0;const u={delta:0,timestamp:0,isProcessing:!1},c=Pa.reduce((m,g)=>(m[g]=r1(()=>i=!0),m),{}),f=m=>{c[m].process(u)},h=()=>{const m=performance.now();i=!1,u.delta=a?1e3/60:Math.max(Math.min(m-u.timestamp,n1),1),u.timestamp=m,u.isProcessing=!0,Pa.forEach(f),u.isProcessing=!1,i&&n&&(a=!1,o(h))},p=()=>{i=!0,a=!0,u.isProcessing||o(h)};return{schedule:Pa.reduce((m,g)=>{const y=c[g];return m[g]=(w,k=!1,j=!1)=>(i||p(),y.schedule(w,k,j)),m},{}),cancel:m=>Pa.forEach(g=>c[g].cancel(m)),state:u,steps:c}}const{schedule:ed}=sy(queueMicrotask,!1);function s1(o,n,i,a){const{visualElement:u}=$.useContext(Za),c=$.useContext(ry),f=$.useContext(qa),h=$.useContext(Qu).reducedMotion,p=$.useRef();a=a||c.renderer,!p.current&&a&&(p.current=a(o,{visualState:n,parent:u,props:i,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:h}));const m=p.current;$.useInsertionEffect(()=>{m&&m.update(i,f)});const g=$.useRef(!!(i[ny]&&!window.HandoffComplete));return Ku(()=>{m&&(ed.postRender(m.render),g.current&&m.animationState&&m.animationState.animateChanges())}),$.useEffect(()=>{m&&(m.updateFeatures(),!g.current&&m.animationState&&m.animationState.animateChanges(),g.current&&(g.current=!1,window.HandoffComplete=!0))}),m}function Gs(o){return o&&typeof o=="object"&&Object.prototype.hasOwnProperty.call(o,"current")}function o1(o,n,i){return $.useCallback(a=>{a&&o.mount&&o.mount(a),n&&(a?n.mount(a):n.unmount()),i&&(typeof i=="function"?i(a):Gs(i)&&(i.current=a))},[n])}function oi(o){return typeof o=="string"||Array.isArray(o)}function Ha(o){return o!==null&&typeof o=="object"&&typeof o.start=="function"}const td=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rd=["initial",...td];function Ga(o){return Ha(o.animate)||rd.some(n=>oi(o[n]))}function oy(o){return!!(Ga(o)||o.variants)}function i1(o,n){if(Ga(o)){const{initial:i,animate:a}=o;return{initial:i===!1||oi(i)?i:void 0,animate:oi(a)?a:void 0}}return o.inherit!==!1?n:{}}function a1(o){const{initial:n,animate:i}=i1(o,$.useContext(Za));return $.useMemo(()=>({initial:n,animate:i}),[Um(n),Um(i)])}function Um(o){return Array.isArray(o)?o.join(" "):o}const $m={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ii={};for(const o in $m)ii[o]={isEnabled:n=>$m[o].some(i=>!!n[i])};function l1(o){for(const n in o)ii[n]={...ii[n],...o[n]}}const nd=$.createContext({}),iy=$.createContext({}),c1=Symbol.for("motionComponentSymbol");function u1({preloadedFeatures:o,createVisualElement:n,useRender:i,useVisualState:a,Component:u}){o&&l1(o);function c(h,p){let m;const g={...$.useContext(Qu),...h,layoutId:d1(h)},{isStatic:y}=g,w=a1(h),k=a(h,y);if(!y&&Ju){w.visualElement=s1(u,k,g,n);const j=$.useContext(iy),S=$.useContext(ry).strict;w.visualElement&&(m=w.visualElement.loadFeatures(g,S,o,j))}return b.jsxs(Za.Provider,{value:w,children:[m&&w.visualElement?b.jsx(m,{visualElement:w.visualElement,...g}):null,i(u,h,o1(k,w.visualElement,p),k,y,w.visualElement)]})}const f=$.forwardRef(c);return f[c1]=u,f}function d1({layoutId:o}){const n=$.useContext(nd).id;return n&&o!==void 0?n+"-"+o:o}function f1(o){function n(a,u={}){return u1(o(a,u))}if(typeof Proxy>"u")return n;const i=new Map;return new Proxy(n,{get:(a,u)=>(i.has(u)||i.set(u,n(u)),i.get(u))})}const h1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sd(o){return typeof o!="string"||o.includes("-")?!1:!!(h1.indexOf(o)>-1||/[A-Z]/u.test(o))}const La={};function p1(o){Object.assign(La,o)}const ci=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],is=new Set(ci);function ay(o,{layout:n,layoutId:i}){return is.has(o)||o.startsWith("origin")||(n||i!==void 0)&&(!!La[o]||o==="opacity")}const At=o=>!!(o&&o.getVelocity),m1={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},g1=ci.length;function y1(o,{enableHardwareAcceleration:n=!0,allowTransformNone:i=!0},a,u){let c="";for(let f=0;f<g1;f++){const h=ci[f];if(o[h]!==void 0){const p=m1[h]||h;c+=`${p}(${o[h]}) `}}return n&&!o.z&&(c+="translateZ(0)"),c=c.trim(),u?c=u(o,a?"":c):i&&a&&(c="none"),c}const ly=o=>n=>typeof n=="string"&&n.startsWith(o),cy=ly("--"),v1=ly("var(--"),od=o=>v1(o)?b1.test(o.split("/*")[0].trim()):!1,b1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,x1=(o,n)=>n&&typeof o=="number"?n.transform(o):o,jn=(o,n,i)=>i>n?n:i<o?o:i,to={test:o=>typeof o=="number",parse:parseFloat,transform:o=>o},ei={...to,transform:o=>jn(0,1,o)},ja={...to,default:1},ti=o=>Math.round(o*1e5)/1e5,id=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,k1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,w1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function ui(o){return typeof o=="string"}const di=o=>({test:n=>ui(n)&&n.endsWith(o)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${o}`}),Sn=di("deg"),Cr=di("%"),Ie=di("px"),S1=di("vh"),T1=di("vw"),Wm={...Cr,parse:o=>Cr.parse(o)/100,transform:o=>Cr.transform(o*100)},Zm={...to,transform:Math.round},uy={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,size:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,rotate:Sn,rotateX:Sn,rotateY:Sn,rotateZ:Sn,scale:ja,scaleX:ja,scaleY:ja,scaleZ:ja,skew:Sn,skewX:Sn,skewY:Sn,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:ei,originX:Wm,originY:Wm,originZ:Ie,zIndex:Zm,backgroundPositionX:Ie,backgroundPositionY:Ie,fillOpacity:ei,strokeOpacity:ei,numOctaves:Zm};function ad(o,n,i,a){const{style:u,vars:c,transform:f,transformOrigin:h}=o;let p=!1,m=!1,g=!0;for(const y in n){const w=n[y];if(cy(y)){c[y]=w;continue}const k=uy[y],j=x1(w,k);if(is.has(y)){if(p=!0,f[y]=j,!g)continue;w!==(k.default||0)&&(g=!1)}else y.startsWith("origin")?(m=!0,h[y]=j):u[y]=j}if(n.transform||(p||a?u.transform=y1(o.transform,i,g,a):u.transform&&(u.transform="none")),m){const{originX:y="50%",originY:w="50%",originZ:k=0}=h;u.transformOrigin=`${y} ${w} ${k}`}}const ld=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dy(o,n,i){for(const a in n)!At(n[a])&&!ay(a,i)&&(o[a]=n[a])}function _1({transformTemplate:o},n,i){return $.useMemo(()=>{const a=ld();return ad(a,n,{enableHardwareAcceleration:!i},o),Object.assign({},a.vars,a.style)},[n])}function C1(o,n,i){const a=o.style||{},u={};return dy(u,a,o),Object.assign(u,_1(o,n,i)),u}function E1(o,n,i){const a={},u=C1(o,n,i);return o.drag&&o.dragListener!==!1&&(a.draggable=!1,u.userSelect=u.WebkitUserSelect=u.WebkitTouchCallout="none",u.touchAction=o.drag===!0?"none":`pan-${o.drag==="x"?"y":"x"}`),o.tabIndex===void 0&&(o.onTap||o.onTapStart||o.whileTap)&&(a.tabIndex=0),a.style=u,a}const P1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Da(o){return o.startsWith("while")||o.startsWith("drag")&&o!=="draggable"||o.startsWith("layout")||o.startsWith("onTap")||o.startsWith("onPan")||o.startsWith("onLayout")||P1.has(o)}let fy=o=>!Da(o);function j1(o){o&&(fy=n=>n.startsWith("on")?!Da(n):o(n))}try{j1(require("@emotion/is-prop-valid").default)}catch{}function A1(o,n,i){const a={};for(const u in o)u==="values"&&typeof o.values=="object"||(fy(u)||i===!0&&Da(u)||!n&&!Da(u)||o.draggable&&u.startsWith("onDrag"))&&(a[u]=o[u]);return a}function qm(o,n,i){return typeof o=="string"?o:Ie.transform(n+i*o)}function I1(o,n,i){const a=qm(n,o.x,o.width),u=qm(i,o.y,o.height);return`${a} ${u}`}const z1={offset:"stroke-dashoffset",array:"stroke-dasharray"},N1={offset:"strokeDashoffset",array:"strokeDasharray"};function R1(o,n,i=1,a=0,u=!0){o.pathLength=1;const c=u?z1:N1;o[c.offset]=Ie.transform(-a);const f=Ie.transform(n),h=Ie.transform(i);o[c.array]=`${f} ${h}`}function cd(o,{attrX:n,attrY:i,attrScale:a,originX:u,originY:c,pathLength:f,pathSpacing:h=1,pathOffset:p=0,...m},g,y,w){if(ad(o,m,g,w),y){o.style.viewBox&&(o.attrs.viewBox=o.style.viewBox);return}o.attrs=o.style,o.style={};const{attrs:k,style:j,dimensions:S}=o;k.transform&&(S&&(j.transform=k.transform),delete k.transform),S&&(u!==void 0||c!==void 0||j.transform)&&(j.transformOrigin=I1(S,u!==void 0?u:.5,c!==void 0?c:.5)),n!==void 0&&(k.x=n),i!==void 0&&(k.y=i),a!==void 0&&(k.scale=a),f!==void 0&&R1(k,f,h,p,!1)}const hy=()=>({...ld(),attrs:{}}),ud=o=>typeof o=="string"&&o.toLowerCase()==="svg";function F1(o,n,i,a){const u=$.useMemo(()=>{const c=hy();return cd(c,n,{enableHardwareAcceleration:!1},ud(a),o.transformTemplate),{...c.attrs,style:{...c.style}}},[n]);if(o.style){const c={};dy(c,o.style,o),u.style={...c,...u.style}}return u}function L1(o=!1){return(n,i,a,{latestValues:u},c)=>{const f=(sd(n)?F1:E1)(i,u,c,n),h=A1(i,typeof n=="string",o),p=n!==$.Fragment?{...h,...f,ref:a}:{},{children:m}=i,g=$.useMemo(()=>At(m)?m.get():m,[m]);return $.createElement(n,{...p,children:g})}}function py(o,{style:n,vars:i},a,u){Object.assign(o.style,n,u&&u.getProjectionStyles(a));for(const c in i)o.style.setProperty(c,i[c])}const my=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gy(o,n,i,a){py(o,n,void 0,a);for(const u in n.attrs)o.setAttribute(my.has(u)?u:Yu(u),n.attrs[u])}function dd(o,n,i){var a;const{style:u}=o,c={};for(const f in u)(At(u[f])||n.style&&At(n.style[f])||ay(f,o)||((a=i==null?void 0:i.getValue(f))===null||a===void 0?void 0:a.liveStyle)!==void 0)&&(c[f]=u[f]);return c}function yy(o,n,i){const a=dd(o,n,i);for(const u in o)if(At(o[u])||At(n[u])){const c=ci.indexOf(u)!==-1?"attr"+u.charAt(0).toUpperCase()+u.substring(1):u;a[c]=o[u]}return a}function fd(o,n,i,a={},u={}){return typeof n=="function"&&(n=n(i!==void 0?i:o.custom,a,u)),typeof n=="string"&&(n=o.variants&&o.variants[n]),typeof n=="function"&&(n=n(i!==void 0?i:o.custom,a,u)),n}function vy(o){const n=$.useRef(null);return n.current===null&&(n.current=o()),n.current}const Iu=o=>Array.isArray(o),D1=o=>!!(o&&typeof o=="object"&&o.mix&&o.toValue),O1=o=>Iu(o)?o[o.length-1]||0:o;function za(o){const n=At(o)?o.get():o;return D1(n)?n.toValue():n}function M1({scrapeMotionValuesFromProps:o,createRenderState:n,onMount:i},a,u,c){const f={latestValues:B1(a,u,c,o),renderState:n()};return i&&(f.mount=h=>i(a,h,f)),f}const by=o=>(n,i)=>{const a=$.useContext(Za),u=$.useContext(qa),c=()=>M1(o,n,a,u);return i?c():vy(c)};function B1(o,n,i,a){const u={},c=a(o,{});for(const w in c)u[w]=za(c[w]);let{initial:f,animate:h}=o;const p=Ga(o),m=oy(o);n&&m&&!p&&o.inherit!==!1&&(f===void 0&&(f=n.initial),h===void 0&&(h=n.animate));let g=i?i.initial===!1:!1;g=g||f===!1;const y=g?h:f;return y&&typeof y!="boolean"&&!Ha(y)&&(Array.isArray(y)?y:[y]).forEach(w=>{const k=fd(o,w);if(!k)return;const{transitionEnd:j,transition:S,...A}=k;for(const _ in A){let C=A[_];if(Array.isArray(C)){const E=g?C.length-1:0;C=C[E]}C!==null&&(u[_]=C)}for(const _ in j)u[_]=j[_]}),u}const It=o=>o,{schedule:bt,cancel:An,state:_t,steps:pu}=sy(typeof requestAnimationFrame<"u"?requestAnimationFrame:It,!0),V1={useVisualState:by({scrapeMotionValuesFromProps:yy,createRenderState:hy,onMount:(o,n,{renderState:i,latestValues:a})=>{bt.read(()=>{try{i.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{i.dimensions={x:0,y:0,width:0,height:0}}}),bt.render(()=>{cd(i,a,{enableHardwareAcceleration:!1},ud(n.tagName),o.transformTemplate),gy(n,i)})}})},U1={useVisualState:by({scrapeMotionValuesFromProps:dd,createRenderState:ld})};function $1(o,{forwardMotionProps:n=!1},i,a){return{...sd(o)?V1:U1,preloadedFeatures:i,useRender:L1(n),createVisualElement:a,Component:o}}function Zr(o,n,i,a={passive:!0}){return o.addEventListener(n,i,a),()=>o.removeEventListener(n,i)}const xy=o=>o.pointerType==="mouse"?typeof o.button!="number"||o.button<=0:o.isPrimary!==!1;function Xa(o,n="page"){return{point:{x:o[`${n}X`],y:o[`${n}Y`]}}}const W1=o=>n=>xy(n)&&o(n,Xa(n));function Hr(o,n,i,a){return Zr(o,n,W1(i),a)}const Z1=(o,n)=>i=>n(o(i)),Gr=(...o)=>o.reduce(Z1);function ky(o){let n=null;return()=>{const i=()=>{n=null};return n===null?(n=o,i):!1}}const Hm=ky("dragHorizontal"),Gm=ky("dragVertical");function wy(o){let n=!1;if(o==="y")n=Gm();else if(o==="x")n=Hm();else{const i=Hm(),a=Gm();i&&a?n=()=>{i(),a()}:(i&&i(),a&&a())}return n}function Sy(){const o=wy(!0);return o?(o(),!1):!0}class zn{constructor(n){this.isMounted=!1,this.node=n}update(){}}function Xm(o,n){const i=n?"pointerenter":"pointerleave",a=n?"onHoverStart":"onHoverEnd",u=(c,f)=>{if(c.pointerType==="touch"||Sy())return;const h=o.getProps();o.animationState&&h.whileHover&&o.animationState.setActive("whileHover",n);const p=h[a];p&&p(c,f)};return Hr(o.current,i,u,{passive:!o.getProps()[a]})}class q1 extends zn{mount(){this.unmount=Gr(Xm(this.node,!0),Xm(this.node,!1))}unmount(){}}class H1 extends zn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gr(Zr(this.node.current,"focus",()=>this.onFocus()),Zr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Ty=(o,n)=>n?o===n?!0:Ty(o,n.parentElement):!1;function mu(o,n){if(!n)return;const i=new PointerEvent("pointer"+o);n(i,Xa(i))}class G1 extends zn{constructor(){super(...arguments),this.removeStartListeners=It,this.removeEndListeners=It,this.removeAccessibleListeners=It,this.startPointerPress=(n,i)=>{if(this.isPressing)return;this.removeEndListeners();const a=this.node.getProps(),u=Hr(window,"pointerup",(f,h)=>{if(!this.checkPressEnd())return;const{onTap:p,onTapCancel:m,globalTapTarget:g}=this.node.getProps();!g&&!Ty(this.node.current,f.target)?m&&m(f,h):p&&p(f,h)},{passive:!(a.onTap||a.onPointerUp)}),c=Hr(window,"pointercancel",(f,h)=>this.cancelPress(f,h),{passive:!(a.onTapCancel||a.onPointerCancel)});this.removeEndListeners=Gr(u,c),this.startPress(n,i)},this.startAccessiblePress=()=>{const n=c=>{if(c.key!=="Enter"||this.isPressing)return;const f=h=>{h.key!=="Enter"||!this.checkPressEnd()||mu("up",(p,m)=>{const{onTap:g}=this.node.getProps();g&&g(p,m)})};this.removeEndListeners(),this.removeEndListeners=Zr(this.node.current,"keyup",f),mu("down",(h,p)=>{this.startPress(h,p)})},i=Zr(this.node.current,"keydown",n),a=()=>{this.isPressing&&mu("cancel",(c,f)=>this.cancelPress(c,f))},u=Zr(this.node.current,"blur",a);this.removeAccessibleListeners=Gr(i,u)}}startPress(n,i){this.isPressing=!0;const{onTapStart:a,whileTap:u}=this.node.getProps();u&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),a&&a(n,i)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Sy()}cancelPress(n,i){if(!this.checkPressEnd())return;const{onTapCancel:a}=this.node.getProps();a&&a(n,i)}mount(){const n=this.node.getProps(),i=Hr(n.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(n.onTapStart||n.onPointerStart)}),a=Zr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Gr(i,a)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const zu=new WeakMap,gu=new WeakMap,X1=o=>{const n=zu.get(o.target);n&&n(o)},Q1=o=>{o.forEach(X1)};function J1({root:o,...n}){const i=o||document;gu.has(i)||gu.set(i,{});const a=gu.get(i),u=JSON.stringify(n);return a[u]||(a[u]=new IntersectionObserver(Q1,{root:o,...n})),a[u]}function K1(o,n,i){const a=J1(n);return zu.set(o,i),a.observe(o),()=>{zu.delete(o),a.unobserve(o)}}const Y1={some:0,all:1};class ex extends zn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:i,margin:a,amount:u="some",once:c}=n,f={root:i?i.current:void 0,rootMargin:a,threshold:typeof u=="number"?u:Y1[u]},h=p=>{const{isIntersecting:m}=p;if(this.isInView===m||(this.isInView=m,c&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),w=m?g:y;w&&w(p)};return K1(this.node.current,f,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:i}=this.node;["amount","margin","root"].some(tx(n,i))&&this.startObserver()}unmount(){}}function tx({viewport:o={}},{viewport:n={}}={}){return i=>o[i]!==n[i]}const rx={inView:{Feature:ex},tap:{Feature:G1},focus:{Feature:H1},hover:{Feature:q1}};function _y(o,n){if(!Array.isArray(n))return!1;const i=n.length;if(i!==o.length)return!1;for(let a=0;a<i;a++)if(n[a]!==o[a])return!1;return!0}function nx(o){const n={};return o.values.forEach((i,a)=>n[a]=i.get()),n}function sx(o){const n={};return o.values.forEach((i,a)=>n[a]=i.getVelocity()),n}function Qa(o,n,i){const a=o.getProps();return fd(a,n,i!==void 0?i:a.custom,nx(o),sx(o))}const En=o=>o*1e3,Xr=o=>o/1e3,ox={type:"spring",stiffness:500,damping:25,restSpeed:10},ix=o=>({type:"spring",stiffness:550,damping:o===0?2*Math.sqrt(550):30,restSpeed:10}),ax={type:"keyframes",duration:.8},lx={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cx=(o,{keyframes:n})=>n.length>2?ax:is.has(o)?o.startsWith("scale")?ix(n[1]):ox:lx;function ux({when:o,delay:n,delayChildren:i,staggerChildren:a,staggerDirection:u,repeat:c,repeatType:f,repeatDelay:h,from:p,elapsed:m,...g}){return!!Object.keys(g).length}function hd(o,n){return o[n]||o.default||o}const dx=o=>o!==null;function Ja(o,{repeat:n,repeatType:i="loop"},a){const u=o.filter(dx),c=n&&i!=="loop"&&n%2===1?0:u.length-1;return!c||a===void 0?u[c]:a}let Na;function fx(){Na=void 0}const Pn={now:()=>(Na===void 0&&Pn.set(_t.isProcessing||t1.useManualTiming?_t.timestamp:performance.now()),Na),set:o=>{Na=o,queueMicrotask(fx)}},Cy=o=>/^0[^.\s]+$/u.test(o);function hx(o){return typeof o=="number"?o===0:o!==null?o==="none"||o==="0"||Cy(o):!0}let Ey=It;const Py=o=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(o),px=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function mx(o){const n=px.exec(o);if(!n)return[,];const[,i,a,u]=n;return[`--${i??a}`,u]}function jy(o,n,i=1){const[a,u]=mx(o);if(!a)return;const c=window.getComputedStyle(n).getPropertyValue(a);if(c){const f=c.trim();return Py(f)?parseFloat(f):f}return od(u)?jy(u,n,i+1):u}const gx=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Qm=o=>o===to||o===Ie,Jm=(o,n)=>parseFloat(o.split(", ")[n]),Km=(o,n)=>(i,{transform:a})=>{if(a==="none"||!a)return 0;const u=a.match(/^matrix3d\((.+)\)$/u);if(u)return Jm(u[1],n);{const c=a.match(/^matrix\((.+)\)$/u);return c?Jm(c[1],o):0}},yx=new Set(["x","y","z"]),vx=ci.filter(o=>!yx.has(o));function bx(o){const n=[];return vx.forEach(i=>{const a=o.getValue(i);a!==void 0&&(n.push([i,a.get()]),a.set(i.startsWith("scale")?1:0))}),n}const eo={width:({x:o},{paddingLeft:n="0",paddingRight:i="0"})=>o.max-o.min-parseFloat(n)-parseFloat(i),height:({y:o},{paddingTop:n="0",paddingBottom:i="0"})=>o.max-o.min-parseFloat(n)-parseFloat(i),top:(o,{top:n})=>parseFloat(n),left:(o,{left:n})=>parseFloat(n),bottom:({y:o},{top:n})=>parseFloat(n)+(o.max-o.min),right:({x:o},{left:n})=>parseFloat(n)+(o.max-o.min),x:Km(4,13),y:Km(5,14)};eo.translateX=eo.x;eo.translateY=eo.y;const Ay=o=>n=>n.test(o),xx={test:o=>o==="auto",parse:o=>o},Iy=[to,Ie,Cr,Sn,T1,S1,xx],Ym=o=>Iy.find(Ay(o)),os=new Set;let Nu=!1,Ru=!1;function zy(){if(Ru){const o=Array.from(os).filter(a=>a.needsMeasurement),n=new Set(o.map(a=>a.element)),i=new Map;n.forEach(a=>{const u=bx(a);u.length&&(i.set(a,u),a.render())}),o.forEach(a=>a.measureInitialState()),n.forEach(a=>{a.render();const u=i.get(a);u&&u.forEach(([c,f])=>{var h;(h=a.getValue(c))===null||h===void 0||h.set(f)})}),o.forEach(a=>a.measureEndState()),o.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}Ru=!1,Nu=!1,os.forEach(o=>o.complete()),os.clear()}function Ny(){os.forEach(o=>{o.readKeyframes(),o.needsMeasurement&&(Ru=!0)})}function kx(){Ny(),zy()}class pd{constructor(n,i,a,u,c,f=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...n],this.onComplete=i,this.name=a,this.motionValue=u,this.element=c,this.isAsync=f}scheduleResolve(){this.isScheduled=!0,this.isAsync?(os.add(this),Nu||(Nu=!0,bt.read(Ny),bt.resolveKeyframes(zy))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:i,element:a,motionValue:u}=this;for(let c=0;c<n.length;c++)if(n[c]===null)if(c===0){const f=u==null?void 0:u.get(),h=n[n.length-1];if(f!==void 0)n[0]=f;else if(a&&i){const p=a.readValue(i,h);p!=null&&(n[0]=p)}n[0]===void 0&&(n[0]=h),u&&f===void 0&&u.set(n[0])}else n[c]=n[c-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),os.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,os.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const md=(o,n)=>i=>!!(ui(i)&&w1.test(i)&&i.startsWith(o)||n&&Object.prototype.hasOwnProperty.call(i,n)),Ry=(o,n,i)=>a=>{if(!ui(a))return a;const[u,c,f,h]=a.match(id);return{[o]:parseFloat(u),[n]:parseFloat(c),[i]:parseFloat(f),alpha:h!==void 0?parseFloat(h):1}},wx=o=>jn(0,255,o),yu={...to,transform:o=>Math.round(wx(o))},rs={test:md("rgb","red"),parse:Ry("red","green","blue"),transform:({red:o,green:n,blue:i,alpha:a=1})=>"rgba("+yu.transform(o)+", "+yu.transform(n)+", "+yu.transform(i)+", "+ti(ei.transform(a))+")"};function Sx(o){let n="",i="",a="",u="";return o.length>5?(n=o.substring(1,3),i=o.substring(3,5),a=o.substring(5,7),u=o.substring(7,9)):(n=o.substring(1,2),i=o.substring(2,3),a=o.substring(3,4),u=o.substring(4,5),n+=n,i+=i,a+=a,u+=u),{red:parseInt(n,16),green:parseInt(i,16),blue:parseInt(a,16),alpha:u?parseInt(u,16)/255:1}}const Fu={test:md("#"),parse:Sx,transform:rs.transform},Xs={test:md("hsl","hue"),parse:Ry("hue","saturation","lightness"),transform:({hue:o,saturation:n,lightness:i,alpha:a=1})=>"hsla("+Math.round(o)+", "+Cr.transform(ti(n))+", "+Cr.transform(ti(i))+", "+ti(ei.transform(a))+")"},Pt={test:o=>rs.test(o)||Fu.test(o)||Xs.test(o),parse:o=>rs.test(o)?rs.parse(o):Xs.test(o)?Xs.parse(o):Fu.parse(o),transform:o=>ui(o)?o:o.hasOwnProperty("red")?rs.transform(o):Xs.transform(o)};function Tx(o){var n,i;return isNaN(o)&&ui(o)&&(((n=o.match(id))===null||n===void 0?void 0:n.length)||0)+(((i=o.match(k1))===null||i===void 0?void 0:i.length)||0)>0}const Fy="number",Ly="color",_x="var",Cx="var(",eg="${}",Ex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Oa(o){const n=o.toString(),i=[],a={color:[],number:[],var:[]},u=[];let c=0;const f=n.replace(Ex,h=>(Pt.test(h)?(a.color.push(c),u.push(Ly),i.push(Pt.parse(h))):h.startsWith(Cx)?(a.var.push(c),u.push(_x),i.push(h)):(a.number.push(c),u.push(Fy),i.push(parseFloat(h))),++c,eg)).split(eg);return{values:i,split:f,indexes:a,types:u}}function Dy(o){return Oa(o).values}function Oy(o){const{split:n,types:i}=Oa(o),a=n.length;return u=>{let c="";for(let f=0;f<a;f++)if(c+=n[f],u[f]!==void 0){const h=i[f];h===Fy?c+=ti(u[f]):h===Ly?c+=Pt.transform(u[f]):c+=u[f]}return c}}const Px=o=>typeof o=="number"?0:o;function jx(o){const n=Dy(o);return Oy(o)(n.map(Px))}const In={test:Tx,parse:Dy,createTransformer:Oy,getAnimatableNone:jx},Ax=new Set(["brightness","contrast","saturate","opacity"]);function Ix(o){const[n,i]=o.slice(0,-1).split("(");if(n==="drop-shadow")return o;const[a]=i.match(id)||[];if(!a)return o;const u=i.replace(a,"");let c=Ax.has(n)?1:0;return a!==i&&(c*=100),n+"("+c+u+")"}const zx=/\b([a-z-]*)\(.*?\)/gu,Lu={...In,getAnimatableNone:o=>{const n=o.match(zx);return n?n.map(Ix).join(" "):o}},Nx={...uy,color:Pt,backgroundColor:Pt,outlineColor:Pt,fill:Pt,stroke:Pt,borderColor:Pt,borderTopColor:Pt,borderRightColor:Pt,borderBottomColor:Pt,borderLeftColor:Pt,filter:Lu,WebkitFilter:Lu},gd=o=>Nx[o];function My(o,n){let i=gd(o);return i!==Lu&&(i=In),i.getAnimatableNone?i.getAnimatableNone(n):void 0}function Rx(o,n,i){let a=0,u;for(;a<o.length&&!u;)typeof o[a]=="string"&&o[a]!=="none"&&o[a]!=="0"&&(u=o[a]),a++;if(u&&i)for(const c of n)o[c]=My(i,u)}class By extends pd{constructor(n,i,a,u){super(n,i,a,u,u==null?void 0:u.owner,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:i,name:a}=this;if(!i.current)return;super.readKeyframes();for(let p=0;p<n.length;p++){const m=n[p];if(typeof m=="string"&&od(m)){const g=jy(m,i.current);g!==void 0&&(n[p]=g),p===n.length-1&&(this.finalKeyframe=m)}}if(!gx.has(a)||n.length!==2)return this.resolveNoneKeyframes();const[u,c]=n,f=Ym(u),h=Ym(c);if(f!==h)if(Qm(f)&&Qm(h))for(let p=0;p<n.length;p++){const m=n[p];typeof m=="string"&&(n[p]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:i}=this,a=[];for(let u=0;u<n.length;u++)hx(n[u])&&a.push(u);a.length&&Rx(n,a,i)}measureInitialState(){const{element:n,unresolvedKeyframes:i,name:a}=this;if(!n.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=eo[a](n.measureViewportBox(),window.getComputedStyle(n.current)),i[0]=this.measuredOrigin;const u=i[i.length-1];u!==void 0&&n.getValue(a,u).jump(u,!1)}measureEndState(){var n;const{element:i,name:a,unresolvedKeyframes:u}=this;if(!i.current)return;const c=i.getValue(a);c&&c.jump(this.measuredOrigin,!1);const f=u.length-1,h=u[f];u[f]=eo[a](i.measureViewportBox(),window.getComputedStyle(i.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((n=this.removedTransforms)===null||n===void 0)&&n.length&&this.removedTransforms.forEach(([p,m])=>{i.getValue(p).set(m)}),this.resolveNoneKeyframes()}}function Fx(o){let n;return()=>(n===void 0&&(n=o()),n)}const tg=(o,n)=>n==="zIndex"?!1:!!(typeof o=="number"||Array.isArray(o)||typeof o=="string"&&(In.test(o)||o==="0")&&!o.startsWith("url("));function Lx(o){const n=o[0];if(o.length===1)return!0;for(let i=0;i<o.length;i++)if(o[i]!==n)return!0}function Dx(o,n,i,a){const u=o[0];if(u===null)return!1;const c=o[o.length-1],f=tg(u,n),h=tg(c,n);return!f||!h?!1:Lx(o)||i==="spring"&&a}class Vy{constructor({autoplay:n=!0,delay:i=0,type:a="keyframes",repeat:u=0,repeatDelay:c=0,repeatType:f="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:n,delay:i,type:a,repeat:u,repeatDelay:c,repeatType:f,...h},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&kx(),this._resolved}onKeyframesResolved(n,i){this.hasAttemptedResolve=!0;const{name:a,type:u,velocity:c,delay:f,onComplete:h,onUpdate:p,isGenerator:m}=this.options;if(!m&&!Dx(n,a,u,c))if(f)this.options.duration=0;else{p==null||p(Ja(n,this.options,i)),h==null||h(),this.resolveFinishedPromise();return}const g=this.initPlayback(n,i);g!==!1&&(this._resolved={keyframes:n,finalKeyframe:i,...g},this.onPostResolved())}onPostResolved(){}then(n,i){return this.currentFinishedPromise.then(n,i)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(n=>{this.resolveFinishedPromise=n})}}function Uy(o,n){return n?o*(1e3/n):0}const Ox=5;function $y(o,n,i){const a=Math.max(n-Ox,0);return Uy(i-o(a),n-a)}const vu=.001,Mx=.01,Bx=10,Vx=.05,Ux=1;function $x({duration:o=800,bounce:n=.25,velocity:i=0,mass:a=1}){let u,c,f=1-n;f=jn(Vx,Ux,f),o=jn(Mx,Bx,Xr(o)),f<1?(u=m=>{const g=m*f,y=g*o,w=g-i,k=Du(m,f),j=Math.exp(-y);return vu-w/k*j},c=m=>{const g=m*f*o,y=g*i+i,w=Math.pow(f,2)*Math.pow(m,2)*o,k=Math.exp(-g),j=Du(Math.pow(m,2),f);return(-u(m)+vu>0?-1:1)*((y-w)*k)/j}):(u=m=>{const g=Math.exp(-m*o),y=(m-i)*o+1;return-vu+g*y},c=m=>{const g=Math.exp(-m*o),y=(i-m)*(o*o);return g*y});const h=5/o,p=Zx(u,c,h);if(o=En(o),isNaN(p))return{stiffness:100,damping:10,duration:o};{const m=Math.pow(p,2)*a;return{stiffness:m,damping:f*2*Math.sqrt(a*m),duration:o}}}const Wx=12;function Zx(o,n,i){let a=i;for(let u=1;u<Wx;u++)a=a-o(a)/n(a);return a}function Du(o,n){return o*Math.sqrt(1-n*n)}const qx=["duration","bounce"],Hx=["stiffness","damping","mass"];function rg(o,n){return n.some(i=>o[i]!==void 0)}function Gx(o){let n={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...o};if(!rg(o,Hx)&&rg(o,qx)){const i=$x(o);n={...n,...i,mass:1},n.isResolvedFromDuration=!0}return n}function Wy({keyframes:o,restDelta:n,restSpeed:i,...a}){const u=o[0],c=o[o.length-1],f={done:!1,value:u},{stiffness:h,damping:p,mass:m,duration:g,velocity:y,isResolvedFromDuration:w}=Gx({...a,velocity:-Xr(a.velocity||0)}),k=y||0,j=p/(2*Math.sqrt(h*m)),S=c-u,A=Xr(Math.sqrt(h/m)),_=Math.abs(S)<5;i||(i=_?.01:2),n||(n=_?.005:.5);let C;if(j<1){const E=Du(A,j);C=F=>{const L=Math.exp(-j*A*F);return c-L*((k+j*A*S)/E*Math.sin(E*F)+S*Math.cos(E*F))}}else if(j===1)C=E=>c-Math.exp(-A*E)*(S+(k+A*S)*E);else{const E=A*Math.sqrt(j*j-1);C=F=>{const L=Math.exp(-j*A*F),B=Math.min(E*F,300);return c-L*((k+j*A*S)*Math.sinh(B)+E*S*Math.cosh(B))/E}}return{calculatedDuration:w&&g||null,next:E=>{const F=C(E);if(w)f.done=E>=g;else{let L=k;E!==0&&(j<1?L=$y(C,E,F):L=0);const B=Math.abs(L)<=i,M=Math.abs(c-F)<=n;f.done=B&&M}return f.value=f.done?c:F,f}}}function ng({keyframes:o,velocity:n=0,power:i=.8,timeConstant:a=325,bounceDamping:u=10,bounceStiffness:c=500,modifyTarget:f,min:h,max:p,restDelta:m=.5,restSpeed:g}){const y=o[0],w={done:!1,value:y},k=q=>h!==void 0&&q<h||p!==void 0&&q>p,j=q=>h===void 0?p:p===void 0||Math.abs(h-q)<Math.abs(p-q)?h:p;let S=i*n;const A=y+S,_=f===void 0?A:f(A);_!==A&&(S=_-y);const C=q=>-S*Math.exp(-q/a),E=q=>_+C(q),F=q=>{const H=C(q),ie=E(q);w.done=Math.abs(H)<=m,w.value=w.done?_:ie};let L,B;const M=q=>{k(w.value)&&(L=q,B=Wy({keyframes:[w.value,j(w.value)],velocity:$y(E,q,w.value),damping:u,stiffness:c,restDelta:m,restSpeed:g}))};return M(0),{calculatedDuration:null,next:q=>{let H=!1;return!B&&L===void 0&&(H=!0,F(q),M(q)),L!==void 0&&q>=L?B.next(q-L):(!H&&F(q),w)}}}const Zy=(o,n,i)=>(((1-3*i+3*n)*o+(3*i-6*n))*o+3*n)*o,Xx=1e-7,Qx=12;function Jx(o,n,i,a,u){let c,f,h=0;do f=n+(i-n)/2,c=Zy(f,a,u)-o,c>0?i=f:n=f;while(Math.abs(c)>Xx&&++h<Qx);return f}function fi(o,n,i,a){if(o===n&&i===a)return It;const u=c=>Jx(c,0,1,o,i);return c=>c===0||c===1?c:Zy(u(c),n,a)}const Kx=fi(.42,0,1,1),Yx=fi(0,0,.58,1),qy=fi(.42,0,.58,1),ek=o=>Array.isArray(o)&&typeof o[0]!="number",Hy=o=>n=>n<=.5?o(2*n)/2:(2-o(2*(1-n)))/2,Gy=o=>n=>1-o(1-n),yd=o=>1-Math.sin(Math.acos(o)),Xy=Gy(yd),tk=Hy(yd),Qy=fi(.33,1.53,.69,.99),vd=Gy(Qy),rk=Hy(vd),nk=o=>(o*=2)<1?.5*vd(o):.5*(2-Math.pow(2,-10*(o-1))),sk={linear:It,easeIn:Kx,easeInOut:qy,easeOut:Yx,circIn:yd,circInOut:tk,circOut:Xy,backIn:vd,backInOut:rk,backOut:Qy,anticipate:nk},sg=o=>{if(Array.isArray(o)){Ey(o.length===4);const[n,i,a,u]=o;return fi(n,i,a,u)}else if(typeof o=="string")return sk[o];return o},ai=(o,n,i)=>{const a=n-o;return a===0?1:(i-o)/a},ot=(o,n,i)=>o+(n-o)*i;function bu(o,n,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?o+(n-o)*6*i:i<1/2?n:i<2/3?o+(n-o)*(2/3-i)*6:o}function ok({hue:o,saturation:n,lightness:i,alpha:a}){o/=360,n/=100,i/=100;let u=0,c=0,f=0;if(!n)u=c=f=i;else{const h=i<.5?i*(1+n):i+n-i*n,p=2*i-h;u=bu(p,h,o+1/3),c=bu(p,h,o),f=bu(p,h,o-1/3)}return{red:Math.round(u*255),green:Math.round(c*255),blue:Math.round(f*255),alpha:a}}const xu=(o,n,i)=>{const a=o*o,u=i*(n*n-a)+a;return u<0?0:Math.sqrt(u)},ik=[Fu,rs,Xs],ak=o=>ik.find(n=>n.test(o));function og(o){const n=ak(o);let i=n.parse(o);return n===Xs&&(i=ok(i)),i}const ig=(o,n)=>{const i=og(o),a=og(n),u={...i};return c=>(u.red=xu(i.red,a.red,c),u.green=xu(i.green,a.green,c),u.blue=xu(i.blue,a.blue,c),u.alpha=ot(i.alpha,a.alpha,c),rs.transform(u))};function Ou(o,n){return i=>i>0?n:o}function lk(o,n){return i=>ot(o,n,i)}function bd(o){return typeof o=="number"?lk:typeof o=="string"?od(o)?Ou:Pt.test(o)?ig:dk:Array.isArray(o)?Jy:typeof o=="object"?Pt.test(o)?ig:ck:Ou}function Jy(o,n){const i=[...o],a=i.length,u=o.map((c,f)=>bd(c)(c,n[f]));return c=>{for(let f=0;f<a;f++)i[f]=u[f](c);return i}}function ck(o,n){const i={...o,...n},a={};for(const u in i)o[u]!==void 0&&n[u]!==void 0&&(a[u]=bd(o[u])(o[u],n[u]));return u=>{for(const c in a)i[c]=a[c](u);return i}}function uk(o,n){var i;const a=[],u={color:0,var:0,number:0};for(let c=0;c<n.values.length;c++){const f=n.types[c],h=o.indexes[f][u[f]],p=(i=o.values[h])!==null&&i!==void 0?i:0;a[c]=p,u[f]++}return a}const dk=(o,n)=>{const i=In.createTransformer(n),a=Oa(o),u=Oa(n);return a.indexes.var.length===u.indexes.var.length&&a.indexes.color.length===u.indexes.color.length&&a.indexes.number.length>=u.indexes.number.length?Gr(Jy(uk(a,u),u.values),i):Ou(o,n)};function Ky(o,n,i){return typeof o=="number"&&typeof n=="number"&&typeof i=="number"?ot(o,n,i):bd(o)(o,n)}function fk(o,n,i){const a=[],u=i||Ky,c=o.length-1;for(let f=0;f<c;f++){let h=u(o[f],o[f+1]);if(n){const p=Array.isArray(n)?n[f]||It:n;h=Gr(p,h)}a.push(h)}return a}function hk(o,n,{clamp:i=!0,ease:a,mixer:u}={}){const c=o.length;if(Ey(c===n.length),c===1)return()=>n[0];if(c===2&&o[0]===o[1])return()=>n[1];o[0]>o[c-1]&&(o=[...o].reverse(),n=[...n].reverse());const f=fk(n,a,u),h=f.length,p=m=>{let g=0;if(h>1)for(;g<o.length-2&&!(m<o[g+1]);g++);const y=ai(o[g],o[g+1],m);return f[g](y)};return i?m=>p(jn(o[0],o[c-1],m)):p}function pk(o,n){const i=o[o.length-1];for(let a=1;a<=n;a++){const u=ai(0,n,a);o.push(ot(i,1,u))}}function mk(o){const n=[0];return pk(n,o.length-1),n}function gk(o,n){return o.map(i=>i*n)}function yk(o,n){return o.map(()=>n||qy).splice(0,o.length-1)}function Ma({duration:o=300,keyframes:n,times:i,ease:a="easeInOut"}){const u=ek(a)?a.map(sg):sg(a),c={done:!1,value:n[0]},f=gk(i&&i.length===n.length?i:mk(n),o),h=hk(f,n,{ease:Array.isArray(u)?u:yk(n,u)});return{calculatedDuration:o,next:p=>(c.value=h(p),c.done=p>=o,c)}}const ag=2e4;function vk(o){let n=0;const i=50;let a=o.next(n);for(;!a.done&&n<ag;)n+=i,a=o.next(n);return n>=ag?1/0:n}const bk=o=>{const n=({timestamp:i})=>o(i);return{start:()=>bt.update(n,!0),stop:()=>An(n),now:()=>_t.isProcessing?_t.timestamp:Pn.now()}},xk={decay:ng,inertia:ng,tween:Ma,keyframes:Ma,spring:Wy},kk=o=>o/100;class xd extends Vy{constructor({KeyframeResolver:n=pd,...i}){super(i),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:a,motionValue:u,keyframes:c}=this.options,f=(h,p)=>this.onKeyframesResolved(h,p);a&&u&&u.owner?this.resolver=u.owner.resolveKeyframes(c,f,a,u):this.resolver=new n(c,f,a,u),this.resolver.scheduleResolve()}initPlayback(n){const{type:i="keyframes",repeat:a=0,repeatDelay:u=0,repeatType:c,velocity:f=0}=this.options,h=xk[i]||Ma;let p,m;h!==Ma&&typeof n[0]!="number"&&(p=Gr(kk,Ky(n[0],n[1])),n=[0,100]);const g=h({...this.options,keyframes:n});c==="mirror"&&(m=h({...this.options,keyframes:[...n].reverse(),velocity:-f})),g.calculatedDuration===null&&(g.calculatedDuration=vk(g));const{calculatedDuration:y}=g,w=y+u,k=w*(a+1)-u;return{generator:g,mirroredGenerator:m,mapPercentToKeyframes:p,calculatedDuration:y,resolvedDuration:w,totalDuration:k}}onPostResolved(){const{autoplay:n=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!n?this.pause():this.state=this.pendingPlayState}tick(n,i=!1){const{resolved:a}=this;if(!a){const{keyframes:q}=this.options;return{done:!0,value:q[q.length-1]}}const{finalKeyframe:u,generator:c,mirroredGenerator:f,mapPercentToKeyframes:h,keyframes:p,calculatedDuration:m,totalDuration:g,resolvedDuration:y}=a;if(this.startTime===null)return c.next(0);const{delay:w,repeat:k,repeatType:j,repeatDelay:S,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-g/this.speed,this.startTime)),i?this.currentTime=n:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(n-this.startTime)*this.speed;const _=this.currentTime-w*(this.speed>=0?1:-1),C=this.speed>=0?_<0:_>g;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let E=this.currentTime,F=c;if(k){const q=Math.min(this.currentTime,g)/y;let H=Math.floor(q),ie=q%1;!ie&&q>=1&&(ie=1),ie===1&&H--,H=Math.min(H,k+1),H%2&&(j==="reverse"?(ie=1-ie,S&&(ie-=S/y)):j==="mirror"&&(F=f)),E=jn(0,1,ie)*y}const L=C?{done:!1,value:p[0]}:F.next(E);h&&(L.value=h(L.value));let{done:B}=L;!C&&m!==null&&(B=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return M&&u!==void 0&&(L.value=Ja(p,this.options,u)),A&&A(L.value),M&&this.finish(),L}get duration(){const{resolved:n}=this;return n?Xr(n.calculatedDuration):0}get time(){return Xr(this.currentTime)}set time(n){n=En(n),this.currentTime=n,this.holdTime!==null||this.speed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.speed)}get speed(){return this.playbackSpeed}set speed(n){const i=this.playbackSpeed!==n;this.playbackSpeed=n,i&&(this.time=Xr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:n=bk,onPlay:i}=this.options;this.driver||(this.driver=n(u=>this.tick(u))),i&&i();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=a),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var n;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(n=this.currentTime)!==null&&n!==void 0?n:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:n}=this.options;n&&n()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}}const Yy=o=>Array.isArray(o)&&typeof o[0]=="number";function e0(o){return!!(!o||typeof o=="string"&&o in kd||Yy(o)||Array.isArray(o)&&o.every(e0))}const Yo=([o,n,i,a])=>`cubic-bezier(${o}, ${n}, ${i}, ${a})`,kd={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yo([0,.65,.55,1]),circOut:Yo([.55,0,1,.45]),backIn:Yo([.31,.01,.66,-.59]),backOut:Yo([.33,1.53,.69,.99])};function wk(o){return t0(o)||kd.easeOut}function t0(o){if(o)return Yy(o)?Yo(o):Array.isArray(o)?o.map(wk):kd[o]}function Sk(o,n,i,{delay:a=0,duration:u=300,repeat:c=0,repeatType:f="loop",ease:h,times:p}={}){const m={[n]:i};p&&(m.offset=p);const g=t0(h);return Array.isArray(g)&&(m.easing=g),o.animate(m,{delay:a,duration:u,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:c+1,direction:f==="reverse"?"alternate":"normal"})}const Tk=Fx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),_k=new Set(["opacity","clipPath","filter","transform"]),Ba=10,Ck=2e4;function Ek(o){return o.type==="spring"||o.name==="backgroundColor"||!e0(o.ease)}function Pk(o,n){const i=new xd({...n,keyframes:o,repeat:0,delay:0,isGenerator:!0});let a={done:!1,value:o[0]};const u=[];let c=0;for(;!a.done&&c<Ck;)a=i.sample(c),u.push(a.value),c+=Ba;return{times:void 0,keyframes:u,duration:c-Ba,ease:"linear"}}class lg extends Vy{constructor(n){super(n);const{name:i,motionValue:a,keyframes:u}=this.options;this.resolver=new By(u,(c,f)=>this.onKeyframesResolved(c,f),i,a),this.resolver.scheduleResolve()}initPlayback(n,i){var a;let{duration:u=300,times:c,ease:f,type:h,motionValue:p,name:m}=this.options;if(!(!((a=p.owner)===null||a===void 0)&&a.current))return!1;if(Ek(this.options)){const{onComplete:y,onUpdate:w,motionValue:k,...j}=this.options,S=Pk(n,j);n=S.keyframes,n.length===1&&(n[1]=n[0]),u=S.duration,c=S.times,f=S.ease,h="keyframes"}const g=Sk(p.owner.current,m,n,{...this.options,duration:u,times:c,ease:f});return g.startTime=Pn.now(),this.pendingTimeline?(g.timeline=this.pendingTimeline,this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:y}=this.options;p.set(Ja(n,this.options,i)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:u,times:c,type:h,ease:f,keyframes:n}}get duration(){const{resolved:n}=this;if(!n)return 0;const{duration:i}=n;return Xr(i)}get time(){const{resolved:n}=this;if(!n)return 0;const{animation:i}=n;return Xr(i.currentTime||0)}set time(n){const{resolved:i}=this;if(!i)return;const{animation:a}=i;a.currentTime=En(n)}get speed(){const{resolved:n}=this;if(!n)return 1;const{animation:i}=n;return i.playbackRate}set speed(n){const{resolved:i}=this;if(!i)return;const{animation:a}=i;a.playbackRate=n}get state(){const{resolved:n}=this;if(!n)return"idle";const{animation:i}=n;return i.playState}attachTimeline(n){if(!this._resolved)this.pendingTimeline=n;else{const{resolved:i}=this;if(!i)return It;const{animation:a}=i;a.timeline=n,a.onfinish=null}return It}play(){if(this.isStopped)return;const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playState==="finished"&&this.updateFinishedPromise(),i.play()}pause(){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:n}=this;if(!n)return;const{animation:i,keyframes:a,duration:u,type:c,ease:f,times:h}=n;if(!(i.playState==="idle"||i.playState==="finished")){if(this.time){const{motionValue:p,onUpdate:m,onComplete:g,...y}=this.options,w=new xd({...y,keyframes:a,duration:u,type:c,ease:f,times:h,isGenerator:!0}),k=En(this.time);p.setWithVelocity(w.sample(k-Ba).value,w.sample(k).value,Ba)}this.cancel()}}complete(){const{resolved:n}=this;n&&n.animation.finish()}cancel(){const{resolved:n}=this;n&&n.animation.cancel()}static supports(n){const{motionValue:i,name:a,repeatDelay:u,repeatType:c,damping:f,type:h}=n;return Tk()&&a&&_k.has(a)&&i&&i.owner&&i.owner.current instanceof HTMLElement&&!i.owner.getProps().onUpdate&&!u&&c!=="mirror"&&f!==0&&h!=="inertia"}}const wd=(o,n,i,a={},u,c)=>f=>{const h=hd(a,o)||{},p=h.delay||a.delay||0;let{elapsed:m=0}=a;m=m-En(p);let g={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:n.getVelocity(),...h,delay:-m,onUpdate:w=>{n.set(w),h.onUpdate&&h.onUpdate(w)},onComplete:()=>{f(),h.onComplete&&h.onComplete()},name:o,motionValue:n,element:c?void 0:u};ux(h)||(g={...g,...cx(o,g)}),g.duration&&(g.duration=En(g.duration)),g.repeatDelay&&(g.repeatDelay=En(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),y&&!c&&n.get()!==void 0){const w=Ja(g.keyframes,h);if(w!==void 0){bt.update(()=>{g.onUpdate(w),g.onComplete()});return}}return!c&&lg.supports(g)?new lg(g):new xd(g)};function Va(o){return!!(At(o)&&o.add)}function Sd(o,n){o.indexOf(n)===-1&&o.push(n)}function Td(o,n){const i=o.indexOf(n);i>-1&&o.splice(i,1)}class _d{constructor(){this.subscriptions=[]}add(n){return Sd(this.subscriptions,n),()=>Td(this.subscriptions,n)}notify(n,i,a){const u=this.subscriptions.length;if(u)if(u===1)this.subscriptions[0](n,i,a);else for(let c=0;c<u;c++){const f=this.subscriptions[c];f&&f(n,i,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cg=30,jk=o=>!isNaN(parseFloat(o));class Ak{constructor(n,i={}){this.version="11.1.7",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(a,u=!0)=>{const c=Pn.now();this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),u&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(n),this.canTrackVelocity=jk(this.current),this.owner=i.owner}setCurrent(n){this.current=n,this.updatedAt=Pn.now()}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,i){this.events[n]||(this.events[n]=new _d);const a=this.events[n].add(i);return n==="change"?()=>{a(),bt.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,i){this.passiveEffect=n,this.stopPassiveEffect=i}set(n,i=!0){!i||!this.passiveEffect?this.updateAndNotify(n,i):this.passiveEffect(n,this.updateAndNotify)}setWithVelocity(n,i,a){this.set(i),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-a}jump(n,i=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=Pn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>cg)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,cg);return Uy(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(n){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=n(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function li(o,n){return new Ak(o,n)}function Ik(o,n,i){o.hasValue(n)?o.getValue(n).set(i):o.addValue(n,li(i))}function zk(o,n){const i=Qa(o,n);let{transitionEnd:a={},transition:u={},...c}=i||{};c={...c,...a};for(const f in c){const h=O1(c[f]);Ik(o,f,h)}}function Nk({protectedKeys:o,needsAnimating:n},i){const a=o.hasOwnProperty(i)&&n[i]!==!0;return n[i]=!1,a}function r0(o,n,{delay:i=0,transitionOverride:a,type:u}={}){var c;let{transition:f=o.getDefaultTransition(),transitionEnd:h,...p}=n;const m=o.getValue("willChange");a&&(f=a);const g=[],y=u&&o.animationState&&o.animationState.getState()[u];for(const w in p){const k=o.getValue(w,(c=o.latestValues[w])!==null&&c!==void 0?c:null),j=p[w];if(j===void 0||y&&Nk(y,w))continue;const S={delay:i,elapsed:0,...hd(f||{},w)};let A=!1;if(window.HandoffAppearAnimations){const C=o.getProps()[ny];if(C){const E=window.HandoffAppearAnimations(C,w);E!==null&&(S.elapsed=E,A=!0)}}k.start(wd(w,k,j,o.shouldReduceMotion&&is.has(w)?{type:!1}:S,o,A));const _=k.animation;_&&(Va(m)&&(m.add(w),_.then(()=>m.remove(w))),g.push(_))}return h&&Promise.all(g).then(()=>{bt.update(()=>{h&&zk(o,h)})}),g}function Mu(o,n,i={}){var a;const u=Qa(o,n,i.type==="exit"?(a=o.presenceContext)===null||a===void 0?void 0:a.custom:void 0);let{transition:c=o.getDefaultTransition()||{}}=u||{};i.transitionOverride&&(c=i.transitionOverride);const f=u?()=>Promise.all(r0(o,u,i)):()=>Promise.resolve(),h=o.variantChildren&&o.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:w}=c;return Rk(o,n,g+m,y,w,i)}:()=>Promise.resolve(),{when:p}=c;if(p){const[m,g]=p==="beforeChildren"?[f,h]:[h,f];return m().then(()=>g())}else return Promise.all([f(),h(i.delay)])}function Rk(o,n,i=0,a=0,u=1,c){const f=[],h=(o.variantChildren.size-1)*a,p=u===1?(m=0)=>m*a:(m=0)=>h-m*a;return Array.from(o.variantChildren).sort(Fk).forEach((m,g)=>{m.notify("AnimationStart",n),f.push(Mu(m,n,{...c,delay:i+p(g)}).then(()=>m.notify("AnimationComplete",n)))}),Promise.all(f)}function Fk(o,n){return o.sortNodePosition(n)}function Lk(o,n,i={}){o.notify("AnimationStart",n);let a;if(Array.isArray(n)){const u=n.map(c=>Mu(o,c,i));a=Promise.all(u)}else if(typeof n=="string")a=Mu(o,n,i);else{const u=typeof n=="function"?Qa(o,n,i.custom):n;a=Promise.all(r0(o,u,i))}return a.then(()=>{bt.postRender(()=>{o.notify("AnimationComplete",n)})})}const Dk=[...td].reverse(),Ok=td.length;function Mk(o){return n=>Promise.all(n.map(({animation:i,options:a})=>Lk(o,i,a)))}function Bk(o){let n=Mk(o);const i=Uk();let a=!0;const u=p=>(m,g)=>{var y;const w=Qa(o,g,p==="exit"?(y=o.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(w){const{transition:k,transitionEnd:j,...S}=w;m={...m,...S,...j}}return m};function c(p){n=p(o)}function f(p){const m=o.getProps(),g=o.getVariantContext(!0)||{},y=[],w=new Set;let k={},j=1/0;for(let A=0;A<Ok;A++){const _=Dk[A],C=i[_],E=m[_]!==void 0?m[_]:g[_],F=oi(E),L=_===p?C.isActive:null;L===!1&&(j=A);let B=E===g[_]&&E!==m[_]&&F;if(B&&a&&o.manuallyAnimateOnMount&&(B=!1),C.protectedKeys={...k},!C.isActive&&L===null||!E&&!C.prevProp||Ha(E)||typeof E=="boolean")continue;let M=Vk(C.prevProp,E)||_===p&&C.isActive&&!B&&F||A>j&&F,q=!1;const H=Array.isArray(E)?E:[E];let ie=H.reduce(u(_),{});L===!1&&(ie={});const{prevResolvedValues:ge={}}=C,D={...ge,...ie},Y=T=>{M=!0,w.has(T)&&(q=!0,w.delete(T)),C.needsAnimating[T]=!0;const oe=o.getValue(T);oe&&(oe.liveStyle=!1)};for(const T in D){const oe=ie[T],G=ge[T];if(k.hasOwnProperty(T))continue;let O=!1;Iu(oe)&&Iu(G)?O=!_y(oe,G):O=oe!==G,O?oe!=null?Y(T):w.add(T):oe!==void 0&&w.has(T)?Y(T):C.protectedKeys[T]=!0}C.prevProp=E,C.prevResolvedValues=ie,C.isActive&&(k={...k,...ie}),a&&o.blockInitialAnimation&&(M=!1),M&&(!B||q)&&y.push(...H.map(T=>({animation:T,options:{type:_}})))}if(w.size){const A={};w.forEach(_=>{const C=o.getBaseTarget(_),E=o.getValue(_);E&&(E.liveStyle=!0),A[_]=C??null}),y.push({animation:A})}let S=!!y.length;return a&&(m.initial===!1||m.initial===m.animate)&&!o.manuallyAnimateOnMount&&(S=!1),a=!1,S?n(y):Promise.resolve()}function h(p,m){var g;if(i[p].isActive===m)return Promise.resolve();(g=o.variantChildren)===null||g===void 0||g.forEach(w=>{var k;return(k=w.animationState)===null||k===void 0?void 0:k.setActive(p,m)}),i[p].isActive=m;const y=f(p);for(const w in i)i[w].protectedKeys={};return y}return{animateChanges:f,setActive:h,setAnimateFunction:c,getState:()=>i}}function Vk(o,n){return typeof n=="string"?n!==o:Array.isArray(n)?!_y(n,o):!1}function Kn(o=!1){return{isActive:o,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Uk(){return{animate:Kn(!0),whileInView:Kn(),whileHover:Kn(),whileTap:Kn(),whileDrag:Kn(),whileFocus:Kn(),exit:Kn()}}class $k extends zn{constructor(n){super(n),n.animationState||(n.animationState=Bk(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();this.unmount(),Ha(n)&&(this.unmount=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:i}=this.node.prevProps||{};n!==i&&this.updateAnimationControlsSubscription()}unmount(){}}let Wk=0;class Zk extends zn{constructor(){super(...arguments),this.id=Wk++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:i}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===a)return;const u=this.node.animationState.setActive("exit",!n);i&&!n&&u.then(()=>i(this.id))}mount(){const{register:n}=this.node.presenceContext||{};n&&(this.unmount=n(this.id))}unmount(){}}const qk={animation:{Feature:$k},exit:{Feature:Zk}},ug=(o,n)=>Math.abs(o-n);function Hk(o,n){const i=ug(o.x,n.x),a=ug(o.y,n.y);return Math.sqrt(i**2+a**2)}class n0{constructor(n,i,{transformPagePoint:a,contextWindow:u,dragSnapToOrigin:c=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=wu(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,k=Hk(y.offset,{x:0,y:0})>=3;if(!w&&!k)return;const{point:j}=y,{timestamp:S}=_t;this.history.push({...j,timestamp:S});const{onStart:A,onMove:_}=this.handlers;w||(A&&A(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,y)},this.handlePointerMove=(y,w)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=ku(w,this.transformPagePoint),bt.update(this.updatePoint,!0)},this.handlePointerUp=(y,w)=>{this.end();const{onEnd:k,onSessionEnd:j,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=wu(y.type==="pointercancel"?this.lastMoveEventInfo:ku(w,this.transformPagePoint),this.history);this.startEvent&&k&&k(y,A),j&&j(y,A)},!xy(n))return;this.dragSnapToOrigin=c,this.handlers=i,this.transformPagePoint=a,this.contextWindow=u||window;const f=Xa(n),h=ku(f,this.transformPagePoint),{point:p}=h,{timestamp:m}=_t;this.history=[{...p,timestamp:m}];const{onSessionStart:g}=i;g&&g(n,wu(h,this.history)),this.removeListeners=Gr(Hr(this.contextWindow,"pointermove",this.handlePointerMove),Hr(this.contextWindow,"pointerup",this.handlePointerUp),Hr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),An(this.updatePoint)}}function ku(o,n){return n?{point:n(o.point)}:o}function dg(o,n){return{x:o.x-n.x,y:o.y-n.y}}function wu({point:o},n){return{point:o,delta:dg(o,s0(n)),offset:dg(o,Gk(n)),velocity:Xk(n,.1)}}function Gk(o){return o[0]}function s0(o){return o[o.length-1]}function Xk(o,n){if(o.length<2)return{x:0,y:0};let i=o.length-1,a=null;const u=s0(o);for(;i>=0&&(a=o[i],!(u.timestamp-a.timestamp>En(n)));)i--;if(!a)return{x:0,y:0};const c=Xr(u.timestamp-a.timestamp);if(c===0)return{x:0,y:0};const f={x:(u.x-a.x)/c,y:(u.y-a.y)/c};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function Jt(o){return o.max-o.min}function Bu(o,n=0,i=.01){return Math.abs(o-n)<=i}function fg(o,n,i,a=.5){o.origin=a,o.originPoint=ot(n.min,n.max,o.origin),o.scale=Jt(i)/Jt(n),(Bu(o.scale,1,1e-4)||isNaN(o.scale))&&(o.scale=1),o.translate=ot(i.min,i.max,o.origin)-o.originPoint,(Bu(o.translate)||isNaN(o.translate))&&(o.translate=0)}function ri(o,n,i,a){fg(o.x,n.x,i.x,a?a.originX:void 0),fg(o.y,n.y,i.y,a?a.originY:void 0)}function hg(o,n,i){o.min=i.min+n.min,o.max=o.min+Jt(n)}function Qk(o,n,i){hg(o.x,n.x,i.x),hg(o.y,n.y,i.y)}function pg(o,n,i){o.min=n.min-i.min,o.max=o.min+Jt(n)}function ni(o,n,i){pg(o.x,n.x,i.x),pg(o.y,n.y,i.y)}function Jk(o,{min:n,max:i},a){return n!==void 0&&o<n?o=a?ot(n,o,a.min):Math.max(o,n):i!==void 0&&o>i&&(o=a?ot(i,o,a.max):Math.min(o,i)),o}function mg(o,n,i){return{min:n!==void 0?o.min+n:void 0,max:i!==void 0?o.max+i-(o.max-o.min):void 0}}function Kk(o,{top:n,left:i,bottom:a,right:u}){return{x:mg(o.x,i,u),y:mg(o.y,n,a)}}function gg(o,n){let i=n.min-o.min,a=n.max-o.max;return n.max-n.min<o.max-o.min&&([i,a]=[a,i]),{min:i,max:a}}function Yk(o,n){return{x:gg(o.x,n.x),y:gg(o.y,n.y)}}function ew(o,n){let i=.5;const a=Jt(o),u=Jt(n);return u>a?i=ai(n.min,n.max-a,o.min):a>u&&(i=ai(o.min,o.max-u,n.min)),jn(0,1,i)}function tw(o,n){const i={};return n.min!==void 0&&(i.min=n.min-o.min),n.max!==void 0&&(i.max=n.max-o.min),i}const Vu=.35;function rw(o=Vu){return o===!1?o=0:o===!0&&(o=Vu),{x:yg(o,"left","right"),y:yg(o,"top","bottom")}}function yg(o,n,i){return{min:vg(o,n),max:vg(o,i)}}function vg(o,n){return typeof o=="number"?o:o[n]||0}const bg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qs=()=>({x:bg(),y:bg()}),xg=()=>({min:0,max:0}),ut=()=>({x:xg(),y:xg()});function ur(o){return[o("x"),o("y")]}function o0({top:o,left:n,right:i,bottom:a}){return{x:{min:n,max:i},y:{min:o,max:a}}}function nw({x:o,y:n}){return{top:n.min,right:o.max,bottom:n.max,left:o.min}}function sw(o,n){if(!n)return o;const i=n({x:o.left,y:o.top}),a=n({x:o.right,y:o.bottom});return{top:i.y,left:i.x,bottom:a.y,right:a.x}}function Su(o){return o===void 0||o===1}function Uu({scale:o,scaleX:n,scaleY:i}){return!Su(o)||!Su(n)||!Su(i)}function Yn(o){return Uu(o)||i0(o)||o.z||o.rotate||o.rotateX||o.rotateY||o.skewX||o.skewY}function i0(o){return kg(o.x)||kg(o.y)}function kg(o){return o&&o!=="0%"}function Ua(o,n,i){const a=o-i,u=n*a;return i+u}function wg(o,n,i,a,u){return u!==void 0&&(o=Ua(o,u,a)),Ua(o,i,a)+n}function $u(o,n=0,i=1,a,u){o.min=wg(o.min,n,i,a,u),o.max=wg(o.max,n,i,a,u)}function a0(o,{x:n,y:i}){$u(o.x,n.translate,n.scale,n.originPoint),$u(o.y,i.translate,i.scale,i.originPoint)}function ow(o,n,i,a=!1){const u=i.length;if(!u)return;n.x=n.y=1;let c,f;for(let h=0;h<u;h++){c=i[h],f=c.projectionDelta;const p=c.instance;p&&p.style&&p.style.display==="contents"||(a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Js(o,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),f&&(n.x*=f.x.scale,n.y*=f.y.scale,a0(o,f)),a&&Yn(c.latestValues)&&Js(o,c.latestValues))}n.x=Sg(n.x),n.y=Sg(n.y)}function Sg(o){return Number.isInteger(o)||o>1.0000000000001||o<.999999999999?o:1}function _n(o,n){o.min=o.min+n,o.max=o.max+n}function Tg(o,n,[i,a,u]){const c=n[u]!==void 0?n[u]:.5,f=ot(o.min,o.max,c);$u(o,n[i],n[a],f,n.scale)}const iw=["x","scaleX","originX"],aw=["y","scaleY","originY"];function Js(o,n){Tg(o.x,n,iw),Tg(o.y,n,aw)}function l0(o,n){return o0(sw(o.getBoundingClientRect(),n))}function lw(o,n,i){const a=l0(o,i),{scroll:u}=n;return u&&(_n(a.x,u.offset.x),_n(a.y,u.offset.y)),a}const c0=({current:o})=>o?o.ownerDocument.defaultView:null,cw=new WeakMap;class uw{constructor(n){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ut(),this.visualElement=n}start(n,{snapToCursor:i=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const u=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(Xa(g,"page").point)},c=(g,y)=>{const{drag:w,dragPropagation:k,onDragStart:j}=this.getProps();if(w&&!k&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=wy(w),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ur(A=>{let _=this.getAxisMotionValue(A).get()||0;if(Cr.test(_)){const{projection:C}=this.visualElement;if(C&&C.layout){const E=C.layout.layoutBox[A];E&&(_=Jt(E)*(parseFloat(_)/100))}}this.originPoint[A]=_}),j&&j(g,y);const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},f=(g,y)=>{const{dragPropagation:w,dragDirectionLock:k,onDirectionLock:j,onDrag:S}=this.getProps();if(!w&&!this.openGlobalLock)return;const{offset:A}=y;if(k&&this.currentDirection===null){this.currentDirection=dw(A),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",y.point,A),this.updateAxis("y",y.point,A),this.visualElement.render(),S&&S(g,y)},h=(g,y)=>this.stop(g,y),p=()=>ur(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new n0(n,{onSessionStart:u,onStart:c,onMove:f,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:c0(this.visualElement)})}stop(n,i){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:u}=i;this.startAnimation(u);const{onDragEnd:c}=this.getProps();c&&c(n,i)}cancel(){this.isDragging=!1;const{projection:n,animationState:i}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(n,i,a){const{drag:u}=this.getProps();if(!a||!Aa(n,u,this.currentDirection))return;const c=this.getAxisMotionValue(n);let f=this.originPoint[n]+a[n];this.constraints&&this.constraints[n]&&(f=Jk(f,this.constraints[n],this.elastic[n])),c.set(f)}resolveConstraints(){var n;const{dragConstraints:i,dragElastic:a}=this.getProps(),u=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(n=this.visualElement.projection)===null||n===void 0?void 0:n.layout,c=this.constraints;i&&Gs(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&u?this.constraints=Kk(u.layoutBox,i):this.constraints=!1,this.elastic=rw(a),c!==this.constraints&&u&&this.constraints&&!this.hasMutatedConstraints&&ur(f=>{this.constraints!==!1&&this.getAxisMotionValue(f)&&(this.constraints[f]=tw(u.layoutBox[f],this.constraints[f]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:i}=this.getProps();if(!n||!Gs(n))return!1;const a=n.current,{projection:u}=this.visualElement;if(!u||!u.layout)return!1;const c=lw(a,u.root,this.visualElement.getTransformPagePoint());let f=Yk(u.layout.layoutBox,c);if(i){const h=i(nw(f));this.hasMutatedConstraints=!!h,h&&(f=o0(h))}return f}startAnimation(n){const{drag:i,dragMomentum:a,dragElastic:u,dragTransition:c,dragSnapToOrigin:f,onDragTransitionEnd:h}=this.getProps(),p=this.constraints||{},m=ur(g=>{if(!Aa(g,i,this.currentDirection))return;let y=p&&p[g]||{};f&&(y={min:0,max:0});const w=u?200:1e6,k=u?40:1e7,j={type:"inertia",velocity:a?n[g]:0,bounceStiffness:w,bounceDamping:k,timeConstant:750,restDelta:1,restSpeed:10,...c,...y};return this.startAxisValueAnimation(g,j)});return Promise.all(m).then(h)}startAxisValueAnimation(n,i){const a=this.getAxisMotionValue(n);return a.start(wd(n,a,0,i,this.visualElement))}stopAnimation(){ur(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){ur(n=>{var i;return(i=this.getAxisMotionValue(n).animation)===null||i===void 0?void 0:i.pause()})}getAnimationState(n){var i;return(i=this.getAxisMotionValue(n).animation)===null||i===void 0?void 0:i.state}getAxisMotionValue(n){const i=`_drag${n.toUpperCase()}`,a=this.visualElement.getProps();return a[i]||this.visualElement.getValue(n,(a.initial?a.initial[n]:void 0)||0)}snapToCursor(n){ur(i=>{const{drag:a}=this.getProps();if(!Aa(i,a,this.currentDirection))return;const{projection:u}=this.visualElement,c=this.getAxisMotionValue(i);if(u&&u.layout){const{min:f,max:h}=u.layout.layoutBox[i];c.set(n[i]-ot(f,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:i}=this.getProps(),{projection:a}=this.visualElement;if(!Gs(i)||!a||!this.constraints)return;this.stopAnimation();const u={x:0,y:0};ur(f=>{const h=this.getAxisMotionValue(f);if(h&&this.constraints!==!1){const p=h.get();u[f]=ew({min:p,max:p},this.constraints[f])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),ur(f=>{if(!Aa(f,n,null))return;const h=this.getAxisMotionValue(f),{min:p,max:m}=this.constraints[f];h.set(ot(p,m,u[f]))})}addListeners(){if(!this.visualElement.current)return;cw.set(this.visualElement,this);const n=this.visualElement.current,i=Hr(n,"pointerdown",p=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(p)}),a=()=>{const{dragConstraints:p}=this.getProps();Gs(p)&&(this.constraints=this.resolveRefConstraints())},{projection:u}=this.visualElement,c=u.addEventListener("measure",a);u&&!u.layout&&(u.root&&u.root.updateScroll(),u.updateLayout()),a();const f=Zr(window,"resize",()=>this.scalePositionWithinConstraints()),h=u.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:m})=>{this.isDragging&&m&&(ur(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=p[g].translate,y.set(y.get()+p[g].translate))}),this.visualElement.render())}));return()=>{f(),i(),c(),h&&h()}}getProps(){const n=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:a=!1,dragPropagation:u=!1,dragConstraints:c=!1,dragElastic:f=Vu,dragMomentum:h=!0}=n;return{...n,drag:i,dragDirectionLock:a,dragPropagation:u,dragConstraints:c,dragElastic:f,dragMomentum:h}}}function Aa(o,n,i){return(n===!0||n===o)&&(i===null||i===o)}function dw(o,n=10){let i=null;return Math.abs(o.y)>n?i="y":Math.abs(o.x)>n&&(i="x"),i}class fw extends zn{constructor(n){super(n),this.removeGroupControls=It,this.removeListeners=It,this.controls=new uw(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||It}unmount(){this.removeGroupControls(),this.removeListeners()}}const _g=o=>(n,i)=>{o&&o(n,i)};class hw extends zn{constructor(){super(...arguments),this.removePointerDownListener=It}onPointerDown(n){this.session=new n0(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:c0(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:i,onPan:a,onPanEnd:u}=this.node.getProps();return{onSessionStart:_g(n),onStart:_g(i),onMove:a,onEnd:(c,f)=>{delete this.session,u&&u(c,f)}}}mount(){this.removePointerDownListener=Hr(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function pw(){const o=$.useContext(qa);if(o===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=o,u=$.useId();return $.useEffect(()=>a(u),[]),!n&&i?[!1,()=>i&&i(u)]:[!0]}const Ra={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Cg(o,n){return n.max===n.min?0:o/(n.max-n.min)*100}const Jo={correct:(o,n)=>{if(!n.target)return o;if(typeof o=="string")if(Ie.test(o))o=parseFloat(o);else return o;const i=Cg(o,n.target.x),a=Cg(o,n.target.y);return`${i}% ${a}%`}},mw={correct:(o,{treeScale:n,projectionDelta:i})=>{const a=o,u=In.parse(o);if(u.length>5)return a;const c=In.createTransformer(o),f=typeof u[0]!="number"?1:0,h=i.x.scale*n.x,p=i.y.scale*n.y;u[0+f]/=h,u[1+f]/=p;const m=ot(h,p,.5);return typeof u[2+f]=="number"&&(u[2+f]/=m),typeof u[3+f]=="number"&&(u[3+f]/=m),c(u)}};class gw extends $.Component{componentDidMount(){const{visualElement:n,layoutGroup:i,switchLayoutGroup:a,layoutId:u}=this.props,{projection:c}=n;p1(yw),c&&(i.group&&i.group.add(c),a&&a.register&&u&&a.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),Ra.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:i,visualElement:a,drag:u,isPresent:c}=this.props,f=a.projection;return f&&(f.isPresent=c,u||n.layoutDependency!==i||i===void 0?f.willUpdate():this.safeToRemove(),n.isPresent!==c&&(c?f.promote():f.relegate()||bt.postRender(()=>{const h=f.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),ed.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:i,switchLayoutGroup:a}=this.props,{projection:u}=n;u&&(u.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(u),a&&a.deregister&&a.deregister(u))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function u0(o){const[n,i]=pw(),a=$.useContext(nd);return b.jsx(gw,{...o,layoutGroup:a,switchLayoutGroup:$.useContext(iy),isPresent:n,safeToRemove:i})}const yw={borderRadius:{...Jo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jo,borderTopRightRadius:Jo,borderBottomLeftRadius:Jo,borderBottomRightRadius:Jo,boxShadow:mw},d0=["TopLeft","TopRight","BottomLeft","BottomRight"],vw=d0.length,Eg=o=>typeof o=="string"?parseFloat(o):o,Pg=o=>typeof o=="number"||Ie.test(o);function bw(o,n,i,a,u,c){u?(o.opacity=ot(0,i.opacity!==void 0?i.opacity:1,xw(a)),o.opacityExit=ot(n.opacity!==void 0?n.opacity:1,0,kw(a))):c&&(o.opacity=ot(n.opacity!==void 0?n.opacity:1,i.opacity!==void 0?i.opacity:1,a));for(let f=0;f<vw;f++){const h=`border${d0[f]}Radius`;let p=jg(n,h),m=jg(i,h);p===void 0&&m===void 0||(p||(p=0),m||(m=0),p===0||m===0||Pg(p)===Pg(m)?(o[h]=Math.max(ot(Eg(p),Eg(m),a),0),(Cr.test(m)||Cr.test(p))&&(o[h]+="%")):o[h]=m)}(n.rotate||i.rotate)&&(o.rotate=ot(n.rotate||0,i.rotate||0,a))}function jg(o,n){return o[n]!==void 0?o[n]:o.borderRadius}const xw=f0(0,.5,Xy),kw=f0(.5,.95,It);function f0(o,n,i){return a=>a<o?0:a>n?1:i(ai(o,n,a))}function Ag(o,n){o.min=n.min,o.max=n.max}function cr(o,n){Ag(o.x,n.x),Ag(o.y,n.y)}function Ig(o,n,i,a,u){return o-=n,o=Ua(o,1/i,a),u!==void 0&&(o=Ua(o,1/u,a)),o}function ww(o,n=0,i=1,a=.5,u,c=o,f=o){if(Cr.test(n)&&(n=parseFloat(n),n=ot(f.min,f.max,n/100)-f.min),typeof n!="number")return;let h=ot(c.min,c.max,a);o===c&&(h-=n),o.min=Ig(o.min,n,i,h,u),o.max=Ig(o.max,n,i,h,u)}function zg(o,n,[i,a,u],c,f){ww(o,n[i],n[a],n[u],n.scale,c,f)}const Sw=["x","scaleX","originX"],Tw=["y","scaleY","originY"];function Ng(o,n,i,a){zg(o.x,n,Sw,i?i.x:void 0,a?a.x:void 0),zg(o.y,n,Tw,i?i.y:void 0,a?a.y:void 0)}function Rg(o){return o.translate===0&&o.scale===1}function h0(o){return Rg(o.x)&&Rg(o.y)}function _w(o,n){return o.x.min===n.x.min&&o.x.max===n.x.max&&o.y.min===n.y.min&&o.y.max===n.y.max}function p0(o,n){return Math.round(o.x.min)===Math.round(n.x.min)&&Math.round(o.x.max)===Math.round(n.x.max)&&Math.round(o.y.min)===Math.round(n.y.min)&&Math.round(o.y.max)===Math.round(n.y.max)}function Fg(o){return Jt(o.x)/Jt(o.y)}class Cw{constructor(){this.members=[]}add(n){Sd(this.members,n),n.scheduleRender()}remove(n){if(Td(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(n){const i=this.members.findIndex(u=>n===u);if(i===0)return!1;let a;for(let u=i;u>=0;u--){const c=this.members[u];if(c.isPresent!==!1){a=c;break}}return a?(this.promote(a),!0):!1}promote(n,i){const a=this.lead;if(n!==a&&(this.prevLead=a,this.lead=n,n.show(),a)){a.instance&&a.scheduleRender(),n.scheduleRender(),n.resumeFrom=a,i&&(n.resumeFrom.preserveOpacity=!0),a.snapshot&&(n.snapshot=a.snapshot,n.snapshot.latestValues=a.animationValues||a.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:u}=n.options;u===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:i,resumingFrom:a}=n;i.onExitComplete&&i.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Lg(o,n,i){let a="";const u=o.x.translate/n.x,c=o.y.translate/n.y,f=(i==null?void 0:i.z)||0;if((u||c||f)&&(a=`translate3d(${u}px, ${c}px, ${f}px) `),(n.x!==1||n.y!==1)&&(a+=`scale(${1/n.x}, ${1/n.y}) `),i){const{transformPerspective:m,rotate:g,rotateX:y,rotateY:w,skewX:k,skewY:j}=i;m&&(a=`perspective(${m}px) ${a}`),g&&(a+=`rotate(${g}deg) `),y&&(a+=`rotateX(${y}deg) `),w&&(a+=`rotateY(${w}deg) `),k&&(a+=`skewX(${k}deg) `),j&&(a+=`skewY(${j}deg) `)}const h=o.x.scale*n.x,p=o.y.scale*n.y;return(h!==1||p!==1)&&(a+=`scale(${h}, ${p})`),a||"none"}const Ew=(o,n)=>o.depth-n.depth;class Pw{constructor(){this.children=[],this.isDirty=!1}add(n){Sd(this.children,n),this.isDirty=!0}remove(n){Td(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(Ew),this.isDirty=!1,this.children.forEach(n)}}function jw(o,n){const i=Pn.now(),a=({timestamp:u})=>{const c=u-i;c>=n&&(An(a),o(c-n))};return bt.read(a,!0),()=>An(a)}function Aw(o){window.MotionDebug&&window.MotionDebug.record(o)}function Iw(o){return o instanceof SVGElement&&o.tagName!=="svg"}function zw(o,n,i){const a=At(o)?o:li(o);return a.start(wd("",a,n,i)),a.animation}const Tu=["","X","Y","Z"],Nw={visibility:"hidden"},Dg=1e3;let Rw=0;const es={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function _u(o,n,i,a){const{latestValues:u}=n;u[o]&&(i[o]=u[o],n.setStaticValue(o,0),a&&(a[o]=0))}function m0({attachResizeListener:o,defaultParent:n,measureScroll:i,checkIsScrollRoot:a,resetTransform:u}){return class{constructor(c={},f=n==null?void 0:n()){this.id=Rw++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,es.totalNodes=es.resolvedTargetDeltas=es.recalculatedProjection=0,this.nodes.forEach(Dw),this.nodes.forEach(Uw),this.nodes.forEach($w),this.nodes.forEach(Ow),Aw(es)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new Pw)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new _d),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const h=this.eventHandlers.get(c);h&&h.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Iw(c),this.instance=c;const{layoutId:h,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(p||h)&&(this.isLayoutDirty=!0),o){let g;const y=()=>this.root.updateBlockedByResize=!1;o(c,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=jw(y,250),Ra.hasAnimatedSinceResize&&(Ra.hasAnimatedSinceResize=!1,this.nodes.forEach(Mg))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||p)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeTargetChanged:w,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||m.getDefaultTransition()||Gw,{onLayoutAnimationStart:S,onLayoutAnimationComplete:A}=m.getProps(),_=!this.targetLayout||!p0(this.targetLayout,k)||w,C=!y&&w;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||C||y&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,C);const E={...hd(j,"layout"),onPlay:S,onComplete:A};(m.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else y||Mg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,An(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ww),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:f,layout:h}=this.options;if(f===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Og);return}this.isUpdating||this.nodes.forEach(Bw),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(Vw),this.nodes.forEach(Fw),this.nodes.forEach(Lw),this.clearAllSnapshots();const c=Pn.now();_t.delta=jn(0,1e3/60,c-_t.timestamp),_t.timestamp=c,_t.isProcessing=!0,pu.update.process(_t),pu.preRender.process(_t),pu.render.process(_t),_t.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ed.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Mw),this.sharedNodes.forEach(Zw)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&(this.scroll={animationId:this.root.animationId,phase:c,isRoot:a(this.instance),offset:i(this.instance)})}resetTransform(){if(!u)return;const c=this.isLayoutDirty||this.shouldResetTransform,f=this.projectionDelta&&!h0(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;c&&(f||Yn(this.latestValues)||m)&&(u(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let h=this.removeElementScroll(f);return c&&(h=this.removeTransform(h)),Xw(h),{animationId:this.root.animationId,measuredBox:f,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return ut();const f=c.measureViewportBox(),{scroll:h}=this.root;return h&&(_n(f.x,h.offset.x),_n(f.y,h.offset.y)),f}removeElementScroll(c){const f=ut();cr(f,c);for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:m,options:g}=p;if(p!==this.root&&m&&g.layoutScroll){if(m.isRoot){cr(f,c);const{scroll:y}=this.root;y&&(_n(f.x,-y.offset.x),_n(f.y,-y.offset.y))}_n(f.x,m.offset.x),_n(f.y,m.offset.y)}}return f}applyTransform(c,f=!1){const h=ut();cr(h,c);for(let p=0;p<this.path.length;p++){const m=this.path[p];!f&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Js(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Yn(m.latestValues)&&Js(h,m.latestValues)}return Yn(this.latestValues)&&Js(h,this.latestValues),h}removeTransform(c){const f=ut();cr(f,c);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!Yn(p.latestValues))continue;Uu(p.latestValues)&&p.updateSnapshot();const m=ut(),g=p.measurePageBox();cr(m,g),Ng(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return Yn(this.latestValues)&&Ng(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_t.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var f;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=_t.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),ni(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ut(),this.targetWithTransforms=ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Qk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cr(this.target,this.layout.layoutBox),a0(this.target,this.targetDelta)):cr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),ni(this.relativeTargetOrigin,this.target,y.target),cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}es.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Uu(this.parent.latestValues)||i0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const f=this.getLead(),h=!!this.resumingFrom||this!==f;let p=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===_t.timestamp&&(p=!1),p)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;cr(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,w=this.treeScale.y;ow(this.layoutCorrected,this.treeScale,this.path,h),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=ut());const{target:k}=f;if(!k){this.projectionTransform&&(this.projectionDelta=Qs(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Qs(),this.projectionDeltaWithTransform=Qs());const j=this.projectionTransform;ri(this.projectionDelta,this.layoutCorrected,k,this.latestValues),this.projectionTransform=Lg(this.projectionDelta,this.treeScale),(this.projectionTransform!==j||this.treeScale.x!==y||this.treeScale.y!==w)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k)),es.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(c,f=!1){const h=this.snapshot,p=h?h.latestValues:{},m={...this.latestValues},g=Qs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const y=ut(),w=h?h.source:void 0,k=this.layout?this.layout.source:void 0,j=w!==k,S=this.getStack(),A=!S||S.members.length<=1,_=!!(j&&!A&&this.options.crossfade===!0&&!this.path.some(Hw));this.animationProgress=0;let C;this.mixTargetDelta=E=>{const F=E/1e3;Bg(g.x,c.x,F),Bg(g.y,c.y,F),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ni(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qw(this.relativeTarget,this.relativeTargetOrigin,y,F),C&&_w(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=ut()),cr(C,this.relativeTarget)),j&&(this.animationValues=m,bw(m,p,this.latestValues,F,_,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(An(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=bt.update(()=>{Ra.hasAnimatedSinceResize=!0,this.currentAnimation=zw(0,Dg,{...c,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Dg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:h,layout:p,latestValues:m}=c;if(!(!f||!h||!p)){if(this!==c&&this.layout&&p&&g0(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||ut();const g=Jt(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+g;const y=Jt(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+y}cr(f,h),Js(f,m),ri(this.projectionDeltaWithTransform,this.layoutCorrected,f,m)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Cw),this.sharedNodes.get(c).add(f);const h=f.options.initialPromotionConfig;f.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:f}=this.options;return f?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:f}=this.options;return f?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(f=!0),!f)return;const p={};h.z&&_u("z",c,p,this.animationValues);for(let m=0;m<Tu.length;m++)_u(`rotate${Tu[m]}`,c,p,this.animationValues),_u(`skew${Tu[m]}`,c,p,this.animationValues);c.render();for(const m in p)c.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);c.scheduleRender()}getProjectionStyles(c){var f,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Nw;const p={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=za(c==null?void 0:c.pointerEvents)||"",p.transform=m?m(this.latestValues,""):"none",p;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const j={};return this.options.layoutId&&(j.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,j.pointerEvents=za(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Yn(this.latestValues)&&(j.transform=m?m({},""):"none",this.hasProjected=!1),j}const y=g.animationValues||g.latestValues;this.applyTransformsToTarget(),p.transform=Lg(this.projectionDeltaWithTransform,this.treeScale,y),m&&(p.transform=m(y,p.transform));const{x:w,y:k}=this.projectionDelta;p.transformOrigin=`${w.origin*100}% ${k.origin*100}% 0`,g.animationValues?p.opacity=g===this?(h=(f=y.opacity)!==null&&f!==void 0?f:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:p.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const j in La){if(y[j]===void 0)continue;const{correct:S,applyTo:A}=La[j],_=p.transform==="none"?y[j]:S(y[j],g);if(A){const C=A.length;for(let E=0;E<C;E++)p[A[E]]=_}else p[j]=_}return this.options.layoutId&&(p.pointerEvents=g===this?za(c==null?void 0:c.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)===null||f===void 0?void 0:f.stop()}),this.root.nodes.forEach(Og),this.root.sharedNodes.clear()}}}function Fw(o){o.updateLayout()}function Lw(o){var n;const i=((n=o.resumeFrom)===null||n===void 0?void 0:n.snapshot)||o.snapshot;if(o.isLead()&&o.layout&&i&&o.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:u}=o.layout,{animationType:c}=o.options,f=i.source!==o.layout.source;c==="size"?ur(y=>{const w=f?i.measuredBox[y]:i.layoutBox[y],k=Jt(w);w.min=a[y].min,w.max=w.min+k}):g0(c,i.layoutBox,a)&&ur(y=>{const w=f?i.measuredBox[y]:i.layoutBox[y],k=Jt(a[y]);w.max=w.min+k,o.relativeTarget&&!o.currentAnimation&&(o.isProjectionDirty=!0,o.relativeTarget[y].max=o.relativeTarget[y].min+k)});const h=Qs();ri(h,a,i.layoutBox);const p=Qs();f?ri(p,o.applyTransform(u,!0),i.measuredBox):ri(p,a,i.layoutBox);const m=!h0(h);let g=!1;if(!o.resumeFrom){const y=o.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:w,layout:k}=y;if(w&&k){const j=ut();ni(j,i.layoutBox,w.layoutBox);const S=ut();ni(S,a,k.layoutBox),p0(j,S)||(g=!0),y.options.layoutRoot&&(o.relativeTarget=S,o.relativeTargetOrigin=j,o.relativeParent=y)}}}o.notifyListeners("didUpdate",{layout:a,snapshot:i,delta:p,layoutDelta:h,hasLayoutChanged:m,hasRelativeTargetChanged:g})}else if(o.isLead()){const{onExitComplete:a}=o.options;a&&a()}o.options.transition=void 0}function Dw(o){es.totalNodes++,o.parent&&(o.isProjecting()||(o.isProjectionDirty=o.parent.isProjectionDirty),o.isSharedProjectionDirty||(o.isSharedProjectionDirty=!!(o.isProjectionDirty||o.parent.isProjectionDirty||o.parent.isSharedProjectionDirty)),o.isTransformDirty||(o.isTransformDirty=o.parent.isTransformDirty))}function Ow(o){o.isProjectionDirty=o.isSharedProjectionDirty=o.isTransformDirty=!1}function Mw(o){o.clearSnapshot()}function Og(o){o.clearMeasurements()}function Bw(o){o.isLayoutDirty=!1}function Vw(o){const{visualElement:n}=o.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),o.resetTransform()}function Mg(o){o.finishAnimation(),o.targetDelta=o.relativeTarget=o.target=void 0,o.isProjectionDirty=!0}function Uw(o){o.resolveTargetDelta()}function $w(o){o.calcProjection()}function Ww(o){o.resetSkewAndRotation()}function Zw(o){o.removeLeadSnapshot()}function Bg(o,n,i){o.translate=ot(n.translate,0,i),o.scale=ot(n.scale,1,i),o.origin=n.origin,o.originPoint=n.originPoint}function Vg(o,n,i,a){o.min=ot(n.min,i.min,a),o.max=ot(n.max,i.max,a)}function qw(o,n,i,a){Vg(o.x,n.x,i.x,a),Vg(o.y,n.y,i.y,a)}function Hw(o){return o.animationValues&&o.animationValues.opacityExit!==void 0}const Gw={duration:.45,ease:[.4,0,.1,1]},Ug=o=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(o),$g=Ug("applewebkit/")&&!Ug("chrome/")?Math.round:It;function Wg(o){o.min=$g(o.min),o.max=$g(o.max)}function Xw(o){Wg(o.x),Wg(o.y)}function g0(o,n,i){return o==="position"||o==="preserve-aspect"&&!Bu(Fg(n),Fg(i),.2)}const Qw=m0({attachResizeListener:(o,n)=>Zr(o,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cu={current:void 0},y0=m0({measureScroll:o=>({x:o.scrollLeft,y:o.scrollTop}),defaultParent:()=>{if(!Cu.current){const o=new Qw({});o.mount(window),o.setOptions({layoutScroll:!0}),Cu.current=o}return Cu.current},resetTransform:(o,n)=>{o.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:o=>window.getComputedStyle(o).position==="fixed"}),Jw={pan:{Feature:hw},drag:{Feature:fw,ProjectionNode:y0,MeasureLayout:u0}},Wu={current:null},v0={current:!1};function Kw(){if(v0.current=!0,!!Ju)if(window.matchMedia){const o=window.matchMedia("(prefers-reduced-motion)"),n=()=>Wu.current=o.matches;o.addListener(n),n()}else Wu.current=!1}function Yw(o,n,i){const{willChange:a}=n;for(const u in n){const c=n[u],f=i[u];if(At(c))o.addValue(u,c),Va(a)&&a.add(u);else if(At(f))o.addValue(u,li(c,{owner:o})),Va(a)&&a.remove(u);else if(f!==c)if(o.hasValue(u)){const h=o.getValue(u);h.liveStyle===!0?h.jump(c):h.hasAnimated||h.set(c)}else{const h=o.getStaticValue(u);o.addValue(u,li(h!==void 0?h:c,{owner:o}))}}for(const u in i)n[u]===void 0&&o.removeValue(u);return n}const Zg=new WeakMap,e2=[...Iy,Pt,In],t2=o=>e2.find(Ay(o)),b0=Object.keys(ii),r2=b0.length,qg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],n2=rd.length;function x0(o){if(o)return o.options.allowProjection!==!1?o.projection:x0(o.parent)}class s2{scrapeMotionValuesFromProps(n,i,a){return{}}constructor({parent:n,props:i,presenceContext:a,reducedMotionConfig:u,blockInitialAnimation:c,visualState:f},h={}){this.resolveKeyframes=(w,k,j,S)=>new this.KeyframeResolver(w,k,j,S,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>bt.render(this.render,!1,!0);const{latestValues:p,renderState:m}=f;this.latestValues=p,this.baseTarget={...p},this.initialValues=i.initial?{...p}:{},this.renderState=m,this.parent=n,this.props=i,this.presenceContext=a,this.depth=n?n.depth+1:0,this.reducedMotionConfig=u,this.options=h,this.blockInitialAnimation=!!c,this.isControllingVariants=Ga(i),this.isVariantNode=oy(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(i,{},this);for(const w in y){const k=y[w];p[w]!==void 0&&At(k)&&(k.set(p[w],!1),Va(g)&&g.add(w))}}mount(n){this.current=n,Zg.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,a)=>this.bindToMotionValue(a,i)),v0.current||Kw(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Wu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){var n;Zg.delete(this.current),this.projection&&this.projection.unmount(),An(this.notifyUpdate),An(this.render),this.valueSubscriptions.forEach(i=>i()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const i in this.events)this.events[i].clear();for(const i in this.features)(n=this.features[i])===null||n===void 0||n.unmount();this.current=null}bindToMotionValue(n,i){const a=is.has(n),u=i.on("change",f=>{this.latestValues[n]=f,this.props.onUpdate&&bt.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),c=i.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(n,()=>{u(),c(),i.owner&&i.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}loadFeatures({children:n,...i},a,u,c){let f,h;for(let p=0;p<r2;p++){const m=b0[p],{isEnabled:g,Feature:y,ProjectionNode:w,MeasureLayout:k}=ii[m];w&&(f=w),g(i)&&(!this.features[m]&&y&&(this.features[m]=new y(this)),k&&(h=k))}if((this.type==="html"||this.type==="svg")&&!this.projection&&f){this.projection=new f(this.latestValues,x0(this.parent));const{layoutId:p,layout:m,drag:g,dragConstraints:y,layoutScroll:w,layoutRoot:k}=i;this.projection.setOptions({layoutId:p,layout:m,alwaysMeasureLayout:!!g||y&&Gs(y),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof m=="string"?m:"both",initialPromotionConfig:c,layoutScroll:w,layoutRoot:k})}return h}updateFeatures(){for(const n in this.features){const i=this.features[n];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ut()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,i){this.latestValues[n]=i}update(n,i){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let a=0;a<qg.length;a++){const u=qg[a];this.propEventSubscriptions[u]&&(this.propEventSubscriptions[u](),delete this.propEventSubscriptions[u]);const c="on"+u,f=n[c];f&&(this.propEventSubscriptions[u]=this.on(u,f))}this.prevMotionValues=Yw(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(n=!1){if(n)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const a=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(a.initial=this.props.initial),a}const i={};for(let a=0;a<n2;a++){const u=rd[a],c=this.props[u];(oi(c)||c===!1)&&(i[u]=c)}return i}addVariantChild(n){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(n),()=>i.variantChildren.delete(n)}addValue(n,i){const a=this.values.get(n);i!==a&&(a&&this.removeValue(n),this.bindToMotionValue(n,i),this.values.set(n,i),this.latestValues[n]=i.get())}removeValue(n){this.values.delete(n);const i=this.valueSubscriptions.get(n);i&&(i(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,i){if(this.props.values&&this.props.values[n])return this.props.values[n];let a=this.values.get(n);return a===void 0&&i!==void 0&&(a=li(i===null?void 0:i,{owner:this}),this.addValue(n,a)),a}readValue(n,i){var a;let u=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:(a=this.getBaseTargetFromProps(this.props,n))!==null&&a!==void 0?a:this.readValueFromInstance(this.current,n,this.options);return u!=null&&(typeof u=="string"&&(Py(u)||Cy(u))?u=parseFloat(u):!t2(u)&&In.test(i)&&(u=My(n,i)),this.setBaseTarget(n,At(u)?u.get():u)),At(u)?u.get():u}setBaseTarget(n,i){this.baseTarget[n]=i}getBaseTarget(n){var i;const{initial:a}=this.props;let u;if(typeof a=="string"||typeof a=="object"){const f=fd(this.props,a,(i=this.presenceContext)===null||i===void 0?void 0:i.custom);f&&(u=f[n])}if(a&&u!==void 0)return u;const c=this.getBaseTargetFromProps(this.props,n);return c!==void 0&&!At(c)?c:this.initialValues[n]!==void 0&&u===void 0?void 0:this.baseTarget[n]}on(n,i){return this.events[n]||(this.events[n]=new _d),this.events[n].add(i)}notify(n,...i){this.events[n]&&this.events[n].notify(...i)}}class k0 extends s2{constructor(){super(...arguments),this.KeyframeResolver=By}sortInstanceNodePosition(n,i){return n.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(n,i){return n.style?n.style[i]:void 0}removeValueFromRenderState(n,{vars:i,style:a}){delete i[n],delete a[n]}}function o2(o){return window.getComputedStyle(o)}class i2 extends k0{constructor(){super(...arguments),this.type="html"}readValueFromInstance(n,i){if(is.has(i)){const a=gd(i);return a&&a.default||0}else{const a=o2(n),u=(cy(i)?a.getPropertyValue(i):a[i])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(n,{transformPagePoint:i}){return l0(n,i)}build(n,i,a,u){ad(n,i,a,u.transformTemplate)}scrapeMotionValuesFromProps(n,i,a){return dd(n,i,a)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;At(n)&&(this.childSubscription=n.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}renderInstance(n,i,a,u){py(n,i,a,u)}}class a2 extends k0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(n,i){return n[i]}readValueFromInstance(n,i){if(is.has(i)){const a=gd(i);return a&&a.default||0}return i=my.has(i)?i:Yu(i),n.getAttribute(i)}measureInstanceViewportBox(){return ut()}scrapeMotionValuesFromProps(n,i,a){return yy(n,i,a)}build(n,i,a,u){cd(n,i,a,this.isSVGTag,u.transformTemplate)}renderInstance(n,i,a,u){gy(n,i,a,u)}mount(n){this.isSVGTag=ud(n.tagName),super.mount(n)}}const l2=(o,n)=>sd(o)?new a2(n,{enableHardwareAcceleration:!1}):new i2(n,{allowProjection:o!==$.Fragment,enableHardwareAcceleration:!0}),c2={layout:{ProjectionNode:y0,MeasureLayout:u0}},u2={...qk,...rx,...Jw,...c2},qr=f1((o,n)=>$1(o,n,u2,l2));function w0(){const o=$.useRef(!1);return Ku(()=>(o.current=!0,()=>{o.current=!1}),[]),o}function d2(){const o=w0(),[n,i]=$.useState(0),a=$.useCallback(()=>{o.current&&i(n+1)},[n]);return[$.useCallback(()=>bt.postRender(a),[a]),n]}class f2 extends $.Component{getSnapshotBeforeUpdate(n){const i=this.props.childRef.current;if(i&&n.isPresent&&!this.props.isPresent){const a=this.props.sizeRef.current;a.height=i.offsetHeight||0,a.width=i.offsetWidth||0,a.top=i.offsetTop,a.left=i.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function h2({children:o,isPresent:n}){const i=$.useId(),a=$.useRef(null),u=$.useRef({width:0,height:0,top:0,left:0}),{nonce:c}=$.useContext(Qu);return $.useInsertionEffect(()=>{const{width:f,height:h,top:p,left:m}=u.current;if(n||!a.current||!f||!h)return;a.current.dataset.motionPopId=i;const g=document.createElement("style");return c&&(g.nonce=c),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${h}px !important;
            top: ${p}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[n]),b.jsx(f2,{isPresent:n,childRef:a,sizeRef:u,children:$.cloneElement(o,{ref:a})})}const Eu=({children:o,initial:n,isPresent:i,onExitComplete:a,custom:u,presenceAffectsLayout:c,mode:f})=>{const h=vy(p2),p=$.useId(),m=$.useMemo(()=>({id:p,initial:n,isPresent:i,custom:u,onExitComplete:g=>{h.set(g,!0);for(const y of h.values())if(!y)return;a&&a()},register:g=>(h.set(g,!1),()=>h.delete(g))}),c?[Math.random()]:[i]);return $.useMemo(()=>{h.forEach((g,y)=>h.set(y,!1))},[i]),$.useEffect(()=>{!i&&!h.size&&a&&a()},[i]),f==="popLayout"&&(o=b.jsx(h2,{isPresent:i,children:o})),b.jsx(qa.Provider,{value:m,children:o})};function p2(){return new Map}function m2(o){return $.useEffect(()=>()=>o(),[])}const ts=o=>o.key||"";function g2(o,n){o.forEach(i=>{const a=ts(i);n.set(a,i)})}function y2(o){const n=[];return $.Children.forEach(o,i=>{$.isValidElement(i)&&n.push(i)}),n}const Cn=({children:o,custom:n,initial:i=!0,onExitComplete:a,exitBeforeEnter:u,presenceAffectsLayout:c=!0,mode:f="sync"})=>{const h=$.useContext(nd).forceRender||d2()[0],p=w0(),m=y2(o);let g=m;const y=$.useRef(new Map).current,w=$.useRef(g),k=$.useRef(new Map).current,j=$.useRef(!0);if(Ku(()=>{j.current=!1,g2(m,k),w.current=g}),m2(()=>{j.current=!0,k.clear(),y.clear()}),j.current)return b.jsx(b.Fragment,{children:g.map(C=>b.jsx(Eu,{isPresent:!0,initial:i?void 0:!1,presenceAffectsLayout:c,mode:f,children:C},ts(C)))});g=[...g];const S=w.current.map(ts),A=m.map(ts),_=S.length;for(let C=0;C<_;C++){const E=S[C];A.indexOf(E)===-1&&!y.has(E)&&y.set(E,void 0)}return f==="wait"&&y.size&&(g=[]),y.forEach((C,E)=>{if(A.indexOf(E)!==-1)return;const F=k.get(E);if(!F)return;const L=S.indexOf(E);let B=C;if(!B){const M=()=>{y.delete(E);const q=Array.from(k.keys()).filter(H=>!A.includes(H));if(q.forEach(H=>k.delete(H)),w.current=m.filter(H=>{const ie=ts(H);return ie===E||q.includes(ie)}),!y.size){if(p.current===!1)return;h(),a&&a()}};B=b.jsx(Eu,{isPresent:!1,onExitComplete:M,custom:n,presenceAffectsLayout:c,mode:f,children:F},ts(F)),y.set(E,B)}g.splice(L,0,B)}),g=g.map(C=>{const E=C.key;return y.has(E)?C:b.jsx(Eu,{isPresent:!0,presenceAffectsLayout:c,mode:f,children:C},ts(C))}),b.jsx(b.Fragment,{children:y.size?g:g.map(C=>$.cloneElement(C))})},v2=o=>!o||!/^#[0-9A-F]{6}$/i.test(o)?"#E25822":o,Ks=o=>o?(o.match(/([^\s]+)/g)||[]).length:0;/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const b2=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),x2=o=>o.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,i,a)=>a?a.toUpperCase():i.toLowerCase()),Hg=o=>{const n=x2(o);return n.charAt(0).toUpperCase()+n.slice(1)},S0=(...o)=>o.filter((n,i,a)=>!!n&&n.trim()!==""&&a.indexOf(n)===i).join(" ").trim(),k2=o=>{for(const n in o)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var w2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const S2=$.forwardRef(({color:o="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:u="",children:c,iconNode:f,...h},p)=>$.createElement("svg",{ref:p,...w2,width:n,height:n,stroke:o,strokeWidth:a?Number(i)*24/Number(n):i,className:S0("lucide",u),...!c&&!k2(h)&&{"aria-hidden":"true"},...h},[...f.map(([m,g])=>$.createElement(m,g)),...Array.isArray(c)?c:[c]]));/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Be=(o,n)=>{const i=$.forwardRef(({className:a,...u},c)=>$.createElement(S2,{ref:c,iconNode:n,className:S0(`lucide-${b2(Hg(o))}`,`lucide-${o}`,a),...u}));return i.displayName=Hg(o),i};/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const T2=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],_2=Be("arrow-left",T2);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const C2=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],E2=Be("book-marked",C2);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const P2=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],T0=Be("book-open",P2);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const j2=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],A2=Be("bookmark-check",j2);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const I2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$a=Be("check",I2);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const z2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Zu=Be("chevron-down",z2);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const N2=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],R2=Be("chevron-left",N2);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const F2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Gg=Be("chevron-right",F2);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const L2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],D2=Be("circle-alert",L2);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const O2=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_0=Be("circle-check-big",O2);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const M2=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],B2=Be("cloud-download",M2);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const V2=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],qu=Be("cloud",V2);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const U2=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],$2=Be("download",U2);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const W2=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],Z2=Be("file-plus",W2);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const q2=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],H2=Be("heart",q2);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const G2=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],X2=Be("layout-grid",G2);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Q2=[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1",key:"oynpb5"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z",key:"1qboyk"}]],J2=Be("library-big",Q2);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const K2=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],Y2=Be("library",K2);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const eS=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M11 19H3",key:"zflm78"}],["path",{d:"M21 16V5",key:"yxg4q8"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],tS=Be("list-music",eS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const rS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Xg=Be("loader-circle",rS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const nS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],sS=Be("lock",nS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const oS=[["path",{d:"M5 12h14",key:"1ays0h"}]],C0=Be("minus",oS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const iS=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],aS=Be("palette",iS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const lS=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],cS=Be("pause",lS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const uS=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Cd=Be("play",uS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const dS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ed=Be("plus",dS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const fS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],hS=Be("refresh-cw",fS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const pS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],mS=Be("search",pS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const gS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yS=Be("settings",gS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const vS=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],bS=Be("skip-back",vS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const xS=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Pd=Be("sparkles",xS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const kS=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wS=Be("square-check-big",kS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const SS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],E0=Be("trash-2",SS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const TS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_S=Be("triangle-alert",TS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const CS=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],si=Be("type",CS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ES=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jd=Be("x",ES);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const PS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],jS=Be("zap",PS),qs={Modern:{background:"#F2F2F7",surface:"#FFFFFF",primaryText:"#000000",secondaryText:"#8A8A8E",accent:"#E25822",dimmer:"rgba(255,255,255,0.85)",borderColor:"#E5E5EA"},Sepia:{background:"#F8F1E3",surface:"#FFFDF5",primaryText:"#5C4033",secondaryText:"#8C7356",accent:"#D45D48",dimmer:"rgba(248,241,227,0.9)",borderColor:"#E6DCC8"},Night:{background:"#000000",surface:"#1C1C1E",primaryText:"#F2F2F7",secondaryText:"#8E8E93",accent:"#E25822",dimmer:"rgba(0,0,0,0.8)",borderColor:"#2C2C2E"},OLED:{background:"#000000",surface:"#121212",primaryText:"#FFFFFF",secondaryText:"#888888",accent:"#E25822",dimmer:"rgba(0,0,0,0.9)",borderColor:"#333333"},System:{background:"#F2F2F7",surface:"#FFFFFF",primaryText:"#000000",secondaryText:"#8A8A8E",accent:"#E25822",dimmer:"rgba(255,255,255,0.9)",borderColor:"#E5E5EA"}};class ns{constructor(){this.listeners=new Set,this._mode="Modern";try{const n=localStorage.getItem("titan_theme_mode");n&&Object.keys(qs).concat(["System"]).includes(n)&&(this._mode=n)}catch(n){console.warn("[TitanTheme] Failed to load theme preference",n)}}static getInstance(){return ns.instance||(ns.instance=new ns),ns.instance}get mode(){return this._mode}setMode(n){this._mode=n;try{localStorage.setItem("titan_theme_mode",n)}catch(i){console.warn("[TitanTheme] Failed to save theme preference",i)}this.notify()}get currentColors(){return this._mode==="System"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?qs.Night:qs.Modern:qs[this._mode]||qs.Modern}subscribe(n){return this.listeners.add(n),()=>this.listeners.delete(n)}notify(){this.listeners.forEach(n=>n())}}const Nt=()=>{const o=ns.getInstance(),[n,i]=$.useState(o.currentColors);return $.useEffect(()=>{const a=()=>i(o.currentColors);return o.subscribe(a)},[]),n};class Sr{constructor(){this.listeners=new Set,this.STORAGE_KEY="titan_reader_prefs_v15_true_book",this.config=this.loadFromStorage()}static getInstance(){return Sr.instance||(Sr.instance=new Sr),Sr.instance}getDefaultConfig(){return{id:"user-default",themeMode:"System",fontFamily:"New York",fontSize:18,lineHeight:1.35,paragraphSpacing:10,motionBlurIntensity:.05,showReflections:!1,rsvpSpeed:200,hasCustomSpeed:!1,rsvpChunkSize:1,isRSVPContextEnabled:!0,rsvpColorHighlight:"#FF3B30"}}loadFromStorage(){try{const n=localStorage.getItem(this.STORAGE_KEY);if(n){const i=JSON.parse(n),a={...this.getDefaultConfig(),...i};return a.hasCustomSpeed||(a.rsvpSpeed=200),a}}catch(n){console.warn("[TitanSettings] Failed to load config",n)}return this.getDefaultConfig()}saveToStorage(){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.config))}catch(n){console.warn("[TitanSettings] Failed to save config",n)}}getSettings(){return{...this.config}}updateSettings(n){this.config={...this.config,...n},this.saveToStorage(),this.notify()}subscribe(n){return this.listeners.add(n),()=>this.listeners.delete(n)}notify(){this.listeners.forEach(n=>n())}}const ro=()=>{const o=Sr.getInstance(),[n,i]=$.useState(o.getSettings());return $.useEffect(()=>{const a=()=>i(o.getSettings());return o.subscribe(a)},[]),{settings:n,updateSettings:a=>o.updateSettings(a)}},AS=Wa.memo(({book:o})=>{const n=v2(o.tintColorHex);return b.jsxs("div",{className:"w-full h-full flex items-center justify-center p-5 relative overflow-hidden",style:{backgroundColor:n},children:[b.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-40",children:[b.jsx("div",{className:"absolute w-32 h-32 bg-white rounded-full blur-3xl transform -translate-x-8 -translate-y-8 opacity-40"}),b.jsx("div",{className:"absolute w-24 h-24 bg-white rounded-full blur-2xl transform translate-x-6 translate-y-6 opacity-30"})]}),b.jsxs("div",{className:"relative z-10 text-center text-black w-full break-words px-2",children:[b.jsx("h3",{className:"font-serif font-bold text-base leading-tight mb-1.5 line-clamp-3 lowercase",children:o.title}),b.jsx("p",{className:"font-sans text-[9px] font-bold uppercase tracking-[0.15em] opacity-40",children:o.author})]})]})}),Pu=Wa.memo(({book:o,onSelect:n,isEditing:i,isSelected:a,onToggleSelect:u,onLongPress:c})=>{const f=Nt(),{settings:h}=ro(),p=$.useRef(Math.random()*.2),m=$.useRef(Math.random()>.5?1:-1),g=$.useRef(null),y=$.useRef(!1),w=$.useRef(!1),k=$.useRef({x:0,y:0});$.useEffect(()=>()=>{g.current&&(clearTimeout(g.current),g.current=null)},[]);const j=L=>{y.current=!1,w.current=!1,k.current={x:L.clientX,y:L.clientY},g.current=window.setTimeout(()=>{c&&(y.current=!0,navigator.vibrate&&navigator.vibrate(20),c(o))},500)},S=L=>{Math.hypot(L.clientX-k.current.x,L.clientY-k.current.y)>10&&(w.current=!0,g.current&&(clearTimeout(g.current),g.current=null))},A=L=>{g.current&&(clearTimeout(g.current),g.current=null),!y.current&&!w.current&&(i?u==null||u(o):n(o)),y.current=!1,w.current=!1},_=L=>{g.current&&(clearTimeout(g.current),g.current=null),y.current=!1,w.current=!1};-1.5*m.current,1.5*m.current,-1.5*m.current,p.current;const C=Math.floor((o.bookmarkProgress||0)*100),E=$.useMemo(()=>{if(!o.chapters||o.chapters.length===0||o.isFinished)return null;const L=o.chapters.reduce((ie,ge)=>ie+ge.wordCount,0)*(1-(o.bookmarkProgress||0)),B=h.rsvpSpeed||250,M=Math.ceil(L/B);if(M<=1)return"< 1m";if(M<60)return`${M}m`;const q=Math.floor(M/60),H=M%60;return H===0?`${q}h`:`${q}h ${H}m`},[o,h.rsvpSpeed]),F=!o.isFinished&&(E!==null||C>0);return b.jsxs("div",{className:"group cursor-pointer relative touch-pan-y",onPointerDown:j,onPointerMove:S,onPointerUp:A,onPointerCancel:_,onContextMenu:L=>{L.preventDefault()},children:[b.jsxs("div",{className:"relative aspect-[2/3] w-full rounded-xl shadow-[0_4px_16px_rgba(0,0,0,0.08)] overflow-hidden z-10 will-change-transform active:scale-[0.97] hover:scale-[1.02] hover:-translate-y-0.5",style:{backgroundColor:f.surface,transform:i?"scale(0.94)":"scale(1.0)",transition:"transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.2s ease-out"},children:[o.coverUrl?b.jsx("img",{src:o.coverUrl,alt:`Cover of ${o.title}`,className:`w-full h-full object-cover transition-all duration-500 ${o.isFinished?"grayscale-[0.5] opacity-90":""}`,loading:"lazy",decoding:"async",style:{backgroundColor:f.borderColor}}):b.jsx(AS,{book:o}),!i&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/10 opacity-0 group-hover:opacity-100 transition-opacity duration-200 backdrop-blur-[1px] z-20",children:b.jsx("div",{className:"w-12 h-12 rounded-full shadow-xl flex items-center justify-center transform translate-y-4 group-hover:translate-y-0 transition-transform duration-200",style:{backgroundColor:f.surface,color:f.accent},children:o.isFinished?b.jsx(_0,{size:24,fill:"currentColor",stroke:"none"}):b.jsx(T0,{size:20,fill:"currentColor"})})}),i&&b.jsx("div",{className:`absolute inset-0 bg-black/10 transition-opacity duration-200 z-30 ${a?"opacity-40":"opacity-0"}`}),o.isFinished&&b.jsx("div",{className:"absolute top-2 right-2 z-50",children:b.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center shadow-md border border-white/20",style:{backgroundColor:"#10b981",color:"#FFFFFF"},children:b.jsx($a,{size:14,strokeWidth:4})})}),F&&b.jsx("div",{className:"absolute top-2 right-2 z-50",children:b.jsx("div",{className:"px-2 py-0.5 rounded-md flex items-center justify-center shadow-sm border border-white/20 backdrop-blur-sm",style:{backgroundColor:"rgba(0,0,0,0.7)",color:"#FFFFFF"},children:b.jsx("span",{className:"text-[10px] font-bold tabular-nums leading-none whitespace-nowrap",children:E?`${E} left`:`${C}%`})})}),C>0&&b.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1.5 bg-black/40 z-40",children:b.jsx("div",{className:"h-full",style:{width:`${Math.min(100,C)}%`,backgroundColor:o.isFinished?"#10b981":f.accent}})})]}),i&&b.jsx("div",{className:"absolute -top-1 -left-1 z-50 transition-transform duration-200",style:{transform:"scale(1)"},children:b.jsx("div",{className:"w-8 h-8 rounded-full border-[3px] shadow-sm flex items-center justify-center transition-all duration-200",style:{backgroundColor:a?f.accent:f.surface,borderColor:f.background,color:a?"#FFFFFF":"transparent"},children:a&&b.jsx($a,{size:16,strokeWidth:4})})}),b.jsxs("div",{className:"mt-2.5 space-y-0.5",children:[b.jsx("h3",{className:"font-serif font-semibold text-sm leading-snug line-clamp-2",style:{color:f.primaryText},children:o.title}),b.jsx("p",{className:"font-sans text-xs opacity-60",style:{color:f.secondaryText},children:o.author})]})]})}),IS=({onImport:o,hasDeleted:n})=>{const i=Nt();return b.jsxs("div",{onClick:o,className:"group flex flex-col items-center justify-center p-12 rounded-[40px] cursor-pointer transition-all duration-500 max-w-sm mx-auto mt-20 hover:scale-[0.98] active:scale-95",style:{backgroundColor:i.surface,border:`1px solid ${i.borderColor}`},children:[b.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mb-8 shadow-2xl group-hover:shadow-ember/20 transition-all duration-500",style:{backgroundColor:i.accent,color:"#FFFFFF"},children:n?b.jsx(Pd,{size:28,strokeWidth:2,className:"animate-pulse"}):b.jsx(Z2,{size:28,strokeWidth:2})}),b.jsx("h2",{className:"text-3xl font-black mb-2 text-center lowercase tracking-tighter leading-none",style:{color:i.primaryText},children:n?"poof. gone.":"clean slate."}),b.jsx("p",{className:"text-[10px] uppercase font-black tracking-[0.2em] text-center mt-3 opacity-30 max-w-[180px]",style:{color:i.secondaryText},children:n?"all cleared out. plenty of room for new magic.":"nothing here yet. tap here to find a story."}),b.jsxs("div",{className:"mt-8 flex items-center gap-2 opacity-20",children:[b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-current",style:{backgroundColor:i.primaryText}}),b.jsx("div",{className:"w-10 h-[1px] bg-current",style:{backgroundColor:i.primaryText}}),b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-current",style:{backgroundColor:i.primaryText}})]})]})};function Ia(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Qg={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Jg;function zS(){return Jg||(Jg=1,(function(o,n){(function(i){o.exports=i()})(function(){return(function i(a,u,c){function f(m,g){if(!u[m]){if(!a[m]){var y=typeof Ia=="function"&&Ia;if(!g&&y)return y(m,!0);if(h)return h(m,!0);var w=new Error("Cannot find module '"+m+"'");throw w.code="MODULE_NOT_FOUND",w}var k=u[m]={exports:{}};a[m][0].call(k.exports,function(j){var S=a[m][1][j];return f(S||j)},k,k.exports,i,a,u,c)}return u[m].exports}for(var h=typeof Ia=="function"&&Ia,p=0;p<c.length;p++)f(c[p]);return f})({1:[function(i,a,u){var c=i("./utils"),f=i("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";u.encode=function(p){for(var m,g,y,w,k,j,S,A=[],_=0,C=p.length,E=C,F=c.getTypeOf(p)!=="string";_<p.length;)E=C-_,y=F?(m=p[_++],g=_<C?p[_++]:0,_<C?p[_++]:0):(m=p.charCodeAt(_++),g=_<C?p.charCodeAt(_++):0,_<C?p.charCodeAt(_++):0),w=m>>2,k=(3&m)<<4|g>>4,j=1<E?(15&g)<<2|y>>6:64,S=2<E?63&y:64,A.push(h.charAt(w)+h.charAt(k)+h.charAt(j)+h.charAt(S));return A.join("")},u.decode=function(p){var m,g,y,w,k,j,S=0,A=0,_="data:";if(p.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");var C,E=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===h.charAt(64)&&E--,p.charAt(p.length-2)===h.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(C=f.uint8array?new Uint8Array(0|E):new Array(0|E);S<p.length;)m=h.indexOf(p.charAt(S++))<<2|(w=h.indexOf(p.charAt(S++)))>>4,g=(15&w)<<4|(k=h.indexOf(p.charAt(S++)))>>2,y=(3&k)<<6|(j=h.indexOf(p.charAt(S++))),C[A++]=m,k!==64&&(C[A++]=g),j!==64&&(C[A++]=y);return C}},{"./support":30,"./utils":32}],2:[function(i,a,u){var c=i("./external"),f=i("./stream/DataWorker"),h=i("./stream/Crc32Probe"),p=i("./stream/DataLengthProbe");function m(g,y,w,k,j){this.compressedSize=g,this.uncompressedSize=y,this.crc32=w,this.compression=k,this.compressedContent=j}m.prototype={getContentWorker:function(){var g=new f(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),y=this;return g.on("end",function(){if(this.streamInfo.data_length!==y.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),g},getCompressedWorker:function(){return new f(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(g,y,w){return g.pipe(new h).pipe(new p("uncompressedSize")).pipe(y.compressWorker(w)).pipe(new p("compressedSize")).withStreamInfo("compression",y)},a.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(i,a,u){var c=i("./stream/GenericWorker");u.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},u.DEFLATE=i("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(i,a,u){var c=i("./utils"),f=(function(){for(var h,p=[],m=0;m<256;m++){h=m;for(var g=0;g<8;g++)h=1&h?3988292384^h>>>1:h>>>1;p[m]=h}return p})();a.exports=function(h,p){return h!==void 0&&h.length?c.getTypeOf(h)!=="string"?(function(m,g,y,w){var k=f,j=w+y;m^=-1;for(var S=w;S<j;S++)m=m>>>8^k[255&(m^g[S])];return-1^m})(0|p,h,h.length,0):(function(m,g,y,w){var k=f,j=w+y;m^=-1;for(var S=w;S<j;S++)m=m>>>8^k[255&(m^g.charCodeAt(S))];return-1^m})(0|p,h,h.length,0):0}},{"./utils":32}],5:[function(i,a,u){u.base64=!1,u.binary=!1,u.dir=!1,u.createFolders=!0,u.date=null,u.compression=null,u.compressionOptions=null,u.comment=null,u.unixPermissions=null,u.dosPermissions=null},{}],6:[function(i,a,u){var c=null;c=typeof Promise<"u"?Promise:i("lie"),a.exports={Promise:c}},{lie:37}],7:[function(i,a,u){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",f=i("pako"),h=i("./utils"),p=i("./stream/GenericWorker"),m=c?"uint8array":"array";function g(y,w){p.call(this,"FlateWorker/"+y),this._pako=null,this._pakoAction=y,this._pakoOptions=w,this.meta={}}u.magic="\b\0",h.inherits(g,p),g.prototype.processChunk=function(y){this.meta=y.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(m,y.data),!1)},g.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},g.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},g.prototype._createPako=function(){this._pako=new f[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var y=this;this._pako.onData=function(w){y.push({data:w,meta:y.meta})}},u.compressWorker=function(y){return new g("Deflate",y)},u.uncompressWorker=function(){return new g("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(i,a,u){function c(k,j){var S,A="";for(S=0;S<j;S++)A+=String.fromCharCode(255&k),k>>>=8;return A}function f(k,j,S,A,_,C){var E,F,L=k.file,B=k.compression,M=C!==m.utf8encode,q=h.transformTo("string",C(L.name)),H=h.transformTo("string",m.utf8encode(L.name)),ie=L.comment,ge=h.transformTo("string",C(ie)),D=h.transformTo("string",m.utf8encode(ie)),Y=H.length!==L.name.length,T=D.length!==ie.length,oe="",G="",O="",le=L.dir,re=L.date,me={crc32:0,compressedSize:0,uncompressedSize:0};j&&!S||(me.crc32=k.crc32,me.compressedSize=k.compressedSize,me.uncompressedSize=k.uncompressedSize);var P=0;j&&(P|=8),M||!Y&&!T||(P|=2048);var R=0,ee=0;le&&(R|=16),_==="UNIX"?(ee=798,R|=(function(ce,Te){var Ee=ce;return ce||(Ee=Te?16893:33204),(65535&Ee)<<16})(L.unixPermissions,le)):(ee=20,R|=(function(ce){return 63&(ce||0)})(L.dosPermissions)),E=re.getUTCHours(),E<<=6,E|=re.getUTCMinutes(),E<<=5,E|=re.getUTCSeconds()/2,F=re.getUTCFullYear()-1980,F<<=4,F|=re.getUTCMonth()+1,F<<=5,F|=re.getUTCDate(),Y&&(G=c(1,1)+c(g(q),4)+H,oe+="up"+c(G.length,2)+G),T&&(O=c(1,1)+c(g(ge),4)+D,oe+="uc"+c(O.length,2)+O);var ne="";return ne+=`
\0`,ne+=c(P,2),ne+=B.magic,ne+=c(E,2),ne+=c(F,2),ne+=c(me.crc32,4),ne+=c(me.compressedSize,4),ne+=c(me.uncompressedSize,4),ne+=c(q.length,2),ne+=c(oe.length,2),{fileRecord:y.LOCAL_FILE_HEADER+ne+q+oe,dirRecord:y.CENTRAL_FILE_HEADER+c(ee,2)+ne+c(ge.length,2)+"\0\0\0\0"+c(R,4)+c(A,4)+q+oe+ge}}var h=i("../utils"),p=i("../stream/GenericWorker"),m=i("../utf8"),g=i("../crc32"),y=i("../signature");function w(k,j,S,A){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=j,this.zipPlatform=S,this.encodeFileName=A,this.streamFiles=k,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(w,p),w.prototype.push=function(k){var j=k.meta.percent||0,S=this.entriesCount,A=this._sources.length;this.accumulate?this.contentBuffer.push(k):(this.bytesWritten+=k.data.length,p.prototype.push.call(this,{data:k.data,meta:{currentFile:this.currentFile,percent:S?(j+100*(S-A-1))/S:100}}))},w.prototype.openedSource=function(k){this.currentSourceOffset=this.bytesWritten,this.currentFile=k.file.name;var j=this.streamFiles&&!k.file.dir;if(j){var S=f(k,j,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:S.fileRecord,meta:{percent:0}})}else this.accumulate=!0},w.prototype.closedSource=function(k){this.accumulate=!1;var j=this.streamFiles&&!k.file.dir,S=f(k,j,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(S.dirRecord),j)this.push({data:(function(A){return y.DATA_DESCRIPTOR+c(A.crc32,4)+c(A.compressedSize,4)+c(A.uncompressedSize,4)})(k),meta:{percent:100}});else for(this.push({data:S.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},w.prototype.flush=function(){for(var k=this.bytesWritten,j=0;j<this.dirRecords.length;j++)this.push({data:this.dirRecords[j],meta:{percent:100}});var S=this.bytesWritten-k,A=(function(_,C,E,F,L){var B=h.transformTo("string",L(F));return y.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(_,2)+c(_,2)+c(C,4)+c(E,4)+c(B.length,2)+B})(this.dirRecords.length,S,k,this.zipComment,this.encodeFileName);this.push({data:A,meta:{percent:100}})},w.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},w.prototype.registerPrevious=function(k){this._sources.push(k);var j=this;return k.on("data",function(S){j.processChunk(S)}),k.on("end",function(){j.closedSource(j.previous.streamInfo),j._sources.length?j.prepareNextSource():j.end()}),k.on("error",function(S){j.error(S)}),this},w.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},w.prototype.error=function(k){var j=this._sources;if(!p.prototype.error.call(this,k))return!1;for(var S=0;S<j.length;S++)try{j[S].error(k)}catch{}return!0},w.prototype.lock=function(){p.prototype.lock.call(this);for(var k=this._sources,j=0;j<k.length;j++)k[j].lock()},a.exports=w},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(i,a,u){var c=i("../compressions"),f=i("./ZipFileWorker");u.generateWorker=function(h,p,m){var g=new f(p.streamFiles,m,p.platform,p.encodeFileName),y=0;try{h.forEach(function(w,k){y++;var j=(function(C,E){var F=C||E,L=c[F];if(!L)throw new Error(F+" is not a valid compression method !");return L})(k.options.compression,p.compression),S=k.options.compressionOptions||p.compressionOptions||{},A=k.dir,_=k.date;k._compressWorker(j,S).withStreamInfo("file",{name:w,dir:A,date:_,comment:k.comment||"",unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions}).pipe(g)}),g.entriesCount=y}catch(w){g.error(w)}return g}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(i,a,u){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var f=new c;for(var h in this)typeof this[h]!="function"&&(f[h]=this[h]);return f}}(c.prototype=i("./object")).loadAsync=i("./load"),c.support=i("./support"),c.defaults=i("./defaults"),c.version="3.10.1",c.loadAsync=function(f,h){return new c().loadAsync(f,h)},c.external=i("./external"),a.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(i,a,u){var c=i("./utils"),f=i("./external"),h=i("./utf8"),p=i("./zipEntries"),m=i("./stream/Crc32Probe"),g=i("./nodejsUtils");function y(w){return new f.Promise(function(k,j){var S=w.decompressed.getContentWorker().pipe(new m);S.on("error",function(A){j(A)}).on("end",function(){S.streamInfo.crc32!==w.decompressed.crc32?j(new Error("Corrupted zip : CRC32 mismatch")):k()}).resume()})}a.exports=function(w,k){var j=this;return k=c.extend(k||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),g.isNode&&g.isStream(w)?f.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",w,!0,k.optimizedBinaryString,k.base64).then(function(S){var A=new p(k);return A.load(S),A}).then(function(S){var A=[f.Promise.resolve(S)],_=S.files;if(k.checkCRC32)for(var C=0;C<_.length;C++)A.push(y(_[C]));return f.Promise.all(A)}).then(function(S){for(var A=S.shift(),_=A.files,C=0;C<_.length;C++){var E=_[C],F=E.fileNameStr,L=c.resolve(E.fileNameStr);j.file(L,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:k.createFolders}),E.dir||(j.file(L).unsafeOriginalName=F)}return A.zipComment.length&&(j.comment=A.zipComment),j})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(i,a,u){var c=i("../utils"),f=i("../stream/GenericWorker");function h(p,m){f.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(m)}c.inherits(h,f),h.prototype._bindStream=function(p){var m=this;(this._stream=p).pause(),p.on("data",function(g){m.push({data:g,meta:{percent:0}})}).on("error",function(g){m.isPaused?this.generatedError=g:m.error(g)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},h.prototype.pause=function(){return!!f.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(i,a,u){var c=i("readable-stream").Readable;function f(h,p,m){c.call(this,p),this._helper=h;var g=this;h.on("data",function(y,w){g.push(y)||g._helper.pause(),m&&m(w)}).on("error",function(y){g.emit("error",y)}).on("end",function(){g.push(null)})}i("../utils").inherits(f,c),f.prototype._read=function(){this._helper.resume()},a.exports=f},{"../utils":32,"readable-stream":16}],14:[function(i,a,u){a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(c,f){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,f);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,f)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var f=new Buffer(c);return f.fill(0),f},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(i,a,u){function c(L,B,M){var q,H=h.getTypeOf(B),ie=h.extend(M||{},g);ie.date=ie.date||new Date,ie.compression!==null&&(ie.compression=ie.compression.toUpperCase()),typeof ie.unixPermissions=="string"&&(ie.unixPermissions=parseInt(ie.unixPermissions,8)),ie.unixPermissions&&16384&ie.unixPermissions&&(ie.dir=!0),ie.dosPermissions&&16&ie.dosPermissions&&(ie.dir=!0),ie.dir&&(L=_(L)),ie.createFolders&&(q=A(L))&&C.call(this,q,!0);var ge=H==="string"&&ie.binary===!1&&ie.base64===!1;M&&M.binary!==void 0||(ie.binary=!ge),(B instanceof y&&B.uncompressedSize===0||ie.dir||!B||B.length===0)&&(ie.base64=!1,ie.binary=!0,B="",ie.compression="STORE",H="string");var D=null;D=B instanceof y||B instanceof p?B:j.isNode&&j.isStream(B)?new S(L,B):h.prepareContent(L,B,ie.binary,ie.optimizedBinaryString,ie.base64);var Y=new w(L,D,ie);this.files[L]=Y}var f=i("./utf8"),h=i("./utils"),p=i("./stream/GenericWorker"),m=i("./stream/StreamHelper"),g=i("./defaults"),y=i("./compressedObject"),w=i("./zipObject"),k=i("./generate"),j=i("./nodejsUtils"),S=i("./nodejs/NodejsStreamInputAdapter"),A=function(L){L.slice(-1)==="/"&&(L=L.substring(0,L.length-1));var B=L.lastIndexOf("/");return 0<B?L.substring(0,B):""},_=function(L){return L.slice(-1)!=="/"&&(L+="/"),L},C=function(L,B){return B=B!==void 0?B:g.createFolders,L=_(L),this.files[L]||c.call(this,L,null,{dir:!0,createFolders:B}),this.files[L]};function E(L){return Object.prototype.toString.call(L)==="[object RegExp]"}var F={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(L){var B,M,q;for(B in this.files)q=this.files[B],(M=B.slice(this.root.length,B.length))&&B.slice(0,this.root.length)===this.root&&L(M,q)},filter:function(L){var B=[];return this.forEach(function(M,q){L(M,q)&&B.push(q)}),B},file:function(L,B,M){if(arguments.length!==1)return L=this.root+L,c.call(this,L,B,M),this;if(E(L)){var q=L;return this.filter(function(ie,ge){return!ge.dir&&q.test(ie)})}var H=this.files[this.root+L];return H&&!H.dir?H:null},folder:function(L){if(!L)return this;if(E(L))return this.filter(function(H,ie){return ie.dir&&L.test(H)});var B=this.root+L,M=C.call(this,B),q=this.clone();return q.root=M.name,q},remove:function(L){L=this.root+L;var B=this.files[L];if(B||(L.slice(-1)!=="/"&&(L+="/"),B=this.files[L]),B&&!B.dir)delete this.files[L];else for(var M=this.filter(function(H,ie){return ie.name.slice(0,L.length)===L}),q=0;q<M.length;q++)delete this.files[M[q].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(L){var B,M={};try{if((M=h.extend(L||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:f.utf8encode})).type=M.type.toLowerCase(),M.compression=M.compression.toUpperCase(),M.type==="binarystring"&&(M.type="string"),!M.type)throw new Error("No output type specified.");h.checkSupport(M.type),M.platform!=="darwin"&&M.platform!=="freebsd"&&M.platform!=="linux"&&M.platform!=="sunos"||(M.platform="UNIX"),M.platform==="win32"&&(M.platform="DOS");var q=M.comment||this.comment||"";B=k.generateWorker(this,M,q)}catch(H){(B=new p("error")).error(H)}return new m(B,M.type||"string",M.mimeType)},generateAsync:function(L,B){return this.generateInternalStream(L).accumulate(B)},generateNodeStream:function(L,B){return(L=L||{}).type||(L.type="nodebuffer"),this.generateInternalStream(L).toNodejsStream(B)}};a.exports=F},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(i,a,u){a.exports=i("stream")},{stream:void 0}],17:[function(i,a,u){var c=i("./DataReader");function f(h){c.call(this,h);for(var p=0;p<this.data.length;p++)h[p]=255&h[p]}i("../utils").inherits(f,c),f.prototype.byteAt=function(h){return this.data[this.zero+h]},f.prototype.lastIndexOfSignature=function(h){for(var p=h.charCodeAt(0),m=h.charCodeAt(1),g=h.charCodeAt(2),y=h.charCodeAt(3),w=this.length-4;0<=w;--w)if(this.data[w]===p&&this.data[w+1]===m&&this.data[w+2]===g&&this.data[w+3]===y)return w-this.zero;return-1},f.prototype.readAndCheckSignature=function(h){var p=h.charCodeAt(0),m=h.charCodeAt(1),g=h.charCodeAt(2),y=h.charCodeAt(3),w=this.readData(4);return p===w[0]&&m===w[1]&&g===w[2]&&y===w[3]},f.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},a.exports=f},{"../utils":32,"./DataReader":18}],18:[function(i,a,u){var c=i("../utils");function f(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}f.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var p,m=0;for(this.checkOffset(h),p=this.index+h-1;p>=this.index;p--)m=(m<<8)+this.byteAt(p);return this.index+=h,m},readString:function(h){return c.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC(1980+(h>>25&127),(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(31&h)<<1))}},a.exports=f},{"../utils":32}],19:[function(i,a,u){var c=i("./Uint8ArrayReader");function f(h){c.call(this,h)}i("../utils").inherits(f,c),f.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},a.exports=f},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(i,a,u){var c=i("./DataReader");function f(h){c.call(this,h)}i("../utils").inherits(f,c),f.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},f.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},f.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},f.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},a.exports=f},{"../utils":32,"./DataReader":18}],21:[function(i,a,u){var c=i("./ArrayReader");function f(h){c.call(this,h)}i("../utils").inherits(f,c),f.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},a.exports=f},{"../utils":32,"./ArrayReader":17}],22:[function(i,a,u){var c=i("../utils"),f=i("../support"),h=i("./ArrayReader"),p=i("./StringReader"),m=i("./NodeBufferReader"),g=i("./Uint8ArrayReader");a.exports=function(y){var w=c.getTypeOf(y);return c.checkSupport(w),w!=="string"||f.uint8array?w==="nodebuffer"?new m(y):f.uint8array?new g(c.transformTo("uint8array",y)):new h(c.transformTo("array",y)):new p(y)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(i,a,u){u.LOCAL_FILE_HEADER="PK",u.CENTRAL_FILE_HEADER="PK",u.CENTRAL_DIRECTORY_END="PK",u.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",u.ZIP64_CENTRAL_DIRECTORY_END="PK",u.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(i,a,u){var c=i("./GenericWorker"),f=i("../utils");function h(p){c.call(this,"ConvertWorker to "+p),this.destType=p}f.inherits(h,c),h.prototype.processChunk=function(p){this.push({data:f.transformTo(this.destType,p.data),meta:p.meta})},a.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(i,a,u){var c=i("./GenericWorker"),f=i("../crc32");function h(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}i("../utils").inherits(h,c),h.prototype.processChunk=function(p){this.streamInfo.crc32=f(p.data,this.streamInfo.crc32||0),this.push(p)},a.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(i,a,u){var c=i("../utils"),f=i("./GenericWorker");function h(p){f.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}c.inherits(h,f),h.prototype.processChunk=function(p){if(p){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+p.data.length}f.prototype.processChunk.call(this,p)},a.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(i,a,u){var c=i("../utils"),f=i("./GenericWorker");function h(p){f.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(g){m.dataIsReady=!0,m.data=g,m.max=g&&g.length||0,m.type=c.getTypeOf(g),m.isPaused||m._tickAndRepeat()},function(g){m.error(g)})}c.inherits(h,f),h.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,m);break;case"uint8array":p=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":p=this.data.slice(this.index,m)}return this.index=m,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(i,a,u){function c(f){this.name=f||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(f){this.emit("data",f)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(f){this.emit("error",f)}return!0},error:function(f){return!this.isFinished&&(this.isPaused?this.generatedError=f:(this.isFinished=!0,this.emit("error",f),this.previous&&this.previous.error(f),this.cleanUp()),!0)},on:function(f,h){return this._listeners[f].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(f,h){if(this._listeners[f])for(var p=0;p<this._listeners[f].length;p++)this._listeners[f][p].call(this,h)},pipe:function(f){return f.registerPrevious(this)},registerPrevious:function(f){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=f.streamInfo,this.mergeStreamInfo(),this.previous=f;var h=this;return f.on("data",function(p){h.processChunk(p)}),f.on("end",function(){h.end()}),f.on("error",function(p){h.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var f=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),f=!0),this.previous&&this.previous.resume(),!f},flush:function(){},processChunk:function(f){this.push(f)},withStreamInfo:function(f,h){return this.extraStreamInfo[f]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var f in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,f)&&(this.streamInfo[f]=this.extraStreamInfo[f])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var f="Worker "+this.name;return this.previous?this.previous+" -> "+f:f}},a.exports=c},{}],29:[function(i,a,u){var c=i("../utils"),f=i("./ConvertWorker"),h=i("./GenericWorker"),p=i("../base64"),m=i("../support"),g=i("../external"),y=null;if(m.nodestream)try{y=i("../nodejs/NodejsStreamOutputAdapter")}catch{}function w(j,S){return new g.Promise(function(A,_){var C=[],E=j._internalType,F=j._outputType,L=j._mimeType;j.on("data",function(B,M){C.push(B),S&&S(M)}).on("error",function(B){C=[],_(B)}).on("end",function(){try{var B=(function(M,q,H){switch(M){case"blob":return c.newBlob(c.transformTo("arraybuffer",q),H);case"base64":return p.encode(q);default:return c.transformTo(M,q)}})(F,(function(M,q){var H,ie=0,ge=null,D=0;for(H=0;H<q.length;H++)D+=q[H].length;switch(M){case"string":return q.join("");case"array":return Array.prototype.concat.apply([],q);case"uint8array":for(ge=new Uint8Array(D),H=0;H<q.length;H++)ge.set(q[H],ie),ie+=q[H].length;return ge;case"nodebuffer":return Buffer.concat(q);default:throw new Error("concat : unsupported type '"+M+"'")}})(E,C),L);A(B)}catch(M){_(M)}C=[]}).resume()})}function k(j,S,A){var _=S;switch(S){case"blob":case"arraybuffer":_="uint8array";break;case"base64":_="string"}try{this._internalType=_,this._outputType=S,this._mimeType=A,c.checkSupport(_),this._worker=j.pipe(new f(_)),j.lock()}catch(C){this._worker=new h("error"),this._worker.error(C)}}k.prototype={accumulate:function(j){return w(this,j)},on:function(j,S){var A=this;return j==="data"?this._worker.on(j,function(_){S.call(A,_.data,_.meta)}):this._worker.on(j,function(){c.delay(S,arguments,A)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(j){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new y(this,{objectMode:this._outputType!=="nodebuffer"},j)}},a.exports=k},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(i,a,u){if(u.base64=!0,u.array=!0,u.string=!0,u.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",u.nodebuffer=typeof Buffer<"u",u.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")u.blob=!1;else{var c=new ArrayBuffer(0);try{u.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);f.append(c),u.blob=f.getBlob("application/zip").size===0}catch{u.blob=!1}}}try{u.nodestream=!!i("readable-stream").Readable}catch{u.nodestream=!1}},{"readable-stream":16}],31:[function(i,a,u){for(var c=i("./utils"),f=i("./support"),h=i("./nodejsUtils"),p=i("./stream/GenericWorker"),m=new Array(256),g=0;g<256;g++)m[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;m[254]=m[254]=1;function y(){p.call(this,"utf-8 decode"),this.leftOver=null}function w(){p.call(this,"utf-8 encode")}u.utf8encode=function(k){return f.nodebuffer?h.newBufferFrom(k,"utf-8"):(function(j){var S,A,_,C,E,F=j.length,L=0;for(C=0;C<F;C++)(64512&(A=j.charCodeAt(C)))==55296&&C+1<F&&(64512&(_=j.charCodeAt(C+1)))==56320&&(A=65536+(A-55296<<10)+(_-56320),C++),L+=A<128?1:A<2048?2:A<65536?3:4;for(S=f.uint8array?new Uint8Array(L):new Array(L),C=E=0;E<L;C++)(64512&(A=j.charCodeAt(C)))==55296&&C+1<F&&(64512&(_=j.charCodeAt(C+1)))==56320&&(A=65536+(A-55296<<10)+(_-56320),C++),A<128?S[E++]=A:(A<2048?S[E++]=192|A>>>6:(A<65536?S[E++]=224|A>>>12:(S[E++]=240|A>>>18,S[E++]=128|A>>>12&63),S[E++]=128|A>>>6&63),S[E++]=128|63&A);return S})(k)},u.utf8decode=function(k){return f.nodebuffer?c.transformTo("nodebuffer",k).toString("utf-8"):(function(j){var S,A,_,C,E=j.length,F=new Array(2*E);for(S=A=0;S<E;)if((_=j[S++])<128)F[A++]=_;else if(4<(C=m[_]))F[A++]=65533,S+=C-1;else{for(_&=C===2?31:C===3?15:7;1<C&&S<E;)_=_<<6|63&j[S++],C--;1<C?F[A++]=65533:_<65536?F[A++]=_:(_-=65536,F[A++]=55296|_>>10&1023,F[A++]=56320|1023&_)}return F.length!==A&&(F.subarray?F=F.subarray(0,A):F.length=A),c.applyFromCharCode(F)})(k=c.transformTo(f.uint8array?"uint8array":"array",k))},c.inherits(y,p),y.prototype.processChunk=function(k){var j=c.transformTo(f.uint8array?"uint8array":"array",k.data);if(this.leftOver&&this.leftOver.length){if(f.uint8array){var S=j;(j=new Uint8Array(S.length+this.leftOver.length)).set(this.leftOver,0),j.set(S,this.leftOver.length)}else j=this.leftOver.concat(j);this.leftOver=null}var A=(function(C,E){var F;for((E=E||C.length)>C.length&&(E=C.length),F=E-1;0<=F&&(192&C[F])==128;)F--;return F<0||F===0?E:F+m[C[F]]>E?F:E})(j),_=j;A!==j.length&&(f.uint8array?(_=j.subarray(0,A),this.leftOver=j.subarray(A,j.length)):(_=j.slice(0,A),this.leftOver=j.slice(A,j.length))),this.push({data:u.utf8decode(_),meta:k.meta})},y.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:u.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},u.Utf8DecodeWorker=y,c.inherits(w,p),w.prototype.processChunk=function(k){this.push({data:u.utf8encode(k.data),meta:k.meta})},u.Utf8EncodeWorker=w},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(i,a,u){var c=i("./support"),f=i("./base64"),h=i("./nodejsUtils"),p=i("./external");function m(S){return S}function g(S,A){for(var _=0;_<S.length;++_)A[_]=255&S.charCodeAt(_);return A}i("setimmediate"),u.newBlob=function(S,A){u.checkSupport("blob");try{return new Blob([S],{type:A})}catch{try{var _=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return _.append(S),_.getBlob(A)}catch{throw new Error("Bug : can't construct the Blob.")}}};var y={stringifyByChunk:function(S,A,_){var C=[],E=0,F=S.length;if(F<=_)return String.fromCharCode.apply(null,S);for(;E<F;)A==="array"||A==="nodebuffer"?C.push(String.fromCharCode.apply(null,S.slice(E,Math.min(E+_,F)))):C.push(String.fromCharCode.apply(null,S.subarray(E,Math.min(E+_,F)))),E+=_;return C.join("")},stringifyByChar:function(S){for(var A="",_=0;_<S.length;_++)A+=String.fromCharCode(S[_]);return A},applyCanBeUsed:{uint8array:(function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch{return!1}})()}};function w(S){var A=65536,_=u.getTypeOf(S),C=!0;if(_==="uint8array"?C=y.applyCanBeUsed.uint8array:_==="nodebuffer"&&(C=y.applyCanBeUsed.nodebuffer),C)for(;1<A;)try{return y.stringifyByChunk(S,_,A)}catch{A=Math.floor(A/2)}return y.stringifyByChar(S)}function k(S,A){for(var _=0;_<S.length;_++)A[_]=S[_];return A}u.applyFromCharCode=w;var j={};j.string={string:m,array:function(S){return g(S,new Array(S.length))},arraybuffer:function(S){return j.string.uint8array(S).buffer},uint8array:function(S){return g(S,new Uint8Array(S.length))},nodebuffer:function(S){return g(S,h.allocBuffer(S.length))}},j.array={string:w,array:m,arraybuffer:function(S){return new Uint8Array(S).buffer},uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return h.newBufferFrom(S)}},j.arraybuffer={string:function(S){return w(new Uint8Array(S))},array:function(S){return k(new Uint8Array(S),new Array(S.byteLength))},arraybuffer:m,uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return h.newBufferFrom(new Uint8Array(S))}},j.uint8array={string:w,array:function(S){return k(S,new Array(S.length))},arraybuffer:function(S){return S.buffer},uint8array:m,nodebuffer:function(S){return h.newBufferFrom(S)}},j.nodebuffer={string:w,array:function(S){return k(S,new Array(S.length))},arraybuffer:function(S){return j.nodebuffer.uint8array(S).buffer},uint8array:function(S){return k(S,new Uint8Array(S.length))},nodebuffer:m},u.transformTo=function(S,A){if(A=A||"",!S)return A;u.checkSupport(S);var _=u.getTypeOf(A);return j[_][S](A)},u.resolve=function(S){for(var A=S.split("/"),_=[],C=0;C<A.length;C++){var E=A[C];E==="."||E===""&&C!==0&&C!==A.length-1||(E===".."?_.pop():_.push(E))}return _.join("/")},u.getTypeOf=function(S){return typeof S=="string"?"string":Object.prototype.toString.call(S)==="[object Array]"?"array":c.nodebuffer&&h.isBuffer(S)?"nodebuffer":c.uint8array&&S instanceof Uint8Array?"uint8array":c.arraybuffer&&S instanceof ArrayBuffer?"arraybuffer":void 0},u.checkSupport=function(S){if(!c[S.toLowerCase()])throw new Error(S+" is not supported by this platform")},u.MAX_VALUE_16BITS=65535,u.MAX_VALUE_32BITS=-1,u.pretty=function(S){var A,_,C="";for(_=0;_<(S||"").length;_++)C+="\\x"+((A=S.charCodeAt(_))<16?"0":"")+A.toString(16).toUpperCase();return C},u.delay=function(S,A,_){setImmediate(function(){S.apply(_||null,A||[])})},u.inherits=function(S,A){function _(){}_.prototype=A.prototype,S.prototype=new _},u.extend=function(){var S,A,_={};for(S=0;S<arguments.length;S++)for(A in arguments[S])Object.prototype.hasOwnProperty.call(arguments[S],A)&&_[A]===void 0&&(_[A]=arguments[S][A]);return _},u.prepareContent=function(S,A,_,C,E){return p.Promise.resolve(A).then(function(F){return c.blob&&(F instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(F))!==-1)&&typeof FileReader<"u"?new p.Promise(function(L,B){var M=new FileReader;M.onload=function(q){L(q.target.result)},M.onerror=function(q){B(q.target.error)},M.readAsArrayBuffer(F)}):F}).then(function(F){var L=u.getTypeOf(F);return L?(L==="arraybuffer"?F=u.transformTo("uint8array",F):L==="string"&&(E?F=f.decode(F):_&&C!==!0&&(F=(function(B){return g(B,c.uint8array?new Uint8Array(B.length):new Array(B.length))})(F))),F):p.Promise.reject(new Error("Can't read the data of '"+S+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(i,a,u){var c=i("./reader/readerFor"),f=i("./utils"),h=i("./signature"),p=i("./zipEntry"),m=i("./support");function g(y){this.files=[],this.loadOptions=y}g.prototype={checkSignature:function(y){if(!this.reader.readAndCheckSignature(y)){this.reader.index-=4;var w=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+f.pretty(w)+", expected "+f.pretty(y)+")")}},isSignature:function(y,w){var k=this.reader.index;this.reader.setIndex(y);var j=this.reader.readString(4)===w;return this.reader.setIndex(k),j},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var y=this.reader.readData(this.zipCommentLength),w=m.uint8array?"uint8array":"array",k=f.transformTo(w,y);this.zipComment=this.loadOptions.decodeFileName(k)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var y,w,k,j=this.zip64EndOfCentralSize-44;0<j;)y=this.reader.readInt(2),w=this.reader.readInt(4),k=this.reader.readData(w),this.zip64ExtensibleData[y]={id:y,length:w,value:k}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var y,w;for(y=0;y<this.files.length;y++)w=this.files[y],this.reader.setIndex(w.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),w.readLocalPart(this.reader),w.handleUTF8(),w.processAttributes()},readCentralDir:function(){var y;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(y=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(y);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var y=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(y<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(y);var w=y;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===f.MAX_VALUE_16BITS||this.diskWithCentralDirStart===f.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===f.MAX_VALUE_16BITS||this.centralDirRecords===f.MAX_VALUE_16BITS||this.centralDirSize===f.MAX_VALUE_32BITS||this.centralDirOffset===f.MAX_VALUE_32BITS){if(this.zip64=!0,(y=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(y),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var k=this.centralDirOffset+this.centralDirSize;this.zip64&&(k+=20,k+=12+this.zip64EndOfCentralSize);var j=w-k;if(0<j)this.isSignature(w,h.CENTRAL_FILE_HEADER)||(this.reader.zero=j);else if(j<0)throw new Error("Corrupted zip: missing "+Math.abs(j)+" bytes.")},prepareReader:function(y){this.reader=c(y)},load:function(y){this.prepareReader(y),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=g},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(i,a,u){var c=i("./reader/readerFor"),f=i("./utils"),h=i("./compressedObject"),p=i("./crc32"),m=i("./utf8"),g=i("./compressions"),y=i("./support");function w(k,j){this.options=k,this.loadOptions=j}w.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(k){var j,S;if(k.skip(22),this.fileNameLength=k.readInt(2),S=k.readInt(2),this.fileName=k.readData(this.fileNameLength),k.skip(S),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((j=(function(A){for(var _ in g)if(Object.prototype.hasOwnProperty.call(g,_)&&g[_].magic===A)return g[_];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+f.pretty(this.compressionMethod)+" unknown (inner file : "+f.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,j,k.readData(this.compressedSize))},readCentralPart:function(k){this.versionMadeBy=k.readInt(2),k.skip(2),this.bitFlag=k.readInt(2),this.compressionMethod=k.readString(2),this.date=k.readDate(),this.crc32=k.readInt(4),this.compressedSize=k.readInt(4),this.uncompressedSize=k.readInt(4);var j=k.readInt(2);if(this.extraFieldsLength=k.readInt(2),this.fileCommentLength=k.readInt(2),this.diskNumberStart=k.readInt(2),this.internalFileAttributes=k.readInt(2),this.externalFileAttributes=k.readInt(4),this.localHeaderOffset=k.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");k.skip(j),this.readExtraFields(k),this.parseZIP64ExtraField(k),this.fileComment=k.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var k=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),k==0&&(this.dosPermissions=63&this.externalFileAttributes),k==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var k=c(this.extraFields[1].value);this.uncompressedSize===f.MAX_VALUE_32BITS&&(this.uncompressedSize=k.readInt(8)),this.compressedSize===f.MAX_VALUE_32BITS&&(this.compressedSize=k.readInt(8)),this.localHeaderOffset===f.MAX_VALUE_32BITS&&(this.localHeaderOffset=k.readInt(8)),this.diskNumberStart===f.MAX_VALUE_32BITS&&(this.diskNumberStart=k.readInt(4))}},readExtraFields:function(k){var j,S,A,_=k.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});k.index+4<_;)j=k.readInt(2),S=k.readInt(2),A=k.readData(S),this.extraFields[j]={id:j,length:S,value:A};k.setIndex(_)},handleUTF8:function(){var k=y.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var j=this.findExtraFieldUnicodePath();if(j!==null)this.fileNameStr=j;else{var S=f.transformTo(k,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(S)}var A=this.findExtraFieldUnicodeComment();if(A!==null)this.fileCommentStr=A;else{var _=f.transformTo(k,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(_)}}},findExtraFieldUnicodePath:function(){var k=this.extraFields[28789];if(k){var j=c(k.value);return j.readInt(1)!==1||p(this.fileName)!==j.readInt(4)?null:m.utf8decode(j.readData(k.length-5))}return null},findExtraFieldUnicodeComment:function(){var k=this.extraFields[25461];if(k){var j=c(k.value);return j.readInt(1)!==1||p(this.fileComment)!==j.readInt(4)?null:m.utf8decode(j.readData(k.length-5))}return null}},a.exports=w},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(i,a,u){function c(j,S,A){this.name=j,this.dir=A.dir,this.date=A.date,this.comment=A.comment,this.unixPermissions=A.unixPermissions,this.dosPermissions=A.dosPermissions,this._data=S,this._dataBinary=A.binary,this.options={compression:A.compression,compressionOptions:A.compressionOptions}}var f=i("./stream/StreamHelper"),h=i("./stream/DataWorker"),p=i("./utf8"),m=i("./compressedObject"),g=i("./stream/GenericWorker");c.prototype={internalStream:function(j){var S=null,A="string";try{if(!j)throw new Error("No output type specified.");var _=(A=j.toLowerCase())==="string"||A==="text";A!=="binarystring"&&A!=="text"||(A="string"),S=this._decompressWorker();var C=!this._dataBinary;C&&!_&&(S=S.pipe(new p.Utf8EncodeWorker)),!C&&_&&(S=S.pipe(new p.Utf8DecodeWorker))}catch(E){(S=new g("error")).error(E)}return new f(S,A,"")},async:function(j,S){return this.internalStream(j).accumulate(S)},nodeStream:function(j,S){return this.internalStream(j||"nodebuffer").toNodejsStream(S)},_compressWorker:function(j,S){if(this._data instanceof m&&this._data.compression.magic===j.magic)return this._data.getCompressedWorker();var A=this._decompressWorker();return this._dataBinary||(A=A.pipe(new p.Utf8EncodeWorker)),m.createWorkerFrom(A,j,S)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof g?this._data:new h(this._data)}};for(var y=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],w=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},k=0;k<y.length;k++)c.prototype[y[k]]=w;a.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(i,a,u){(function(c){var f,h,p=c.MutationObserver||c.WebKitMutationObserver;if(p){var m=0,g=new p(j),y=c.document.createTextNode("");g.observe(y,{characterData:!0}),f=function(){y.data=m=++m%2}}else if(c.setImmediate||c.MessageChannel===void 0)f="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var S=c.document.createElement("script");S.onreadystatechange=function(){j(),S.onreadystatechange=null,S.parentNode.removeChild(S),S=null},c.document.documentElement.appendChild(S)}:function(){setTimeout(j,0)};else{var w=new c.MessageChannel;w.port1.onmessage=j,f=function(){w.port2.postMessage(0)}}var k=[];function j(){var S,A;h=!0;for(var _=k.length;_;){for(A=k,k=[],S=-1;++S<_;)A[S]();_=k.length}h=!1}a.exports=function(S){k.push(S)!==1||h||f()}}).call(this,typeof Ea<"u"?Ea:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(i,a,u){var c=i("immediate");function f(){}var h={},p=["REJECTED"],m=["FULFILLED"],g=["PENDING"];function y(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,_!==f&&S(this,_)}function w(_,C,E){this.promise=_,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function k(_,C,E){c(function(){var F;try{F=C(E)}catch(L){return h.reject(_,L)}F===_?h.reject(_,new TypeError("Cannot resolve promise with itself")):h.resolve(_,F)})}function j(_){var C=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof C=="function")return function(){C.apply(_,arguments)}}function S(_,C){var E=!1;function F(M){E||(E=!0,h.reject(_,M))}function L(M){E||(E=!0,h.resolve(_,M))}var B=A(function(){C(L,F)});B.status==="error"&&F(B.value)}function A(_,C){var E={};try{E.value=_(C),E.status="success"}catch(F){E.status="error",E.value=F}return E}(a.exports=y).prototype.finally=function(_){if(typeof _!="function")return this;var C=this.constructor;return this.then(function(E){return C.resolve(_()).then(function(){return E})},function(E){return C.resolve(_()).then(function(){throw E})})},y.prototype.catch=function(_){return this.then(null,_)},y.prototype.then=function(_,C){if(typeof _!="function"&&this.state===m||typeof C!="function"&&this.state===p)return this;var E=new this.constructor(f);return this.state!==g?k(E,this.state===m?_:C,this.outcome):this.queue.push(new w(E,_,C)),E},w.prototype.callFulfilled=function(_){h.resolve(this.promise,_)},w.prototype.otherCallFulfilled=function(_){k(this.promise,this.onFulfilled,_)},w.prototype.callRejected=function(_){h.reject(this.promise,_)},w.prototype.otherCallRejected=function(_){k(this.promise,this.onRejected,_)},h.resolve=function(_,C){var E=A(j,C);if(E.status==="error")return h.reject(_,E.value);var F=E.value;if(F)S(_,F);else{_.state=m,_.outcome=C;for(var L=-1,B=_.queue.length;++L<B;)_.queue[L].callFulfilled(C)}return _},h.reject=function(_,C){_.state=p,_.outcome=C;for(var E=-1,F=_.queue.length;++E<F;)_.queue[E].callRejected(C);return _},y.resolve=function(_){return _ instanceof this?_:h.resolve(new this(f),_)},y.reject=function(_){var C=new this(f);return h.reject(C,_)},y.all=function(_){var C=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=_.length,F=!1;if(!E)return this.resolve([]);for(var L=new Array(E),B=0,M=-1,q=new this(f);++M<E;)H(_[M],M);return q;function H(ie,ge){C.resolve(ie).then(function(D){L[ge]=D,++B!==E||F||(F=!0,h.resolve(q,L))},function(D){F||(F=!0,h.reject(q,D))})}},y.race=function(_){var C=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=_.length,F=!1;if(!E)return this.resolve([]);for(var L=-1,B=new this(f);++L<E;)M=_[L],C.resolve(M).then(function(q){F||(F=!0,h.resolve(B,q))},function(q){F||(F=!0,h.reject(B,q))});var M;return B}},{immediate:36}],38:[function(i,a,u){var c={};(0,i("./lib/utils/common").assign)(c,i("./lib/deflate"),i("./lib/inflate"),i("./lib/zlib/constants")),a.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(i,a,u){var c=i("./zlib/deflate"),f=i("./utils/common"),h=i("./utils/strings"),p=i("./zlib/messages"),m=i("./zlib/zstream"),g=Object.prototype.toString,y=0,w=-1,k=0,j=8;function S(_){if(!(this instanceof S))return new S(_);this.options=f.assign({level:w,method:j,chunkSize:16384,windowBits:15,memLevel:8,strategy:k,to:""},_||{});var C=this.options;C.raw&&0<C.windowBits?C.windowBits=-C.windowBits:C.gzip&&0<C.windowBits&&C.windowBits<16&&(C.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var E=c.deflateInit2(this.strm,C.level,C.method,C.windowBits,C.memLevel,C.strategy);if(E!==y)throw new Error(p[E]);if(C.header&&c.deflateSetHeader(this.strm,C.header),C.dictionary){var F;if(F=typeof C.dictionary=="string"?h.string2buf(C.dictionary):g.call(C.dictionary)==="[object ArrayBuffer]"?new Uint8Array(C.dictionary):C.dictionary,(E=c.deflateSetDictionary(this.strm,F))!==y)throw new Error(p[E]);this._dict_set=!0}}function A(_,C){var E=new S(C);if(E.push(_,!0),E.err)throw E.msg||p[E.err];return E.result}S.prototype.push=function(_,C){var E,F,L=this.strm,B=this.options.chunkSize;if(this.ended)return!1;F=C===~~C?C:C===!0?4:0,typeof _=="string"?L.input=h.string2buf(_):g.call(_)==="[object ArrayBuffer]"?L.input=new Uint8Array(_):L.input=_,L.next_in=0,L.avail_in=L.input.length;do{if(L.avail_out===0&&(L.output=new f.Buf8(B),L.next_out=0,L.avail_out=B),(E=c.deflate(L,F))!==1&&E!==y)return this.onEnd(E),!(this.ended=!0);L.avail_out!==0&&(L.avail_in!==0||F!==4&&F!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(f.shrinkBuf(L.output,L.next_out))):this.onData(f.shrinkBuf(L.output,L.next_out)))}while((0<L.avail_in||L.avail_out===0)&&E!==1);return F===4?(E=c.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===y):F!==2||(this.onEnd(y),!(L.avail_out=0))},S.prototype.onData=function(_){this.chunks.push(_)},S.prototype.onEnd=function(_){_===y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},u.Deflate=S,u.deflate=A,u.deflateRaw=function(_,C){return(C=C||{}).raw=!0,A(_,C)},u.gzip=function(_,C){return(C=C||{}).gzip=!0,A(_,C)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(i,a,u){var c=i("./zlib/inflate"),f=i("./utils/common"),h=i("./utils/strings"),p=i("./zlib/constants"),m=i("./zlib/messages"),g=i("./zlib/zstream"),y=i("./zlib/gzheader"),w=Object.prototype.toString;function k(S){if(!(this instanceof k))return new k(S);this.options=f.assign({chunkSize:16384,windowBits:0,to:""},S||{});var A=this.options;A.raw&&0<=A.windowBits&&A.windowBits<16&&(A.windowBits=-A.windowBits,A.windowBits===0&&(A.windowBits=-15)),!(0<=A.windowBits&&A.windowBits<16)||S&&S.windowBits||(A.windowBits+=32),15<A.windowBits&&A.windowBits<48&&(15&A.windowBits)==0&&(A.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var _=c.inflateInit2(this.strm,A.windowBits);if(_!==p.Z_OK)throw new Error(m[_]);this.header=new y,c.inflateGetHeader(this.strm,this.header)}function j(S,A){var _=new k(A);if(_.push(S,!0),_.err)throw _.msg||m[_.err];return _.result}k.prototype.push=function(S,A){var _,C,E,F,L,B,M=this.strm,q=this.options.chunkSize,H=this.options.dictionary,ie=!1;if(this.ended)return!1;C=A===~~A?A:A===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof S=="string"?M.input=h.binstring2buf(S):w.call(S)==="[object ArrayBuffer]"?M.input=new Uint8Array(S):M.input=S,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new f.Buf8(q),M.next_out=0,M.avail_out=q),(_=c.inflate(M,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&H&&(B=typeof H=="string"?h.string2buf(H):w.call(H)==="[object ArrayBuffer]"?new Uint8Array(H):H,_=c.inflateSetDictionary(this.strm,B)),_===p.Z_BUF_ERROR&&ie===!0&&(_=p.Z_OK,ie=!1),_!==p.Z_STREAM_END&&_!==p.Z_OK)return this.onEnd(_),!(this.ended=!0);M.next_out&&(M.avail_out!==0&&_!==p.Z_STREAM_END&&(M.avail_in!==0||C!==p.Z_FINISH&&C!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(E=h.utf8border(M.output,M.next_out),F=M.next_out-E,L=h.buf2string(M.output,E),M.next_out=F,M.avail_out=q-F,F&&f.arraySet(M.output,M.output,E,F,0),this.onData(L)):this.onData(f.shrinkBuf(M.output,M.next_out)))),M.avail_in===0&&M.avail_out===0&&(ie=!0)}while((0<M.avail_in||M.avail_out===0)&&_!==p.Z_STREAM_END);return _===p.Z_STREAM_END&&(C=p.Z_FINISH),C===p.Z_FINISH?(_=c.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===p.Z_OK):C!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(M.avail_out=0))},k.prototype.onData=function(S){this.chunks.push(S)},k.prototype.onEnd=function(S){S===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},u.Inflate=k,u.inflate=j,u.inflateRaw=function(S,A){return(A=A||{}).raw=!0,j(S,A)},u.ungzip=j},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(i,a,u){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";u.assign=function(p){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var g=m.shift();if(g){if(typeof g!="object")throw new TypeError(g+"must be non-object");for(var y in g)g.hasOwnProperty(y)&&(p[y]=g[y])}}return p},u.shrinkBuf=function(p,m){return p.length===m?p:p.subarray?p.subarray(0,m):(p.length=m,p)};var f={arraySet:function(p,m,g,y,w){if(m.subarray&&p.subarray)p.set(m.subarray(g,g+y),w);else for(var k=0;k<y;k++)p[w+k]=m[g+k]},flattenChunks:function(p){var m,g,y,w,k,j;for(m=y=0,g=p.length;m<g;m++)y+=p[m].length;for(j=new Uint8Array(y),m=w=0,g=p.length;m<g;m++)k=p[m],j.set(k,w),w+=k.length;return j}},h={arraySet:function(p,m,g,y,w){for(var k=0;k<y;k++)p[w+k]=m[g+k]},flattenChunks:function(p){return[].concat.apply([],p)}};u.setTyped=function(p){p?(u.Buf8=Uint8Array,u.Buf16=Uint16Array,u.Buf32=Int32Array,u.assign(u,f)):(u.Buf8=Array,u.Buf16=Array,u.Buf32=Array,u.assign(u,h))},u.setTyped(c)},{}],42:[function(i,a,u){var c=i("./common"),f=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var p=new c.Buf8(256),m=0;m<256;m++)p[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function g(y,w){if(w<65537&&(y.subarray&&h||!y.subarray&&f))return String.fromCharCode.apply(null,c.shrinkBuf(y,w));for(var k="",j=0;j<w;j++)k+=String.fromCharCode(y[j]);return k}p[254]=p[254]=1,u.string2buf=function(y){var w,k,j,S,A,_=y.length,C=0;for(S=0;S<_;S++)(64512&(k=y.charCodeAt(S)))==55296&&S+1<_&&(64512&(j=y.charCodeAt(S+1)))==56320&&(k=65536+(k-55296<<10)+(j-56320),S++),C+=k<128?1:k<2048?2:k<65536?3:4;for(w=new c.Buf8(C),S=A=0;A<C;S++)(64512&(k=y.charCodeAt(S)))==55296&&S+1<_&&(64512&(j=y.charCodeAt(S+1)))==56320&&(k=65536+(k-55296<<10)+(j-56320),S++),k<128?w[A++]=k:(k<2048?w[A++]=192|k>>>6:(k<65536?w[A++]=224|k>>>12:(w[A++]=240|k>>>18,w[A++]=128|k>>>12&63),w[A++]=128|k>>>6&63),w[A++]=128|63&k);return w},u.buf2binstring=function(y){return g(y,y.length)},u.binstring2buf=function(y){for(var w=new c.Buf8(y.length),k=0,j=w.length;k<j;k++)w[k]=y.charCodeAt(k);return w},u.buf2string=function(y,w){var k,j,S,A,_=w||y.length,C=new Array(2*_);for(k=j=0;k<_;)if((S=y[k++])<128)C[j++]=S;else if(4<(A=p[S]))C[j++]=65533,k+=A-1;else{for(S&=A===2?31:A===3?15:7;1<A&&k<_;)S=S<<6|63&y[k++],A--;1<A?C[j++]=65533:S<65536?C[j++]=S:(S-=65536,C[j++]=55296|S>>10&1023,C[j++]=56320|1023&S)}return g(C,j)},u.utf8border=function(y,w){var k;for((w=w||y.length)>y.length&&(w=y.length),k=w-1;0<=k&&(192&y[k])==128;)k--;return k<0||k===0?w:k+p[y[k]]>w?k:w}},{"./common":41}],43:[function(i,a,u){a.exports=function(c,f,h,p){for(var m=65535&c|0,g=c>>>16&65535|0,y=0;h!==0;){for(h-=y=2e3<h?2e3:h;g=g+(m=m+f[p++]|0)|0,--y;);m%=65521,g%=65521}return m|g<<16|0}},{}],44:[function(i,a,u){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(i,a,u){var c=(function(){for(var f,h=[],p=0;p<256;p++){f=p;for(var m=0;m<8;m++)f=1&f?3988292384^f>>>1:f>>>1;h[p]=f}return h})();a.exports=function(f,h,p,m){var g=c,y=m+p;f^=-1;for(var w=m;w<y;w++)f=f>>>8^g[255&(f^h[w])];return-1^f}},{}],46:[function(i,a,u){var c,f=i("../utils/common"),h=i("./trees"),p=i("./adler32"),m=i("./crc32"),g=i("./messages"),y=0,w=4,k=0,j=-2,S=-1,A=4,_=2,C=8,E=9,F=286,L=30,B=19,M=2*F+1,q=15,H=3,ie=258,ge=ie+H+1,D=42,Y=113,T=1,oe=2,G=3,O=4;function le(x,se){return x.msg=g[se],se}function re(x){return(x<<1)-(4<x?9:0)}function me(x){for(var se=x.length;0<=--se;)x[se]=0}function P(x){var se=x.state,V=se.pending;V>x.avail_out&&(V=x.avail_out),V!==0&&(f.arraySet(x.output,se.pending_buf,se.pending_out,V,x.next_out),x.next_out+=V,se.pending_out+=V,x.total_out+=V,x.avail_out-=V,se.pending-=V,se.pending===0&&(se.pending_out=0))}function R(x,se){h._tr_flush_block(x,0<=x.block_start?x.block_start:-1,x.strstart-x.block_start,se),x.block_start=x.strstart,P(x.strm)}function ee(x,se){x.pending_buf[x.pending++]=se}function ne(x,se){x.pending_buf[x.pending++]=se>>>8&255,x.pending_buf[x.pending++]=255&se}function ce(x,se){var V,z,N=x.max_chain_length,W=x.strstart,de=x.prev_length,he=x.nice_match,Q=x.strstart>x.w_size-ge?x.strstart-(x.w_size-ge):0,ve=x.window,we=x.w_mask,xe=x.prev,Pe=x.strstart+ie,He=ve[W+de-1],De=ve[W+de];x.prev_length>=x.good_match&&(N>>=2),he>x.lookahead&&(he=x.lookahead);do if(ve[(V=se)+de]===De&&ve[V+de-1]===He&&ve[V]===ve[W]&&ve[++V]===ve[W+1]){W+=2,V++;do;while(ve[++W]===ve[++V]&&ve[++W]===ve[++V]&&ve[++W]===ve[++V]&&ve[++W]===ve[++V]&&ve[++W]===ve[++V]&&ve[++W]===ve[++V]&&ve[++W]===ve[++V]&&ve[++W]===ve[++V]&&W<Pe);if(z=ie-(Pe-W),W=Pe-ie,de<z){if(x.match_start=se,he<=(de=z))break;He=ve[W+de-1],De=ve[W+de]}}while((se=xe[se&we])>Q&&--N!=0);return de<=x.lookahead?de:x.lookahead}function Te(x){var se,V,z,N,W,de,he,Q,ve,we,xe=x.w_size;do{if(N=x.window_size-x.lookahead-x.strstart,x.strstart>=xe+(xe-ge)){for(f.arraySet(x.window,x.window,xe,xe,0),x.match_start-=xe,x.strstart-=xe,x.block_start-=xe,se=V=x.hash_size;z=x.head[--se],x.head[se]=xe<=z?z-xe:0,--V;);for(se=V=xe;z=x.prev[--se],x.prev[se]=xe<=z?z-xe:0,--V;);N+=xe}if(x.strm.avail_in===0)break;if(de=x.strm,he=x.window,Q=x.strstart+x.lookahead,ve=N,we=void 0,we=de.avail_in,ve<we&&(we=ve),V=we===0?0:(de.avail_in-=we,f.arraySet(he,de.input,de.next_in,we,Q),de.state.wrap===1?de.adler=p(de.adler,he,we,Q):de.state.wrap===2&&(de.adler=m(de.adler,he,we,Q)),de.next_in+=we,de.total_in+=we,we),x.lookahead+=V,x.lookahead+x.insert>=H)for(W=x.strstart-x.insert,x.ins_h=x.window[W],x.ins_h=(x.ins_h<<x.hash_shift^x.window[W+1])&x.hash_mask;x.insert&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[W+H-1])&x.hash_mask,x.prev[W&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=W,W++,x.insert--,!(x.lookahead+x.insert<H)););}while(x.lookahead<ge&&x.strm.avail_in!==0)}function Ee(x,se){for(var V,z;;){if(x.lookahead<ge){if(Te(x),x.lookahead<ge&&se===y)return T;if(x.lookahead===0)break}if(V=0,x.lookahead>=H&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+H-1])&x.hash_mask,V=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),V!==0&&x.strstart-V<=x.w_size-ge&&(x.match_length=ce(x,V)),x.match_length>=H)if(z=h._tr_tally(x,x.strstart-x.match_start,x.match_length-H),x.lookahead-=x.match_length,x.match_length<=x.max_lazy_match&&x.lookahead>=H){for(x.match_length--;x.strstart++,x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+H-1])&x.hash_mask,V=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart,--x.match_length!=0;);x.strstart++}else x.strstart+=x.match_length,x.match_length=0,x.ins_h=x.window[x.strstart],x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+1])&x.hash_mask;else z=h._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++;if(z&&(R(x,!1),x.strm.avail_out===0))return T}return x.insert=x.strstart<H-1?x.strstart:H-1,se===w?(R(x,!0),x.strm.avail_out===0?G:O):x.last_lit&&(R(x,!1),x.strm.avail_out===0)?T:oe}function be(x,se){for(var V,z,N;;){if(x.lookahead<ge){if(Te(x),x.lookahead<ge&&se===y)return T;if(x.lookahead===0)break}if(V=0,x.lookahead>=H&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+H-1])&x.hash_mask,V=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),x.prev_length=x.match_length,x.prev_match=x.match_start,x.match_length=H-1,V!==0&&x.prev_length<x.max_lazy_match&&x.strstart-V<=x.w_size-ge&&(x.match_length=ce(x,V),x.match_length<=5&&(x.strategy===1||x.match_length===H&&4096<x.strstart-x.match_start)&&(x.match_length=H-1)),x.prev_length>=H&&x.match_length<=x.prev_length){for(N=x.strstart+x.lookahead-H,z=h._tr_tally(x,x.strstart-1-x.prev_match,x.prev_length-H),x.lookahead-=x.prev_length-1,x.prev_length-=2;++x.strstart<=N&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+H-1])&x.hash_mask,V=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),--x.prev_length!=0;);if(x.match_available=0,x.match_length=H-1,x.strstart++,z&&(R(x,!1),x.strm.avail_out===0))return T}else if(x.match_available){if((z=h._tr_tally(x,0,x.window[x.strstart-1]))&&R(x,!1),x.strstart++,x.lookahead--,x.strm.avail_out===0)return T}else x.match_available=1,x.strstart++,x.lookahead--}return x.match_available&&(z=h._tr_tally(x,0,x.window[x.strstart-1]),x.match_available=0),x.insert=x.strstart<H-1?x.strstart:H-1,se===w?(R(x,!0),x.strm.avail_out===0?G:O):x.last_lit&&(R(x,!1),x.strm.avail_out===0)?T:oe}function ke(x,se,V,z,N){this.good_length=x,this.max_lazy=se,this.nice_length=V,this.max_chain=z,this.func=N}function ye(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new f.Buf16(2*M),this.dyn_dtree=new f.Buf16(2*(2*L+1)),this.bl_tree=new f.Buf16(2*(2*B+1)),me(this.dyn_ltree),me(this.dyn_dtree),me(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new f.Buf16(q+1),this.heap=new f.Buf16(2*F+1),me(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new f.Buf16(2*F+1),me(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Se(x){var se;return x&&x.state?(x.total_in=x.total_out=0,x.data_type=_,(se=x.state).pending=0,se.pending_out=0,se.wrap<0&&(se.wrap=-se.wrap),se.status=se.wrap?D:Y,x.adler=se.wrap===2?0:1,se.last_flush=y,h._tr_init(se),k):le(x,j)}function ze(x){var se=Se(x);return se===k&&(function(V){V.window_size=2*V.w_size,me(V.head),V.max_lazy_match=c[V.level].max_lazy,V.good_match=c[V.level].good_length,V.nice_match=c[V.level].nice_length,V.max_chain_length=c[V.level].max_chain,V.strstart=0,V.block_start=0,V.lookahead=0,V.insert=0,V.match_length=V.prev_length=H-1,V.match_available=0,V.ins_h=0})(x.state),se}function Ne(x,se,V,z,N,W){if(!x)return j;var de=1;if(se===S&&(se=6),z<0?(de=0,z=-z):15<z&&(de=2,z-=16),N<1||E<N||V!==C||z<8||15<z||se<0||9<se||W<0||A<W)return le(x,j);z===8&&(z=9);var he=new ye;return(x.state=he).strm=x,he.wrap=de,he.gzhead=null,he.w_bits=z,he.w_size=1<<he.w_bits,he.w_mask=he.w_size-1,he.hash_bits=N+7,he.hash_size=1<<he.hash_bits,he.hash_mask=he.hash_size-1,he.hash_shift=~~((he.hash_bits+H-1)/H),he.window=new f.Buf8(2*he.w_size),he.head=new f.Buf16(he.hash_size),he.prev=new f.Buf16(he.w_size),he.lit_bufsize=1<<N+6,he.pending_buf_size=4*he.lit_bufsize,he.pending_buf=new f.Buf8(he.pending_buf_size),he.d_buf=1*he.lit_bufsize,he.l_buf=3*he.lit_bufsize,he.level=se,he.strategy=W,he.method=V,ze(x)}c=[new ke(0,0,0,0,function(x,se){var V=65535;for(V>x.pending_buf_size-5&&(V=x.pending_buf_size-5);;){if(x.lookahead<=1){if(Te(x),x.lookahead===0&&se===y)return T;if(x.lookahead===0)break}x.strstart+=x.lookahead,x.lookahead=0;var z=x.block_start+V;if((x.strstart===0||x.strstart>=z)&&(x.lookahead=x.strstart-z,x.strstart=z,R(x,!1),x.strm.avail_out===0)||x.strstart-x.block_start>=x.w_size-ge&&(R(x,!1),x.strm.avail_out===0))return T}return x.insert=0,se===w?(R(x,!0),x.strm.avail_out===0?G:O):(x.strstart>x.block_start&&(R(x,!1),x.strm.avail_out),T)}),new ke(4,4,8,4,Ee),new ke(4,5,16,8,Ee),new ke(4,6,32,32,Ee),new ke(4,4,16,16,be),new ke(8,16,32,32,be),new ke(8,16,128,128,be),new ke(8,32,128,256,be),new ke(32,128,258,1024,be),new ke(32,258,258,4096,be)],u.deflateInit=function(x,se){return Ne(x,se,C,15,8,0)},u.deflateInit2=Ne,u.deflateReset=ze,u.deflateResetKeep=Se,u.deflateSetHeader=function(x,se){return x&&x.state?x.state.wrap!==2?j:(x.state.gzhead=se,k):j},u.deflate=function(x,se){var V,z,N,W;if(!x||!x.state||5<se||se<0)return x?le(x,j):j;if(z=x.state,!x.output||!x.input&&x.avail_in!==0||z.status===666&&se!==w)return le(x,x.avail_out===0?-5:j);if(z.strm=x,V=z.last_flush,z.last_flush=se,z.status===D)if(z.wrap===2)x.adler=0,ee(z,31),ee(z,139),ee(z,8),z.gzhead?(ee(z,(z.gzhead.text?1:0)+(z.gzhead.hcrc?2:0)+(z.gzhead.extra?4:0)+(z.gzhead.name?8:0)+(z.gzhead.comment?16:0)),ee(z,255&z.gzhead.time),ee(z,z.gzhead.time>>8&255),ee(z,z.gzhead.time>>16&255),ee(z,z.gzhead.time>>24&255),ee(z,z.level===9?2:2<=z.strategy||z.level<2?4:0),ee(z,255&z.gzhead.os),z.gzhead.extra&&z.gzhead.extra.length&&(ee(z,255&z.gzhead.extra.length),ee(z,z.gzhead.extra.length>>8&255)),z.gzhead.hcrc&&(x.adler=m(x.adler,z.pending_buf,z.pending,0)),z.gzindex=0,z.status=69):(ee(z,0),ee(z,0),ee(z,0),ee(z,0),ee(z,0),ee(z,z.level===9?2:2<=z.strategy||z.level<2?4:0),ee(z,3),z.status=Y);else{var de=C+(z.w_bits-8<<4)<<8;de|=(2<=z.strategy||z.level<2?0:z.level<6?1:z.level===6?2:3)<<6,z.strstart!==0&&(de|=32),de+=31-de%31,z.status=Y,ne(z,de),z.strstart!==0&&(ne(z,x.adler>>>16),ne(z,65535&x.adler)),x.adler=1}if(z.status===69)if(z.gzhead.extra){for(N=z.pending;z.gzindex<(65535&z.gzhead.extra.length)&&(z.pending!==z.pending_buf_size||(z.gzhead.hcrc&&z.pending>N&&(x.adler=m(x.adler,z.pending_buf,z.pending-N,N)),P(x),N=z.pending,z.pending!==z.pending_buf_size));)ee(z,255&z.gzhead.extra[z.gzindex]),z.gzindex++;z.gzhead.hcrc&&z.pending>N&&(x.adler=m(x.adler,z.pending_buf,z.pending-N,N)),z.gzindex===z.gzhead.extra.length&&(z.gzindex=0,z.status=73)}else z.status=73;if(z.status===73)if(z.gzhead.name){N=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>N&&(x.adler=m(x.adler,z.pending_buf,z.pending-N,N)),P(x),N=z.pending,z.pending===z.pending_buf_size)){W=1;break}W=z.gzindex<z.gzhead.name.length?255&z.gzhead.name.charCodeAt(z.gzindex++):0,ee(z,W)}while(W!==0);z.gzhead.hcrc&&z.pending>N&&(x.adler=m(x.adler,z.pending_buf,z.pending-N,N)),W===0&&(z.gzindex=0,z.status=91)}else z.status=91;if(z.status===91)if(z.gzhead.comment){N=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>N&&(x.adler=m(x.adler,z.pending_buf,z.pending-N,N)),P(x),N=z.pending,z.pending===z.pending_buf_size)){W=1;break}W=z.gzindex<z.gzhead.comment.length?255&z.gzhead.comment.charCodeAt(z.gzindex++):0,ee(z,W)}while(W!==0);z.gzhead.hcrc&&z.pending>N&&(x.adler=m(x.adler,z.pending_buf,z.pending-N,N)),W===0&&(z.status=103)}else z.status=103;if(z.status===103&&(z.gzhead.hcrc?(z.pending+2>z.pending_buf_size&&P(x),z.pending+2<=z.pending_buf_size&&(ee(z,255&x.adler),ee(z,x.adler>>8&255),x.adler=0,z.status=Y)):z.status=Y),z.pending!==0){if(P(x),x.avail_out===0)return z.last_flush=-1,k}else if(x.avail_in===0&&re(se)<=re(V)&&se!==w)return le(x,-5);if(z.status===666&&x.avail_in!==0)return le(x,-5);if(x.avail_in!==0||z.lookahead!==0||se!==y&&z.status!==666){var he=z.strategy===2?(function(Q,ve){for(var we;;){if(Q.lookahead===0&&(Te(Q),Q.lookahead===0)){if(ve===y)return T;break}if(Q.match_length=0,we=h._tr_tally(Q,0,Q.window[Q.strstart]),Q.lookahead--,Q.strstart++,we&&(R(Q,!1),Q.strm.avail_out===0))return T}return Q.insert=0,ve===w?(R(Q,!0),Q.strm.avail_out===0?G:O):Q.last_lit&&(R(Q,!1),Q.strm.avail_out===0)?T:oe})(z,se):z.strategy===3?(function(Q,ve){for(var we,xe,Pe,He,De=Q.window;;){if(Q.lookahead<=ie){if(Te(Q),Q.lookahead<=ie&&ve===y)return T;if(Q.lookahead===0)break}if(Q.match_length=0,Q.lookahead>=H&&0<Q.strstart&&(xe=De[Pe=Q.strstart-1])===De[++Pe]&&xe===De[++Pe]&&xe===De[++Pe]){He=Q.strstart+ie;do;while(xe===De[++Pe]&&xe===De[++Pe]&&xe===De[++Pe]&&xe===De[++Pe]&&xe===De[++Pe]&&xe===De[++Pe]&&xe===De[++Pe]&&xe===De[++Pe]&&Pe<He);Q.match_length=ie-(He-Pe),Q.match_length>Q.lookahead&&(Q.match_length=Q.lookahead)}if(Q.match_length>=H?(we=h._tr_tally(Q,1,Q.match_length-H),Q.lookahead-=Q.match_length,Q.strstart+=Q.match_length,Q.match_length=0):(we=h._tr_tally(Q,0,Q.window[Q.strstart]),Q.lookahead--,Q.strstart++),we&&(R(Q,!1),Q.strm.avail_out===0))return T}return Q.insert=0,ve===w?(R(Q,!0),Q.strm.avail_out===0?G:O):Q.last_lit&&(R(Q,!1),Q.strm.avail_out===0)?T:oe})(z,se):c[z.level].func(z,se);if(he!==G&&he!==O||(z.status=666),he===T||he===G)return x.avail_out===0&&(z.last_flush=-1),k;if(he===oe&&(se===1?h._tr_align(z):se!==5&&(h._tr_stored_block(z,0,0,!1),se===3&&(me(z.head),z.lookahead===0&&(z.strstart=0,z.block_start=0,z.insert=0))),P(x),x.avail_out===0))return z.last_flush=-1,k}return se!==w?k:z.wrap<=0?1:(z.wrap===2?(ee(z,255&x.adler),ee(z,x.adler>>8&255),ee(z,x.adler>>16&255),ee(z,x.adler>>24&255),ee(z,255&x.total_in),ee(z,x.total_in>>8&255),ee(z,x.total_in>>16&255),ee(z,x.total_in>>24&255)):(ne(z,x.adler>>>16),ne(z,65535&x.adler)),P(x),0<z.wrap&&(z.wrap=-z.wrap),z.pending!==0?k:1)},u.deflateEnd=function(x){var se;return x&&x.state?(se=x.state.status)!==D&&se!==69&&se!==73&&se!==91&&se!==103&&se!==Y&&se!==666?le(x,j):(x.state=null,se===Y?le(x,-3):k):j},u.deflateSetDictionary=function(x,se){var V,z,N,W,de,he,Q,ve,we=se.length;if(!x||!x.state||(W=(V=x.state).wrap)===2||W===1&&V.status!==D||V.lookahead)return j;for(W===1&&(x.adler=p(x.adler,se,we,0)),V.wrap=0,we>=V.w_size&&(W===0&&(me(V.head),V.strstart=0,V.block_start=0,V.insert=0),ve=new f.Buf8(V.w_size),f.arraySet(ve,se,we-V.w_size,V.w_size,0),se=ve,we=V.w_size),de=x.avail_in,he=x.next_in,Q=x.input,x.avail_in=we,x.next_in=0,x.input=se,Te(V);V.lookahead>=H;){for(z=V.strstart,N=V.lookahead-(H-1);V.ins_h=(V.ins_h<<V.hash_shift^V.window[z+H-1])&V.hash_mask,V.prev[z&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=z,z++,--N;);V.strstart=z,V.lookahead=H-1,Te(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=H-1,V.match_available=0,x.next_in=he,x.input=Q,x.avail_in=de,V.wrap=W,k},u.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(i,a,u){a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(i,a,u){a.exports=function(c,f){var h,p,m,g,y,w,k,j,S,A,_,C,E,F,L,B,M,q,H,ie,ge,D,Y,T,oe;h=c.state,p=c.next_in,T=c.input,m=p+(c.avail_in-5),g=c.next_out,oe=c.output,y=g-(f-c.avail_out),w=g+(c.avail_out-257),k=h.dmax,j=h.wsize,S=h.whave,A=h.wnext,_=h.window,C=h.hold,E=h.bits,F=h.lencode,L=h.distcode,B=(1<<h.lenbits)-1,M=(1<<h.distbits)-1;e:do{E<15&&(C+=T[p++]<<E,E+=8,C+=T[p++]<<E,E+=8),q=F[C&B];t:for(;;){if(C>>>=H=q>>>24,E-=H,(H=q>>>16&255)===0)oe[g++]=65535&q;else{if(!(16&H)){if((64&H)==0){q=F[(65535&q)+(C&(1<<H)-1)];continue t}if(32&H){h.mode=12;break e}c.msg="invalid literal/length code",h.mode=30;break e}ie=65535&q,(H&=15)&&(E<H&&(C+=T[p++]<<E,E+=8),ie+=C&(1<<H)-1,C>>>=H,E-=H),E<15&&(C+=T[p++]<<E,E+=8,C+=T[p++]<<E,E+=8),q=L[C&M];r:for(;;){if(C>>>=H=q>>>24,E-=H,!(16&(H=q>>>16&255))){if((64&H)==0){q=L[(65535&q)+(C&(1<<H)-1)];continue r}c.msg="invalid distance code",h.mode=30;break e}if(ge=65535&q,E<(H&=15)&&(C+=T[p++]<<E,(E+=8)<H&&(C+=T[p++]<<E,E+=8)),k<(ge+=C&(1<<H)-1)){c.msg="invalid distance too far back",h.mode=30;break e}if(C>>>=H,E-=H,(H=g-y)<ge){if(S<(H=ge-H)&&h.sane){c.msg="invalid distance too far back",h.mode=30;break e}if(Y=_,(D=0)===A){if(D+=j-H,H<ie){for(ie-=H;oe[g++]=_[D++],--H;);D=g-ge,Y=oe}}else if(A<H){if(D+=j+A-H,(H-=A)<ie){for(ie-=H;oe[g++]=_[D++],--H;);if(D=0,A<ie){for(ie-=H=A;oe[g++]=_[D++],--H;);D=g-ge,Y=oe}}}else if(D+=A-H,H<ie){for(ie-=H;oe[g++]=_[D++],--H;);D=g-ge,Y=oe}for(;2<ie;)oe[g++]=Y[D++],oe[g++]=Y[D++],oe[g++]=Y[D++],ie-=3;ie&&(oe[g++]=Y[D++],1<ie&&(oe[g++]=Y[D++]))}else{for(D=g-ge;oe[g++]=oe[D++],oe[g++]=oe[D++],oe[g++]=oe[D++],2<(ie-=3););ie&&(oe[g++]=oe[D++],1<ie&&(oe[g++]=oe[D++]))}break}}break}}while(p<m&&g<w);p-=ie=E>>3,C&=(1<<(E-=ie<<3))-1,c.next_in=p,c.next_out=g,c.avail_in=p<m?m-p+5:5-(p-m),c.avail_out=g<w?w-g+257:257-(g-w),h.hold=C,h.bits=E}},{}],49:[function(i,a,u){var c=i("../utils/common"),f=i("./adler32"),h=i("./crc32"),p=i("./inffast"),m=i("./inftrees"),g=1,y=2,w=0,k=-2,j=1,S=852,A=592;function _(D){return(D>>>24&255)+(D>>>8&65280)+((65280&D)<<8)+((255&D)<<24)}function C(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function E(D){var Y;return D&&D.state?(Y=D.state,D.total_in=D.total_out=Y.total=0,D.msg="",Y.wrap&&(D.adler=1&Y.wrap),Y.mode=j,Y.last=0,Y.havedict=0,Y.dmax=32768,Y.head=null,Y.hold=0,Y.bits=0,Y.lencode=Y.lendyn=new c.Buf32(S),Y.distcode=Y.distdyn=new c.Buf32(A),Y.sane=1,Y.back=-1,w):k}function F(D){var Y;return D&&D.state?((Y=D.state).wsize=0,Y.whave=0,Y.wnext=0,E(D)):k}function L(D,Y){var T,oe;return D&&D.state?(oe=D.state,Y<0?(T=0,Y=-Y):(T=1+(Y>>4),Y<48&&(Y&=15)),Y&&(Y<8||15<Y)?k:(oe.window!==null&&oe.wbits!==Y&&(oe.window=null),oe.wrap=T,oe.wbits=Y,F(D))):k}function B(D,Y){var T,oe;return D?(oe=new C,(D.state=oe).window=null,(T=L(D,Y))!==w&&(D.state=null),T):k}var M,q,H=!0;function ie(D){if(H){var Y;for(M=new c.Buf32(512),q=new c.Buf32(32),Y=0;Y<144;)D.lens[Y++]=8;for(;Y<256;)D.lens[Y++]=9;for(;Y<280;)D.lens[Y++]=7;for(;Y<288;)D.lens[Y++]=8;for(m(g,D.lens,0,288,M,0,D.work,{bits:9}),Y=0;Y<32;)D.lens[Y++]=5;m(y,D.lens,0,32,q,0,D.work,{bits:5}),H=!1}D.lencode=M,D.lenbits=9,D.distcode=q,D.distbits=5}function ge(D,Y,T,oe){var G,O=D.state;return O.window===null&&(O.wsize=1<<O.wbits,O.wnext=0,O.whave=0,O.window=new c.Buf8(O.wsize)),oe>=O.wsize?(c.arraySet(O.window,Y,T-O.wsize,O.wsize,0),O.wnext=0,O.whave=O.wsize):(oe<(G=O.wsize-O.wnext)&&(G=oe),c.arraySet(O.window,Y,T-oe,G,O.wnext),(oe-=G)?(c.arraySet(O.window,Y,T-oe,oe,0),O.wnext=oe,O.whave=O.wsize):(O.wnext+=G,O.wnext===O.wsize&&(O.wnext=0),O.whave<O.wsize&&(O.whave+=G))),0}u.inflateReset=F,u.inflateReset2=L,u.inflateResetKeep=E,u.inflateInit=function(D){return B(D,15)},u.inflateInit2=B,u.inflate=function(D,Y){var T,oe,G,O,le,re,me,P,R,ee,ne,ce,Te,Ee,be,ke,ye,Se,ze,Ne,x,se,V,z,N=0,W=new c.Buf8(4),de=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!D||!D.state||!D.output||!D.input&&D.avail_in!==0)return k;(T=D.state).mode===12&&(T.mode=13),le=D.next_out,G=D.output,me=D.avail_out,O=D.next_in,oe=D.input,re=D.avail_in,P=T.hold,R=T.bits,ee=re,ne=me,se=w;e:for(;;)switch(T.mode){case j:if(T.wrap===0){T.mode=13;break}for(;R<16;){if(re===0)break e;re--,P+=oe[O++]<<R,R+=8}if(2&T.wrap&&P===35615){W[T.check=0]=255&P,W[1]=P>>>8&255,T.check=h(T.check,W,2,0),R=P=0,T.mode=2;break}if(T.flags=0,T.head&&(T.head.done=!1),!(1&T.wrap)||(((255&P)<<8)+(P>>8))%31){D.msg="incorrect header check",T.mode=30;break}if((15&P)!=8){D.msg="unknown compression method",T.mode=30;break}if(R-=4,x=8+(15&(P>>>=4)),T.wbits===0)T.wbits=x;else if(x>T.wbits){D.msg="invalid window size",T.mode=30;break}T.dmax=1<<x,D.adler=T.check=1,T.mode=512&P?10:12,R=P=0;break;case 2:for(;R<16;){if(re===0)break e;re--,P+=oe[O++]<<R,R+=8}if(T.flags=P,(255&T.flags)!=8){D.msg="unknown compression method",T.mode=30;break}if(57344&T.flags){D.msg="unknown header flags set",T.mode=30;break}T.head&&(T.head.text=P>>8&1),512&T.flags&&(W[0]=255&P,W[1]=P>>>8&255,T.check=h(T.check,W,2,0)),R=P=0,T.mode=3;case 3:for(;R<32;){if(re===0)break e;re--,P+=oe[O++]<<R,R+=8}T.head&&(T.head.time=P),512&T.flags&&(W[0]=255&P,W[1]=P>>>8&255,W[2]=P>>>16&255,W[3]=P>>>24&255,T.check=h(T.check,W,4,0)),R=P=0,T.mode=4;case 4:for(;R<16;){if(re===0)break e;re--,P+=oe[O++]<<R,R+=8}T.head&&(T.head.xflags=255&P,T.head.os=P>>8),512&T.flags&&(W[0]=255&P,W[1]=P>>>8&255,T.check=h(T.check,W,2,0)),R=P=0,T.mode=5;case 5:if(1024&T.flags){for(;R<16;){if(re===0)break e;re--,P+=oe[O++]<<R,R+=8}T.length=P,T.head&&(T.head.extra_len=P),512&T.flags&&(W[0]=255&P,W[1]=P>>>8&255,T.check=h(T.check,W,2,0)),R=P=0}else T.head&&(T.head.extra=null);T.mode=6;case 6:if(1024&T.flags&&(re<(ce=T.length)&&(ce=re),ce&&(T.head&&(x=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),c.arraySet(T.head.extra,oe,O,ce,x)),512&T.flags&&(T.check=h(T.check,oe,ce,O)),re-=ce,O+=ce,T.length-=ce),T.length))break e;T.length=0,T.mode=7;case 7:if(2048&T.flags){if(re===0)break e;for(ce=0;x=oe[O+ce++],T.head&&x&&T.length<65536&&(T.head.name+=String.fromCharCode(x)),x&&ce<re;);if(512&T.flags&&(T.check=h(T.check,oe,ce,O)),re-=ce,O+=ce,x)break e}else T.head&&(T.head.name=null);T.length=0,T.mode=8;case 8:if(4096&T.flags){if(re===0)break e;for(ce=0;x=oe[O+ce++],T.head&&x&&T.length<65536&&(T.head.comment+=String.fromCharCode(x)),x&&ce<re;);if(512&T.flags&&(T.check=h(T.check,oe,ce,O)),re-=ce,O+=ce,x)break e}else T.head&&(T.head.comment=null);T.mode=9;case 9:if(512&T.flags){for(;R<16;){if(re===0)break e;re--,P+=oe[O++]<<R,R+=8}if(P!==(65535&T.check)){D.msg="header crc mismatch",T.mode=30;break}R=P=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),D.adler=T.check=0,T.mode=12;break;case 10:for(;R<32;){if(re===0)break e;re--,P+=oe[O++]<<R,R+=8}D.adler=T.check=_(P),R=P=0,T.mode=11;case 11:if(T.havedict===0)return D.next_out=le,D.avail_out=me,D.next_in=O,D.avail_in=re,T.hold=P,T.bits=R,2;D.adler=T.check=1,T.mode=12;case 12:if(Y===5||Y===6)break e;case 13:if(T.last){P>>>=7&R,R-=7&R,T.mode=27;break}for(;R<3;){if(re===0)break e;re--,P+=oe[O++]<<R,R+=8}switch(T.last=1&P,R-=1,3&(P>>>=1)){case 0:T.mode=14;break;case 1:if(ie(T),T.mode=20,Y!==6)break;P>>>=2,R-=2;break e;case 2:T.mode=17;break;case 3:D.msg="invalid block type",T.mode=30}P>>>=2,R-=2;break;case 14:for(P>>>=7&R,R-=7&R;R<32;){if(re===0)break e;re--,P+=oe[O++]<<R,R+=8}if((65535&P)!=(P>>>16^65535)){D.msg="invalid stored block lengths",T.mode=30;break}if(T.length=65535&P,R=P=0,T.mode=15,Y===6)break e;case 15:T.mode=16;case 16:if(ce=T.length){if(re<ce&&(ce=re),me<ce&&(ce=me),ce===0)break e;c.arraySet(G,oe,O,ce,le),re-=ce,O+=ce,me-=ce,le+=ce,T.length-=ce;break}T.mode=12;break;case 17:for(;R<14;){if(re===0)break e;re--,P+=oe[O++]<<R,R+=8}if(T.nlen=257+(31&P),P>>>=5,R-=5,T.ndist=1+(31&P),P>>>=5,R-=5,T.ncode=4+(15&P),P>>>=4,R-=4,286<T.nlen||30<T.ndist){D.msg="too many length or distance symbols",T.mode=30;break}T.have=0,T.mode=18;case 18:for(;T.have<T.ncode;){for(;R<3;){if(re===0)break e;re--,P+=oe[O++]<<R,R+=8}T.lens[de[T.have++]]=7&P,P>>>=3,R-=3}for(;T.have<19;)T.lens[de[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,V={bits:T.lenbits},se=m(0,T.lens,0,19,T.lencode,0,T.work,V),T.lenbits=V.bits,se){D.msg="invalid code lengths set",T.mode=30;break}T.have=0,T.mode=19;case 19:for(;T.have<T.nlen+T.ndist;){for(;ke=(N=T.lencode[P&(1<<T.lenbits)-1])>>>16&255,ye=65535&N,!((be=N>>>24)<=R);){if(re===0)break e;re--,P+=oe[O++]<<R,R+=8}if(ye<16)P>>>=be,R-=be,T.lens[T.have++]=ye;else{if(ye===16){for(z=be+2;R<z;){if(re===0)break e;re--,P+=oe[O++]<<R,R+=8}if(P>>>=be,R-=be,T.have===0){D.msg="invalid bit length repeat",T.mode=30;break}x=T.lens[T.have-1],ce=3+(3&P),P>>>=2,R-=2}else if(ye===17){for(z=be+3;R<z;){if(re===0)break e;re--,P+=oe[O++]<<R,R+=8}R-=be,x=0,ce=3+(7&(P>>>=be)),P>>>=3,R-=3}else{for(z=be+7;R<z;){if(re===0)break e;re--,P+=oe[O++]<<R,R+=8}R-=be,x=0,ce=11+(127&(P>>>=be)),P>>>=7,R-=7}if(T.have+ce>T.nlen+T.ndist){D.msg="invalid bit length repeat",T.mode=30;break}for(;ce--;)T.lens[T.have++]=x}}if(T.mode===30)break;if(T.lens[256]===0){D.msg="invalid code -- missing end-of-block",T.mode=30;break}if(T.lenbits=9,V={bits:T.lenbits},se=m(g,T.lens,0,T.nlen,T.lencode,0,T.work,V),T.lenbits=V.bits,se){D.msg="invalid literal/lengths set",T.mode=30;break}if(T.distbits=6,T.distcode=T.distdyn,V={bits:T.distbits},se=m(y,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,V),T.distbits=V.bits,se){D.msg="invalid distances set",T.mode=30;break}if(T.mode=20,Y===6)break e;case 20:T.mode=21;case 21:if(6<=re&&258<=me){D.next_out=le,D.avail_out=me,D.next_in=O,D.avail_in=re,T.hold=P,T.bits=R,p(D,ne),le=D.next_out,G=D.output,me=D.avail_out,O=D.next_in,oe=D.input,re=D.avail_in,P=T.hold,R=T.bits,T.mode===12&&(T.back=-1);break}for(T.back=0;ke=(N=T.lencode[P&(1<<T.lenbits)-1])>>>16&255,ye=65535&N,!((be=N>>>24)<=R);){if(re===0)break e;re--,P+=oe[O++]<<R,R+=8}if(ke&&(240&ke)==0){for(Se=be,ze=ke,Ne=ye;ke=(N=T.lencode[Ne+((P&(1<<Se+ze)-1)>>Se)])>>>16&255,ye=65535&N,!(Se+(be=N>>>24)<=R);){if(re===0)break e;re--,P+=oe[O++]<<R,R+=8}P>>>=Se,R-=Se,T.back+=Se}if(P>>>=be,R-=be,T.back+=be,T.length=ye,ke===0){T.mode=26;break}if(32&ke){T.back=-1,T.mode=12;break}if(64&ke){D.msg="invalid literal/length code",T.mode=30;break}T.extra=15&ke,T.mode=22;case 22:if(T.extra){for(z=T.extra;R<z;){if(re===0)break e;re--,P+=oe[O++]<<R,R+=8}T.length+=P&(1<<T.extra)-1,P>>>=T.extra,R-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=23;case 23:for(;ke=(N=T.distcode[P&(1<<T.distbits)-1])>>>16&255,ye=65535&N,!((be=N>>>24)<=R);){if(re===0)break e;re--,P+=oe[O++]<<R,R+=8}if((240&ke)==0){for(Se=be,ze=ke,Ne=ye;ke=(N=T.distcode[Ne+((P&(1<<Se+ze)-1)>>Se)])>>>16&255,ye=65535&N,!(Se+(be=N>>>24)<=R);){if(re===0)break e;re--,P+=oe[O++]<<R,R+=8}P>>>=Se,R-=Se,T.back+=Se}if(P>>>=be,R-=be,T.back+=be,64&ke){D.msg="invalid distance code",T.mode=30;break}T.offset=ye,T.extra=15&ke,T.mode=24;case 24:if(T.extra){for(z=T.extra;R<z;){if(re===0)break e;re--,P+=oe[O++]<<R,R+=8}T.offset+=P&(1<<T.extra)-1,P>>>=T.extra,R-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){D.msg="invalid distance too far back",T.mode=30;break}T.mode=25;case 25:if(me===0)break e;if(ce=ne-me,T.offset>ce){if((ce=T.offset-ce)>T.whave&&T.sane){D.msg="invalid distance too far back",T.mode=30;break}Te=ce>T.wnext?(ce-=T.wnext,T.wsize-ce):T.wnext-ce,ce>T.length&&(ce=T.length),Ee=T.window}else Ee=G,Te=le-T.offset,ce=T.length;for(me<ce&&(ce=me),me-=ce,T.length-=ce;G[le++]=Ee[Te++],--ce;);T.length===0&&(T.mode=21);break;case 26:if(me===0)break e;G[le++]=T.length,me--,T.mode=21;break;case 27:if(T.wrap){for(;R<32;){if(re===0)break e;re--,P|=oe[O++]<<R,R+=8}if(ne-=me,D.total_out+=ne,T.total+=ne,ne&&(D.adler=T.check=T.flags?h(T.check,G,ne,le-ne):f(T.check,G,ne,le-ne)),ne=me,(T.flags?P:_(P))!==T.check){D.msg="incorrect data check",T.mode=30;break}R=P=0}T.mode=28;case 28:if(T.wrap&&T.flags){for(;R<32;){if(re===0)break e;re--,P+=oe[O++]<<R,R+=8}if(P!==(4294967295&T.total)){D.msg="incorrect length check",T.mode=30;break}R=P=0}T.mode=29;case 29:se=1;break e;case 30:se=-3;break e;case 31:return-4;case 32:default:return k}return D.next_out=le,D.avail_out=me,D.next_in=O,D.avail_in=re,T.hold=P,T.bits=R,(T.wsize||ne!==D.avail_out&&T.mode<30&&(T.mode<27||Y!==4))&&ge(D,D.output,D.next_out,ne-D.avail_out)?(T.mode=31,-4):(ee-=D.avail_in,ne-=D.avail_out,D.total_in+=ee,D.total_out+=ne,T.total+=ne,T.wrap&&ne&&(D.adler=T.check=T.flags?h(T.check,G,ne,D.next_out-ne):f(T.check,G,ne,D.next_out-ne)),D.data_type=T.bits+(T.last?64:0)+(T.mode===12?128:0)+(T.mode===20||T.mode===15?256:0),(ee==0&&ne===0||Y===4)&&se===w&&(se=-5),se)},u.inflateEnd=function(D){if(!D||!D.state)return k;var Y=D.state;return Y.window&&(Y.window=null),D.state=null,w},u.inflateGetHeader=function(D,Y){var T;return D&&D.state?(2&(T=D.state).wrap)==0?k:((T.head=Y).done=!1,w):k},u.inflateSetDictionary=function(D,Y){var T,oe=Y.length;return D&&D.state?(T=D.state).wrap!==0&&T.mode!==11?k:T.mode===11&&f(1,Y,oe,0)!==T.check?-3:ge(D,Y,oe,oe)?(T.mode=31,-4):(T.havedict=1,w):k},u.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(i,a,u){var c=i("../utils/common"),f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(g,y,w,k,j,S,A,_){var C,E,F,L,B,M,q,H,ie,ge=_.bits,D=0,Y=0,T=0,oe=0,G=0,O=0,le=0,re=0,me=0,P=0,R=null,ee=0,ne=new c.Buf16(16),ce=new c.Buf16(16),Te=null,Ee=0;for(D=0;D<=15;D++)ne[D]=0;for(Y=0;Y<k;Y++)ne[y[w+Y]]++;for(G=ge,oe=15;1<=oe&&ne[oe]===0;oe--);if(oe<G&&(G=oe),oe===0)return j[S++]=20971520,j[S++]=20971520,_.bits=1,0;for(T=1;T<oe&&ne[T]===0;T++);for(G<T&&(G=T),D=re=1;D<=15;D++)if(re<<=1,(re-=ne[D])<0)return-1;if(0<re&&(g===0||oe!==1))return-1;for(ce[1]=0,D=1;D<15;D++)ce[D+1]=ce[D]+ne[D];for(Y=0;Y<k;Y++)y[w+Y]!==0&&(A[ce[y[w+Y]]++]=Y);if(M=g===0?(R=Te=A,19):g===1?(R=f,ee-=257,Te=h,Ee-=257,256):(R=p,Te=m,-1),D=T,B=S,le=Y=P=0,F=-1,L=(me=1<<(O=G))-1,g===1&&852<me||g===2&&592<me)return 1;for(;;){for(q=D-le,ie=A[Y]<M?(H=0,A[Y]):A[Y]>M?(H=Te[Ee+A[Y]],R[ee+A[Y]]):(H=96,0),C=1<<D-le,T=E=1<<O;j[B+(P>>le)+(E-=C)]=q<<24|H<<16|ie|0,E!==0;);for(C=1<<D-1;P&C;)C>>=1;if(C!==0?(P&=C-1,P+=C):P=0,Y++,--ne[D]==0){if(D===oe)break;D=y[w+A[Y]]}if(G<D&&(P&L)!==F){for(le===0&&(le=G),B+=T,re=1<<(O=D-le);O+le<oe&&!((re-=ne[O+le])<=0);)O++,re<<=1;if(me+=1<<O,g===1&&852<me||g===2&&592<me)return 1;j[F=P&L]=G<<24|O<<16|B-S|0}}return P!==0&&(j[B+P]=D-le<<24|64<<16|0),_.bits=G,0}},{"../utils/common":41}],51:[function(i,a,u){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(i,a,u){var c=i("../utils/common"),f=0,h=1;function p(N){for(var W=N.length;0<=--W;)N[W]=0}var m=0,g=29,y=256,w=y+1+g,k=30,j=19,S=2*w+1,A=15,_=16,C=7,E=256,F=16,L=17,B=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ge=new Array(2*(w+2));p(ge);var D=new Array(2*k);p(D);var Y=new Array(512);p(Y);var T=new Array(256);p(T);var oe=new Array(g);p(oe);var G,O,le,re=new Array(k);function me(N,W,de,he,Q){this.static_tree=N,this.extra_bits=W,this.extra_base=de,this.elems=he,this.max_length=Q,this.has_stree=N&&N.length}function P(N,W){this.dyn_tree=N,this.max_code=0,this.stat_desc=W}function R(N){return N<256?Y[N]:Y[256+(N>>>7)]}function ee(N,W){N.pending_buf[N.pending++]=255&W,N.pending_buf[N.pending++]=W>>>8&255}function ne(N,W,de){N.bi_valid>_-de?(N.bi_buf|=W<<N.bi_valid&65535,ee(N,N.bi_buf),N.bi_buf=W>>_-N.bi_valid,N.bi_valid+=de-_):(N.bi_buf|=W<<N.bi_valid&65535,N.bi_valid+=de)}function ce(N,W,de){ne(N,de[2*W],de[2*W+1])}function Te(N,W){for(var de=0;de|=1&N,N>>>=1,de<<=1,0<--W;);return de>>>1}function Ee(N,W,de){var he,Q,ve=new Array(A+1),we=0;for(he=1;he<=A;he++)ve[he]=we=we+de[he-1]<<1;for(Q=0;Q<=W;Q++){var xe=N[2*Q+1];xe!==0&&(N[2*Q]=Te(ve[xe]++,xe))}}function be(N){var W;for(W=0;W<w;W++)N.dyn_ltree[2*W]=0;for(W=0;W<k;W++)N.dyn_dtree[2*W]=0;for(W=0;W<j;W++)N.bl_tree[2*W]=0;N.dyn_ltree[2*E]=1,N.opt_len=N.static_len=0,N.last_lit=N.matches=0}function ke(N){8<N.bi_valid?ee(N,N.bi_buf):0<N.bi_valid&&(N.pending_buf[N.pending++]=N.bi_buf),N.bi_buf=0,N.bi_valid=0}function ye(N,W,de,he){var Q=2*W,ve=2*de;return N[Q]<N[ve]||N[Q]===N[ve]&&he[W]<=he[de]}function Se(N,W,de){for(var he=N.heap[de],Q=de<<1;Q<=N.heap_len&&(Q<N.heap_len&&ye(W,N.heap[Q+1],N.heap[Q],N.depth)&&Q++,!ye(W,he,N.heap[Q],N.depth));)N.heap[de]=N.heap[Q],de=Q,Q<<=1;N.heap[de]=he}function ze(N,W,de){var he,Q,ve,we,xe=0;if(N.last_lit!==0)for(;he=N.pending_buf[N.d_buf+2*xe]<<8|N.pending_buf[N.d_buf+2*xe+1],Q=N.pending_buf[N.l_buf+xe],xe++,he===0?ce(N,Q,W):(ce(N,(ve=T[Q])+y+1,W),(we=M[ve])!==0&&ne(N,Q-=oe[ve],we),ce(N,ve=R(--he),de),(we=q[ve])!==0&&ne(N,he-=re[ve],we)),xe<N.last_lit;);ce(N,E,W)}function Ne(N,W){var de,he,Q,ve=W.dyn_tree,we=W.stat_desc.static_tree,xe=W.stat_desc.has_stree,Pe=W.stat_desc.elems,He=-1;for(N.heap_len=0,N.heap_max=S,de=0;de<Pe;de++)ve[2*de]!==0?(N.heap[++N.heap_len]=He=de,N.depth[de]=0):ve[2*de+1]=0;for(;N.heap_len<2;)ve[2*(Q=N.heap[++N.heap_len]=He<2?++He:0)]=1,N.depth[Q]=0,N.opt_len--,xe&&(N.static_len-=we[2*Q+1]);for(W.max_code=He,de=N.heap_len>>1;1<=de;de--)Se(N,ve,de);for(Q=Pe;de=N.heap[1],N.heap[1]=N.heap[N.heap_len--],Se(N,ve,1),he=N.heap[1],N.heap[--N.heap_max]=de,N.heap[--N.heap_max]=he,ve[2*Q]=ve[2*de]+ve[2*he],N.depth[Q]=(N.depth[de]>=N.depth[he]?N.depth[de]:N.depth[he])+1,ve[2*de+1]=ve[2*he+1]=Q,N.heap[1]=Q++,Se(N,ve,1),2<=N.heap_len;);N.heap[--N.heap_max]=N.heap[1],(function(De,Rt){var Qr,Kt,Nn,Ye,gt,Yt,st=Rt.dyn_tree,hi=Rt.max_code,Ka=Rt.stat_desc.static_tree,Ya=Rt.stat_desc.has_stree,as=Rt.stat_desc.extra_bits,Rn=Rt.stat_desc.extra_base,vr=Rt.stat_desc.max_length,er=0;for(Ye=0;Ye<=A;Ye++)De.bl_count[Ye]=0;for(st[2*De.heap[De.heap_max]+1]=0,Qr=De.heap_max+1;Qr<S;Qr++)vr<(Ye=st[2*st[2*(Kt=De.heap[Qr])+1]+1]+1)&&(Ye=vr,er++),st[2*Kt+1]=Ye,hi<Kt||(De.bl_count[Ye]++,gt=0,Rn<=Kt&&(gt=as[Kt-Rn]),Yt=st[2*Kt],De.opt_len+=Yt*(Ye+gt),Ya&&(De.static_len+=Yt*(Ka[2*Kt+1]+gt)));if(er!==0){do{for(Ye=vr-1;De.bl_count[Ye]===0;)Ye--;De.bl_count[Ye]--,De.bl_count[Ye+1]+=2,De.bl_count[vr]--,er-=2}while(0<er);for(Ye=vr;Ye!==0;Ye--)for(Kt=De.bl_count[Ye];Kt!==0;)hi<(Nn=De.heap[--Qr])||(st[2*Nn+1]!==Ye&&(De.opt_len+=(Ye-st[2*Nn+1])*st[2*Nn],st[2*Nn+1]=Ye),Kt--)}})(N,W),Ee(ve,He,N.bl_count)}function x(N,W,de){var he,Q,ve=-1,we=W[1],xe=0,Pe=7,He=4;for(we===0&&(Pe=138,He=3),W[2*(de+1)+1]=65535,he=0;he<=de;he++)Q=we,we=W[2*(he+1)+1],++xe<Pe&&Q===we||(xe<He?N.bl_tree[2*Q]+=xe:Q!==0?(Q!==ve&&N.bl_tree[2*Q]++,N.bl_tree[2*F]++):xe<=10?N.bl_tree[2*L]++:N.bl_tree[2*B]++,ve=Q,He=(xe=0)===we?(Pe=138,3):Q===we?(Pe=6,3):(Pe=7,4))}function se(N,W,de){var he,Q,ve=-1,we=W[1],xe=0,Pe=7,He=4;for(we===0&&(Pe=138,He=3),he=0;he<=de;he++)if(Q=we,we=W[2*(he+1)+1],!(++xe<Pe&&Q===we)){if(xe<He)for(;ce(N,Q,N.bl_tree),--xe!=0;);else Q!==0?(Q!==ve&&(ce(N,Q,N.bl_tree),xe--),ce(N,F,N.bl_tree),ne(N,xe-3,2)):xe<=10?(ce(N,L,N.bl_tree),ne(N,xe-3,3)):(ce(N,B,N.bl_tree),ne(N,xe-11,7));ve=Q,He=(xe=0)===we?(Pe=138,3):Q===we?(Pe=6,3):(Pe=7,4)}}p(re);var V=!1;function z(N,W,de,he){ne(N,(m<<1)+(he?1:0),3),(function(Q,ve,we,xe){ke(Q),ee(Q,we),ee(Q,~we),c.arraySet(Q.pending_buf,Q.window,ve,we,Q.pending),Q.pending+=we})(N,W,de)}u._tr_init=function(N){V||((function(){var W,de,he,Q,ve,we=new Array(A+1);for(Q=he=0;Q<g-1;Q++)for(oe[Q]=he,W=0;W<1<<M[Q];W++)T[he++]=Q;for(T[he-1]=Q,Q=ve=0;Q<16;Q++)for(re[Q]=ve,W=0;W<1<<q[Q];W++)Y[ve++]=Q;for(ve>>=7;Q<k;Q++)for(re[Q]=ve<<7,W=0;W<1<<q[Q]-7;W++)Y[256+ve++]=Q;for(de=0;de<=A;de++)we[de]=0;for(W=0;W<=143;)ge[2*W+1]=8,W++,we[8]++;for(;W<=255;)ge[2*W+1]=9,W++,we[9]++;for(;W<=279;)ge[2*W+1]=7,W++,we[7]++;for(;W<=287;)ge[2*W+1]=8,W++,we[8]++;for(Ee(ge,w+1,we),W=0;W<k;W++)D[2*W+1]=5,D[2*W]=Te(W,5);G=new me(ge,M,y+1,w,A),O=new me(D,q,0,k,A),le=new me(new Array(0),H,0,j,C)})(),V=!0),N.l_desc=new P(N.dyn_ltree,G),N.d_desc=new P(N.dyn_dtree,O),N.bl_desc=new P(N.bl_tree,le),N.bi_buf=0,N.bi_valid=0,be(N)},u._tr_stored_block=z,u._tr_flush_block=function(N,W,de,he){var Q,ve,we=0;0<N.level?(N.strm.data_type===2&&(N.strm.data_type=(function(xe){var Pe,He=4093624447;for(Pe=0;Pe<=31;Pe++,He>>>=1)if(1&He&&xe.dyn_ltree[2*Pe]!==0)return f;if(xe.dyn_ltree[18]!==0||xe.dyn_ltree[20]!==0||xe.dyn_ltree[26]!==0)return h;for(Pe=32;Pe<y;Pe++)if(xe.dyn_ltree[2*Pe]!==0)return h;return f})(N)),Ne(N,N.l_desc),Ne(N,N.d_desc),we=(function(xe){var Pe;for(x(xe,xe.dyn_ltree,xe.l_desc.max_code),x(xe,xe.dyn_dtree,xe.d_desc.max_code),Ne(xe,xe.bl_desc),Pe=j-1;3<=Pe&&xe.bl_tree[2*ie[Pe]+1]===0;Pe--);return xe.opt_len+=3*(Pe+1)+5+5+4,Pe})(N),Q=N.opt_len+3+7>>>3,(ve=N.static_len+3+7>>>3)<=Q&&(Q=ve)):Q=ve=de+5,de+4<=Q&&W!==-1?z(N,W,de,he):N.strategy===4||ve===Q?(ne(N,2+(he?1:0),3),ze(N,ge,D)):(ne(N,4+(he?1:0),3),(function(xe,Pe,He,De){var Rt;for(ne(xe,Pe-257,5),ne(xe,He-1,5),ne(xe,De-4,4),Rt=0;Rt<De;Rt++)ne(xe,xe.bl_tree[2*ie[Rt]+1],3);se(xe,xe.dyn_ltree,Pe-1),se(xe,xe.dyn_dtree,He-1)})(N,N.l_desc.max_code+1,N.d_desc.max_code+1,we+1),ze(N,N.dyn_ltree,N.dyn_dtree)),be(N),he&&ke(N)},u._tr_tally=function(N,W,de){return N.pending_buf[N.d_buf+2*N.last_lit]=W>>>8&255,N.pending_buf[N.d_buf+2*N.last_lit+1]=255&W,N.pending_buf[N.l_buf+N.last_lit]=255&de,N.last_lit++,W===0?N.dyn_ltree[2*de]++:(N.matches++,W--,N.dyn_ltree[2*(T[de]+y+1)]++,N.dyn_dtree[2*R(W)]++),N.last_lit===N.lit_bufsize-1},u._tr_align=function(N){ne(N,2,3),ce(N,E,ge),(function(W){W.bi_valid===16?(ee(W,W.bi_buf),W.bi_buf=0,W.bi_valid=0):8<=W.bi_valid&&(W.pending_buf[W.pending++]=255&W.bi_buf,W.bi_buf>>=8,W.bi_valid-=8)})(N)}},{"../utils/common":41}],53:[function(i,a,u){a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(i,a,u){(function(c){(function(f,h){if(!f.setImmediate){var p,m,g,y,w=1,k={},j=!1,S=f.document,A=Object.getPrototypeOf&&Object.getPrototypeOf(f);A=A&&A.setTimeout?A:f,p={}.toString.call(f.process)==="[object process]"?function(F){process.nextTick(function(){C(F)})}:(function(){if(f.postMessage&&!f.importScripts){var F=!0,L=f.onmessage;return f.onmessage=function(){F=!1},f.postMessage("","*"),f.onmessage=L,F}})()?(y="setImmediate$"+Math.random()+"$",f.addEventListener?f.addEventListener("message",E,!1):f.attachEvent("onmessage",E),function(F){f.postMessage(y+F,"*")}):f.MessageChannel?((g=new MessageChannel).port1.onmessage=function(F){C(F.data)},function(F){g.port2.postMessage(F)}):S&&"onreadystatechange"in S.createElement("script")?(m=S.documentElement,function(F){var L=S.createElement("script");L.onreadystatechange=function(){C(F),L.onreadystatechange=null,m.removeChild(L),L=null},m.appendChild(L)}):function(F){setTimeout(C,0,F)},A.setImmediate=function(F){typeof F!="function"&&(F=new Function(""+F));for(var L=new Array(arguments.length-1),B=0;B<L.length;B++)L[B]=arguments[B+1];var M={callback:F,args:L};return k[w]=M,p(w),w++},A.clearImmediate=_}function _(F){delete k[F]}function C(F){if(j)setTimeout(C,0,F);else{var L=k[F];if(L){j=!0;try{(function(B){var M=B.callback,q=B.args;switch(q.length){case 0:M();break;case 1:M(q[0]);break;case 2:M(q[0],q[1]);break;case 3:M(q[0],q[1],q[2]);break;default:M.apply(h,q)}})(L)}finally{_(F),j=!1}}}}function E(F){F.source===f&&typeof F.data=="string"&&F.data.indexOf(y)===0&&C(+F.data.slice(y.length))}})(typeof self>"u"?c===void 0?this:c:self)}).call(this,typeof Ea<"u"?Ea:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Qg)),Qg.exports}var NS=zS();const RS=Gu(NS);var Tn=(o=>(o.INVALID_FILE="INVALID_FILE",o.MISSING_MANIFEST="MISSING_MANIFEST",o.CORRUPTION="CORRUPTION",o.DATABASE_ERROR="DATABASE_ERROR",o.UNKNOWN="UNKNOWN",o))(Tn||{});class wn extends Error{constructor(n,i){super(i),this.type=n,this.name="IngestionError"}}const Hu=class{static async findCover(n,i){var a,u;try{const c=n.replace(/\(.*\)/,"").trim(),f=i.replace(/\(.*\)/,"").trim(),h=encodeURIComponent(`${c} ${f}`),p=new AbortController,m=setTimeout(()=>p.abort(),2500),g=await fetch(`${this.SEARCH_URL}?q=${h}&limit=1&fields=cover_i`,{signal:p.signal});if(clearTimeout(m),!g.ok)return;const y=(u=(a=(await g.json()).docs)==null?void 0:a[0])==null?void 0:u.cover_i;if(y)return`${this.IMAGE_URL}/${y}-L.jpg`}catch{}}};Hu.SEARCH_URL="https://openlibrary.org/search.json",Hu.IMAGE_URL="https://covers.openlibrary.org/b/id";let Kg=Hu;class Ct{constructor(){this.dbName="FlowLibraryDB",this.version=2,this.db=null}static getInstance(){return Ct.instance||(Ct.instance=new Ct),Ct.instance}async init(){if(!this.db)return new Promise((n,i)=>{const a=indexedDB.open(this.dbName,this.version);a.onerror=()=>i(a.error),a.onupgradeneeded=u=>{const c=u.target.result;c.objectStoreNames.contains("books")||c.createObjectStore("books",{keyPath:"id"}),c.objectStoreNames.contains("metadata")||c.createObjectStore("metadata",{keyPath:"id"}),c.objectStoreNames.contains("sources")||c.createObjectStore("sources")},a.onsuccess=u=>{this.db=u.target.result,n()}})}async saveBook(n){await this.init();const{chapters:i,...a}=n;await this.put("books",n),await this.put("metadata",a)}async saveSource(n,i){await this.init(),await this.put("sources",i,n)}async getSource(n){return await this.init(),this.get("sources",n)}async deleteBook(n){await this.init(),await this.delete("books",n),await this.delete("metadata",n),await this.delete("sources",n)}async getAllMetadata(){return await this.init(),this.getAll("metadata")}async getFullBook(n){return await this.init(),this.get("books",n)}async put(n,i,a){return new Promise((u,c)=>{const f=this.db.transaction(n,"readwrite").objectStore(n),h=a?f.put(i,a):f.put(i);h.onsuccess=()=>u(),h.onerror=()=>c(h.error)})}async get(n,i){return new Promise((a,u)=>{const c=this.db.transaction(n,"readonly").objectStore(n).get(i);c.onsuccess=()=>a(c.result),c.onerror=()=>u(c.error)})}async getAll(n){return new Promise((i,a)=>{const u=this.db.transaction(n,"readonly").objectStore(n).getAll();u.onsuccess=()=>i(u.result),u.onerror=()=>a(u.error)})}async delete(n,i){return new Promise((a,u)=>{const c=this.db.transaction(n,"readwrite").objectStore(n).delete(i);c.onsuccess=()=>a(),c.onerror=()=>u(c.error)})}}const FS=Object.freeze(Object.defineProperty({__proto__:null,TitanStorage:Ct},Symbol.toStringTag,{value:"Module"}));class Tr{constructor(){}static getInstance(){return Tr.instance||(Tr.instance=new Tr),Tr.instance}async ingest(n){try{console.log(`[Ingestion] Starting import of: ${n.name} (${(n.size/1024).toFixed(1)} KB)`),this.validateFile(n);let i;try{i=await n.arrayBuffer(),console.log(`[Ingestion] File loaded into memory: ${i.byteLength} bytes`)}catch(h){throw console.error("[Ingestion] Failed to read file:",h),new wn(Tn.UNKNOWN,`Failed to read file: ${h instanceof Error?h.message:"Unknown error"}`)}const a=await this.unzipFromBuffer(i);console.log("[Ingestion] ZIP extracted, files:",Object.keys(a.files).length);const u=await this.parseContainer(a);console.log(`[Ingestion] OPF path: ${u}`);const c=await this.parseOPF(a,u);console.log(`[Ingestion] OPF parsed - Title: "${c.metadata.title}", Spine items: ${c.spine.length}`);const f=await this.constructBookFromZip(a,c);return console.log(`[Ingestion] Book constructed with ${f.chapters.length} chapters`),f.coverUrl||(f.coverUrl=await Kg.findCover(f.title,f.author)),f.sourceType="epub",await this.persistBook(f,i),console.log("[Ingestion] Book persisted to storage"),f}catch(i){throw console.error("[Ingestion] Import failed:",i),i instanceof wn?i:new wn(Tn.UNKNOWN,i.message||"Unknown import error")}}async ingestFromText(n,i,a,u,c){const f=crypto.randomUUID(),h=this.heuristicChaptering(a),p={id:f,title:n,author:i,coverUrl:c,tintColorHex:u,lastOpened:new Date,isFinished:!1,bookmarkProgress:0,chapters:h,sourceType:"text"};p.coverUrl||(p.coverUrl=await Kg.findCover(n,i));const m=new TextEncoder().encode(a).buffer;return await this.persistBook(p,m),p}async persistBook(n,i){const a=Ct.getInstance();await a.saveBook(n),await a.saveSource(n.id,i)}heuristicChaptering(n){let i=n;const a=i.indexOf("*** START OF"),u=i.indexOf("*** END OF");if(a!==-1){const y=i.substring(a),w=y.indexOf(`
`,y.indexOf(`
`)+1);i=y.substring(w)}u!==-1&&(i=i.substring(0,u));const c=i.split(/\n\s*\n/),f=[];let h=[],p="Preface",m=1;const g=400;for(let y=0;y<c.length;y++){const w=c[y].replace(/\s+/g," ").trim();if(!w)continue;const k=/^(chapter|book|part|letter|prologue|epilogue|foreword|preface|stave|volume|vol\.)\s*([ivxlcdm\d]+|the\s+\w+)?/i.test(w),j=/^[IVXLCDM]+\.?$/.test(w),S=/^\d+\.?$/.test(w);if((k||j&&w.length<10||S&&w.length<5)&&w.length<100)if(Ks(h.join(" "))>50||f.length===0){this.flushChapter(f,h,p,m++),h=[],p=w;continue}else{p=w;continue}h.push(w),h.length>=g&&(this.flushChapter(f,h,p,m++),h=[],p=`Part ${m}`)}return h.length>0&&this.flushChapter(f,h,p,m++),f}flushChapter(n,i,a,u){const c=i.map(p=>`<p>${p}</p>`).join(`
`),f=Ks(c);let h=a.trim();n.push({id:crypto.randomUUID(),title:h,content:c,sortOrder:n.length,wordCount:f,estimatedReadTime:Math.ceil(f/250)})}async constructBookFromZip(n,i){const a=crypto.randomUUID();let u;if(i.coverPath){const h=n.file(i.coverPath);if(h){const p=await h.async("blob");u=URL.createObjectURL(p)}}const c=[],f=20;console.log(`[Ingestion] Processing ${i.spine.length} spine items for "${i.metadata.title}"`);for(let h=0;h<i.spine.length;h+=f){const p=i.spine.slice(h,h+f);(await Promise.all(p.map((m,g)=>this.processEpubChapter(n,m,h+g)))).forEach(m=>{m&&c.push(m)}),h+f<i.spine.length&&await new Promise(m=>setTimeout(m,0))}if(console.log(`[Ingestion] Extracted ${c.length} chapters from "${i.metadata.title}"`),c.length===0&&i.spine.length>0){console.warn("[Ingestion] No chapters extracted, trying without front-matter filter...");for(let h=0;h<i.spine.length;h++){const p=await this.processEpubChapterPermissive(n,i.spine[h],h);p&&c.push(p)}console.log(`[Ingestion] Permissive mode extracted ${c.length} chapters`)}return{id:a,title:i.metadata.title,author:i.metadata.author,coverUrl:u,lastOpened:new Date,isFinished:!1,bookmarkProgress:0,chapters:c}}async processEpubChapterPermissive(n,i,a){const u=n.file(i);if(!u)return console.warn(`[Ingestion] File not found: ${i}`),null;const c=await u.async("uint8array"),f=this.cleanTextAggressive(c),h=f.replace(/<[^>]+>/g," ").trim(),p=Ks(h);return p<3?null:{id:crypto.randomUUID(),title:`Section ${a+1}`,content:f,sortOrder:a,wordCount:p,estimatedReadTime:Math.ceil(p/250)}}async processEpubChapter(n,i,a){const u=n.file(i);if(!u)return null;const c=await u.async("uint8array"),f=this.cleanTextAggressive(c),h=f.replace(/<[^>]+>/g," ").trim(),p=Ks(h);return p<10||a<10&&this.isLikelyFrontMatter(h,p)?null:{id:crypto.randomUUID(),title:`Chapter ${a+1}`,content:f,sortOrder:a,wordCount:p,estimatedReadTime:Math.ceil(p/250)}}cleanTextAggressive(n){let i="";try{i=new TextDecoder("utf-8",{fatal:!0}).decode(n)}catch{i=new TextDecoder("windows-1252").decode(n)}return i=i.replace(/<(script|style|head)[^>]*>[\s\S]*?<\/\1>/gi,""),i=i.replace(/<br\s*\/?>/gi,"___BR___"),i=i.replace(/<\/(p|div|h\d|li|blockquote)>/gi,"___P___"),i=i.replace(/<[^>]+>/g,""),i=this.decodeEntities(i),i=i.replace(/\s+/g," "),i=i.replace(/___BR___/g,`
`),i=i.replace(/___P___/g,`

`),i.split(`

`).map(a=>a.trim()).filter(a=>a.length>0&&!/^\d+$/.test(a)).map(a=>`<p>${a}</p>`).join(`
`)}isLikelyFrontMatter(n,i){if(i>600)return!1;const a=n.toLowerCase().slice(0,1e3);return i<200&&/copyright|rights reserved|isbn|published by|table of contents|acknowledgments/.test(a)}decodeEntities(n){const i=document.createElement("textarea");return i.innerHTML=n,i.value}validateFile(n){if(!n.name.toLowerCase().endsWith(".epub")||n.size===0)throw new wn(Tn.INVALID_FILE,"Invalid EPUB file.")}async unzipFromBuffer(n){try{const i=new RS;console.log(`[Ingestion] Loading ZIP from ArrayBuffer (${n.byteLength} bytes)...`);const a=await i.loadAsync(n);return console.log("[Ingestion] ZIP loaded successfully"),a}catch(i){throw console.error("[Ingestion] ZIP extraction failed:",i),new wn(Tn.CORRUPTION,`Corrupted archive: ${i instanceof Error?i.message:"Unknown error"}`)}}async unzip(n){const i=await n.arrayBuffer();return this.unzipFromBuffer(i)}async parseContainer(n){const i=n.file("META-INF/container.xml");if(!i)throw new wn(Tn.MISSING_MANIFEST,"Missing container.xml");const a=(await i.async("string")).match(/full-path=["']([^"']+)["']/i);if(!a)throw new wn(Tn.MISSING_MANIFEST,"Invalid container.xml");return a[1]}async parseOPF(n,i){var a,u,c,f,h;const p=n.file(i);if(!p)throw new wn(Tn.MISSING_MANIFEST,"Missing OPF");const m=await p.async("string"),g=((u=(a=m.match(/<dc:title[^>]*>(.*?)<\/dc:title>/is))==null?void 0:a[1])==null?void 0:u.trim())||"Unknown",y=((f=(c=m.match(/<dc:creator[^>]*>(.*?)<\/dc:creator>/is))==null?void 0:c[1])==null?void 0:f.trim())||"Unknown",w=new Map,k=/<item\s+([^>]+?)\s*\/?>/gi;let j;for(;(j=k.exec(m))!==null;){const F=j[1],L=F.match(/id=["']([^"']+)["']/i),B=F.match(/href=["']([^"']+)["']/i);L&&B&&w.set(L[1],B[1])}console.log(`[Ingestion] Manifest has ${w.size} items`);const S=[],A=/<itemref\s+[^>]*idref=["']([^"']+)["'][^>]*\/?>/gi;let _;for(;(_=A.exec(m))!==null;){const F=_[1],L=w.get(F);L&&S.push(this.resolvePath(i,L))}if(console.log(`[Ingestion] Spine has ${S.length} items`),S.length===0){console.warn("[Ingestion] Empty spine, falling back to manifest HTML files");for(const[F,L]of w)/\.(x?html?|htm)$/i.test(L)&&S.push(this.resolvePath(i,L));S.sort(),console.log(`[Ingestion] Fallback found ${S.length} HTML files`)}const C=(h=m.match(/<meta\s+name=["']cover["']\s+content=["']([^"']+)["']/i))==null?void 0:h[1];let E=C?w.get(C):void 0;return E&&(E=this.resolvePath(i,E)),{metadata:{title:g,author:y},spine:S,coverPath:E}}resolvePath(n,i){return(n.substring(0,n.lastIndexOf("/")+1)+i).replace(/\/+/g,"/")}}const LS=Object.freeze(Object.defineProperty({__proto__:null,IngestionService:Tr},Symbol.toStringTag,{value:"Module"}));class jt{static pulse(n){if(typeof navigator>"u"||!navigator.vibrate)return;const i=n.punctuation||"";if(/[.?!]/.test(i)){navigator.vibrate(15);return}if(/[,;:]/.test(i)){navigator.vibrate(5);return}}static impactMedium(){typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(20)}static impactLight(){typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(5)}static selectionChanged(){typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(3)}}const DS=()=>{const o=ns.getInstance(),n=o.mode,i=Nt(),a=c=>{o.setMode(c)},u=["Modern","Sepia","Night","OLED"];return b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsx("h3",{className:"text-[11px] font-medium opacity-50 lowercase",style:{color:i.secondaryText},children:"appearance"}),b.jsx("div",{className:"grid grid-cols-4 gap-2",children:u.map(c=>{const f=qs[c],h=n===c;return b.jsxs("button",{onClick:()=>a(c),className:"group relative flex flex-col items-center gap-1.5 outline-none",children:[b.jsxs("div",{className:`relative w-full aspect-[4/5] rounded-xl border transition-all duration-200 ease-out overflow-hidden ${h?"ring-2 ring-offset-1 scale-[1.03]":"hover:scale-[1.02]"}`,style:{backgroundColor:f.background,borderColor:h?"transparent":"rgba(128,128,128,0.15)",ringColor:i.accent},children:[b.jsxs("div",{className:"absolute inset-3 flex flex-col items-center justify-center",children:[b.jsx("div",{className:"font-serif text-xl font-semibold",style:{color:f.primaryText},children:"Aa"}),b.jsx("div",{className:"w-full h-0.5 rounded-full mt-2 opacity-15",style:{backgroundColor:f.primaryText}}),b.jsx("div",{className:"w-2/3 h-0.5 rounded-full mt-1 opacity-15",style:{backgroundColor:f.primaryText}})]}),h&&b.jsx("div",{className:"absolute bottom-1.5 right-1.5 w-3.5 h-3.5 rounded-full flex items-center justify-center",style:{backgroundColor:i.accent},children:b.jsx("svg",{width:"8",height:"6",viewBox:"0 0 10 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:b.jsx("path",{d:"M1 4L3.5 6.5L9 1",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),b.jsx("span",{className:"text-[9px] font-medium transition-colors lowercase",style:{color:h?i.accent:i.secondaryText,opacity:h?1:.6},children:c})]},c)})}),b.jsxs("div",{className:"mt-1 flex items-center justify-between p-3 rounded-xl border",style:{backgroundColor:i.surface,borderColor:i.borderColor},children:[b.jsx("span",{className:"text-xs font-medium lowercase",style:{color:i.primaryText},children:"follow system"}),b.jsx("button",{onClick:()=>a(n==="System"?"Modern":"System"),className:"relative w-10 h-5 rounded-full transition-colors duration-200 focus:outline-none",style:{backgroundColor:n==="System"?i.accent:i.borderColor},children:b.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white w-4 h-4 rounded-full shadow-sm transition-transform duration-200 ${n==="System"?"translate-x-5":"translate-x-0"}`})})]})]})},OS=()=>{const{settings:o,updateSettings:n}=ro(),i=Nt(),[a,u]=$.useState(o.rsvpSpeed),c=$.useRef(null);$.useEffect(()=>{Math.abs(o.rsvpSpeed-a)>10&&!c.current&&u(o.rsvpSpeed)},[o.rsvpSpeed]);const f=p=>{const m=Math.max(100,Math.min(1e3,p));u(m),c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{n({rsvpSpeed:m,hasCustomSpeed:!0}),c.current=null},100)},h=[{name:"Serif",label:"fancy",val:"New York"},{name:"Sans",label:"clean",val:"SF Pro"}];return b.jsxs("div",{className:"flex flex-col gap-6 pt-2",children:[b.jsxs("div",{className:"space-y-3",children:[b.jsxs("h3",{className:"text-[11px] font-medium opacity-50 lowercase flex items-center gap-1.5",style:{color:i.secondaryText},children:[b.jsx(jS,{size:12})," pace"]}),b.jsxs("div",{className:"rounded-2xl p-4 border",style:{backgroundColor:i.surface,borderColor:i.borderColor},children:[b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsx("span",{className:"text-sm font-medium lowercase",style:{color:i.primaryText},children:"speed (wpm)"}),b.jsx("span",{className:"text-xl font-semibold tracking-tight tabular-nums",style:{color:i.primaryText},children:a})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("button",{onClick:()=>f(a-25),className:"w-10 h-10 rounded-xl flex items-center justify-center active:scale-95 transition-all",style:{backgroundColor:i.borderColor,color:i.primaryText},children:b.jsx(C0,{size:16})}),b.jsx("div",{className:"flex-1 relative h-8 flex items-center",children:b.jsx("input",{type:"range",min:100,max:1e3,step:25,value:a,onChange:p=>f(parseInt(p.target.value)),className:"w-full h-1.5 rounded-full appearance-none cursor-pointer focus:outline-none",style:{backgroundColor:i.borderColor,accentColor:i.accent}})}),b.jsx("button",{onClick:()=>f(a+25),className:"w-10 h-10 rounded-xl flex items-center justify-center active:scale-95 transition-all",style:{backgroundColor:i.borderColor,color:i.primaryText},children:b.jsx(Ed,{size:16})})]})]})]}),b.jsx("div",{className:"w-full h-px",style:{backgroundColor:i.borderColor}}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("h3",{className:"text-[11px] font-medium opacity-50 lowercase flex items-center gap-1.5",style:{color:i.secondaryText},children:[b.jsx(si,{size:12})," typography"]}),b.jsx("div",{className:"grid grid-cols-2 gap-3",children:h.map(p=>b.jsxs("button",{onClick:()=>n({fontFamily:p.val}),className:`flex flex-col items-center justify-center gap-1.5 p-5 rounded-2xl border transition-all duration-200 ${o.fontFamily===p.val?"scale-[1.02]":"hover:scale-[1.01]"}`,style:{backgroundColor:o.fontFamily===p.val?i.primaryText:i.surface,borderColor:o.fontFamily===p.val?i.primaryText:i.borderColor,color:o.fontFamily===p.val?i.surface:i.primaryText},children:[b.jsx("span",{className:"text-2xl font-semibold",style:{fontFamily:MS(p.val)},children:"Aa"}),b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("span",{className:"text-sm font-medium",children:p.name}),b.jsx("span",{className:"text-[9px] font-medium opacity-50",style:{color:o.fontFamily===p.val?i.surface:i.secondaryText},children:p.label})]})]},p.val))}),b.jsxs("div",{className:"rounded-2xl p-4 border space-y-5 mt-3",style:{backgroundColor:i.surface,borderColor:i.borderColor},children:[b.jsx(ju,{label:"size",value:o.fontSize,min:14,max:40,onChange:p=>n({fontSize:p}),theme:i}),b.jsx(ju,{label:"room",value:o.lineHeight,min:1,max:2.2,step:.1,onChange:p=>n({lineHeight:p}),theme:i}),b.jsx(ju,{label:"gaps",value:o.paragraphSpacing,min:0,max:40,onChange:p=>n({paragraphSpacing:p}),theme:i})]})]})]})},ju=({label:o,value:n,min:i,max:a,step:u=1,onChange:c,theme:f})=>b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-xs font-medium w-12 lowercase",style:{color:f.secondaryText},children:o}),b.jsx("input",{type:"range",min:i,max:a,step:u,value:n,onChange:h=>c(parseFloat(h.target.value)),className:"flex-1 h-1 rounded-full appearance-none cursor-pointer",style:{backgroundColor:f.borderColor,accentColor:f.accent}}),b.jsx("span",{className:"text-xs font-medium w-8 text-right tabular-nums",style:{color:f.primaryText},children:n.toFixed(u<1?1:0)})]});function MS(o){return o==="New York"?"serif":o==="SF Pro"?"sans-serif":"serif"}const BS="570686176836-dtbdhnverff6qo63tfbgvmrts2oadqmp.apps.googleusercontent.com",VS="https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/drive.appdata";class ss{constructor(){this.accessToken=null,this.tokenExpiry=0,this.libraryFolderId=null}static getInstance(){return ss.instance||(ss.instance=new ss),ss.instance}get isAuthenticated(){return!!this.accessToken&&Date.now()<this.tokenExpiry}async init(){window.google&&(this.tokenClient=window.google.accounts.oauth2.initTokenClient({client_id:BS,scope:VS,callback:n=>{if(n.error!==void 0)throw n;this.accessToken=n.access_token,this.tokenExpiry=Date.now()+Number(n.expires_in)*1e3-6e4}}))}async signIn(){return this.tokenClient||await this.init(),new Promise(n=>{this.tokenClient.callback=i=>{i.access_token&&(this.accessToken=i.access_token,this.tokenExpiry=Date.now()+Number(i.expires_in)*1e3-6e4,n())},this.accessToken&&Date.now()<this.tokenExpiry?n():this.tokenClient.requestAccessToken({prompt:"consent"})})}async fetch(n,i={}){this.isAuthenticated||await this.signIn();const a={Authorization:`Bearer ${this.accessToken}`,...i.headers||{}};i.body instanceof FormData?delete a["Content-Type"]:a["Content-Type"]||(a["Content-Type"]="application/json");const u=async f=>fetch(n,{...i,headers:f});let c=await u(a);return c.status===401&&(await this.signIn(),a.Authorization=`Bearer ${this.accessToken}`,c=await u(a)),!c.ok&&c.status!==404&&console.warn(`[DriveService] Request failed: ${n} (${c.status})`),c}async getUserInfo(){return(await(await this.fetch("https://www.googleapis.com/oauth2/v3/userinfo")).json()).email}async ensureLibraryFolder(){if(this.libraryFolderId)return this.libraryFolderId;const n=await(await this.fetch(`https://www.googleapis.com/drive/v3/files?q=${encodeURIComponent("mimeType='application/vnd.google-apps.folder' and name='Flow Library' and trashed=false")}`)).json();if(n.files&&n.files.length>0)return this.libraryFolderId=n.files[0].id,this.libraryFolderId;const i=await(await this.fetch("https://www.googleapis.com/drive/v3/files",{method:"POST",body:JSON.stringify({name:"Flow Library",mimeType:"application/vnd.google-apps.folder"})})).json();return this.libraryFolderId=i.id,this.libraryFolderId}async uploadFile(n,i){const a=await this.ensureLibraryFolder(),u={name:n,parents:[a]},c=new FormData;return c.append("metadata",new Blob([JSON.stringify(u)],{type:"application/json"})),c.append("file",i),(await(await this.fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",body:c})).json()).id}async listBooks(){const n=`'${await this.ensureLibraryFolder()}' in parents and mimeType!='application/vnd.google-apps.folder' and trashed=false`;return(await(await this.fetch(`https://www.googleapis.com/drive/v3/files?q=${encodeURIComponent(n)}&fields=files(id, name, modifiedTime, size, mimeType)`)).json()).files||[]}async downloadFile(n){return(await this.fetch(`https://www.googleapis.com/drive/v3/files/${n}?alt=media`)).arrayBuffer()}async getSyncState(){const n=await(await this.fetch(`https://www.googleapis.com/drive/v3/files?q=${encodeURIComponent("name='flow_state.json' and 'appDataFolder' in parents and trashed=false")}&spaces=appDataFolder`)).json();if(!n.files||n.files.length===0)return null;const i=n.files[0].id,a=await this.fetch(`https://www.googleapis.com/drive/v3/files/${i}?alt=media`);try{return await a.json()}catch{return null}}async saveSyncState(n){const i=await(await this.fetch(`https://www.googleapis.com/drive/v3/files?q=${encodeURIComponent("name='flow_state.json' and 'appDataFolder' in parents and trashed=false")}&spaces=appDataFolder`)).json(),a=new Blob([JSON.stringify(n)],{type:"application/json"});if(i.files&&i.files.length>0){const u=i.files[0].id;await this.fetch(`https://www.googleapis.com/upload/drive/v3/files/${u}?uploadType=media`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:a})}else{const u={name:"flow_state.json",parents:["appDataFolder"]},c=new FormData;c.append("metadata",new Blob([JSON.stringify(u)],{type:"application/json"})),c.append("file",a),await this.fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",body:c})}}}class Ut{constructor(){this.status="idle",this.listeners=new Set,this.isSyncing=!1,this.pendingSync=!1,this.drive=ss.getInstance(),this.storage=Ct.getInstance(),this.ingestion=Tr.getInstance(),this.settings=Sr.getInstance()}static getInstance(){return Ut.instance||(Ut.instance=new Ut),Ut.instance}subscribe(n){return this.listeners.add(n),()=>this.listeners.delete(n)}notifyStatus(n){this.status=n,this.listeners.forEach(i=>{var a;return(a=i.onStatusChange)==null?void 0:a.call(i,n)})}async connect(){try{await this.drive.signIn();const n=await this.drive.getUserInfo();return this.settings.updateSettings({isSyncEnabled:!0,googleDriveEmail:n}),this.syncNow(!0),this.syncTimer&&clearInterval(this.syncTimer),this.syncTimer=setInterval(()=>this.syncNow(!1),3e5),n}catch(n){throw console.error(n),new Error("Failed to connect Google Drive")}}requestSync(){this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{this.syncNow(!1)},2e3)}async syncNow(n=!1){if(this.settings.getSettings().isSyncEnabled&&!(!n&&!this.drive.isAuthenticated)){if(this.isSyncing){this.pendingSync=!0;return}this.isSyncing=!0,this.notifyStatus("syncing");try{await this.syncState(),await this.syncBooks(),this.notifyStatus("success"),setTimeout(()=>this.notifyStatus("idle"),3e3)}catch(i){console.error("[SyncManager] Sync failed",i),this.notifyStatus("error")}finally{this.isSyncing=!1,this.pendingSync&&(this.pendingSync=!1,this.syncNow(!1))}}}async syncState(){const n=await this.storage.getAllMetadata(),i=await this.drive.getSyncState();if(!i){const c=this.buildSyncState(n);await this.drive.saveSyncState(c);return}if(i.preferences){const c=this.settings.getSettings();JSON.stringify(c)!==JSON.stringify(i.preferences)&&this.settings.updateSettings(i.preferences)}let a=!1;const u=i.books||{};for(const c of n){this.getFingerprint(c);let f=Object.keys(u).find(h=>{const p=u[h];return!!(c.driveId&&p.driveId===c.driveId)});if(f){const h=u[f],p=new Date(c.lastOpened).getTime(),m=h.lastOpened,g=m>p+1e4,y=p>m+1e4;g?await this.applyRemoteUpdate(c,h):y?(u[f]=this.mapBookToSyncEntry(c),a=!0):(h.progress||0)>(c.bookmarkProgress||0)?await this.applyRemoteUpdate(c,h):(c.bookmarkProgress||0)>(h.progress||0)&&(u[f]=this.mapBookToSyncEntry(c),a=!0)}else u[c.id]=this.mapBookToSyncEntry(c),a=!0}a&&(i.timestamp=Date.now(),i.books=u,await this.drive.saveSyncState(i))}async syncBooks(){const n=await this.drive.listBooks(),i=await this.storage.getAllMetadata(),a=new Map,u=new Map;i.forEach(c=>{c.driveId&&a.set(c.driveId,c),u.set(this.getFingerprint(c),c)});for(const c of n){if(a.has(c.id))continue;const f=this.parseFilename(c.name),h=`${f.title}|${f.author}`,p=u.get(h);if(p){console.log(`[Sync] Linking existing book "${p.title}" to Drive ID: ${c.id}`),p.driveId=c.id,await this.storage.saveBook(p);continue}try{console.log(`[Sync] Downloading new book: ${c.name}`);const m=await this.drive.downloadFile(c.id);let g;const y=c.name.toLowerCase().endsWith(".txt")||c.mimeType==="text/plain";if(y){const w=new TextDecoder().decode(m);g=await this.ingestion.ingestFromText(f.title,f.author,w)}else{const w=new Blob([m],{type:"application/epub+zip"}),k=new File([w],c.name,{type:"application/epub+zip"});g=await this.ingestion.ingest(k)}g.driveId=c.id,g.sourceType=y?"text":"epub",await this.storage.saveBook(g),this.listeners.forEach(w=>{var k;return(k=w.onNewBook)==null?void 0:k.call(w,g)})}catch(m){console.error(`[Sync] Download failed for ${c.name}`,m)}}for(const c of i)if(!c.driveId)try{const f=await this.storage.getSource(c.id);if(f){console.log(`[Sync] Uploading: ${c.title}`);let h,p;c.sourceType==="text"?(h=new Blob([f],{type:"text/plain"}),p=`${this.sanitizeFilename(c.title)} - ${this.sanitizeFilename(c.author)}.txt`):(h=new Blob([f],{type:"application/epub+zip"}),p=`${this.sanitizeFilename(c.title)}.epub`);const m=await this.drive.uploadFile(p,h);c.driveId=m,await this.storage.saveBook(c)}}catch(f){console.error(`[Sync] Upload failed for ${c.title}`,f)}}async applyRemoteUpdate(n,i){(n.bookmarkProgress!==i.progress||n.isFinished!==i.isFinished)&&(n.bookmarkProgress=i.progress,n.lastTokenIndex=i.lastTokenIndex,n.isFinished=i.isFinished,n.lastOpened=new Date(i.lastOpened),await this.storage.saveBook(n),this.listeners.forEach(a=>{var u;return(u=a.onNewBook)==null?void 0:u.call(a,n)}))}buildSyncState(n){const i={version:1,timestamp:Date.now(),books:{},preferences:this.settings.getSettings()};return n.forEach(a=>{i.books[a.id]=this.mapBookToSyncEntry(a)}),i}mapBookToSyncEntry(n){return{progress:n.bookmarkProgress,lastTokenIndex:n.lastTokenIndex,isFinished:n.isFinished,lastOpened:new Date(n.lastOpened).getTime(),driveId:n.driveId}}getFingerprint(n){return`${n.title.trim().toLowerCase()}|${n.author.trim().toLowerCase()}`}parseFilename(n){const i=n.replace(/\.(txt|epub)$/i,""),a=i.split(" - ");return a.length>=2?{title:a[0].trim(),author:a.slice(1).join(" - ").trim()}:{title:i.trim(),author:"Unknown Author"}}sanitizeFilename(n){return n.replace(/[^a-z0-9 \-_]/gi,"").trim()}resolveConflict(n,i){n.bookmarkProgress=i,this.storage.saveBook(n),this.listeners.forEach(a=>{var u;return(u=a.onNewBook)==null?void 0:u.call(a,n)})}}const P0=({onClose:o})=>{const[n,i]=$.useState("optical"),a=Nt(),{settings:u}=ro(),[c,f]=$.useState(!1),h=async()=>{f(!0);try{await Ut.getInstance().connect()}catch{alert("Could not connect to Google Drive.")}finally{f(!1)}},p=ss.getInstance().isAuthenticated;return b.jsxs("div",{className:"flex flex-col h-full transition-colors duration-300",style:{backgroundColor:a.background},children:[b.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b",style:{borderColor:a.borderColor},children:[b.jsx("div",{children:b.jsx("h2",{className:"text-xl font-bold lowercase tracking-tight",style:{color:a.primaryText},children:"settings"})}),b.jsx("button",{onClick:o,className:"w-11 h-11 rounded-full flex items-center justify-center transition-all active:scale-95",style:{backgroundColor:`${a.primaryText}08`},children:b.jsx(jd,{size:20,style:{color:a.primaryText}})})]}),(!u.isSyncEnabled||!p)&&b.jsx("div",{className:"px-6 pt-5",children:b.jsxs("button",{onClick:h,disabled:c,className:"w-full p-4 rounded-2xl flex items-center justify-between active:scale-[0.98] transition-all",style:{backgroundColor:a.surface,border:`1px solid ${a.borderColor}`},children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"p-2 rounded-xl bg-blue-500 text-white",children:b.jsx(qu,{size:16})}),b.jsxs("div",{className:"text-left",children:[b.jsx("h3",{className:"text-sm font-semibold lowercase",style:{color:a.primaryText},children:u.isSyncEnabled?"reconnect cloud":"enable cloud sync"}),b.jsx("p",{className:"text-[10px] opacity-40",style:{color:a.secondaryText},children:u.isSyncEnabled?"session expired":"sync via google drive"})]})]}),b.jsx("span",{className:"text-xs font-semibold text-blue-500",children:c?"...":"connect"})]})}),u.isSyncEnabled&&p&&b.jsx("div",{className:"px-6 pt-5",children:b.jsxs("div",{className:"w-full p-4 rounded-2xl flex items-center gap-3 border",style:{backgroundColor:a.surface,borderColor:a.borderColor},children:[b.jsx("div",{className:"p-2 rounded-xl bg-emerald-500 text-white",children:b.jsx(qu,{size:16})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("h3",{className:"text-sm font-semibold lowercase",style:{color:a.primaryText},children:"synced"}),b.jsx("p",{className:"text-[10px] opacity-40 truncate",style:{color:a.secondaryText},children:u.googleDriveEmail||"connected"})]}),b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"})]})}),b.jsx("div",{className:"px-6 pt-5 z-10",children:b.jsxs("div",{className:"flex p-0.5 rounded-xl border",style:{borderColor:a.borderColor},children:[b.jsxs("button",{onClick:()=>i("optical"),className:"flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg text-xs font-medium transition-all lowercase",style:{backgroundColor:n==="optical"?a.surface:"transparent",color:n==="optical"?a.primaryText:a.secondaryText,opacity:n==="optical"?1:.5},children:[b.jsx(aS,{size:14})," theme"]}),b.jsxs("button",{onClick:()=>i("typo"),className:"flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg text-xs font-medium transition-all lowercase",style:{backgroundColor:n==="typo"?a.surface:"transparent",color:n==="typo"?a.primaryText:a.secondaryText,opacity:n==="typo"?1:.5},children:[b.jsx(si,{size:14})," typography"]})]})}),b.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar px-6 pb-10 pt-5",children:[b.jsx("div",{className:`transition-opacity duration-200 ${n==="optical"?"block":"hidden"}`,children:b.jsx(DS,{})}),b.jsx("div",{className:`transition-opacity duration-200 ${n==="typo"?"block":"hidden"}`,children:b.jsx(OS,{})})]})]})},US=[{title:"Frankenstein",author:"Mary Shelley",summary:"A scientist creates a sentient creature in a unorthodox scientific experiment. Gothic sci-fi vibes.",moodColor:"#56494E",genre:"Gothic Fiction",tags:["Sci-Fi","Classic","Horror"],gutenbergId:"84"},{title:"Pride and Prejudice",author:"Jane Austen",summary:"The turbulent relationship between Elizabeth Bennet and Fitzwilliam Darcy. Witty and romantic.",moodColor:"#D8A49B",genre:"Romance",tags:["Social Commentary","Classic"],gutenbergId:"1342"},{title:"Dracula",author:"Bram Stoker",summary:"Count Dracula's attempt to move from Transylvania to England. The ultimate vampire horror.",moodColor:"#740001",genre:"Horror",tags:["Epistolary","Classic","Vampires"],gutenbergId:"345"},{title:"The Great Gatsby",author:"F. Scott Fitzgerald",summary:"A portrait of the Jazz Age in all its decadence and excess. Tragic glamour.",moodColor:"#E3C565",genre:"Modernist Fiction",tags:["Jazz Age","American Classic"],gutenbergId:"64317"},{title:"Moby Dick",author:"Herman Melville",summary:"The narrative of the sailor Ishmael and the obsessive quest of Ahab. Deep ocean madness.",moodColor:"#476C9B",genre:"Adventure",tags:["Nautical","Classic"],gutenbergId:"2701"},{title:"Alice's Adventures in Wonderland",author:"Lewis Carroll",summary:"A young girl named Alice falls through a rabbit hole into a fantasy world. Surreal and trippy.",moodColor:"#6D9DC5",genre:"Fantasy",tags:["Surrealism","Classic","Children"],gutenbergId:"11"},{title:"The Picture of Dorian Gray",author:"Oscar Wilde",summary:"A philosophical novel about a man whose portrait ages while he stays young. Aesthetic hedonism.",moodColor:"#2E4052",genre:"Philosophical Fiction",tags:["Aestheticism","Classic"],gutenbergId:"174"},{title:"The Adventures of Sherlock Holmes",author:"Arthur Conan Doyle",summary:"A consulting detective known for his proficiency with observation and deduction. Foggy London mystery.",moodColor:"#5C5C5C",genre:"Mystery",tags:["Detective","Classic"],gutenbergId:"1661"},{title:"The Metamorphosis",author:"Franz Kafka",summary:"Salesman Gregor Samsa wakes one morning to find himself inexplicably transformed. Existential dread.",moodColor:"#556B2F",genre:"Existentialism",tags:["Absurdist","Classic"],gutenbergId:"5200"},{title:"Wuthering Heights",author:"Emily Bront",summary:"A tale of the all-encompassing and passionate, yet thwarted, love. Windy moors and ghosts.",moodColor:"#483C46",genre:"Gothic Romance",tags:["Moors","Classic"],gutenbergId:"768"}],$S=o=>{let n=0;for(let a=0;a<o.length;a++)n=o.charCodeAt(a)+((n<<5)-n);const i=(n&16777215).toString(16).toUpperCase();return"#"+"00000".substring(0,6-i.length)+i};class Ys{constructor(){}static getInstance(){return Ys.instance||(Ys.instance=new Ys),Ys.instance}getFeaturedBooks(){return US.map(n=>({...n,coverUrl:n.coverUrl||`https://www.gutenberg.org/cache/epub/${n.gutenbergId}/pg${n.gutenbergId}.cover.medium.jpg`}))}async searchCuratedBooks(n){const i=n.trim();if(!i)return this.getFeaturedBooks();const a=`https://gutendex.com/books/?search=${encodeURIComponent(i)}`,u=`https://gutendex.com/books/?topic=${encodeURIComponent(i)}`;try{const[c,f]=await Promise.all([fetch(a).then(y=>y.json()),fetch(u).then(y=>y.json())]),h=c.results||[],p=f.results||[],m=new Set,g=[];return[...h,...p].forEach(y=>{m.has(y.id)||(m.add(y.id),g.push(y))}),g.filter(y=>y.formats["text/plain"]||y.formats["text/plain; charset=utf-8"]).slice(0,20).map(y=>{const w=y.authors.length>0?y.authors[0].name.replace(/,/,""):"Unknown Author",k=y.formats["image/jpeg"]||y.formats["image/png"]||`https://www.gutenberg.org/cache/epub/${y.id}/pg${y.id}.cover.medium.jpg`,j=y.subjects.length>0?y.subjects[0].split(" -- ")[0]:"Classic",S=y.subjects.map(A=>A.split(" -- ")[0]).slice(0,3);return{title:y.title,author:w,summary:y.summaries&&y.summaries.length>0?y.summaries[0]:`A ${j} masterpiece by ${w}.`,genre:j,tags:S,moodColor:$S(y.title),gutenbergId:y.id.toString(),coverUrl:k}})}catch(c){return console.error("Discovery search failed",c),[]}}async downloadBook(n){if(console.log(`[CloudService] Initiating acquisition for: ${n.title} (ID: ${n.gutenbergId})`),!n.gutenbergId)throw new Error("Cannot download book without Gutenberg ID");try{const i=n.gutenbergId,a=`https://api.github.com/search/repositories?q=${i}+in:name+user:GITenberg`;console.log(`[CloudService] Locating repo: ${a}`);const u=await fetch(a);if(!u.ok)throw new Error("Could not locate book repository.");const c=await u.json();if(!c.items||c.items.length===0)throw new Error("Book not found in GITenberg archives.");const f=c.items[0],h=f.default_branch||"master",p=`https://raw.githubusercontent.com/GITenberg/${f.name}/${h}/${i}.txt`;console.log(`[CloudService] Fetching raw text from: ${p}`);const m=await fetch(p);if(!m.ok)throw new Error("Failed to retrieve text content from archive.");const g=await m.text();if(g.trim().startsWith("<!DOCTYPE html>")||g.length<500)throw new Error("Downloaded content appears invalid.");return Tr.getInstance().ingestFromText(n.title,n.author,g,n.moodColor,n.coverUrl)}catch(i){throw console.error("[CloudService] Download failed",i),new Error("Could not download book. Please try another title.")}}}const WS=["philosophy","gothic","sci-fi","adventure","poetry","mystery"],ZS=({existingBooks:o,onClose:n,onImport:i,onOpen:a})=>{const u=Nt(),c=Ys.getInstance(),[f,h]=$.useState(""),[p,m]=$.useState([]),[g,y]=$.useState(!1),[w,k]=$.useState({});$.useEffect(()=>{const E=c.getFeaturedBooks();console.log("TitanCloudLibrary: Loading featured books",E.length,E),m(E)},[]);const j=async(E,F)=>{E==null||E.preventDefault();const L=F!==void 0?F:f;if(!L.trim()){m(c.getFeaturedBooks());return}y(!0),m([]);try{const B=await c.searchCuratedBooks(L);m(B)}catch(B){console.error(B)}finally{y(!1)}};$.useEffect(()=>{f.trim()===""&&m(c.getFeaturedBooks())},[f]);const S=async E=>{const F=w[E.title]||"idle";if(!(F==="loading"||F==="success")){k(L=>({...L,[E.title]:"loading"}));try{const L=await c.downloadBook(E);i(L),k(B=>({...B,[E.title]:"success"}))}catch(L){console.error(`Failed to download ${E.title}`,L),k(B=>({...B,[E.title]:"error"})),setTimeout(()=>{k(B=>({...B,[E.title]:"idle"}))},3e3)}}},A=(E,F)=>{switch(E){case"loading":return b.jsxs("div",{className:"flex items-center gap-2 relative w-full justify-center h-full",children:[b.jsx("span",{className:"lowercase z-10",children:"retrieving..."}),b.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-black/10 overflow-hidden",children:b.jsx("div",{className:"h-full bg-current opacity-50 w-full origin-left animate-[progress-scan_1.5s_ease-in-out_infinite]"})})]});case"success":return b.jsxs(b.Fragment,{children:[b.jsx($a,{size:16}),b.jsx("span",{className:"lowercase",children:"added to shelf"})]});case"error":return b.jsxs(b.Fragment,{children:[b.jsx(D2,{size:16}),b.jsx("span",{className:"lowercase",children:"failed. retry?"})]});default:return b.jsxs(b.Fragment,{children:[b.jsx($2,{size:16}),b.jsx("span",{className:"lowercase",children:"add to shelf"})]})}},_=(E,F)=>{const L={border:"none",color:"#FFF",backgroundColor:F||u.accent};return E==="loading"?{...L,backgroundColor:u.surface,color:u.primaryText,border:`1px solid ${u.borderColor}`,cursor:"wait"}:E==="success"?{...L,backgroundColor:"#10b981"}:E==="error"?{...L,backgroundColor:"#ef4444"}:L},C=p.length>0&&p[0].isCopyrightedReplacement;return b.jsxs("div",{className:"flex flex-col h-full bg-[#F2F2F7] dark:bg-black transition-colors",style:{backgroundColor:u.background},children:[b.jsxs("div",{className:"flex items-center justify-between px-6 py-6 border-b",style:{borderColor:u.borderColor},children:[b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Y2,{size:24,style:{color:u.accent}}),b.jsx("h2",{className:"text-2xl font-serif font-black lowercase tracking-tight leading-none",style:{color:u.primaryText},children:"visit the library"})]}),b.jsx("p",{className:"text-xs font-medium opacity-60 lowercase max-w-[240px]",style:{color:u.secondaryText},children:"classics from the ether. public domain, free forever."})]}),b.jsx("button",{onClick:n,className:"p-3 -mr-3 rounded-full hover:bg-black/5 transition-colors",children:b.jsx(jd,{size:24,style:{color:u.secondaryText}})})]}),b.jsxs("div",{className:"px-6 pt-6 pb-2",children:[b.jsxs("form",{onSubmit:j,className:"relative group",children:[b.jsx("input",{type:"text",placeholder:"search title, author, genre, or keyword...",value:f,onChange:E=>h(E.target.value),className:"w-full h-14 pl-12 pr-4 rounded-2xl text-lg font-medium outline-none transition-all shadow-sm focus:shadow-md",style:{backgroundColor:u.surface,color:u.primaryText,border:`1px solid ${u.borderColor}`}}),b.jsx(mS,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 opacity-40 group-focus-within:opacity-100 transition-opacity",style:{color:u.primaryText}})]}),!f&&b.jsx("div",{className:"flex flex-wrap gap-2 mt-3 animate-fadeIn",children:WS.map(E=>b.jsx("button",{onClick:()=>{h(E),j(void 0,E)},className:"px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-widest border transition-all active:scale-95 opacity-50 hover:opacity-100",style:{backgroundColor:u.surface,borderColor:u.borderColor,color:u.primaryText},children:E},E))}),b.jsx(Cn,{children:g&&b.jsxs(qr.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center justify-center gap-2 py-4 text-sm font-medium",style:{color:u.secondaryText},children:[b.jsx(Xg,{className:"animate-spin",size:16}),b.jsx("span",{children:"scanning archives..."})]})})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-20 pt-6 custom-scrollbar",children:[b.jsx(Cn,{children:g&&b.jsxs(qr.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center justify-center gap-2 py-4 mb-2 text-sm font-medium",style:{color:u.secondaryText},children:[b.jsx(Xg,{className:"animate-spin",size:16}),b.jsx("span",{children:"scanning archives..."})]})}),b.jsx(Cn,{children:!g&&C&&b.jsxs(qr.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 rounded-2xl flex items-start gap-4 border",style:{backgroundColor:u.surface,borderColor:u.borderColor},children:[b.jsx("div",{className:"p-2 rounded-full bg-neutral-100 shrink-0",children:b.jsx(sS,{size:16,className:"text-neutral-500"})}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold text-sm lowercase mb-1",style:{color:u.primaryText},children:"locked in the vault"}),b.jsxs("p",{className:"text-xs font-medium leading-relaxed opacity-70 lowercase",style:{color:u.secondaryText},children:["bad news: that book is still under copyright protection.",b.jsx("br",{}),"good news: we found these public domain classics that share the same soul."]})]})]})}),!g&&!C&&b.jsxs("div",{className:"mb-4 flex items-center gap-2 opacity-50",children:[b.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",style:{color:u.secondaryText},children:f?"results":"curated selection"}),b.jsx("div",{className:"h-px flex-1 bg-current opacity-20",style:{color:u.secondaryText}})]}),!g&&p.length===0&&f&&b.jsx("div",{className:"flex flex-col items-center justify-center h-40 text-center opacity-60",children:b.jsx("p",{className:"font-serif italic text-lg lowercase",style:{color:u.secondaryText},children:'"the library is vast, but this shelf is empty."'})}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.jsx(Cn,{mode:"popLayout",children:p.map((E,F)=>{var L;const B=o.find(q=>q.title.trim().toLowerCase()===E.title.trim().toLowerCase()&&q.author.trim().toLowerCase()===E.author.trim().toLowerCase()),M=w[E.title]||"idle";return b.jsxs(qr.div,{layout:!0,initial:!1,animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:F*.03},className:"relative p-5 rounded-3xl overflow-hidden shadow-sm hover:shadow-md transition-shadow group border",style:{backgroundColor:u.surface,borderColor:u.borderColor},children:[b.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 rounded-full blur-[60px] opacity-[0.15] transition-opacity group-hover:opacity-[0.25]",style:{backgroundColor:E.moodColor||u.accent}}),b.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("h3",{className:"font-serif font-bold text-xl leading-tight mb-1",style:{color:u.primaryText},children:E.title}),b.jsx("p",{className:"text-sm font-medium opacity-60 uppercase tracking-wider mb-2",style:{color:u.primaryText},children:E.author}),b.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[E.genre&&b.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-tighter",style:{backgroundColor:`${u.accent}20`,color:u.accent,border:`1px solid ${u.accent}30`},children:E.genre}),(L=E.tags)==null?void 0:L.slice(0,3).map((q,H)=>b.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-medium opacity-50 border border-white/10",style:{color:u.primaryText},children:q.toLowerCase()},H))]}),b.jsx("p",{className:"text-sm leading-relaxed opacity-80 line-clamp-2",style:{color:u.secondaryText},children:E.summary})]}),B?b.jsxs("button",{onClick:()=>a(B),className:"mt-5 flex items-center justify-center gap-2 w-full h-11 rounded-xl font-bold text-sm transition-all active:scale-95 shadow-sm hover:shadow-md",style:{backgroundColor:u.accent,color:"#FFF",border:"none"},children:[b.jsx(Cd,{size:16,fill:"currentColor"}),b.jsx("span",{className:"lowercase",children:"open book"})]}):b.jsx("button",{onClick:()=>S(E),disabled:M==="loading"||M==="success",className:"mt-5 flex items-center justify-center gap-2 w-full h-11 rounded-xl font-bold text-sm transition-all active:scale-95 disabled:opacity-90 disabled:scale-100 shadow-sm hover:shadow-md overflow-hidden relative",style:_(M,E.moodColor),children:A(M,E.moodColor)})]})]},E.title)})})})]})]})},qS=({book:o,onClick:n})=>{const i=$.useMemo(()=>{var c;let f=((c=o.chapters)==null?void 0:c.reduce((g,y)=>g+y.wordCount,0))||o.title.length*500;const h=36,p=64,m=Math.min(1,Math.max(0,f/1e5));return h+m*(p-h)},[o]),a=$.useMemo(()=>{const c=o.author.split(" ");return c.length>0?c[c.length-1]:o.author},[o.author]),u=o.tintColorHex||"#333";return b.jsxs(qr.div,{layoutId:`spine-${o.id}`,onClick:n,className:"relative h-72 cursor-pointer group mx-[1px] mb-0 rounded-sm overflow-hidden transform-gpu",style:{width:`${i}px`,backgroundColor:u,boxShadow:"inset 0 0 15px rgba(0,0,0,0.3), inset 1px 0 0 rgba(255,255,255,0.1)"},whileHover:{y:-8,zIndex:10,transition:{type:"spring",stiffness:400,damping:25}},children:[b.jsx("div",{className:"absolute inset-0 opacity-30 pointer-events-none mix-blend-multiply grayscale",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`}}),b.jsx("div",{className:"absolute top-0 bottom-0 left-[2px] w-[1px] bg-black/20"}),b.jsx("div",{className:"absolute top-0 bottom-0 right-[2px] w-[1px] bg-black/20"}),b.jsxs("div",{className:"absolute inset-0 flex flex-col items-center py-6 px-1 z-20",children:[b.jsx("div",{className:"flex-none pt-2 pb-6",style:{writingMode:"vertical-rl",textOrientation:"mixed"},children:b.jsx("span",{className:"font-sans text-[9px] font-bold text-white/70 uppercase tracking-[0.15em]",children:a})}),b.jsx("div",{className:"flex-1 flex items-center justify-center w-full overflow-hidden",style:{writingMode:"vertical-rl",textOrientation:"mixed"},children:b.jsx("span",{className:"font-serif font-semibold text-xs md:text-sm tracking-wide text-white/95 text-center leading-relaxed line-clamp-3",style:{textShadow:"0 1px 2px rgba(0,0,0,0.5)",fontVariant:"small-caps"},children:o.title.toLowerCase()})}),b.jsx("div",{className:"flex-none mt-auto pt-4 opacity-50",children:b.jsx("div",{className:"w-4 h-4 border border-white/60 rounded-full flex items-center justify-center",children:b.jsx("div",{className:"w-1.5 h-1.5 bg-white/60 rounded-sm"})})})]}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/20 via-transparent to-black/20 pointer-events-none"})]})},HS=({books:o,onInspectBook:n})=>b.jsx("div",{className:"relative w-full pb-32",children:b.jsxs("div",{className:"flex flex-wrap items-end gap-y-16 px-6 perspective-[1000px]",children:[o.map(i=>b.jsx(qS,{book:i,onClick:()=>n(i)},i.id)),b.jsx("div",{className:"w-full h-2 rounded-full bg-current opacity-[0.03] mt-[-4px] blur-[1px]"})]})}),GS=({book:o,onClose:n,onOpen:i,onToggleFavorite:a,onToggleRead:u,onDelete:c})=>{var f;const h=Nt(),p=$.useRef(0),m=y=>{const w=Date.now();w-p.current<300||(p.current=w,jt.impactLight(),y())},g=o.tintColorHex||"#333";return b.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6 perspective-[2000px]",children:[b.jsx("div",{onClick:n,className:"absolute inset-0 bg-black/60 backdrop-blur-md",style:{animation:"fadeIn 400ms cubic-bezier(0.16, 1, 0.3, 1)"}}),b.jsxs("div",{className:"relative w-full max-w-sm bg-white rounded-3xl shadow-2xl overflow-hidden flex flex-col origin-left z-50 max-h-[90vh]",style:{backgroundColor:h.surface,animation:"slideUp 500ms cubic-bezier(0.16, 1, 0.3, 1)"},children:[b.jsxs("div",{className:"relative overflow-hidden flex items-center justify-center p-8 min-h-[280px]",style:{backgroundColor:o.tintColorHex?`${o.tintColorHex}08`:"#f5f5f7"},children:[b.jsx("div",{className:"relative w-36 h-52 shadow-[0_16px_40px_rgba(0,0,0,0.25)] rounded-sm",style:{animation:"fadeIn 400ms cubic-bezier(0.16, 1, 0.3, 1) 100ms both"},children:o.coverUrl?b.jsx("img",{src:o.coverUrl,className:"w-full h-full object-cover rounded-sm",alt:o.title}):b.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-6 text-center border-[6px] border-double",style:{backgroundColor:g,borderColor:"rgba(255,255,255,0.2)",color:"#FFF"},children:[b.jsx(T0,{size:28,className:"mb-4 opacity-40"}),b.jsx("h2",{className:"font-serif font-black text-base leading-tight line-clamp-3",children:o.title})]})}),b.jsx("div",{className:"absolute inset-y-0 left-0 w-16 bg-gradient-to-r from-black/10 to-transparent pointer-events-none mix-blend-multiply"}),b.jsx("button",{onClick:y=>{y.stopPropagation(),a(o.id,!o.isFavorite)},className:"absolute top-6 right-6 p-3.5 rounded-full bg-black/10 backdrop-blur-md hover:bg-black/20 transition-all text-white z-50 shadow-lg active:scale-90",children:b.jsx(H2,{size:22,fill:o.isFavorite?"#E25822":"none",stroke:o.isFavorite?"#E25822":"currentColor",className:"drop-shadow-sm"})})]}),b.jsxs("div",{className:"p-6 flex flex-col gap-5 border-t relative z-10",style:{backgroundColor:h.surface,borderColor:h.borderColor},children:[b.jsxs("div",{className:"text-center",children:[b.jsx("h2",{className:"font-serif font-bold text-2xl leading-tight lowercase tracking-tight",style:{color:h.primaryText},children:o.title}),b.jsx("p",{className:"font-sans text-xs font-medium opacity-40 mt-1.5",style:{color:h.secondaryText},children:o.author}),b.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mt-6",children:[o.genre&&b.jsx("span",{className:"px-3 py-1 rounded-full text-[9px] font-bold uppercase tracking-widest",style:{backgroundColor:`${h.accent}15`,color:h.accent,border:`1px solid ${h.accent}20`},children:o.genre}),(f=o.tags)==null?void 0:f.slice(0,3).map((y,w)=>b.jsx("span",{className:"px-3 py-1 rounded-full text-[9px] font-bold opacity-30 border border-current uppercase tracking-tighter",style:{color:h.primaryText},children:y.toLowerCase()},w))]}),o.description&&b.jsx("div",{className:"mt-5 text-left max-h-24 overflow-y-auto px-1 custom-scrollbar",children:b.jsxs("p",{className:"text-xs leading-relaxed opacity-60 italic",style:{color:h.secondaryText},children:['"',o.description,'"']})})]}),b.jsxs("button",{onClick:()=>m(()=>i(o)),className:"h-12 w-full rounded-xl flex items-center justify-center gap-2 font-semibold text-white shadow-lg active:scale-[0.98] transition-transform",style:{backgroundColor:h.accent},children:[b.jsx(Cd,{size:16,fill:"currentColor"}),b.jsx("span",{className:"lowercase text-base",children:"start reading"})]})]}),b.jsxs("div",{className:"grid grid-cols-3 divide-x border-t",style:{borderColor:h.borderColor,color:h.secondaryText},children:[b.jsxs("button",{onClick:()=>{jt.impactMedium(),confirm("Delete this book?")&&(c(o.id),n())},className:"h-14 flex items-center justify-center gap-1.5 hover:bg-red-500/10 transition-colors text-red-400 hover:text-red-500",children:[b.jsx(E0,{size:16}),b.jsx("span",{className:"text-xs font-medium",children:"delete"})]}),b.jsxs("button",{onClick:()=>m(()=>u(o.id,!o.isFinished)),className:"h-14 flex items-center justify-center gap-1.5 hover:bg-black/5 transition-colors",style:{color:o.isFinished?"#10b981":h.secondaryText},children:[o.isFinished?b.jsx(E2,{size:16}):b.jsx(_0,{size:16}),b.jsx("span",{className:"text-xs font-medium",children:o.isFinished?"read":"mark read"})]}),b.jsxs("button",{onClick:n,className:"h-12 flex items-center justify-center gap-1.5 hover:bg-black/5 transition-colors",children:[b.jsx(_2,{size:16}),b.jsx("span",{className:"text-xs font-medium",children:"back"})]})]})]})]})},XS=({books:o,onBookSelect:n,onBookImported:i,onDeleteBooks:a,onToggleReadStatus:u,onToggleFavorite:c})=>{const f=$.useRef(null),h=$.useRef(null),p=$.useRef(null),[m,g]=$.useState(!1),y=Nt(),[w,k]=$.useState("grid"),[j,S]=$.useState(!1),[A,_]=$.useState(new Set),[C,E]=$.useState(!1),[F,L]=$.useState(!1),[B,M]=$.useState(!1),q=$.useRef(!1),[H,ie]=$.useState(!1),[ge,D]=$.useState(!1),[Y,T]=$.useState(!1),[oe,G]=$.useState(!1),[O,le]=$.useState(null);$.useEffect(()=>{const V=()=>{q.current||(q.current=!0,O?le(null):B||ge?me():(F||H)&&re(),q.current=!1)};return window.addEventListener("popstate",V),()=>window.removeEventListener("popstate",V)},[O,B,ge,F,H]);const re=()=>{ie(!0),setTimeout(()=>{L(!1),ie(!1)},400)},me=()=>{D(!0),setTimeout(()=>{M(!1),D(!1)},400)},[P,R]=$.useState(0),ee=$.useRef(null),ne=$.useRef(0);$.useEffect(()=>{const V=h.current;if(!V)return;const z=()=>{if(!p.current)return;const N=V.scrollTop,W=Math.max(.8,1-N/300),de=Math.max(0,1-N/150);p.current.style.transform=`scale(${W})`,p.current.style.opacity=de.toString()};return V.addEventListener("scroll",z,{passive:!0}),z(),()=>V.removeEventListener("scroll",z)},[]);const{activeBooks:ce,finishedBooks:Te,favoriteBooks:Ee}=$.useMemo(()=>{const V=[...o].sort((z,N)=>new Date(N.lastOpened).getTime()-new Date(z.lastOpened).getTime());return{favoriteBooks:V.filter(z=>z.isFavorite),activeBooks:V.filter(z=>!z.isFinished),finishedBooks:V.filter(z=>z.isFinished)}},[o]);$.useEffect(()=>{Ee.length>0&&!oe&&o.some(V=>V.isFavorite&&!V.isFinished)},[Ee.length]);const be=async V=>{var z;const N=(z=V.target.files)==null?void 0:z[0];if(N){g(!0);try{const W=await Tr.getInstance().ingest(N);if(!W.chapters||W.chapters.length===0){console.error("[TitanLibrary] Book imported but has 0 chapters:",{title:W.title,author:W.author,id:W.id});const de=[`Date: ${new Date().toISOString()}`,`UserAgent: ${navigator.userAgent}`,`Platform: ${navigator.platform}`,`File: ${N.name}`,`BookTitle: ${W.title}`,`BookAuthor: ${W.author}`,`BookId: ${W.id}`,`ChaptersLength: ${W.chapters?W.chapters.length:"undefined"}`,"","Notes: Import produced zero chapters. Attach this file when reporting."].join(`
`);((he,Q=`flow-diagnostics-${Date.now()}.txt`)=>{try{const ve=new Blob([he],{type:"text/plain"}),we=URL.createObjectURL(ve),xe=document.createElement("a");xe.href=we,xe.download=Q,document.body.appendChild(xe),xe.click(),xe.remove(),setTimeout(()=>URL.revokeObjectURL(we),1500)}catch(ve){console.error("Failed to create diagnostics download",ve)}})(de),alert(`Import failed: "${W.title}" was processed but no readable content was found. A diagnostic file has been downloaded to help with reporting.`);return}console.log(`[TitanLibrary] Successfully imported "${W.title}" with ${W.chapters.length} chapters`),i(W)}catch(W){console.error("[TitanLibrary] Import error:",W);try{const de=[`Date: ${new Date().toISOString()}`,`UserAgent: ${navigator.userAgent}`,`Platform: ${navigator.platform}`,`File: ${N?N.name:"unknown"}`,`Error: ${W instanceof Error?W.message:String(W)}`,`Stack: ${W instanceof Error&&W.stack?W.stack:"no-stack"}`,"","Notes: Import threw an exception. Attach this file when reporting."].join(`
`),he=new Blob([de],{type:"text/plain"}),Q=URL.createObjectURL(he),ve=document.createElement("a");ve.href=Q,ve.download=`flow-import-error-${Date.now()}.txt`,document.body.appendChild(ve),ve.click(),ve.remove(),setTimeout(()=>URL.revokeObjectURL(Q),1500)}catch(de){console.error("Failed to create diagnostics download",de)}alert(`Import failed: ${W instanceof Error?W.message:"Unknown error. A diagnostic file has been downloaded."}`)}finally{g(!1),f.current&&(f.current.value="")}}},ke=()=>{var V;return(V=f.current)==null?void 0:V.click()},ye=()=>{jt.impactMedium(),S(V=>(V&&(_(new Set),R(0)),!V))},Se=V=>{jt.impactLight(),_(z=>{const N=new Set(z);return N.has(V.id)?N.delete(V.id):N.add(V.id),N})},ze=()=>{if(A.size===0)return;const V=!o.filter(z=>A.has(z.id)).every(z=>z.isFinished);u(Array.from(A),V),jt.impactMedium(),S(!1),_(new Set)},Ne=V=>{if(A.size===0)return;V.preventDefault(),ne.current=performance.now(),V.target.setPointerCapture(V.pointerId);const z=()=>{const N=performance.now()-ne.current,W=Math.min(N/600,1);R(W),W<1?ee.current=requestAnimationFrame(z):se()};ee.current=requestAnimationFrame(z)},x=V=>{ee.current&&(cancelAnimationFrame(ee.current),ee.current=null),R(0),V.target.releasePointerCapture(V.pointerId)},se=()=>{ee.current&&cancelAnimationFrame(ee.current),navigator.vibrate&&navigator.vibrate([40,30,40]),a(Array.from(A)),_(new Set),R(0),E(!0),S(!1)};return b.jsxs("div",{className:"relative h-full w-full overflow-hidden",style:{backgroundColor:y.background},children:[b.jsx("input",{type:"file",ref:f,onChange:be,accept:".epub",className:"hidden"}),b.jsx("button",{onClick:()=>{q.current||window.history.pushState({modal:"settings"},"",window.location.href),L(!0)},className:"absolute top-6 right-6 z-40 p-3 rounded-full hover:bg-black/5 transition-colors",style:{color:y.secondaryText},children:b.jsx(yS,{size:24})}),b.jsxs("div",{ref:h,className:"h-full w-full overflow-y-auto custom-scrollbar pt-24 pb-48 px-6 md:px-12",children:[b.jsxs("div",{ref:p,className:"mb-8 origin-left will-change-transform flex items-end justify-between",style:{transform:"scale(1)",opacity:1},children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-black tracking-tight lowercase leading-none",style:{color:y.primaryText},children:"bookshelf"}),b.jsxs("p",{className:"text-sm font-sans font-medium mt-2 lowercase opacity-50",style:{color:y.secondaryText},children:[ce.length," ",ce.length===1?"book":"books"," in progress"]})]}),o.length>0&&b.jsxs("div",{className:"flex p-0.5 rounded-xl border",style:{borderColor:y.borderColor,backgroundColor:y.surface},children:[b.jsx("button",{onClick:()=>k("grid"),className:`p-2 rounded-lg transition-all active:scale-90 ${w==="grid"?"shadow-sm":"opacity-40 hover:opacity-70"}`,style:{backgroundColor:w==="grid"?y.background:"transparent",color:y.primaryText},children:b.jsx(X2,{size:18})}),b.jsx("button",{onClick:()=>k("shelf"),className:`p-2 rounded-lg transition-all active:scale-90 ${w==="shelf"?"shadow-sm":"opacity-40 hover:opacity-70"}`,style:{backgroundColor:w==="shelf"?y.background:"transparent",color:y.primaryText},children:b.jsx(J2,{size:18})})]})]}),o.length===0?b.jsx(IS,{onImport:ke,hasDeleted:C}):w==="shelf"?b.jsx("div",{className:"transition-opacity duration-400",style:{transitionTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)"},children:b.jsx(HS,{books:o,onBookSelect:n,onInspectBook:V=>{q.current||window.history.pushState({modal:"detail"},"",window.location.href),le(V)}})}):b.jsxs("div",{className:"flex flex-col gap-12 transition-opacity duration-400",style:{transitionTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)"},children:[b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-x-4 gap-y-6 md:gap-x-6 md:gap-y-8",children:b.jsx(Cn,{mode:"popLayout",children:ce.map(V=>b.jsx(qr.div,{initial:!1,animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},children:b.jsx(Pu,{book:V,onSelect:n,isEditing:j,isSelected:A.has(V.id),onToggleSelect:Se,onRequestManage:()=>{S(!0),_(new Set([V.id]))},onLongPress:z=>{q.current||window.history.pushState({modal:"detail"},"",window.location.href),le(z)}})},V.id))})}),Ee.length>0&&b.jsxs("div",{className:"mt-6 border-t pt-6",style:{borderColor:y.borderColor},children:[b.jsxs("button",{onClick:V=>{V.stopPropagation(),G(z=>!z)},className:"flex items-center gap-1.5 text-sm font-medium lowercase hover:opacity-80 transition-opacity mb-4",style:{color:y.secondaryText,opacity:.6},children:[oe?b.jsx(Zu,{size:16}):b.jsx(Gg,{size:16}),b.jsxs("span",{children:["favorites (",Ee.length,")"]})]}),oe&&b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-x-4 gap-y-6 md:gap-x-6 md:gap-y-8 pb-6",children:Ee.map(V=>b.jsx("div",{children:b.jsx(Pu,{book:V,onSelect:n,isEditing:j,isSelected:A.has(V.id),onToggleSelect:Se,onLongPress:z=>{q.current||window.history.pushState({modal:"detail"},"",window.location.href),le(z)}})},`fav-${V.id}`))})]}),Te.length>0&&b.jsxs("div",{className:"mt-2 border-t pt-6",style:{borderColor:y.borderColor},children:[b.jsxs("button",{onClick:V=>{V.stopPropagation(),T(z=>!z)},className:"flex items-center gap-1.5 text-sm font-medium lowercase hover:opacity-80 transition-opacity mb-4",style:{color:y.secondaryText,opacity:.6},children:[Y?b.jsx(Zu,{size:16}):b.jsx(Gg,{size:16}),b.jsxs("span",{children:["finished (",Te.length,")"]})]}),Y&&b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-x-4 gap-y-6 md:gap-x-6 md:gap-y-8 pb-6",children:Te.map(V=>b.jsx("div",{children:b.jsx(Pu,{book:V,onSelect:n,isEditing:j,isSelected:A.has(V.id),onToggleSelect:Se,onLongPress:z=>{q.current||window.history.pushState({modal:"detail"},"",window.location.href),le(z)}})},`fin-${V.id}`))})]}),b.jsx("div",{className:"h-24"})]})]}),b.jsx("div",{className:"absolute left-0 right-0 flex justify-center pointer-events-none z-30",style:{bottom:"calc(1.5rem + env(safe-area-inset-bottom))"},children:b.jsx(qr.div,{layout:!0,initial:!1,className:"pointer-events-auto shadow-xl backdrop-blur-2xl border flex items-center p-1.5 rounded-2xl gap-1 relative overflow-hidden",style:{backgroundColor:y.surface+"f0",borderColor:y.borderColor,minWidth:"180px"},children:b.jsx(Cn,{mode:"wait",children:j?b.jsxs(qr.div,{initial:!1,animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex items-center w-full gap-2 px-1",children:[b.jsx("button",{onClick:ye,className:"w-9 h-9 rounded-xl flex items-center justify-center hover:bg-black/5 transition-colors",style:{color:y.primaryText},children:b.jsx(jd,{size:18})}),b.jsx("div",{className:"w-px h-5 bg-black/10"}),b.jsx("button",{onClick:ze,disabled:A.size===0,className:"w-9 h-9 rounded-xl flex items-center justify-center hover:bg-black/5 transition-colors disabled:opacity-30",style:{color:y.primaryText},children:b.jsx(A2,{size:18})}),b.jsx("div",{className:"w-px h-5 bg-black/10"}),b.jsxs("button",{onPointerDown:Ne,onPointerUp:x,onPointerLeave:x,disabled:A.size===0,className:"flex-1 relative flex items-center justify-center gap-1.5 px-4 h-9 rounded-xl font-semibold text-white shadow-md active:scale-[0.98] transition-transform overflow-hidden disabled:opacity-50 disabled:active:scale-100 lowercase text-sm",style:{backgroundColor:y.accent},children:[b.jsx("div",{className:"absolute inset-0 bg-white mix-blend-overlay origin-left",style:{transform:`scaleX(${P})`,transition:"transform 0.05s linear"}}),b.jsxs("div",{className:"relative z-10 flex items-center gap-1.5",children:[b.jsx(E0,{size:16}),b.jsx("span",{children:A.size>0?`delete ${A.size}`:"select"})]})]})]},"edit-dock"):b.jsxs(qr.div,{initial:!1,animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex items-center w-full gap-2 px-1",children:[b.jsx("button",{onClick:ye,disabled:o.length===0,className:"w-9 h-9 rounded-xl flex items-center justify-center hover:bg-black/5 disabled:opacity-30 transition-colors",style:{color:y.secondaryText},children:b.jsx(wS,{size:18})}),b.jsx("div",{className:"w-px h-5 bg-black/10"}),b.jsx("button",{onClick:()=>{q.current||window.history.pushState({modal:"cloud"},"",window.location.href),M(!0)},className:"w-9 h-9 rounded-xl flex items-center justify-center hover:bg-black/5 transition-colors",style:{color:y.accent},children:b.jsx(B2,{size:18})}),b.jsx("div",{className:"w-px h-5 bg-black/10"}),b.jsxs("button",{onClick:ke,className:"flex-1 flex items-center justify-center gap-1.5 px-4 h-9 rounded-xl font-semibold text-white shadow-md active:scale-[0.98] transition-transform lowercase text-sm",style:{backgroundColor:y.accent},children:[m?b.jsx(Pd,{size:16,className:"animate-spin"}):b.jsx(Ed,{size:16,strokeWidth:3}),b.jsx("span",{children:"import"})]})]},"normal-dock")})})}),b.jsx(Cn,{children:O&&b.jsx(GS,{book:o.find(V=>V.id===O.id)||O,onClose:()=>le(null),onOpen:V=>{le(null),n(V)},onToggleFavorite:(V,z)=>c(V,z),onToggleRead:(V,z)=>u([V],z),onDelete:V=>{a([V]),le(null),o.length===1&&E(!0)}})}),(B||ge)&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 z-[100]",style:{backgroundColor:"rgba(0,0,0,0.5)",backdropFilter:"blur(2px)",animation:ge?"fadeOut 0.4s ease-out":"fadeIn 0.6s ease-out"},onClick:me}),b.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[101] rounded-t-[32px] h-[90vh] shadow-2xl overflow-hidden",style:{backgroundColor:y.background,animation:ge?"slideDown 0.5s cubic-bezier(0.7, 0, 0.84, 0)":"slideUp 0.8s cubic-bezier(0.16, 1, 0.3, 1)"},children:b.jsx(ZS,{existingBooks:o,onClose:me,onImport:V=>{i(V)},onOpen:V=>{M(!1),n(V)}})})]}),(F||H)&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 z-[100]",style:{backgroundColor:"rgba(0,0,0,0.5)",backdropFilter:"blur(2px)",animation:H?"fadeOut 0.4s ease-out":"fadeIn 0.6s ease-out"},onClick:re}),b.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[101] rounded-t-[32px] h-[70vh] shadow-2xl overflow-hidden",style:{backgroundColor:y.background,animation:H?"slideDown 0.5s cubic-bezier(0.7, 0, 0.84, 0)":"slideUp 0.8s cubic-bezier(0.16, 1, 0.3, 1)"},children:b.jsx(P0,{onClose:re})})]})]})},Au=function(o,n,i){let a=Promise.resolve();function u(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return a.then(c=>{for(const f of c||[])f.status==="rejected"&&u(f.reason);return o().catch(u)})};class yr{constructor(){this.tokens=[],this.currentIndex=0,this.wpm=150,this.rampStep=3,this._isPlaying=!1,this.animationFrameId=null,this.lastFrameTime=0,this.accumulatedTime=0,this.listeners=new Set,this.completionListeners=new Set,this.notifyScheduled=!1,this.loop=n=>{if(!this._isPlaying)return;if(this.lastFrameTime===0){this.lastFrameTime=n,this.animationFrameId=requestAnimationFrame(this.loop);return}const i=(n-this.lastFrameTime)/1e3;this.lastFrameTime=n;const a=Math.min(i,.1);this.accumulatedTime+=a;const u=this.currentToken;if(!u){this.finish();return}const c=60/this.wpm;let f=1;this.rampStep===0?f=2:this.rampStep===1?f=1.5:this.rampStep===2&&(f=1.2);const h=c*u.durationMultiplier*f;this.accumulatedTime>=h&&(this.advance(),this.accumulatedTime-=h),this._isPlaying&&(this.animationFrameId=requestAnimationFrame(this.loop))}}static getInstance(){return yr.instance||(yr.instance=new yr),yr.instance}get currentToken(){return this.currentIndex>=0&&this.currentIndex<this.tokens.length?this.tokens[this.currentIndex]:null}get isPlaying(){return this._isPlaying}setTokens(n){this.tokens=n,this.currentIndex>=n.length&&(this.currentIndex=0),this.notify()}clear(){this.pause(),this.tokens=[],this.currentIndex=0,this.notify()}play(){this._isPlaying||this.tokens.length!==0&&(this.currentIndex>=this.tokens.length-1&&(this.currentIndex=0),this._isPlaying=!0,this.lastFrameTime=0,this.accumulatedTime=0,this.currentIndex===0&&(this.rampStep=0),this.loop(performance.now()),this.notify())}pause(){this._isPlaying&&(this._isPlaying=!1,this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.notify())}stop(){this.pause(),this.accumulatedTime=0,this.rampStep=3,this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.notify()}toggle(){this._isPlaying?this.pause():this.play()}seek(n){const i=this._isPlaying;i&&this.pause(),this.currentIndex=Math.max(0,Math.min(n,this.tokens.length-1)),this.accumulatedTime=0,this.notify(),i&&this.play()}updateWPM(n){this.wpm=Math.max(50,Math.min(2e3,n)),this.notify()}advance(){this.currentIndex<this.tokens.length-1?(this.currentIndex++,this.rampStep<3&&this.rampStep++,this.notify()):this.finish()}finish(){this.pause(),this.currentIndex=this.tokens.length-1,this.notify(),this.completionListeners.forEach(n=>n())}subscribe(n){return this.listeners.add(n),()=>this.listeners.delete(n)}onComplete(n){return this.completionListeners.add(n),()=>this.completionListeners.delete(n)}notify(){this._isPlaying&&!this.notifyScheduled?(this.notifyScheduled=!0,queueMicrotask(()=>{this.notifyScheduled=!1,this.listeners.forEach(n=>n())})):this._isPlaying||this.listeners.forEach(n=>n())}}const QS=`
self.onmessage = function(e) {
    const { text, startingIndex } = e.data;
    const tokens = [];
    let currentTokenIndex = startingIndex;
    
    // 
    // WORD SETS (Inlined for worker)
    // 
    
    const FUNCTION_WORDS = new Set([
      'a', 'an', 'the', 'i', 'me', 'my', 'mine', 'we', 'us', 'our', 'ours',
      'you', 'your', 'yours', 'he', 'him', 'his', 'she', 'her', 'hers',
      'it', 'its', 'they', 'them', 'their', 'theirs', 'this', 'that', 'these', 'those',
      'who', 'whom', 'whose', 'which', 'what', 'at', 'by', 'for', 'from', 'in', 'of',
      'on', 'to', 'with', 'about', 'after', 'before', 'between', 'into', 'through',
      'during', 'above', 'below', 'under', 'over', 'behind', 'beside', 'beyond',
      'am', 'is', 'are', 'was', 'were', 'be', 'been', 'being', 'have', 'has', 'had',
      'do', 'does', 'did', 'will', 'would', 'shall', 'should', 'may', 'might',
      'must', 'can', 'could', 'and', 'or', 'but', 'nor', 'so', 'yet', 'as', 'if',
      'then', 'than', 'when', 'while', 'where', 'there', 'here', 'not', "n't", 'no',
      'yes', 'very', 'just', 'only', 'also', 'even', 'still', 'too'
    ]);
    
    const CLAUSE_STARTERS = new Set([
      'although', 'because', 'before', 'after', 'unless', 'until', 'while',
      'whereas', 'whenever', 'wherever', 'whether', 'though', 'since',
      'however', 'therefore', 'moreover', 'furthermore', 'nevertheless',
      'meanwhile', 'otherwise', 'consequently', 'accordingly'
    ]);
    
    const EMPHASIS_WORDS = new Set([
      'never', 'always', 'absolutely', 'definitely', 'certainly', 'surely',
      'suddenly', 'finally', 'immediately', 'instantly', 'important', 'critical',
      'crucial', 'essential', 'significant', 'amazing', 'incredible', 'extraordinary',
      'remarkable', 'astonishing', 'terrible', 'horrible', 'devastating',
      'catastrophic', 'beautiful', 'gorgeous', 'magnificent', 'stunning',
      'first', 'second', 'third', 'lastly'
    ]);
    
    const PUNCT_PAUSES = {
      '.': 1.4, '?': 1.5, '!': 1.3, ';': 0.9, ':': 0.8, ',': 0.35,
      '\\u2014': 0.6, '\\u2013': 0.4, '-': 0.1, '"': 0.25, "'": 0.15, '\\u201C': 0.25,
      '\\u201D': 0.25, '\\u2018': 0.15, '\\u2019': 0.15, '(': 0.2, ')': 0.3, '\\u2026': 1.8
    };
    
    // 
    // STATE TRACKING
    // 
    
    let sentencePosition = 0;
    let quoteDepth = 0;
    let prevPunctuation = '';
    
    // 
    // DURATION CALCULATOR (Inlined)
    // 
    
    function calcDuration(word, punct, prevPunct, sentPos, isDialogue) {
        const lowerWord = word.toLowerCase();
        const len = word.length;
        let dur = 1.0;
        
        // Estimate syllables using proven syllable count algorithm
        // (correlates strongly with reading time)
        const syllables = estimateSyllables(word);
        
        // Syllable-based timing (more reliable than character length)
        // Most English words: ~1-2 syllables, average 1.5
        // 1 syllable = 0.85x (faster), 2 syllables = 1.0x (normal), 3+ = 1.0 + 0.2*(n-2)
        if (syllables <= 1) dur *= 0.85;
        else if (syllables === 2) dur *= 1.0;
        else if (syllables >= 3) dur *= (1.0 + (syllables - 2) * 0.2);
        
        // Category-based adjustments (these still apply)
        if (FUNCTION_WORDS.has(lowerWord)) dur *= 0.85;
        if (EMPHASIS_WORDS.has(lowerWord)) dur *= 1.15;
        if (sentPos === 0) dur *= 1.1;
        if (CLAUSE_STARTERS.has(lowerWord)) dur *= 1.05;
        
        // Punctuation (critical for natural pacing)
        if (punct) {
            let pPause = 0;
            for (let c of punct) {
                pPause += PUNCT_PAUSES[c] || 0;
            }
            if (punct.includes('...') || punct.includes('')) pPause = Math.max(pPause, 1.5);
            dur += Math.min(pPause, 2.0);
        }
        
        // Dialogue pacing (slightly faster)
        if (isDialogue) dur *= 0.92;
        
        // Special patterns
        if (/d/.test(word)) dur *= 1.15;  // Numbers take longer to parse
        if (word === word.toUpperCase() && len > 1 && /[A-Z]/.test(word)) dur *= 1.1;
        if (word.includes('-') && len > 5) dur *= 1.05;  // Hyphenated words
        if (word.includes("'") && len < 8) dur *= 0.9;   // Contractions
        
        return Math.max(0.5, Math.min(3.5, dur));
    }
    
    // Syllable counter using proven linguistics algorithm
    // Accuracy ~82% on English text (good enough for timing)
    function estimateSyllables(word) {
        word = word.toLowerCase().replace(/[^a-z]/g, '');
        if (!word) return 1;
        if (word.length <= 3) return 1;
        
        let count = 0;
        let prevWasVowel = false;
        const vowels = 'aeiouy';
        
        for (let i = 0; i < word.length; i++) {
            const isVowel = vowels.includes(word[i]);
            if (isVowel && !prevWasVowel) {
                count++;
            }
            prevWasVowel = isVowel;
        }
        
        // Adjustments for silent 'e' and other patterns
        if (word.endsWith('e')) count--;
        if (word.endsWith('le') && word.length > 2 && !vowels.includes(word[word.length - 3])) count++;
        if (count === 0) count = 1;
        
        return Math.max(1, count);
    }
    
    // 
    // PROCESSING LOOP
    // 
    
    const CHUNK_SIZE = 10000;
    let match;
    const regex = /([^\\s]+)(\\s*)/g;
    const punctuationRegex = /^(.+?)([.,;:!?"')\\]}\\u201C\\u201D\\u2018\\u2019\\u00BB\\u203A\\u2026\\u2014\\u2013-]+)?$/;
    const sentenceEndRegex = /[.?!\\u2026]/;
    const quoteChars = new Set(['"', '\\u201C', '\\u201D', '\\u2018', '\\u2019', "'", '\\u00AB', '\\u00BB']);
    
    function calculateORP(len) {
        if (len <= 1) return 0;
        if (len >= 2 && len <= 5) return 1;
        if (len >= 6 && len <= 10) return 2;
        return 3;
    }
    
    function processChunk() {
        let count = 0;
        
        while (count < CHUNK_SIZE) {
            match = regex.exec(text);
            if (!match) break;
            
            const fullChunk = match[1];
            const trailingSpace = match[2];
            const matchIndex = match.index;
            
            const separationMatch = fullChunk.match(punctuationRegex);
            let wordContent = fullChunk;
            let punctuationStr = "";
            
            if (separationMatch) {
                wordContent = separationMatch[1];
                punctuationStr = separationMatch[2] || "";
            }
            
            const len = wordContent.length;
            const orpIndex = (len <= 10) ? calculateORP(len) : 3;
            const leftSegment = wordContent.slice(0, orpIndex);
            const centerCharacter = wordContent[orpIndex] || "";
            const rightSegment = wordContent.slice(orpIndex + 1);
            
            // Update quote depth for dialogue tracking
            let isDialogue = quoteDepth > 0;
            for (let c of fullChunk) {
                if (c === '"' || c === '\\u201C' || c === '\\u00AB') quoteDepth++;
                else if (c === '"' || c === '\\u201D' || c === '\\u00BB') quoteDepth = Math.max(0, quoteDepth - 1);
            }
            
            // Calculate grammar-aware duration
            const duration = calcDuration(
                wordContent, 
                punctuationStr, 
                prevPunctuation,
                sentencePosition,
                isDialogue
            );
            
            // Track sentence position
            const isSentenceEnd = sentenceEndRegex.test(punctuationStr);
            if (isSentenceEnd) {
                sentencePosition = 0;
            } else {
                sentencePosition++;
            }
            prevPunctuation = punctuationStr;
            
            const isParagraphEnd = trailingSpace.indexOf('\\n') !== -1;
            
            // Add paragraph pause
            let finalDuration = duration;
            if (isParagraphEnd) finalDuration += 1.8;
            
            tokens.push({
                id: 't-' + currentTokenIndex,
                originalText: fullChunk,
                leftSegment,
                centerCharacter,
                rightSegment,
                punctuation: punctuationStr || undefined,
                durationMultiplier: finalDuration,
                isSentenceEnd,
                isParagraphEnd,
                globalIndex: currentTokenIndex,
                startOffset: matchIndex
            });
            
            currentTokenIndex++;
            count++;
        }
        
        if (!match) {
            self.postMessage(tokens);
        } else {
            setTimeout(processChunk, 0);
        }
    }
    
    processChunk();
};
`,JS=QS,Hs=class{static initWorker(){if(!this.worker)try{const n=new Blob([JS],{type:"application/javascript"});this.workerUrl=URL.createObjectURL(n),this.worker=new Worker(this.workerUrl),this.worker.onmessage=i=>{const a=i.data;this.isProcessing=!1,this.pendingResolve&&(this.pendingResolve(a),this.pendingResolve=null,this.pendingReject=null)},this.worker.onerror=i=>{console.error("RSVP Worker Error",i),this.isProcessing=!1,this.pendingReject&&(this.pendingReject(i),this.pendingResolve=null,this.pendingReject=null),this.terminate()}}catch(n){console.error("Failed to initialize RSVP Worker",n)}}static async process(n,i=0){return this.isProcessing&&this.pendingReject&&(this.pendingReject(new Error("Cancelled by new process request")),this.pendingResolve=null,this.pendingReject=null,this.terminate()),this.worker||this.initWorker(),new Promise((a,u)=>{this.pendingResolve=a,this.pendingReject=u,this.isProcessing=!0,this.worker?this.worker.postMessage({text:n,startingIndex:i}):u(new Error("Worker failed to initialize"))})}static terminate(){this.worker&&(this.worker.terminate(),this.worker=null),this.workerUrl&&(URL.revokeObjectURL(this.workerUrl),this.workerUrl=null),this.isProcessing=!1}};Hs.worker=null,Hs.workerUrl=null,Hs.pendingResolve=null,Hs.pendingReject=null,Hs.isProcessing=!1;let KS=Hs;var _r=(o=>(o.IDLE="IDLE",o.PLAYING="PLAYING",o.PAUSED="PAUSED",o.FINISHED="FINISHED",o))(_r||{});class dr{constructor(){this.state="IDLE",this.listeners=new Set,this.lastSavedIndex=-1,this.lastContentRef=null,this.preparationPromise=null,this.wakeLock=null,this.notifyScheduled=!1,this.heartbeat=yr.getInstance(),this.core=$t.getInstance(),this.heartbeat.subscribe(()=>this.handleHeartbeatUpdate()),this.heartbeat.onComplete(()=>{this.state="FINISHED",this.releaseWakeLock(),this.notify()});const n=Sr.getInstance(),i=n.getSettings().rsvpSpeed;this.updateWPM(i),n.subscribe(()=>{const a=n.getSettings().rsvpSpeed;this.heartbeat.wpm!==a&&this.updateWPM(a)}),document.addEventListener("visibilitychange",async()=>{this.wakeLock!==null&&document.visibilityState==="visible"&&this.state==="PLAYING"&&await this.requestWakeLock()})}static getInstance(){return dr.instance||(dr.instance=new dr),dr.instance}async prepare(n,i={}){if(this.lastContentRef===n&&this.heartbeat.tokens.length>0){this.applyConfig(i);return}if(this.preparationPromise)try{if(await this.preparationPromise,this.lastContentRef===n){this.applyConfig(i);return}}catch{}this.preparationPromise=(async()=>{try{const a=await KS.process(n);this.heartbeat.setTokens(a),this.lastContentRef=n}finally{this.preparationPromise=null}})(),await this.preparationPromise,this.applyConfig(i)}applyConfig(n){const i=this.heartbeat.tokens;let a=0;if(n.index!==void 0)a=Math.max(0,Math.min(n.index,i.length-1));else if(n.offset!==void 0){const u=n.offset,c=i.findIndex(f=>f.startOffset>=u);c!==-1?a=c:a=Math.max(0,i.length-1)}else{const u=n.progress??0;a=Math.max(0,Math.min(Math.floor(i.length*u),i.length-1))}this.heartbeat.seek(a),this.state="PAUSED",this.lastSavedIndex=a,this.notify()}togglePlay(){this.state==="PLAYING"?this.pause():this.play()}play(){this.state==="FINISHED"&&(this.heartbeat.seek(0),this.state="PAUSED",jt.impactMedium()),this.heartbeat.tokens.length!==0&&(this.state="PLAYING",this.heartbeat.play(),this.requestWakeLock(),this.notify())}pause(n=!1){if(this.state="PAUSED",this.heartbeat.pause(),this.releaseWakeLock(),!n){const i=this.heartbeat.currentIndex,a=Math.max(0,i-1);a!==i&&this.heartbeat.seek(a)}this.syncProgressToCore(!0),this.notify()}seekRelative(n){const i=this.heartbeat.currentIndex,a=i+n;a!==i&&(this.state==="PLAYING"&&this.pause(!0),this.heartbeat.seek(a),this.syncProgressToCore(!0))}shutdown(n=!0){n&&this.syncProgressToCore(!0),this.heartbeat.stop(),this.state="IDLE",this.releaseWakeLock(),this.lastContentRef=null,this.heartbeat.clear(),this.notify()}updateWPM(n){this.heartbeat.updateWPM(n)}async requestWakeLock(){if("wakeLock"in navigator)try{this.wakeLock=await navigator.wakeLock.request("screen")}catch(n){console.warn("Wake Lock request failed:",n)}}releaseWakeLock(){this.wakeLock&&this.wakeLock.release().then(()=>{this.wakeLock=null}).catch(n=>console.error(n))}handleHeartbeatUpdate(){!this.heartbeat.isPlaying&&this.state==="PLAYING"&&(this.state="PAUSED",this.releaseWakeLock());const n=this.heartbeat.currentIndex;Math.abs(n-this.lastSavedIndex)>=100&&(this.syncProgressToCore(),this.lastSavedIndex=n),this.notify()}syncProgressToCore(n=!1){if(this.heartbeat.tokens.length===0)return;const i=this.heartbeat.currentToken,a=this.heartbeat.currentIndex;i?this.core.syncFromRSVP(i.startOffset,a):a>0&&this.core.saveProgress(a)}subscribe(n){return this.listeners.add(n),()=>this.listeners.delete(n)}notify(){this.notifyScheduled||(this.notifyScheduled=!0,queueMicrotask(()=>{this.notifyScheduled=!1,this.listeners.forEach(n=>n())}))}}class YS{constructor(){this._content="",this.attributes={},this.layoutManagers=[]}get string(){return this._content}set string(n){this._content=n}addLayoutManager(n){this.layoutManagers.push(n)}}class eT{constructor(n){this.widthTracksTextView=!1,this.heightTracksTextView=!1,this.lineFragmentPadding=5,this.size=n}}class Yg{constructor(n){this.textContainers=[],this.id=n}addTextContainer(n){this.textContainers.push(n)}enumerateTextSegments(n,i,a){a({x:0,y:0,width:0,height:0})}}class $t{constructor(){this.listeners=new Set,this.jumpListeners=new Set,this.offsetJumpListeners=new Set,this.progressListeners=new Set,this.isLoading=!1,this.loadingProgress=0,this.currentBook=null,this.currentProgress=0,this.isRSVPMode=!1,this.globalCharacterOffset=0,this.userSelectionOffset=null,this.totalTokens=1,this.chapterTokenOffsets=[],this._loadTimestamp=0,this._lastSavedTokenIndex=-1,this._userIntentionalRewind=!1,this.contentStorage=new YS,this.primaryLayout=new Yg("primary"),this.ghostLayout=new Yg("ghost"),this.configurePipeline(),Sr.getInstance().subscribe(()=>this.updateTypography())}static getInstance(){return $t.instance||($t.instance=new $t),$t.instance}configurePipeline(){this.contentStorage.addLayoutManager(this.primaryLayout),this.contentStorage.addLayoutManager(this.ghostLayout)}async load(n){var i;this._loadTimestamp=Date.now(),this._lastSavedTokenIndex=-1,this._userIntentionalRewind=!1,this.isLoading=!0,this.loadingProgress=.1,this.notify();const a={...n};if(((i=this.currentBook)==null?void 0:i.id)===n.id&&this.contentStorage.string.length>0){a.lastTokenIndex!==void 0&&(this.currentBook.lastTokenIndex=a.lastTokenIndex,this.totalTokens>0&&(this.currentProgress=Math.min(1,a.lastTokenIndex/this.totalTokens))),this.currentBook.bookmarkProgress=a.bookmarkProgress||this.currentProgress,this.isLoading=!1,this.loadingProgress=1,this.notify();return}this.unload(),this.notify(),await new Promise(u=>setTimeout(u,50));try{const u=a.chapters?[...a.chapters]:[];u.sort((p,m)=>p.sortOrder-m.sortOrder),this.chapterTokenOffsets=[];let c=0;const f=[],h=u.length;for(let p=0;p<h;p++){p%3===0&&(this.loadingProgress=.1+.8*(p/h),this.notify(),await new Promise(y=>setTimeout(y,0)));const m=(u[p].content||"").replace(/<(?:.|\n)*?>/gm," ").replace(/&nbsp;/g," ").replace(/\s+/g," ").trim(),g=Ks(m);this.chapterTokenOffsets.push(c),c+=g,f.push(m)}this.totalTokens=Math.max(1,c),this.contentStorage.string=f.join(`

`),this.currentBook=a,a.lastTokenIndex!==void 0?(this.currentBook.lastTokenIndex=a.lastTokenIndex,this.currentProgress=Math.min(1,a.lastTokenIndex/this.totalTokens)):(this.currentProgress=a.bookmarkProgress||0,this.currentProgress>0&&(this.currentBook.lastTokenIndex=Math.floor(this.currentProgress*this.totalTokens))),this.currentBook.bookmarkProgress=this.currentProgress,this.updateTypography(),dr.getInstance().prepare(this.contentStorage.string).catch(()=>{})}catch(u){console.error("[TitanCore] Critical Error loading book:",u)}finally{this.isLoading=!1,this.loadingProgress=1,this.notify()}}unload(){this.currentBook=null,this.contentStorage.string="",this.userSelectionOffset=null,this.isRSVPMode=!1,this.totalTokens=1,this.chapterTokenOffsets=[]}updateTypography(){const n=Sr.getInstance().getSettings();let i='"New York Extra Large", "Times New Roman", serif';n.fontFamily==="SF Pro"&&(i='"SF Pro Rounded", -apple-system, sans-serif'),n.fontFamily==="OpenDyslexic"&&(i='"OpenDyslexic", "Comic Sans MS", sans-serif'),n.fontFamily==="Atkinson Hyperlegible"&&(i='"Atkinson Hyperlegible", sans-serif');const a=n.fontSize<18?"500":n.fontSize>32?"300":"400";this.contentStorage.attributes={fontFamily:i,fontSize:`${n.fontSize}px`,lineHeight:`${n.lineHeight}`,paragraphSpacing:`${n.paragraphSpacing}px`,letterSpacing:"0.2px",fontWeight:a,color:"inherit"},this.notify()}updateLayout(n){this.primaryLayout.textContainers=[];const i=new eT(n);i.widthTracksTextView=!0,this.primaryLayout.addTextContainer(i),this.notify()}saveProgress(n,i=!1){if(!this.currentBook||typeof n!="number"||n<0||n===this._lastSavedTokenIndex&&!i)return;i&&n===0&&(this._userIntentionalRewind=!0);const a=Date.now()-this._loadTimestamp,u=this.currentBook.lastTokenIndex||0;if(n===0&&u>50&&a<3e3&&!this._userIntentionalRewind)return;this._lastSavedTokenIndex=n,this.currentBook.lastTokenIndex=n;let c=0;this.totalTokens>0&&(c=n/this.totalTokens),(isNaN(c)||!isFinite(c))&&(c=0),this.currentProgress=Math.min(1,Math.max(0,c)),this.currentBook.bookmarkProgress=this.currentProgress,this.currentBook.lastOpened=new Date,this.currentProgress>=.99&&(this.currentBook.isFinished=!0),this.progressListeners.forEach(f=>f(this.currentProgress)),this.notify()}restorePosition(n,i){return 0}jump(n){if(this.currentProgress=Math.max(0,Math.min(1,n)),this.currentBook&&this.totalTokens>0){const i=Math.floor(n*this.totalTokens);this.currentBook.lastTokenIndex=i,this.currentBook.bookmarkProgress=this.currentProgress,this.jumpListeners.forEach(a=>a(n)),this.progressListeners.forEach(a=>a(n))}this.notify()}jumpToChapter(n){if(n<0||n>=this.chapterTokenOffsets.length)return;const i=this.chapterTokenOffsets[n];n===0&&(this._userIntentionalRewind=!0),this.currentBook.lastTokenIndex=i,this.totalTokens>0&&(this.currentProgress=i/this.totalTokens,this.currentBook.bookmarkProgress=this.currentProgress),this.jumpListeners.forEach(a=>a(this.currentProgress)),this.progressListeners.forEach(a=>a(this.currentProgress)),this.notify()}syncFromRSVP(n,i){this.globalCharacterOffset=n,this.saveProgress(i),this.offsetJumpListeners.forEach(a=>a(n))}selectText(n){this.userSelectionOffset=n,this.notify()}onJump(n){return this.jumpListeners.add(n),()=>this.jumpListeners.delete(n)}onOffsetJump(n){return this.offsetJumpListeners.add(n),()=>this.offsetJumpListeners.delete(n)}onProgress(n){return this.progressListeners.add(n),()=>this.progressListeners.delete(n)}rectForRange(n){return null}subscribe(n){return this.listeners.add(n),()=>this.listeners.delete(n)}notify(){this.listeners.forEach(n=>n())}}const tT=$.memo(({token:o,isActive:n,theme:i})=>b.jsx("span",{id:`w-$${o.globalIndex}`,"data-idx":o.globalIndex,"data-off":o.startOffset,className:`inline py-0.5 rounded-[2px] cursor-pointer select-none transition-colors duration-200 $${n?"":"hover:opacity-60"}`,style:{backgroundColor:n?i.accent:"transparent",color:n?"#FFFFFF":"inherit",boxDecorationBreak:"clone",WebkitBoxDecorationBreak:"clone"},children:o.originalText})),rT=$.memo(({text:o,settings:n,startTokenIndex:i,onParagraphClick:a})=>b.jsx("p",{id:`p-$${i}`,"data-start-index":i,onClick:()=>a(i),className:"max-w-[60ch] mx-auto box-border relative cursor-pointer hover:opacity-100 transition-opacity scroll-mt-32",style:{fontSize:`$${n.fontSize}px`,lineHeight:n.lineHeight,marginBottom:n.paragraphSpacing,fontFamily:n.fontFamily==="New York"?"serif":"sans-serif",color:"inherit",opacity:.9,whiteSpace:"pre-line",textAlign:"justify",hyphens:"auto",WebkitHyphens:"auto"},children:o})),nT=$.memo(({tokens:o,activeIndex:n,onWordClick:i,settings:a,theme:u,startTokenIndex:c})=>{const f=$.useCallback(h=>{const p=h.target;if(p.dataset.idx){h.stopPropagation();const m=parseInt(p.dataset.idx||"-1"),g=parseInt(p.dataset.off||"0");m>=0&&i(m,g)}},[i]);return b.jsx("p",{id:`p-$${c}`,"data-start-index":c,onClick:f,className:"max-w-[60ch] mx-auto box-border relative scroll-mt-32",style:{fontSize:`$${a.fontSize}px`,lineHeight:a.lineHeight,marginBottom:a.paragraphSpacing,fontFamily:a.fontFamily==="New York"?"serif":"sans-serif",opacity:.9,whiteSpace:"pre-line",textAlign:"justify",hyphens:"auto",WebkitHyphens:"auto"},children:o.map((h,p)=>b.jsxs(Wa.Fragment,{children:[b.jsx(tT,{token:h,isActive:h.globalIndex===n,theme:u})," "]},h.id))})}),sT=$.memo(({sectionIndex:o,paragraphs:n,activeParagraphIndex:i,activeIndex:a,onWordClick:u,onParagraphClick:c,settings:f,theme:h})=>b.jsx("div",{children:n.map((p,m)=>{const g=o*30+m;return Math.abs(g-i)<=1?b.jsx(nT,{startTokenIndex:p.startIndex,tokens:p.tokens,activeIndex:a,onWordClick:u,settings:f,theme:h},g):b.jsx(rT,{text:p.plainText,settings:f,startTokenIndex:p.startIndex,onParagraphClick:c},g)})})),oT=({book:o,onToggleChrome:n,onRequestRSVP:i,isActive:a})=>{const u=$t.getInstance(),c=dr.getInstance(),f=yr.getInstance(),h=Nt(),{settings:p}=ro(),m=$.useRef(null),[g,y]=$.useState([]),[w,k]=$.useState(-1),j=$.useRef(-1),[S,A]=$.useState(!1),[_,C]=$.useState(0),[E,F]=$.useState(!1),L=$.useRef(!1),B=$.useRef(null);$.useRef(null);const M=$.useCallback(O=>{k(O),j.current=O},[]),q=$.useCallback((O,le)=>{if(!m.current)return;let re=document.getElementById(`w-$${O}`);if(!re){const ce=Array.from(m.current.querySelectorAll("p[data-start-index]"));let Te=null,Ee=-1;for(const be of ce){const ke=parseInt(be.dataset.startIndex||"-1");ke<=O&&ke>Ee&&(Te=be,Ee=ke)}re=Te}if(!re){if(u.totalTokens>0){const ce=O/u.totalTokens,Te=m.current.scrollHeight*ce;m.current.scrollTo({top:Te,behavior:le?"smooth":"instant"})}return}L.current=!0;const me=m.current,P=me.clientHeight*.15;let R=re.offsetTop,ee=re.offsetParent;for(;ee&&ee!==me;)R+=ee.offsetTop,ee=ee.offsetParent;const ne=R-P;me.scrollTo({top:Math.max(0,ne),behavior:le?"smooth":"instant"}),setTimeout(()=>{L.current=!1},le?600:100)},[]);$.useEffect(()=>{var O;"scrollRestoration"in history&&(history.scrollRestoration="manual"),A(!1),F(!1),L.current=!0;const le=(((O=u.currentBook)==null?void 0:O.id)===o.id?u.currentBook.lastTokenIndex:void 0)??o.lastTokenIndex;le!==void 0&&M(le);const re=u.subscribe(()=>{C(u.loadingProgress)});return(async()=>{var me;if(A(!1),F(!1),C(0),y([]),!o.chapters||o.chapters.length===0){console.error("[TitanReaderView] Book has no chapters! This indicates a data loading issue.",{bookId:o.id,title:o.title,hasChapters:!!o.chapters,chaptersLength:(me=o.chapters)==null?void 0:me.length}),A(!0),F(!0);return}try{await u.load(o);const P=u.contentStorage.string;P||console.warn("[TitanReaderView] Loaded book has no content string."),await c.prepare(P,{progress:0})}catch(P){console.error("[TitanReaderView] Initialization pipeline failed:",P)}finally{const P=f.tokens;y(P),A(!0),requestAnimationFrame(()=>{F(!0)})}})(),()=>re()},[o.id,M]),$.useEffect(()=>{const O=()=>{var P;const R=(P=u.currentBook)==null?void 0:P.lastTokenIndex;if(R===void 0)return;const ee=Math.abs(R-j.current);if(ee>0&&(M(R),ee>10)){const ne=u.isRSVPMode;q(R,ne)}},le=P=>{if(u.totalTokens>0){const R=Math.floor(P*u.totalTokens);M(R),q(R,u.isRSVPMode)}},re=u.subscribe(O),me=u.onJump(le);return()=>{re(),me()}},[M,q]),$.useEffect(()=>{const O=dr.getInstance(),le=yr.getInstance();let re=O.state;const me=()=>{const R=O.state;if(re==="PLAYING"&&R==="PAUSED"){const ee=le.currentIndex;M(ee),q(ee,!0)}re=R},P=O.subscribe(me);return()=>P()},[M,q]),$.useLayoutEffect(()=>{!S||g.length===0||requestAnimationFrame(()=>{var O;const le=(((O=u.currentBook)==null?void 0:O.id)===o.id?u.currentBook.lastTokenIndex:o.lastTokenIndex)??-1;le<=10?(m.current&&(m.current.scrollTop=0),setTimeout(()=>{F(!0),L.current=!1},100)):(q(le,!1),setTimeout(()=>F(!0),100))})},[S,g.length,o.id,q]);const H=$.useRef(null),ie=$.useRef(-1),ge=$.useCallback(O=>{ie.current=O,H.current&&clearTimeout(H.current),H.current=window.setTimeout(()=>{ie.current>=0&&u.saveProgress(ie.current),H.current=null},500)},[]);$.useEffect(()=>()=>{H.current&&(ie.current>=0&&u.saveProgress(ie.current),clearTimeout(H.current))},[]),$.useEffect(()=>{var O;if(!E||!a){B.current&&B.current.disconnect();return}B.current&&B.current.disconnect();const le=P=>{if(!L.current){for(const R of P)if(R.isIntersecting){const ee=R.target,ne=parseInt(ee.dataset.startIndex||"-1");if(ne>=0){M(ne),ge(ne);break}}}},re={root:m.current,rootMargin:"-10% 0px -60% 0px",threshold:0};B.current=new IntersectionObserver(le,re);const me=(O=m.current)==null?void 0:O.querySelectorAll("p[data-start-index]");return me==null||me.forEach(P=>{var R;return(R=B.current)==null?void 0:R.observe(P)}),()=>{var P;return(P=B.current)==null?void 0:P.disconnect()}},[E,g.length,M]);const D=$.useMemo(()=>{const O=[];let le=[],re=-1;for(const me of g)le.length===0&&(re=me.globalIndex),le.push(me),me.isParagraphEnd&&(O.push({tokens:le,startIndex:re,plainText:le.map(P=>P.originalText).join(" ")}),le=[]);return le.length>0&&O.push({tokens:le,startIndex:re===-1?0:re,plainText:le.map(me=>me.originalText).join(" ")}),O},[g]),Y=$.useCallback((O,le)=>{M(O),u.saveProgress(O),i&&i(le,O)},[i,M]),T=$.useCallback(O=>{M(O),u.saveProgress(O)},[M]),oe=$.useMemo(()=>D.findIndex(O=>w>=O.startIndex&&w<O.startIndex+O.tokens.length),[D,w]),G=$.useMemo(()=>{const O=[];for(let le=0;le<D.length;le+=30)O.push(D.slice(le,le+30));return O},[D]);return b.jsxs("div",{ref:m,className:"absolute inset-0 z-10 w-full h-full overflow-y-auto overflow-x-hidden custom-scrollbar box-border",style:{backgroundColor:h.background,color:h.primaryText,scrollBehavior:"auto",WebkitOverflowScrolling:"touch",touchAction:"pan-y",overscrollBehaviorY:"contain",transform:"translateZ(0)"},onClick:O=>{O.target===O.currentTarget&&n()},children:[!S&&b.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[100] pointer-events-auto",style:{backgroundColor:h.background},children:b.jsxs("div",{className:"flex flex-col items-center gap-6",children:[b.jsxs("div",{className:"w-12 h-12 relative",children:[b.jsx("div",{className:"absolute inset-0 rounded-full border-2 opacity-20",style:{borderColor:h.accent}}),b.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-t-transparent animate-spin",style:{borderColor:h.accent,borderTopColor:"transparent"}})]}),b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("span",{className:"text-sm font-bold tracking-widest lowercase",style:{color:h.secondaryText},children:"loading"}),b.jsxs("span",{className:"text-xs font-mono mt-1 opacity-50",style:{color:h.primaryText},children:[Math.floor(_*100),"%"]})]})]})}),S&&g.length===0&&b.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[50] pointer-events-auto",style:{backgroundColor:h.background},children:b.jsxs("div",{className:"flex flex-col items-center gap-4 px-8 text-center",children:[b.jsx("div",{className:"text-4xl opacity-30",children:""}),b.jsx("span",{className:"text-lg font-medium",style:{color:h.secondaryText},children:"No content available"}),b.jsx("span",{className:"text-sm opacity-60",style:{color:h.secondaryText},children:"This book appears to be empty or failed to load."}),b.jsxs("div",{className:"mt-4 flex gap-3",children:[b.jsx("button",{className:"px-4 py-2 rounded bg-zune-ember text-white text-sm shadow",onClick:async()=>{try{const O=(await Au(async()=>{const{TitanStorage:me}=await Promise.resolve().then(()=>FS);return{TitanStorage:me}},void 0)).TitanStorage.getInstance(),le=(await Au(async()=>{const{IngestionService:me}=await Promise.resolve().then(()=>LS);return{IngestionService:me}},void 0)).IngestionService.getInstance(),re=await O.getSource(o.id);if(re){const me=new File([re],`$${o.title||"book"}.epub`,{type:"application/epub+zip"}),P=await le.ingest(me);await O.saveBook(P),await O.saveSource(P.id,re),window.location.reload();return}if(o.id==="guide-book-v1"){const me=(await Au(async()=>{const{generateMockBooks:P}=await Promise.resolve().then(()=>mT);return{generateMockBooks:P}},void 0)).generateMockBooks().find(P=>P.id==="guide-book-v1");if(me){await O.saveBook(me),window.location.reload();return}}alert("Repair failed: no source available to re-ingest. Try re-importing the book or use the Library to open a different title.")}catch(O){console.error("Repair failed",O),alert("Repair failed  see console for details.")}},children:"Repair book"}),b.jsx("button",{className:"px-4 py-2 rounded border border-neutral-700 text-sm",onClick:()=>{m.current&&(m.current.scrollTop=0)},children:"Scroll to top"})]})]})}),b.jsxs("div",{className:"w-full min-h-[100dvh] px-6 md:px-0 py-24 md:py-32 box-border relative",children:[G.map((O,le)=>b.jsx(sT,{sectionIndex:le,paragraphs:O,activeParagraphIndex:oe,activeIndex:w,onWordClick:Y,onParagraphClick:T,settings:p,theme:h},le)),b.jsx("div",{className:"h-[40vh]"})]})]})},iT=({onTap:o,onLongPressExit:n,onRewindStateChange:i})=>{const a=dr.getInstance(),u=yr.getInstance(),c=Nt(),{settings:f}=ro(),h=$.useRef(null),p=$.useRef(null),[m,g]=$.useState(0),[y,w]=$.useState([]),[k,j]=$.useState(!1),[S,A]=$.useState(0),[_,C]=$.useState(!1),E=$.useRef(-1),F=$.useRef([]),L=$.useRef({x:0,y:0,time:0}),B=$.useRef(null),M=$.useRef(null),q=$.useRef(0),H=$.useRef(new Map),ie=300,ge="#E25822",D=35.5,Y="clamp(2.5rem, 10vw, 4rem)";$.useEffect(()=>{w(u.tokens),F.current=u.tokens,E.current=u.currentIndex,g(u.currentIndex),j(a.state===_r.PLAYING);const be=()=>{const Se=u.currentIndex,ze=a.state===_r.PLAYING,Ne=u.tokens;j(ze);const x=Ne!==F.current,se=Se!==E.current;x&&(w(Ne),F.current=Ne),se&&(E.current=Se,g(Se))},ke=a.subscribe(be),ye=u.subscribe(be);return be(),()=>{ke(),ye()}},[]);const T=$.useMemo(()=>y[m]||null,[y,m]),oe=!k||f.showGhostPreview,G=5,O=$.useMemo(()=>{if(y.length===0)return[];if(!oe)return T?[{token:T,globalIdx:m}]:[];const be=Math.max(0,m-G),ke=Math.min(y.length-1,m+G);return y.slice(be,ke+1).map((ye,Se)=>({token:ye,globalIdx:be+Se}))},[y,m,oe,G,T]);$.useLayoutEffect(()=>{var be;if(!p.current)return;const ke=p.current,ye=Array.from(ke.children),Se=(((be=h.current)==null?void 0:be.clientWidth)||window.innerWidth)*(D/100);H.current.clear(),ye.forEach(Ne=>{const x=parseInt(Ne.dataset.idx||"0"),se=Ne.getBoundingClientRect(),V=ke.getBoundingClientRect(),z=se.left-V.left;let N=z+se.width/2;if(x===m&&T){const W=T.originalText,de=ee(W);try{const he=Ne.querySelector&&Ne.querySelector("span:nth-child(2)")||null;if(he&&he.getBoundingClientRect){const Q=he.getBoundingClientRect();N=(Q.left+Q.right)/2-V.left}else if(W.length>0){const Q=se.width/W.length,ve=de*Q+Q/2;N=z+ve}}catch{const he=se.width/Math.max(1,W.length),Q=de*he+he/2;N=z+Q}}H.current.set(x,{left:z,width:se.width,center:N})});const ze=H.current.get(m);ze&&A(Se-ze.center)},[O,m,T]),$.useEffect(()=>()=>{B.current&&clearTimeout(B.current),M.current&&clearInterval(M.current)},[]);const le=be=>{var ke,ye;be.stopPropagation(),(ye=(ke=be.target).setPointerCapture)==null||ye.call(ke,be.pointerId);const Se=be.target,ze=Se.dataset.idx?parseInt(Se.dataset.idx):null;if(ze!==null){u.seek(ze),g(ze),jt.impactMedium();return}if(!k){n==null||n();return}L.current={x:be.clientX,y:be.clientY,time:Date.now()},B.current=setTimeout(()=>{C(!0),jt.impactLight(),q.current=m,a.pause(),M.current=setInterval(()=>{q.current=Math.max(0,q.current-1),g(q.current),jt.selectionChanged()},300)},ie)},re=be=>{if(_){const ke=Math.abs(be.clientX-L.current.x),ye=Math.abs(be.clientY-L.current.y);(ke>50||ye>50)&&R()}},me=be=>{var ke,ye;(ye=(ke=be.target).releasePointerCapture)==null||ye.call(ke,be.pointerId),B.current&&(clearTimeout(B.current),B.current=null),R()},P=be=>{var ke,ye;(ye=(ke=be.target).releasePointerCapture)==null||ye.call(ke,be.pointerId),B.current&&(clearTimeout(B.current),B.current=null),R()},R=()=>{_&&(M.current&&(clearInterval(M.current),M.current=null),C(!1),u.pause(),u.currentIndex=Math.max(0,Math.min(q.current,u.tokens.length-1)),u.notify(),a.play(),jt.impactMedium())};if($.useEffect(()=>{!_&&m!==u.currentIndex&&g(u.currentIndex)},[_]),$.useEffect(()=>{i==null||i(_)},[_,i]),!T)return null;const ee=be=>{const ke=Math.max(1,be.length);if(ke<=3)return 0;const ye=Math.floor(ke*.3);return Math.min(ke-1,Math.max(0,ye))},ne=ee(T.originalText),ce=T.originalText.slice(0,ne),Te=T.originalText[ne]||"",Ee=T.originalText.slice(ne+1);return b.jsxs("div",{ref:h,className:"absolute inset-0 select-none overflow-hidden touch-none",style:{backgroundColor:c.background},onPointerDown:le,onPointerMove:re,onPointerUp:me,onPointerCancel:P,onPointerLeave:P,children:[b.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundColor:c.background,opacity:.95}}),b.jsx("div",{className:"absolute inset-0 z-10 pointer-events-none",style:{background:`radial-gradient(ellipse 80% 50% at ${D}% 42%, transparent 0%, ${c.background} 100%)`}}),b.jsx("div",{className:"absolute top-[20%] bottom-[20%] w-[2px] z-0 pointer-events-none transition-all duration-200",style:{left:`${D}%`,backgroundColor:ge,opacity:_?.6:.15,boxShadow:_?`0 0 30px ${ge}80`:"none"}}),b.jsxs("div",{className:"absolute inset-x-0 top-[42%] -translate-y-1/2 flex items-center justify-start overflow-visible z-20",children:[oe&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"absolute left-0 top-[-50%] bottom-[-50%] w-32 z-30 pointer-events-none",style:{background:`linear-gradient(to right, ${c.background}, transparent)`}}),b.jsx("div",{className:"absolute right-0 top-[-50%] bottom-[-50%] w-32 z-30 pointer-events-none",style:{background:`linear-gradient(to left, ${c.background}, transparent)`}})]}),b.jsx("div",{ref:p,className:"flex items-baseline gap-5 whitespace-nowrap",style:{transform:`translateX(${S}px)`,transition:_?"transform 0.05s linear":"none",opacity:_?.85:1},children:O.map(({token:be,globalIdx:ke})=>{const ye=ke===m,Se=Math.abs(ke-m),ze=Math.max(.12,.55-Se*.1);return ye?b.jsxs("span",{"data-idx":ke,className:"inline-flex items-baseline font-sans font-semibold cursor-pointer transition-opacity hover:opacity-100",style:{fontSize:Y},children:[b.jsx("span",{style:{color:c.primaryText},children:ce}),b.jsx("span",{style:{color:ge,textShadow:_?`0 0 10px ${ge}60`:`0 0 20px ${ge}40`},children:Te}),b.jsx("span",{style:{color:c.primaryText},children:Ee}),be.punctuation&&b.jsx("span",{style:{color:c.secondaryText,opacity:.5,marginLeft:"1px"},children:be.punctuation})]},be.id):b.jsx("span",{"data-idx":ke,className:"font-sans cursor-pointer transition-opacity hover:opacity-100",style:{fontSize:Y,fontWeight:400,color:c.primaryText,opacity:ze},children:be.originalText},be.id)})})]})]})},aT=({book:o,currentProgress:n,preciseThresholds:i,onSelectChapter:a,onSelect:u,onClose:c,readSpeed:f})=>{const h=Nt(),p=$.useRef(null),m=$.useMemo(()=>!o.chapters||o.chapters.length===0?[]:o.chapters.map((k,j)=>{const S=i[j]??0;let A=k.title.trim();const _=A.match(/^(?:chapter|part|book|letter|section)\s+(?:[\divxlcdm]+)\s*[:.-]\s+(.+)$/i),C=A.match(/^\d+\.\s+(.+)$/i);_&&_[1]?A=_[1]:C&&C[1]&&(A=C[1]);const E=Math.ceil(k.wordCount/f);return{original:k,index:j,cleanTitle:A,startProgress:S,durationLabel:E<1?"< 1m":`${E}m`}}),[o,f,i]),g=$.useMemo(()=>{let k=0;for(let j=0;j<m.length&&n>=m[j].startProgress-1e-4;j++)k=j;return k},[m,n]);$.useEffect(()=>{if(p.current){const k=Math.max(0,g*64-100);p.current.scrollTo({top:k,behavior:"smooth"})}},[]);const y=k=>{jt.impactMedium(),a?a(k):u&&u(m[k].startProgress),c()},w=$.useRef(Date.now());return b.jsxs("div",{className:"absolute bottom-full mb-4 left-2 right-2 z-50 flex flex-col max-h-[60vh] rounded-3xl overflow-hidden shadow-2xl border backdrop-blur-3xl origin-bottom animate-slideUp",style:{backgroundColor:`${h.dimmer}f5`,borderColor:h.borderColor},children:[b.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b shrink-0",style:{borderColor:h.borderColor},children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-base font-bold lowercase",style:{color:h.primaryText},children:"chapters"}),b.jsxs("span",{className:"text-[10px] opacity-40",style:{color:h.secondaryText},children:[m.length," ",m.length!==1?"sections":"section"]})]}),b.jsx("button",{onClick:c,className:"w-11 h-11 rounded-full flex items-center justify-center transition-all active:scale-95",style:{backgroundColor:`${h.primaryText}08`,color:h.primaryText},children:b.jsx(Zu,{size:20})})]}),b.jsx("div",{ref:p,className:"overflow-y-auto custom-scrollbar px-2 pb-4 pt-1",children:m.map((k,j)=>{const S=j===g;return b.jsxs("button",{onClick:()=>y(k.index),className:`w-full text-left flex items-center gap-3 p-3 rounded-2xl transition-all duration-200 group ${S?"shadow-md":"hover:bg-white/5 opacity-50"}`,style:{backgroundColor:S?h.surface:"transparent"},children:[b.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 transition-all ${S?"bg-white/5":"bg-transparent"}`,style:{color:S?h.accent:h.secondaryText},children:S?b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-0 bg-current opacity-30 animate-ping rounded-full"}),b.jsx("div",{className:"w-2.5 h-2.5 bg-current rounded-full"})]}):b.jsx("span",{className:"text-xs font-semibold opacity-40 tabular-nums",children:j+1})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("h4",{className:"text-sm font-semibold truncate lowercase",style:{color:h.primaryText},children:k.cleanTitle}),k.cleanTitle!==k.original.title&&b.jsx("span",{className:"text-[10px] opacity-30 truncate block",style:{color:h.primaryText},children:k.original.title})]}),b.jsx("div",{className:"flex items-center gap-1 opacity-40 shrink-0",style:{color:h.primaryText},children:b.jsx("span",{className:"text-[11px] font-medium tabular-nums",children:k.durationLabel})})]},k.original.id)})})]},w.current)},lT=({book:o,onToggleRSVP:n,isRSVPActive:i,isRewinding:a=!1,onSettingsClick:u})=>{const c=$t.getInstance(),f=dr.getInstance(),h=yr.getInstance(),{settings:p,updateSettings:m}=ro(),g=Nt(),[y,w]=$.useState(!1),[k,j]=$.useState(!1),[S,A]=$.useState(0),[_,C]=$.useState(0),[E,F]=$.useState(!1),L=$.useRef(!1),B=$.useRef(null),M=$.useRef(null),q=$.useRef(null),H=$.useRef(!1),ie=$.useRef(null),ge=$.useRef(0),D=$.useRef(0),Y=$.useRef(!1),T=$.useRef(0),oe=$.useRef(0),G=g.accent,O=$.useMemo(()=>{if(c.chapterTokenOffsets.length>0&&c.totalTokens>0)return c.chapterTokenOffsets.map(ze=>ze/c.totalTokens);if(!o.chapters||o.chapters.length===0)return[];const ye=o.chapters.reduce((ze,Ne)=>ze+Ne.wordCount,0);if(ye===0)return o.chapters.map((ze,Ne)=>Ne/o.chapters.length);let Se=0;return o.chapters.map(ze=>{const Ne=Se/ye;return Se+=ze.wordCount,Ne})},[o,c.chapterTokenOffsets,c.totalTokens]),le=$.useCallback(ye=>{const Se=Math.max(1,h.tokens.length||c.totalTokens),ze=Math.floor(ye*Se),Ne=Se-ze,x=p.rsvpSpeed||250,se=Math.ceil(Ne/x);if(se<1)return"< 1m";if(se>=60){const V=Math.floor(se/60),z=se%60;return`${V}h ${z}m`}return`${se}m`},[p.rsvpSpeed,h.tokens.length,c.totalTokens]),re=$.useCallback(ye=>{if(!o.chapters||o.chapters.length===0)return"";let Se=0;for(let V=O.length-1;V>=0;V--)if(ye>=O[V]-1e-4){Se=V;break}const ze=o.chapters[Se];if(!ze)return"";const Ne=ze.title.trim(),x=Ne.match(/^(?:chapter|part|book|letter|section)\s+(?:[\divxlcdm]+)\s*[:.-]\s+(.+)$/i),se=Ne.match(/^\d+\.\s+(.+)$/i);return x&&x[1]?x[1]:se&&se[1]?se[1]:Ne},[o.chapters,O]),me=$.useRef(0),P=$.useCallback(ye=>{const Se=Math.max(0,Math.min(1,ye));B.current&&(B.current.style.width=`${Se*100}%`),q.current&&(q.current.style.left=`${Se*100}%`,q.current.style.transform="translateX(-50%)"),!L.current&&(Math.abs(Se-me.current)>.005||Se===0||Se===1)&&(me.current=Se,C(Se))},[]);$.useEffect(()=>{const ye=()=>{w(f.state===_r.PLAYING)},Se=N=>{H.current||P(N)},ze=()=>{if(!H.current&&c.isRSVPMode&&h.tokens.length>0){const N=h.currentIndex/h.tokens.length;P(N)}};ye();const Ne=c.isRSVPMode&&h.tokens.length>0?h.currentIndex/h.tokens.length:c.currentProgress;me.current=Ne,C(Ne),P(Ne);const x=c.subscribe(ye),se=f.subscribe(ye),V=c.onProgress(Se),z=h.subscribe(ze);return()=>{x(),se(),V(),z()}},[P]);const R=ye=>{if(ye.preventDefault(),ye.stopPropagation(),j(!0),H.current=!0,ge.current=ye.clientY,M.current){const Se=M.current.getBoundingClientRect();D.current=Math.max(0,Math.min(1,(ye.clientX-Se.left)/Se.width))}Y.current=f.state===_r.PLAYING,Y.current&&f.pause(),ce(ye.clientX,ye.clientY,!1),ye.target.setPointerCapture(ye.pointerId)},ee=ye=>{H.current&&(ye.preventDefault(),ie.current&&cancelAnimationFrame(ie.current),ie.current=requestAnimationFrame(()=>{ce(ye.clientX,ye.clientY,!0)}))},ne=ye=>{if(H.current){if(ie.current&&cancelAnimationFrame(ie.current),j(!1),H.current=!1,ye.target.releasePointerCapture(ye.pointerId),M.current){const Se=M.current.getBoundingClientRect(),ze=Math.max(0,Math.min(1,(ye.clientX-Se.left)/Se.width));Te(ze)}Y.current&&f.play()}},ce=(ye,Se,ze)=>{if(!M.current)return;const Ne=M.current.getBoundingClientRect();let x=(ye-Ne.left)/Ne.width;if(ze){const V=Math.abs(Se-ge.current);let z=1;V>200?z=.1:V>100?z=.3:V>50&&(z=.6),z<1&&(x=D.current+(x-D.current)*z)}const se=Math.max(0,Math.min(1,x));if(A(V=>(O.some(z=>V<z&&se>=z||V>z&&se<=z)&&jt.impactLight(),se)),P(se),c.isRSVPMode){const V=Math.max(1,h.tokens.length);h.seek(Math.floor(se*V))}else c.jump(se)},Te=ye=>{if(c.isRSVPMode){const Se=Math.max(1,h.tokens.length);h.seek(Math.floor(ye*Se))}else c.jump(ye)},Ee=ye=>{ye.stopPropagation();const Se=Date.now();Se-T.current<300||(T.current=Se,navigator.vibrate&&navigator.vibrate(10),n())},be=ye=>{const Se=Date.now();if(Se-oe.current<80)return;oe.current=Se,jt.impactLight();const ze=p.rsvpSpeed||250,Ne=Math.max(50,Math.min(2e3,ze+ye));m({rsvpSpeed:Ne,hasCustomSpeed:!0})},ke=ye=>{if(jt.impactMedium(),c.isRSVPMode){if(ye<c.chapterTokenOffsets.length){const Se=c.chapterTokenOffsets[ye];h.seek(Se),c.jumpToChapter(ye)}}else c.jumpToChapter(ye)};return b.jsxs("div",{className:"w-full relative pointer-events-auto",children:[E&&b.jsx(aT,{book:o,currentProgress:_,readSpeed:p.rsvpSpeed,preciseThresholds:O,onSelectChapter:ye=>ke(ye),onClose:()=>{L.current=!1,F(!1)}}),k&&!E&&b.jsx("div",{className:"absolute -top-12 left-0 right-0 flex justify-center pointer-events-none z-50",style:{animation:"fadeIn 300ms cubic-bezier(0.16, 1, 0.3, 1)"},children:b.jsxs("div",{className:"px-4 py-1.5 rounded-full shadow-xl border backdrop-blur-md text-xs font-bold font-variant-numeric tabular-nums flex items-center gap-2",style:{backgroundColor:g.surface,borderColor:g.borderColor,color:g.primaryText},children:[b.jsxs("span",{children:[(S*100).toFixed(0),"%"]}),b.jsx("span",{className:"opacity-30",children:"|"}),b.jsx("span",{className:"lowercase",children:le(S)})]})}),b.jsxs("div",{className:"w-full backdrop-blur-2xl rounded-3xl shadow-2xl border overflow-hidden",style:{backgroundColor:`${g.surface}f5`,borderColor:g.borderColor},children:[b.jsxs("button",{onClick:()=>{jt.impactLight(),!E&&f.state===_r.PLAYING&&f.pause();const ye=!E;L.current=ye,F(ye)},className:"w-full flex justify-between items-center px-5 pt-2.5 pb-0 text-[10px] font-medium select-none hover:opacity-100 transition-opacity active:scale-[0.99]",style:{color:g.primaryText,opacity:E?.8:.4},children:[b.jsxs("div",{className:"flex items-center gap-1.5 truncate max-w-[70%]",children:[b.jsx(tS,{size:10,className:"opacity-60"}),b.jsx("span",{className:"truncate lowercase",children:re(_)})]}),b.jsx("span",{className:"tabular-nums opacity-60 text-[9px]",children:le(_)})]}),b.jsx("div",{className:"relative h-4 w-full cursor-pointer group touch-none z-20",onPointerDown:R,onPointerMove:ee,onPointerUp:ne,onPointerCancel:ne,children:b.jsxs("div",{ref:M,className:"absolute inset-x-6 inset-y-0 flex items-center",children:[b.jsxs("div",{className:"w-full h-[1.5px] rounded-full overflow-hidden relative",style:{backgroundColor:g.primaryText+"08"},children:[b.jsx("div",{ref:B,className:"absolute top-0 left-0 bottom-0 h-full will-change-transform rounded-full",style:{width:"0%",backgroundColor:G}}),$.useMemo(()=>O.map((ye,Se)=>b.jsx("div",{className:"absolute top-0 bottom-0 w-[1px] bg-white/10",style:{left:`${ye*100}%`}},Se)),[O])]}),b.jsx("div",{ref:q,className:`absolute top-1/2 w-3.5 h-3.5 -mt-[7px] rounded-full shadow-lg border-2 border-white transition-all duration-200 will-change-transform ${k?"scale-125":"scale-0 group-hover:scale-75"}`,style:{left:"0%",backgroundColor:g.accent,boxShadow:`0 0 10px ${g.accent}33`}})]})}),b.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center px-5 pb-4 pt-0.5",children:[b.jsxs("div",{className:"flex items-center h-11 rounded-xl overflow-hidden border",style:{borderColor:g.borderColor,backgroundColor:`${g.primaryText}05`},children:[b.jsx("button",{onClick:()=>be(-25),className:"w-11 h-full flex items-center justify-center hover:bg-white/5 active:scale-90 transition-all outline-none",style:{color:g.secondaryText},children:b.jsx(C0,{size:16})}),b.jsx("div",{className:"w-px h-5",style:{backgroundColor:g.borderColor}}),b.jsx("div",{className:"px-2 text-center flex items-center justify-center min-w-[44px]",children:b.jsx("span",{className:"font-variant-numeric tabular-nums text-xs font-semibold",style:{color:g.primaryText},children:p.rsvpSpeed})}),b.jsx("div",{className:"w-px h-5",style:{backgroundColor:g.borderColor}}),b.jsx("button",{onClick:()=>be(25),className:"w-11 h-full flex items-center justify-center hover:bg-white/5 active:scale-90 transition-all outline-none",style:{color:g.secondaryText},children:b.jsx(Ed,{size:16})})]}),b.jsx("div",{className:"flex items-center justify-center px-4",children:b.jsx("button",{onClick:Ee,className:"w-12 h-12 rounded-full flex items-center justify-center shadow-lg relative text-white border border-white/10 hover:scale-105 active:scale-95 transition-all outline-none",style:{backgroundColor:G,boxShadow:`0 6px 24px -4px ${G}66`},children:a?b.jsx(bS,{size:20,className:"fill-white animate-pulse"}):i&&y?b.jsx(cS,{size:20,className:"fill-white"}):b.jsx(Cd,{size:20,className:"fill-white ml-0.5"})})}),b.jsxs("div",{className:"flex items-center gap-2",children:[i&&b.jsx("button",{className:"flex items-center justify-center w-11 h-11 rounded-xl border transition-all outline-none active:scale-95",style:{borderColor:p.showGhostPreview?g.accent+"40":g.borderColor,backgroundColor:p.showGhostPreview?`${g.accent}15`:`${g.primaryText}05`,color:p.showGhostPreview?g.accent:g.secondaryText},onClick:ye=>{ye.stopPropagation(),jt.impactLight(),m({showGhostPreview:!p.showGhostPreview})},title:p.showGhostPreview?"Hide word preview":"Show word preview",children:b.jsx(Pd,{size:16,className:p.showGhostPreview?"fill-current":""})}),b.jsxs("button",{className:"flex items-center justify-center h-11 gap-2 rounded-xl border hover:bg-white/5 active:scale-95 transition-all outline-none px-3",style:{borderColor:g.borderColor,backgroundColor:`${g.primaryText}05`},onClick:ye=>{ye.stopPropagation(),u()},children:[b.jsx(si,{size:16,style:{color:g.secondaryText}}),b.jsx("div",{className:"w-px h-4",style:{backgroundColor:g.borderColor}}),b.jsxs("div",{className:"flex items-baseline gap-0.5 opacity-60",children:[b.jsx(si,{size:14,style:{color:g.secondaryText}}),b.jsx(si,{size:10,style:{color:g.secondaryText}})]})]})]})]})]})]})},cT=({book:o,onClose:n})=>{const i=$t.getInstance(),a=dr.getInstance(),u=yr.getInstance(),c=Nt(),[f,h]=$.useState(!0),[p,m]=$.useState(!1),[g,y]=$.useState(!1),[w,k]=$.useState(!1),[j,S]=$.useState(0),[A,_]=$.useState(!1),[C,E]=$.useState(!1),F=$.useRef(!1),L=$.useRef(!1);$.useEffect(()=>{m(i.isRSVPMode);const ge=()=>{m(i.isRSVPMode),y(a.state===_r.PLAYING),S(i.currentProgress)},D=i.subscribe(ge),Y=a.subscribe(ge);return ge(),()=>{D(),Y()}},[]),$.useEffect(()=>()=>{a.shutdown(i.isRSVPMode),i.isRSVPMode=!1,u.clear()},[]),$.useEffect(()=>{const ge=()=>{if(!F.current){if(F.current=!0,A||C)B();else if(p){const D=$t.getInstance(),Y=dr.getInstance();D.isRSVPMode&&(Y.pause(),Y.shutdown(!0),D.isRSVPMode=!1,D.notify(),m(!1),h(!0))}F.current=!1}};return window.addEventListener("popstate",ge),()=>window.removeEventListener("popstate",ge)},[A,C,p]),$.useEffect(()=>{let ge;return f&&p&&(ge=setTimeout(()=>h(!1),2500)),()=>clearTimeout(ge)},[f,p]),$.useEffect(()=>{A&&a.state===_r.PLAYING&&a.pause()},[A]);const B=()=>{E(!0),setTimeout(()=>{_(!1),E(!1)},400)},M=()=>{var ge;let D=((ge=i.currentBook)==null?void 0:ge.lastTokenIndex)??(o.lastTokenIndex||0);i.isRSVPMode&&(D=u.currentIndex,i.saveProgress(D));const Y=i.currentProgress;a.shutdown(i.isRSVPMode),i.isRSVPMode=!1,n(o.id,D,Y)},q=async(ge,D,Y)=>{var T;if(L.current)return;if(p&&ge===void 0&&D===void 0&&Y===void 0){a.state===_r.PLAYING?a.pause(!0):a.play();return}const oe=ge??!i.isRSVPMode;if(!(oe===i.isRSVPMode&&D===void 0&&Y===void 0)){L.current=!0;try{if(oe){const G=i.contentStorage.string,O={offset:D??i.userSelectionOffset??void 0,index:Y??(D===void 0?((T=i.currentBook)==null?void 0:T.lastTokenIndex)??void 0:void 0),progress:D===void 0&&Y===void 0?i.currentProgress:void 0};await a.prepare(G,O),i.isRSVPMode=!0,i.notify(),F.current||window.history.pushState({rsvpMode:!0},"",window.location.href),a.play(),h(!1)}else{a.pause();const G=u.currentIndex;if(i.isRSVPMode=!1,i.saveProgress(G,!0),i.totalTokens>0){const O=G/i.totalTokens;i.jump(O)}h(!0)}}catch(G){console.error("Toggle failed",G),i.isRSVPMode=!1,i.notify()}finally{L.current=!1}}},H=()=>{a.state===_r.PLAYING?a.pause(!0):a.play()},ie=()=>{p&&q(!1)};return b.jsxs("div",{className:"fixed inset-0 z-50 w-full h-[100dvh] overflow-hidden m-0 p-0 animate-fadeIn",style:{backgroundColor:c.background},children:[b.jsx("div",{className:"absolute inset-0 z-10 w-full h-full will-change-transform transition-opacity duration-300",style:{opacity:p?g?0:.4:1,pointerEvents:p?"none":"auto"},children:b.jsx(oT,{book:o,onToggleChrome:()=>h(ge=>!ge),onRequestRSVP:(ge,D)=>q(!0,ge,D),isActive:!p})}),b.jsxs("div",{className:`absolute inset-0 z-20 transition-all duration-300 will-change-[transform,opacity] ${p?"opacity-100 scale-100":"opacity-0 scale-95"}`,style:{pointerEvents:p?"auto":"none",transitionTimingFunction:"cubic-bezier(0.2, 0, 0, 1)"},children:[b.jsx(iT,{onTap:H,onLongPressExit:ie,onRewindStateChange:k}),b.jsx("style",{children:`
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .animate-fadeIn { animation: fadeIn 0.3s ease-out forwards; }
      `})]}),b.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 w-[90%] max-w-[450px] z-50 pointer-events-auto",style:{bottom:"calc(2rem + env(safe-area-inset-bottom))"},children:b.jsx(lT,{book:o,onToggleRSVP:ge=>q(void 0,ge),isRSVPActive:p,isRewinding:w,onSettingsClick:()=>{F.current||window.history.pushState({modal:"settings"},"",window.location.href),_(!0)}})}),b.jsx("div",{className:`absolute top-0 left-0 right-0 z-[60] transition-transform duration-400 pointer-events-none ${f||p&&!g?"translate-y-0":"-translate-y-full"}`,style:{transitionTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)"},children:b.jsxs("div",{className:"backdrop-blur-2xl border-b pt-safe-top py-4 px-5 flex items-center justify-between pointer-events-auto",style:{backgroundColor:c.dimmer,borderColor:c.borderColor},children:[b.jsx("button",{onClick:p?ie:M,className:"w-11 h-11 -ml-1 rounded-full flex items-center justify-center transition-all active:scale-95",style:{backgroundColor:`${c.primaryText}08`,color:c.primaryText},children:b.jsx(R2,{size:20})}),p&&b.jsx("span",{className:"text-xs font-medium",style:{color:c.secondaryText},children:"Tap to exit RSVP"})]})}),(A||C)&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 z-[100]",style:{backgroundColor:"rgba(0,0,0,0.5)",backdropFilter:"blur(2px)",animation:C?"fadeOut 0.4s ease-out":"fadeIn 0.6s ease-out"},onClick:B}),b.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[101] rounded-t-[32px] h-[70vh] shadow-2xl overflow-hidden",style:{backgroundColor:c.background,animation:C?"slideDown 0.5s cubic-bezier(0.7, 0, 0.84, 0)":"slideUp 0.8s cubic-bezier(0.16, 1, 0.3, 1)"},children:b.jsx(P0,{onClose:B})})]})]})},Ko=(o,n,i,a)=>{const u=Ks(i);return{id:o,title:n,content:i,sortOrder:a,wordCount:u}},uT=`
<p>Yo, dude. The internet is totally bonkers right now. Just way too much noise.</p>
<p>Your brain probably feels like burnt toast. <strong>Flow</strong> is the opposite of that. Its just a chill corner to hang out with a book.</p>
<p>No beeping. No distractions. Just you and the stories, man.</p>
<p>Take a breath. Its gonna be okay.</p>
`,dT=`
<p>Check it out, we got two ways to do this.</p>
<p>First is <strong>Scroll Mode</strong>. That's the classic style. Nice and slow. Like eating a sandwich one bite at a time.</p>
<p>Then, there's <strong>Flow Mode</strong>. Thats the big Play button. It shoots words at you one by one. Sounds crazy, but it's actually super mathematical. It's like the book is reading itself to you. Just tap it and relax.</p>
`,fT=`
<p>Moving your eyes left and right is a lot of work, man. Too much exercise.</p>
<p>In Flow Mode, you don't gotta move at all.</p>
<p>Just look at the <span style="color: #E25822;">red letter</span>. That's the sweet spot. Keep your eyes soft and locked there, and the words just melt into your brain. Its like telepathy, dude.</p>
`,hT=`
<p>That capsule at the bottom? That's your control panel.</p>
<ul>
<li><strong>The Scrubber:</strong> Drag it to jump around time. It clicks! So satisfying.</li>
<li><strong>The Tuner:</strong> Speed is key. If it's too slow, crank it up. If it's too fast, slow it down. Find your groove.</li>
<li><strong>The Visuals:</strong> Tap the settings to change the font. Make it look algebraic.</li>
</ul>
`,pT=`
<p>This guide is nice, but you gotta bring your own loot.</p>
<p>You got some <strong>EPUBs</strong> stashed away, right?</p>
<ol>
<li>Head back to the <strong>Bookshelf</strong>.</li>
<li>Hit the <strong>Add Book</strong> button.</li>
<li>Load 'em up.</li>
</ol>
<p>Well fix the formatting. You just stretch out and enjoy the silence. Maybe make some bacon pancakes.</p>
`,Fa=()=>[{id:"guide-book-v1",title:"welcome to flow",author:"Flowy",coverUrl:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1000&auto=format&fit=crop",tintColorHex:"#E25822",lastOpened:new Date,isFinished:!1,bookmarkProgress:0,chapters:[Ko("g1","The Noise",uT,0),Ko("g2","Two Speeds",dT,1),Ko("g3","The Red Letter",fT,2),Ko("g4","Vibe Check",hT,3),Ko("g5","Your Stash",pT,4)]}],mT=Object.freeze(Object.defineProperty({__proto__:null,generateMockBooks:Fa},Symbol.toStringTag,{value:"Module"})),ey=({status:o,message:n,onAction:i,actionLabel:a})=>{const u=Nt();return b.jsxs("div",{className:"absolute bottom-24 left-1/2 -translate-x-1/2 z-[60] flex items-center gap-3 px-4 py-3 rounded-full shadow-xl backdrop-blur-md border border-white/10",style:{backgroundColor:u.surface,animation:"slideUp 400ms cubic-bezier(0.16, 1, 0.3, 1)"},children:[o==="syncing"&&b.jsx(hS,{size:18,className:"animate-spin text-blue-500"}),o==="error"&&b.jsx(_S,{size:18,className:"text-red-500"}),o==="success"&&b.jsx($a,{size:18,className:"text-green-500"}),o==="idle"&&b.jsx(qu,{size:18,style:{color:u.secondaryText}}),b.jsx("span",{className:"text-sm font-medium pr-1",style:{color:u.primaryText},children:n||(o==="syncing"?"Syncing library...":"Cloud connected")}),i&&b.jsx("button",{onClick:i,className:"ml-2 px-3 py-1 rounded-full text-xs font-bold bg-blue-500 text-white active:scale-95 transition-transform",children:a})]})},gT=()=>{const o=Nt(),[n,i]=$.useState([]),[a,u]=$.useState(null),c=$.useRef(!1),[f,h]=$.useState("idle"),[p,m]=$.useState(null),g=$.useRef([]);$.useEffect(()=>{const C=()=>{if(!(c.current||!a)){if(c.current=!0,g.current.find(E=>E.id===a)){const E=$t.getInstance();w(a,E.currentTokenIndex,E.currentProgress)}c.current=!1}};return window.addEventListener("popstate",C),()=>window.removeEventListener("popstate",C)},[a]),$.useEffect(()=>{$t.getInstance(),Tr.getInstance();const C=Ct.getInstance(),E=Ut.getInstance();(async()=>{try{await C.init();let F=await C.getAllMetadata();if(F.length===0){const B=Fa();for(const M of B)await C.saveBook(M);F=B}else{const B="guide-book-v1",M=F.find(q=>q.id===B);if(M){const q=await C.getFullBook(B);if(!q||!q.chapters||q.chapters.length===0){console.warn("[App] Welcome book content missing, repairing...");const H=Fa().find(ie=>ie.id===B);H&&(H.bookmarkProgress=M.bookmarkProgress||0,H.lastTokenIndex=M.lastTokenIndex,H.lastOpened=M.lastOpened,await C.saveBook(H),F=F.map(ie=>ie.id===B?H:ie))}}}const L=F.map(B=>({...B,lastOpened:new Date(B.lastOpened)}));i(L),g.current=L,E.subscribe({onStatusChange:B=>h(B),onNewBook:B=>{i(M=>M.find(q=>q.id===B.id)?M.map(q=>q.id===B.id?B:q):[B,...M])},onConflict:(B,M)=>{m({book:B,remote:M})}}),E.syncNow(!1)}catch(F){console.error("App boot failed:",F)}})()},[]),$.useEffect(()=>{g.current=n},[n]),$.useEffect(()=>{if(!a)return;const C=$t.getInstance();let E=-1;const F=async(q=!1)=>{if(!C.isLoading&&C.currentBook&&C.currentBook.id===a){const H=isNaN(C.currentProgress)||!isFinite(C.currentProgress)?0:C.currentProgress;if(!q&&Math.abs(H-E)<.001)return;E=H;const ie={...C.currentBook,bookmarkProgress:H,isFinished:C.currentBook.isFinished,lastTokenIndex:C.currentBook.lastTokenIndex,lastOpened:new Date},ge=g.current.map(D=>D.id===ie.id?ie:D);i(ge),await Ct.getInstance().saveBook(ie),Ut.getInstance().requestSync()}},L=setInterval(()=>F(!1),5e3),B=()=>{F(!0),Ut.getInstance().syncNow(!1)},M=()=>{document.visibilityState==="hidden"&&F(!0)};return window.addEventListener("beforeunload",B),document.addEventListener("visibilitychange",M),()=>{clearInterval(L),window.removeEventListener("beforeunload",B),document.removeEventListener("visibilitychange",M),F(!0)}},[a]);const y=async C=>{if(c.current||window.history.pushState({bookOpen:!0,bookId:C.id},"",window.location.href),!C.chapters||C.chapters.length===0){let E=await Ct.getInstance().getFullBook(C.id);if((!E||!E.chapters||E.chapters.length===0)&&C.id==="guide-book-v1"){console.warn("[App] Welcome book content missing on open, regenerating...");const F=Fa().find(L=>L.id==="guide-book-v1");F&&(F.bookmarkProgress=C.bookmarkProgress||0,F.lastTokenIndex=C.lastTokenIndex,F.lastOpened=C.lastOpened,await Ct.getInstance().saveBook(F),E=F)}E&&E.chapters&&E.chapters.length>0?(Yb.flushSync(()=>{i(F=>F.map(L=>L.id===C.id?E:L))}),u(E.id)):(console.error("[App] Failed to load full book from storage:",C.id),u(C.id))}else u(C.id)},w=async(C,E,F)=>{var L;const B=g.current.find(M=>M.id===C);if(B){const M=isNaN(F)||!isFinite(F)?0:F,q={...B,lastTokenIndex:E,bookmarkProgress:M,isFinished:M>=.99||((L=$t.getInstance().currentBook)==null?void 0:L.isFinished)||!1,lastOpened:new Date},H=g.current.map(ie=>ie.id===C?q:ie);i(H),await Ct.getInstance().saveBook(q),Ut.getInstance().syncNow(!1)}u(null)},k=async C=>{i(E=>E.filter(F=>!C.includes(F.id)));for(const E of C)await Ct.getInstance().deleteBook(E)},j=async(C,E)=>{const F=[];i(L=>L.map(B=>{if(C.includes(B.id)){const M={...B,isFinished:E,bookmarkProgress:E?1:B.bookmarkProgress>=.99?0:B.bookmarkProgress,lastTokenIndex:E?B.lastTokenIndex:B.bookmarkProgress>=.99?0:B.lastTokenIndex};return F.push(M),M}return B}));for(const L of F)await Ct.getInstance().saveBook(L);Ut.getInstance().requestSync()},S=async(C,E)=>{let F;i(L=>L.map(B=>{if(B.id===C){const M={...B,isFavorite:E};return F=M,M}return B})),F&&(await Ct.getInstance().saveBook(F),Ut.getInstance().requestSync())},A=async C=>{i(E=>[C,...E]),await Ct.getInstance().saveBook(C),Ut.getInstance().syncNow(!1)},_=n.find(C=>C.id===a);return b.jsxs("div",{className:"fixed inset-0 overflow-hidden font-sans select-none antialiased transition-colors duration-500",style:{backgroundColor:o.background,color:o.primaryText},children:[b.jsx("div",{className:`w-full h-full transition-all duration-500 ${_?"scale-95 opacity-50 blur-[2px] pointer-events-none":"scale-100 opacity-100 blur-0"}`,style:{transitionTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)"},children:b.jsx(XS,{books:n,onBookSelect:y,onBookImported:A,onDeleteBooks:k,onToggleReadStatus:j,onToggleFavorite:S})}),_&&b.jsx("div",{style:{animation:"fadeIn 400ms cubic-bezier(0.16, 1, 0.3, 1)"},children:b.jsx(cT,{book:_,onClose:w},_.id)},_.id),b.jsxs(Cn,{children:[(f==="syncing"||f==="error"||f==="success")&&b.jsx(ey,{status:f}),p&&b.jsx(ey,{status:"idle",message:`Cloud has different progress for "${p.book.title}"`,actionLabel:`Jump to ${Math.floor(p.remote*100)}%`,onAction:()=>{Ut.getInstance().resolveConflict(p.book,p.remote),m(null)}})]})]})},j0=document.getElementById("root");if(!j0)throw new Error("Could not find root element to mount to");const yT=Kb.createRoot(j0);yT.render(b.jsx(Wa.StrictMode,{children:b.jsx(gT,{})}));
