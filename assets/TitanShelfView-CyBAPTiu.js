import{j as e,r as l,m as p}from"./animations-D9Wo9mUM.js";const u=({book:t,onClick:a})=>{const s=l.useMemo(()=>{let i=t.chapters?.reduce((d,m)=>d+m.wordCount,0)||t.title.length*500;const r=36,c=64,x=Math.min(1,Math.max(0,i/1e5));return r+x*(c-r)},[t]),n=l.useMemo(()=>{const i=t.author.split(" ");return i.length>0?i[i.length-1]:t.author},[t.author]),o=t.tintColorHex||"#333";return e.jsxs(p.div,{layoutId:`spine-${t.id}`,onClick:a,className:"relative h-72 cursor-pointer group mx-[1px] mb-0 rounded-sm overflow-hidden transform-gpu",style:{width:`${s}px`,backgroundColor:o,boxShadow:"inset 0 0 15px rgba(0,0,0,0.3), inset 1px 0 0 rgba(255,255,255,0.1)"},whileHover:{y:-8,zIndex:10,transition:{type:"spring",stiffness:400,damping:25}},children:[e.jsx("div",{className:"absolute inset-0 opacity-30 pointer-events-none mix-blend-multiply grayscale",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`}}),e.jsx("div",{className:"absolute top-0 bottom-0 left-[2px] w-[1px] bg-black/20"}),e.jsx("div",{className:"absolute top-0 bottom-0 right-[2px] w-[1px] bg-black/20"}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center py-6 px-1 z-20",children:[e.jsx("div",{className:"flex-none pt-2 pb-6",style:{writingMode:"vertical-rl",textOrientation:"mixed"},children:e.jsx("span",{className:"font-sans text-[9px] font-bold text-white/70 uppercase tracking-[0.15em]",children:n})}),e.jsx("div",{className:"flex-1 flex items-center justify-center w-full overflow-hidden",style:{writingMode:"vertical-rl",textOrientation:"mixed"},children:e.jsx("span",{className:"font-serif font-semibold text-xs md:text-sm tracking-wide text-white/95 text-center leading-relaxed line-clamp-3",style:{textShadow:"0 1px 2px rgba(0,0,0,0.5)",fontVariant:"small-caps"},children:t.title.toLowerCase()})}),e.jsx("div",{className:"flex-none mt-auto pt-4 opacity-50",children:e.jsx("div",{className:"w-4 h-4 border border-white/60 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-white/60 rounded-sm"})})})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/20 via-transparent to-black/20 pointer-events-none"})]})},f=({books:t,onInspectBook:a})=>e.jsx("div",{className:"relative w-full pb-32",children:e.jsxs("div",{className:"flex flex-wrap items-end gap-y-16 px-6 perspective-[1000px]",children:[t.map(s=>e.jsx(u,{book:s,onClick:()=>a(s)},s.id)),e.jsx("div",{className:"w-full h-2 rounded-full bg-current opacity-[0.03] mt-[-4px] blur-[1px]"})]})});export{f as TitanShelfView};
