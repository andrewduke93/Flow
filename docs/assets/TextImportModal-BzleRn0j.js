import{r,j as e,m as d}from"./animations-D9Wo9mUM.js";import{u as j}from"./index-BEC5ROHs.js";import{i as w,X as C,S as N,B as T}from"./icons-Bsbxsu_x.js";import"./vendor-react-uIRdnfX0.js";import"./cloud-LWBW7V_C.js";import"./rsvp-0BBpS2BC.js";const M=({onClose:o,onImport:x})=>{const t=j(),a=r.useRef(null),[i,m]=r.useState(""),[l,p]=r.useState(""),[n,u]=r.useState(!1);r.useEffect(()=>{setTimeout(()=>a.current?.focus(),300)},[]);const c=l.trim().split(/\s+/).filter(s=>s.length>0).length,y=l.length,h=Math.max(1,Math.ceil(c/200)),f=async()=>{if(!l.trim())return;u(!0);const s=i.trim()||l.trim().split(`
`)[0].slice(0,60)||"Untitled Clipping";await new Promise(b=>setTimeout(b,300)),x(s,l)},g=l.trim().length>=50;return e.jsx(d.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center p-4",style:{backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(8px)"},onClick:o,children:e.jsxs(d.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},transition:{type:"spring",damping:25,stiffness:300},onClick:s=>s.stopPropagation(),className:"w-full max-w-lg rounded-3xl shadow-2xl overflow-hidden",style:{backgroundColor:t.background},children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b",style:{borderColor:t.borderColor},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:t.accent+"20"},children:e.jsx(w,{size:20,style:{color:t.accent}})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold lowercase",style:{color:t.primaryText},children:"paste text"}),e.jsx("p",{className:"text-xs opacity-60 lowercase",style:{color:t.secondaryText},children:"create a clipping from any text"})]})]}),e.jsx("button",{onClick:o,className:"p-2 rounded-full hover:bg-black/5 transition-colors",children:e.jsx(C,{size:20,style:{color:t.secondaryText}})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium lowercase mb-2 opacity-60",style:{color:t.secondaryText},children:"title (optional)"}),e.jsx("input",{type:"text",value:i,onChange:s=>m(s.target.value),placeholder:"e.g., Interesting Article, Meeting Notes...",className:"w-full px-4 py-3 rounded-xl text-sm font-medium outline-none transition-all",style:{backgroundColor:t.surface,color:t.primaryText,border:`1px solid ${t.borderColor}`}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium lowercase mb-2 opacity-60",style:{color:t.secondaryText},children:"content"}),e.jsx("textarea",{ref:a,value:l,onChange:s=>p(s.target.value),placeholder:"Paste your text here... articles, essays, notes, or any content you want to read with Flow.",className:"w-full h-48 px-4 py-3 rounded-xl text-sm font-medium outline-none transition-all resize-none custom-scrollbar",style:{backgroundColor:t.surface,color:t.primaryText,border:`1px solid ${t.borderColor}`,lineHeight:1.6}})]}),l.length>0&&e.jsxs("div",{className:"flex items-center gap-4 text-xs lowercase opacity-60",style:{color:t.secondaryText},children:[e.jsxs("span",{children:[c.toLocaleString()," words"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[y.toLocaleString()," characters"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:["~",h," min read"]})]})]}),e.jsxs("div",{className:"px-6 py-4 border-t flex items-center justify-between",style:{borderColor:t.borderColor},children:[e.jsx("p",{className:"text-xs opacity-40 lowercase",style:{color:t.secondaryText},children:"min. 50 characters"}),e.jsx("button",{onClick:f,disabled:!g||n,className:"flex items-center gap-2 px-5 py-2.5 rounded-xl font-semibold text-white text-sm lowercase transition-all disabled:opacity-40 disabled:cursor-not-allowed active:scale-95",style:{backgroundColor:t.accent},children:n?e.jsxs(e.Fragment,{children:[e.jsx(N,{size:16,className:"animate-spin"}),e.jsx("span",{children:"creating..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{size:16}),e.jsx("span",{children:"create clipping"})]})})]})]})})};export{M as TextImportModal,M as default};
