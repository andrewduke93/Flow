import{j as e,r as d}from"./animations-D9Wo9mUM.js";import{T as h,u,a as b}from"./index-B9vcd0Jb.js";import{u as y}from"./rsvp-eqVIbU96.js";import{Z as g,p as j,P as v,t as f,X as N,l as p,v as C}from"./icons-B3aCiBot.js";import{G as w,S as T}from"./cloud-Be3Yh6fZ.js";import"./vendor-react-uIRdnfX0.js";const k=()=>{const l=h.getInstance(),a=l.mode,s=u(),t=o=>{l.setMode(o)},c=["Modern","Sepia","Night","OLED"];return e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("h3",{className:"text-[11px] font-medium opacity-50 lowercase",style:{color:s.secondaryText},children:"appearance"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:c.map(o=>{const n=b[o],i=a===o;return e.jsxs("button",{onClick:()=>t(o),className:"group relative flex flex-col items-center gap-1.5 outline-none",children:[e.jsxs("div",{className:`relative w-full aspect-[4/5] rounded-xl border transition-all duration-200 ease-out overflow-hidden ${i?"ring-2 ring-offset-1 scale-[1.03]":"hover:scale-[1.02]"}`,style:{backgroundColor:n.background,borderColor:i?"transparent":"rgba(128,128,128,0.15)",ringColor:s.accent},children:[e.jsxs("div",{className:"absolute inset-3 flex flex-col items-center justify-center",children:[e.jsx("div",{className:"font-serif text-xl font-semibold",style:{color:n.primaryText},children:"Aa"}),e.jsx("div",{className:"w-full h-0.5 rounded-full mt-2 opacity-15",style:{backgroundColor:n.primaryText}}),e.jsx("div",{className:"w-2/3 h-0.5 rounded-full mt-1 opacity-15",style:{backgroundColor:n.primaryText}})]}),i&&e.jsx("div",{className:"absolute bottom-1.5 right-1.5 w-3.5 h-3.5 rounded-full flex items-center justify-center",style:{backgroundColor:s.accent},children:e.jsx("svg",{width:"8",height:"6",viewBox:"0 0 10 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M1 4L3.5 6.5L9 1",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),e.jsx("span",{className:"text-[9px] font-medium transition-colors lowercase",style:{color:i?s.accent:s.secondaryText,opacity:i?1:.6},children:o})]},o)})}),e.jsxs("div",{className:"mt-1 flex items-center justify-between p-3 rounded-xl border",style:{backgroundColor:s.surface,borderColor:s.borderColor},children:[e.jsx("span",{className:"text-xs font-medium lowercase",style:{color:s.primaryText},children:"follow system"}),e.jsx("button",{onClick:()=>t(a==="System"?"Modern":"System"),className:"relative w-10 h-5 rounded-full transition-colors duration-200 focus:outline-none",style:{backgroundColor:a==="System"?s.accent:s.borderColor},children:e.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white w-4 h-4 rounded-full shadow-sm transition-transform duration-200 ${a==="System"?"translate-x-5":"translate-x-0"}`})})]})]})},S=()=>{const{settings:l,updateSettings:a}=y(),s=u(),[t,c]=d.useState(l.rsvpSpeed),o=d.useRef(null);d.useEffect(()=>{Math.abs(l.rsvpSpeed-t)>10&&!o.current&&c(l.rsvpSpeed)},[l.rsvpSpeed]);const n=r=>{const x=Math.max(100,Math.min(1e3,r));c(x),o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{a({rsvpSpeed:x,hasCustomSpeed:!0}),o.current=null},100)},i=[{name:"Serif",label:"fancy",val:"New York"},{name:"Sans",label:"clean",val:"SF Pro"}];return e.jsxs("div",{className:"flex flex-col gap-6 pt-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-[11px] font-medium opacity-50 lowercase flex items-center gap-1.5",style:{color:s.secondaryText},children:[e.jsx(g,{size:12})," pace"]}),e.jsxs("div",{className:"rounded-2xl p-4 border",style:{backgroundColor:s.surface,borderColor:s.borderColor},children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-sm font-medium lowercase",style:{color:s.primaryText},children:"speed (wpm)"}),e.jsx("span",{className:"text-xl font-semibold tracking-tight tabular-nums",style:{color:s.primaryText},children:t})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>n(t-25),className:"w-10 h-10 rounded-xl flex items-center justify-center active:scale-95 transition-all",style:{backgroundColor:s.borderColor,color:s.primaryText},children:e.jsx(j,{size:16})}),e.jsx("div",{className:"flex-1 relative h-8 flex items-center",children:e.jsx("input",{type:"range",min:100,max:1e3,step:25,value:t,onChange:r=>n(parseInt(r.target.value)),className:"w-full h-1.5 rounded-full appearance-none cursor-pointer focus:outline-none",style:{backgroundColor:s.borderColor,accentColor:s.accent}})}),e.jsx("button",{onClick:()=>n(t+25),className:"w-10 h-10 rounded-xl flex items-center justify-center active:scale-95 transition-all",style:{backgroundColor:s.borderColor,color:s.primaryText},children:e.jsx(v,{size:16})})]})]})]}),e.jsx("div",{className:"w-full h-px",style:{backgroundColor:s.borderColor}}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-[11px] font-medium opacity-50 lowercase flex items-center gap-1.5",style:{color:s.secondaryText},children:[e.jsx(f,{size:12})," typography"]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:i.map(r=>e.jsxs("button",{onClick:()=>a({fontFamily:r.val}),className:`flex flex-col items-center justify-center gap-1.5 p-5 rounded-2xl border transition-all duration-200 ${l.fontFamily===r.val?"scale-[1.02]":"hover:scale-[1.01]"}`,style:{backgroundColor:l.fontFamily===r.val?s.primaryText:s.surface,borderColor:l.fontFamily===r.val?s.primaryText:s.borderColor,color:l.fontFamily===r.val?s.surface:s.primaryText},children:[e.jsx("span",{className:"text-2xl font-semibold",style:{fontFamily:z(r.val)},children:"Aa"}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:r.name}),e.jsx("span",{className:"text-[9px] font-medium opacity-50",style:{color:l.fontFamily===r.val?s.surface:s.secondaryText},children:r.label})]})]},r.val))}),e.jsxs("div",{className:"rounded-2xl p-4 border space-y-5 mt-3",style:{backgroundColor:s.surface,borderColor:s.borderColor},children:[e.jsx(m,{label:"size",value:l.fontSize,min:14,max:40,onChange:r=>a({fontSize:r}),theme:s}),e.jsx(m,{label:"room",value:l.lineHeight,min:1,max:2.2,step:.1,onChange:r=>a({lineHeight:r}),theme:s}),e.jsx(m,{label:"gaps",value:l.paragraphSpacing,min:0,max:40,onChange:r=>a({paragraphSpacing:r}),theme:s})]})]})]})},m=({label:l,value:a,min:s,max:t,step:c=1,onChange:o,theme:n})=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs font-medium w-12 lowercase",style:{color:n.secondaryText},children:l}),e.jsx("input",{type:"range",min:s,max:t,step:c,value:a,onChange:i=>o(parseFloat(i.target.value)),className:"flex-1 h-1 rounded-full appearance-none cursor-pointer",style:{backgroundColor:n.borderColor,accentColor:n.accent}}),e.jsx("span",{className:"text-xs font-medium w-8 text-right tabular-nums",style:{color:n.primaryText},children:a.toFixed(c<1?1:0)})]});function z(l){return l==="New York"?"serif":l==="SF Pro"?"sans-serif":"serif"}const P=d.memo(({onClose:l})=>{const[a,s]=d.useState("optical"),t=u(),{settings:c}=y(),[o,n]=d.useState(!1),i=async()=>{n(!0);try{await T.getInstance().connect()}catch{alert("Could not connect to Google Drive.")}finally{n(!1)}},r=w.getInstance().isAuthenticated;return e.jsxs("div",{className:"flex flex-col h-full transition-colors duration-300",style:{backgroundColor:t.background},children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b",style:{borderColor:t.borderColor},children:[e.jsx("div",{children:e.jsx("h2",{className:"text-xl font-bold lowercase tracking-tight",style:{color:t.primaryText},children:"settings"})}),e.jsx("button",{onClick:l,className:"w-11 h-11 rounded-full flex items-center justify-center transition-all active:scale-95",style:{backgroundColor:`${t.primaryText}08`},children:e.jsx(N,{size:20,style:{color:t.primaryText}})})]}),(!c.isSyncEnabled||!r)&&e.jsx("div",{className:"px-6 pt-5",children:e.jsxs("button",{onClick:i,disabled:o,className:"w-full p-4 rounded-2xl flex items-center justify-between active:scale-[0.98] transition-all",style:{backgroundColor:t.surface,border:`1px solid ${t.borderColor}`},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-xl bg-blue-500 text-white",children:e.jsx(p,{size:16})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-sm font-semibold lowercase",style:{color:t.primaryText},children:c.isSyncEnabled?"reconnect cloud":"enable cloud sync"}),e.jsx("p",{className:"text-[10px] opacity-40",style:{color:t.secondaryText},children:c.isSyncEnabled?"session expired":"sync via google drive"})]})]}),e.jsx("span",{className:"text-xs font-semibold text-blue-500",children:o?"...":"connect"})]})}),c.isSyncEnabled&&r&&e.jsx("div",{className:"px-6 pt-5",children:e.jsxs("div",{className:"w-full p-4 rounded-2xl flex items-center gap-3 border",style:{backgroundColor:t.surface,borderColor:t.borderColor},children:[e.jsx("div",{className:"p-2 rounded-xl bg-emerald-500 text-white",children:e.jsx(p,{size:16})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-semibold lowercase",style:{color:t.primaryText},children:"synced"}),e.jsx("p",{className:"text-[10px] opacity-40 truncate",style:{color:t.secondaryText},children:c.googleDriveEmail||"connected"})]}),e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"})]})}),e.jsx("div",{className:"px-6 pt-5 z-10",children:e.jsxs("div",{className:"flex p-0.5 rounded-xl border",style:{borderColor:t.borderColor},children:[e.jsxs("button",{onClick:()=>s("optical"),"aria-label":"Appearance settings",className:"flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg text-xs font-medium transition-all lowercase",style:{backgroundColor:a==="optical"?t.surface:"transparent",color:a==="optical"?t.primaryText:t.secondaryText,opacity:a==="optical"?1:.5},children:[e.jsx(C,{size:14})," appearance"]}),e.jsxs("button",{onClick:()=>s("typo"),"aria-label":"Text settings",className:"flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg text-xs font-medium transition-all lowercase",style:{backgroundColor:a==="typo"?t.surface:"transparent",color:a==="typo"?t.primaryText:t.secondaryText,opacity:a==="typo"?1:.5},children:[e.jsx(f,{size:14})," text"]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar px-6 pb-10 pt-5",children:[e.jsx("div",{className:`transition-opacity duration-200 ${a==="optical"?"block":"hidden"}`,children:e.jsx(k,{})}),e.jsx("div",{className:`transition-opacity duration-200 ${a==="typo"?"block":"hidden"}`,children:e.jsx(S,{})})]})]})});export{P as SettingsSheet};
