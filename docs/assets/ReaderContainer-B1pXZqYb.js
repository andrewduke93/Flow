import{r as c,j as t,R as G}from"./animations-D9Wo9mUM.js";import{u as K,T as J}from"./index-BX-8wxnx.js";import{u as Q,R as C}from"./rsvp-ChCL7CNZ.js";import{T as F}from"./cloud-uA1tuQWL.js";import{M as se,l as ne,m as ae,n as re,o as oe,P as ie,p as le,q as ce,E as de,r as he,s as pe,t as ue}from"./icons-DhCoUMbR.js";import"./vendor-react-uIRdnfX0.js";class I{constructor(){this.words=[],this.sourceText="",this.totalWords=0,this._position=0,this._isPlaying=!1,this._wpm=300,this.playbackTimer=null,this.positionListeners=new Set,this.playStateListeners=new Set}static getInstance(){return I.instance||(I.instance=new I),I.instance}load(n){if(this.stop(),this.sourceText=n,this.words=[],!n||n.length===0){this.totalWords=0;return}const s=Math.ceil(n.length/5);this.words=new Array(s);let e=0,a=-1,o=!0,i=!1;for(let r=0;r<=n.length;r++){const h=r<n.length?n[r]:" ",x=h===" "||h==="	"||h===`
`||h==="\r";if(h===`
`&&(i=!0),x&&!o&&a>=0){const y=n.slice(a,r);let m=0;const p=y[y.length-1];p==="."||p==="!"||p==="?"?m=2:(p===","||p===";"||p===":"||p==="â€”"||p==="â€“")&&(m=1),this.words[e]={text:y,start:a,end:r,index:e,trailingPause:m},e++,a=-1}else!x&&o&&(a=r,i&&e>0&&(this.words[e-1].trailingPause=3),i=!1);o=x}this.words.length=e,this.totalWords=e}get position(){return this._position}set position(n){const s=Math.max(0,Math.min(this.totalWords-1,n));s!==this._position&&(this._position=s,this.notifyPosition())}get progress(){return this.totalWords>0?this._position/this.totalWords:0}set progress(n){this.position=Math.floor(n*this.totalWords)}get total(){return this.totalWords}getWord(n){return this.words[n]||null}getCurrentWord(){return this.words[this._position]||null}getWindow(n,s){const e=Math.max(0,this._position-n),a=Math.min(this.totalWords,this._position+s);return this.words.slice(e,a)}getRange(n,s){const e=Math.max(0,n),a=Math.min(this.totalWords,e+s);return this.words.slice(e,a)}getParagraphs(n,s){const e=[];let a=[],o=n;for(let i=n;i<this.totalWords&&e.length<s;i++){const r=this.words[i];a.length===0&&(o=i),a.push(r),r.trailingPause===3&&(e.push({words:a,startIndex:o}),a=[])}return a.length>0&&e.length<s&&e.push({words:a,startIndex:o}),e}wordIndexFromProgress(n){return Math.floor(n*this.totalWords)}get isPlaying(){return this._isPlaying}get wpm(){return this._wpm}set wpm(n){this._wpm=Math.max(50,Math.min(1500,n)),this._isPlaying&&(this.stop(),this.play())}play(){this._isPlaying||this.totalWords===0||(this._isPlaying=!0,this.notifyPlayState(),this.scheduleNext())}stop(){this.playbackTimer!==null&&(clearTimeout(this.playbackTimer),this.playbackTimer=null),this._isPlaying&&(this._isPlaying=!1,this.notifyPlayState())}toggle(){this._isPlaying?this.stop():this.play()}scheduleNext(){if(!this._isPlaying)return;const n=this.getCurrentWord();if(!n){this.stop();return}let s=6e4/this._wpm;const e=n.trailingPause;e===1?s*=1.3:e===2?s*=1.8:e===3&&(s*=2.2);const a=n.text.length;a>10?s*=1.2:a>7?s*=1.1:a<=2&&(s*=.85),this.playbackTimer=window.setTimeout(()=>{this._position<this.totalWords-1?(this.position=this._position+1,this.scheduleNext()):this.stop()},s)}skipForward(n=10){this.position=this._position+n}skipBack(n=10){this.position=this._position-n}jumpToStart(){this.position=0}jumpToEnd(){this.position=this.totalWords-1}onPosition(n){return this.positionListeners.add(n),()=>this.positionListeners.delete(n)}onPlayState(n){return this.playStateListeners.add(n),()=>this.playStateListeners.delete(n)}notifyPosition(){const n=this._position;this.positionListeners.forEach(s=>s(n))}notifyPlayState(){const n=this._isPlaying;this.playStateListeners.forEach(s=>s(n))}getStats(){return{totalWords:this.totalWords,position:this._position,progress:this.progress,isPlaying:this._isPlaying,wpm:this._wpm}}cleanup(){this.stop(),this.words=[],this.sourceText="",this.totalWords=0,this._position=0}}class W{static getInstance(){return W.instance||(W.instance=new W),W.instance}async processBook(n,s,e){const a=performance.now(),o=this.tokenizeWithORP(e),i=this.buildParagraphs(o),r=await this.preRenderParagraphs(i),h=performance.now()-a;return{id:n,title:s,paragraphs:r,totalWords:o.length,wordIndex:o,metadata:{importTime:h,wordCount:o.length,paragraphCount:r.length,estimatedReadingTime:Math.ceil(o.length/300)}}}tokenizeWithORP(n){const s=[];let e=0,a=-1,o=!0,i=!1;for(let r=0;r<=n.length;r++){const h=r<n.length?n[r]:" ",x=h===" "||h==="	"||h===`
`||h==="\r";if(h===`
`&&(i=!0),x&&!o&&a>=0){const y=n.slice(a,r);let m=0;const p=y[y.length-1];p==="."||p==="!"||p==="?"?m=2:(p===","||p===";"||p===":"||p==="â€”"||p==="â€“")&&(m=1);const b=this.computeOptimalRecognitionPoint(y);s.push({text:y,index:e,orpIndex:b,trailingPause:m,start:a,end:r}),e++,a=-1}else!x&&o&&(a=r,i&&s.length>0&&(s[s.length-1].trailingPause=3),i=!1);o=x}return s}computeOptimalRecognitionPoint(n){const s=n.length;return s<=1||s<=3?0:s<=8?Math.floor(s*.35):s<=12?Math.floor(s*.4):Math.min(12,Math.floor(s*.4))}buildParagraphs(n){const s=[];let e=[],a=0;for(let o=0;o<n.length;o++){const i=n[o];e.length===0&&(a=i.index),e.push(i),(i.trailingPause===3||o===n.length-1)&&(s.push({words:e,startIndex:a,endIndex:i.index,text:""}),e=[])}return s}async preRenderParagraphs(n){return new Promise(s=>{const e=[],a=o=>{const r=Math.min(o+10,n.length);for(let h=o;h<r;h++){const x=n[h],d=x.words.map(y=>`<span data-index="${y.index}" class="flow-word">${y.text}</span>`).join(" ");e.push({...x,text:d})}r<n.length?requestIdleCallback(()=>a(r)):s(e)};a(0)})}getWord(n,s){return n.wordIndex[s]||null}getParagraph(n,s){let e=0,a=n.paragraphs.length-1;for(;e<=a;){const o=Math.floor((e+a)/2),i=n.paragraphs[o];if(s>=i.startIndex&&s<=i.endIndex)return i;s<i.startIndex?a=o-1:e=o+1}return null}getVisibleParagraphs(n,s,e){return n.paragraphs.slice(s,s+e)}}const xe=G.memo(({word:l,fontSize:n,fontFamily:s,textColor:e,accentColor:a,isHighlighted:o,onClick:i})=>{const r=l.text,h=r.slice(0,l.orpIndex),x=r[l.orpIndex]||"",d=r.slice(l.orpIndex+1);return t.jsxs("span",{"data-index":l.index,onClick:y=>{y.stopPropagation(),i(l.index)},className:`flow-word ${o?"highlighted":""}`,style:{cursor:"pointer",userSelect:"none",WebkitUserSelect:"none",marginRight:"0.25ch",padding:"0 0.15ch",borderRadius:4,transition:"all 0.15s ease",backgroundColor:o?"rgba(255,215,0,0.08)":"transparent",fontSize:`${n}px`,fontFamily:s,color:e,lineHeight:1.4},children:[t.jsx("span",{style:{color:e,opacity:.8},children:h}),t.jsx("span",{style:{color:a,fontWeight:700},children:x}),t.jsx("span",{style:{color:e,opacity:.8},children:d})]})}),ge=G.memo(({paragraph:l,fontSize:n,lineHeight:s,paragraphSpacing:e,fontFamily:a,textColor:o,accentColor:i,currentWordIndex:r,onWordClick:h})=>{const x=r>=l.startIndex&&r<=l.endIndex;return t.jsx("p",{"data-start":l.startIndex,className:"flow-paragraph",style:{fontSize:`${n}px`,lineHeight:s,marginBottom:`${e}px`,marginTop:0,fontFamily:a,color:o,textAlign:"justify",hyphens:"auto",WebkitHyphens:"auto",textRendering:"optimizeLegibility",opacity:x?1:.85,transition:"opacity 0.2s ease",cursor:"text"},children:l.words.map(d=>t.jsx(xe,{word:d,fontSize:n,fontFamily:a,textColor:o,accentColor:i,isHighlighted:d.index===r,onClick:h},d.index))})}),me=G.memo(({currentWord:l,fontSize:n,fontFamily:s,textColor:e,accentColor:a})=>{if(!l)return null;const o=l.text,i=o.slice(0,l.orpIndex),r=o[l.orpIndex]||"",h=o.slice(l.orpIndex+1);return t.jsxs("div",{className:"flow-rsvp-display",style:{display:"grid",gridTemplateColumns:"1fr auto 1fr",alignItems:"baseline",fontFamily:s,fontSize:`${n}px`,fontWeight:500,whiteSpace:"nowrap",width:"100%",maxWidth:"90vw",willChange:"transform",transform:"translateZ(0)"},children:[t.jsx("span",{style:{color:e,textAlign:"right",paddingRight:"2px"},children:i}),t.jsx("span",{style:{color:a,fontWeight:700,textShadow:`0 0 8px ${a}20`},children:r}),t.jsx("span",{style:{color:e,textAlign:"left",paddingLeft:"2px"},children:h})]})}),fe=({book:l,onToggleChrome:n,isActive:s,showGhostWords:e=!0})=>{const a=I.getInstance(),o=W.getInstance(),i=K(),{settings:r}=Q(),h=c.useRef(null),x=c.useRef(null),[d,y]=c.useState(null),[m,p]=c.useState(!1),[b,H]=c.useState(!1),[M,R]=c.useState(null),[N,T]=c.useState([]),z=c.useRef(!1),B=c.useRef(0),V=c.useRef(!1),v=c.useRef();c.useRef(null);const[D,A]=c.useState(0),[U,q]=c.useState(0),$={"New York":'"New York", "Iowan Old Style", Palatino, Georgia, serif',"SF Pro":'"SF Pro Text", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif',OpenDyslexic:'"OpenDyslexic", "Comic Sans MS", sans-serif',"Atkinson Hyperlegible":'"Atkinson Hyperlegible", Verdana, sans-serif'}[r.fontFamily]||'"SF Pro Text", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif',O=Math.min(r.fontSize*2.5,60);c.useEffect(()=>{if(!l.chapters||l.chapters.length===0){p(!0);return}p(!1);const f=[...l.chapters].sort((w,g)=>w.sortOrder-g.sortOrder),S=[];for(const w of f)if(w.content){const g=w.content.replace(/<[^>]*>/g," ").replace(/&[a-z]+;/gi," ").replace(/\s+/g," ").trim();g&&S.push(g)}const P=S.join(`

`);o.processBook(l.id,l.title||"Untitled",P).then(w=>{y(w),a.load(P),l.lastTokenIndex!==void 0&&l.lastTokenIndex>0?a.position=Math.min(l.lastTokenIndex,w.totalWords-1):l.bookmarkProgress&&l.bookmarkProgress>0&&(a.progress=l.bookmarkProgress),a.wpm=r.rsvpSpeed||300,B.current=a.position,R(o.getWord(w,a.position)),p(!0),_(w,a.position)})},[l.id]);const _=c.useCallback((f,S)=>{if(!h.current)return;const P=h.current,w=P.clientHeight;P.scrollTop;const g=r.fontSize*r.lineHeight+r.paragraphSpacing,E=Math.ceil(w/g)+2,X=f.paragraphs.findIndex(Z=>S>=Z.startIndex&&S<=Z.endIndex),Y=Math.max(0,X-Math.floor(E/2)),ee=Math.min(f.paragraphs.length,Y+E),te=f.paragraphs.slice(Y,ee);T(te)},[r.fontSize,r.lineHeight,r.paragraphSpacing]);c.useEffect(()=>{if(!m||!d)return;const f=g=>{B.current=g;const E=o.getWord(d,g);R(E),_(d,g),v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{F.getInstance().saveBook({...l,lastTokenIndex:g,bookmarkProgress:a.progress,lastOpened:new Date})},500)},S=g=>{z.current=g,H(g),g||F.getInstance().saveBook({...l,lastTokenIndex:a.position,bookmarkProgress:a.progress,lastOpened:new Date})},P=a.onPosition(f),w=a.onPlayState(S);return f(a.position),S(a.isPlaying),()=>{P(),w(),v.current&&clearTimeout(v.current)}},[m,d,_,l]);const u=c.useCallback(f=>{C.impactLight(),a.position=f,a.play()},[]),j=c.useCallback(()=>{C.impactMedium(),a.toggle()},[]),k=c.useCallback(f=>{f.target.closest(".flow-word")||n()},[n]),L=c.useCallback(()=>{if(V.current||b||!d)return;const f=h.current;if(!f)return;const S=f.scrollTop;A(S);const P=r.fontSize*r.lineHeight+r.paragraphSpacing,w=Math.floor(S/P),g=d.paragraphs[w];g&&g.startIndex!==a.position&&(a.position=g.startIndex)},[d,b,r.fontSize,r.lineHeight,r.paragraphSpacing]);return m?!d||d.paragraphs.length===0?t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{backgroundColor:i.background},children:t.jsxs("div",{className:"text-center px-8",children:[t.jsx("div",{className:"text-6xl mb-4",children:"âš¡"}),t.jsx("p",{className:"text-lg font-medium",style:{color:i.secondaryText},children:"no content found"})]})}):b&&M?t.jsxs("div",{className:"absolute inset-0 flex items-center justify-center select-none",style:{backgroundColor:i.background},onClick:j,children:[t.jsx(me,{currentWord:M,fontSize:O,fontFamily:$,textColor:i.primaryText,accentColor:i.accent}),t.jsx("div",{className:"absolute left-8 right-8 bottom-8 h-1 rounded-full overflow-hidden",style:{backgroundColor:i.borderColor},children:t.jsx("div",{className:"h-full rounded-full",style:{width:`${a.progress*100}%`,backgroundColor:i.accent,opacity:.6,transition:"width 100ms linear"}})}),t.jsx("div",{className:"absolute top-8 left-1/2 -translate-x-1/2 text-xs uppercase tracking-widest",style:{color:i.secondaryText,opacity:.4},children:"tap to pause"})]}):t.jsx("div",{ref:h,className:"absolute inset-0 overflow-y-auto overflow-x-hidden",style:{backgroundColor:i.background,WebkitOverflowScrolling:"touch"},onClick:k,onScroll:L,children:t.jsx("div",{ref:x,className:"w-full min-h-full",style:{maxWidth:"65ch",margin:"0 auto",padding:"80px 24px 200px"},children:N.map(f=>t.jsx(ge,{paragraph:f,fontSize:r.fontSize,lineHeight:r.lineHeight,paragraphSpacing:r.paragraphSpacing,fontFamily:$,textColor:i.primaryText,accentColor:i.accent,currentWordIndex:a.position,onWordClick:u},f.startIndex))})}):t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{backgroundColor:i.background},children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 border-3 rounded-full animate-spin",style:{borderColor:i.accent,borderTopColor:"transparent"}}),t.jsx("span",{className:"text-sm lowercase tracking-wider",style:{color:i.secondaryText},children:"processing book..."})]})})},Te=({book:l,onClose:n})=>{const s=I.getInstance(),e=K(),{settings:a,updateSettings:o}=Q(),[i,r]=c.useState(!0),[h,x]=c.useState(!1),[d,y]=c.useState(0),[m,p]=c.useState(a.rsvpSpeed||300),[b,H]=c.useState(a.showGhostPreview??!0),[M,R]=c.useState(!1),N=c.useRef(),T=c.useRef();c.useEffect(()=>{s.wpm=a.rsvpSpeed||300,p(s.wpm),H(a.showGhostPreview??!0);const u=s.onPosition(k=>{y(s.progress),T.current&&clearTimeout(T.current),T.current=setTimeout(()=>{const L={...l,lastTokenIndex:k,bookmarkProgress:s.progress,lastOpened:new Date};F.getInstance().saveBook(L)},200)}),j=s.onPlayState(k=>{if(x(k),k)N.current=setTimeout(()=>r(!1),3e3);else{r(!0),T.current&&clearTimeout(T.current);const L={...l,lastTokenIndex:s.position,bookmarkProgress:s.progress,lastOpened:new Date};F.getInstance().saveBook(L)}});return()=>{if(u(),j(),N.current&&clearTimeout(N.current),T.current){clearTimeout(T.current);const k={...l,lastTokenIndex:s.position,bookmarkProgress:s.progress,lastOpened:new Date};F.getInstance().saveBook(k)}}},[l.id]),c.useEffect(()=>()=>s.stop(),[]);const z=c.useCallback(()=>{s.stop(),n(l.id,s.position,s.progress)},[l.id,n]),B=c.useCallback(()=>{C.impactMedium(),s.toggle()},[]),V=c.useCallback(()=>{C.impactLight(),s.skipBack(50)},[]),v=c.useCallback(u=>{C.impactLight();const j=Math.max(100,Math.min(800,m+u));s.wpm=j,p(j),o({rsvpSpeed:j,hasCustomSpeed:!0})},[m,o]),D=c.useCallback(()=>{C.impactLight();const u=!b;H(u),o({showGhostPreview:u})},[b,o]),A=c.useCallback(()=>{C.impactLight();const u=J.getInstance(),j=u.mode,k=j==="Night"?"Modern":j==="Modern"?"Sepia":"Night";u.setMode(k)},[]),U=c.useCallback(()=>{N.current&&clearTimeout(N.current),r(u=>!u),R(!1)},[]),q=c.useCallback(u=>{s.progress=parseFloat(u.target.value)},[]),$=c.useCallback(u=>{C.impactLight();const j=Math.max(14,Math.min(32,a.fontSize+u));o({fontSize:j})},[a.fontSize,o]);c.useEffect(()=>{const u=()=>{h?s.stop():z()};return window.addEventListener("popstate",u),()=>window.removeEventListener("popstate",u)},[h,z]);const O=J.getInstance(),_=O.mode==="Night"?se:O.mode==="Sepia"?ne:ae;return t.jsxs("div",{className:"fixed inset-0 z-50 w-full h-[100dvh] overflow-hidden",style:{backgroundColor:e.background},children:[t.jsx(fe,{book:l,onToggleChrome:U,isActive:!0,showGhostWords:b}),t.jsx("div",{className:"fixed left-0 right-0 z-[60] flex justify-center pointer-events-none",style:{bottom:"max(20px, env(safe-area-inset-bottom))"},children:t.jsxs("div",{className:`pointer-events-auto shadow-xl backdrop-blur-2xl border flex flex-col rounded-2xl overflow-hidden transition-all duration-300 ease-out ${i?"translate-y-0 opacity-100":"translate-y-4 opacity-0"}`,style:{backgroundColor:e.surface+"f0",borderColor:e.borderColor,maxWidth:"420px",width:"calc(100% - 24px)"},children:[t.jsxs("div",{className:"px-4 pt-3 pb-1",children:[t.jsx("input",{type:"range",min:"0",max:"1",step:"0.0001",value:d,onChange:q,className:"w-full h-1.5 rounded-full appearance-none cursor-pointer touch-pan-x",style:{background:`linear-gradient(to right, ${e.accent} ${d*100}%, ${e.borderColor} ${d*100}%)`}}),t.jsxs("div",{className:"flex justify-between mt-1.5 px-0.5",children:[t.jsx("span",{className:"text-[10px] tabular-nums",style:{color:e.secondaryText,opacity:.6},children:d<.1?"ðŸŒ± just starting":d<.25?`${Math.round(d*100)}% ðŸŒ¿`:d<.5?`${Math.round(d*100)}% ðŸ“– nice pace`:d<.75?`${Math.round(d*100)}% âœ¨ halfway!`:d<.9?`${Math.round(d*100)}% ðŸ”¥ almost there`:`${Math.round(d*100)}% ðŸŽ¯ so close!`}),t.jsxs("span",{className:"text-[10px] tabular-nums",style:{color:e.secondaryText,opacity:.6},children:["~",Math.round((1-d)*s.total/Math.max(1,m)),"m left"]})]})]}),t.jsxs("div",{className:"flex items-center gap-1 px-1.5 pb-2",children:[t.jsx("button",{onClick:V,className:"w-9 h-9 rounded-xl flex items-center justify-center hover:bg-black/5 transition-colors active:scale-90",style:{color:e.secondaryText},"aria-label":"Rewind",children:t.jsx(re,{size:18})}),t.jsx("div",{className:"w-px h-5",style:{backgroundColor:e.borderColor}}),t.jsx("button",{onClick:()=>v(-25),className:"w-8 h-9 rounded-xl flex items-center justify-center hover:bg-black/5 transition-colors active:scale-90",style:{color:e.secondaryText},"aria-label":"Slower",children:t.jsx(oe,{size:16})}),t.jsxs("div",{className:"h-9 px-2 rounded-xl flex items-center justify-center gap-1 min-w-[70px]",style:{backgroundColor:`${e.primaryText}06`},children:[t.jsx("span",{className:"text-sm font-bold tabular-nums",style:{color:e.primaryText},children:m}),t.jsx("span",{className:"text-[10px] lowercase opacity-50",style:{color:e.secondaryText},children:"wpm"})]}),t.jsx("button",{onClick:()=>v(25),className:"w-8 h-9 rounded-xl flex items-center justify-center hover:bg-black/5 transition-colors active:scale-90",style:{color:e.secondaryText},"aria-label":"Faster",children:t.jsx(ie,{size:16})}),t.jsx("div",{className:"w-px h-5",style:{backgroundColor:e.borderColor}}),t.jsx("button",{onClick:B,className:"flex-1 flex items-center justify-center gap-1.5 h-9 rounded-xl font-semibold text-white shadow-md active:scale-[0.97] transition-all duration-150 text-sm hover:brightness-105",style:{backgroundColor:e.accent,minWidth:"80px"},"aria-label":h?"Pause":"Play",children:h?t.jsxs(t.Fragment,{children:[t.jsx(le,{size:16})," ",t.jsx("span",{className:"lowercase",children:"pause"})]}):t.jsxs(t.Fragment,{children:[t.jsx(ce,{size:16,className:"ml-0.5"})," ",t.jsx("span",{className:"lowercase",children:"flow~"})]})}),t.jsx("div",{className:"w-px h-5",style:{backgroundColor:e.borderColor}}),t.jsx("button",{onClick:D,className:`w-9 h-9 rounded-xl flex items-center justify-center transition-colors active:scale-90 ${b?"":"opacity-40"}`,style:{backgroundColor:b?`${e.accent}15`:"transparent",color:b?e.accent:e.secondaryText},"aria-label":"Toggle context",children:b?t.jsx(de,{size:17}):t.jsx(he,{size:17})}),t.jsx("button",{onClick:A,className:"w-9 h-9 rounded-xl flex items-center justify-center hover:bg-black/5 transition-colors active:scale-90",style:{color:e.secondaryText},"aria-label":"Toggle theme",children:t.jsx(_,{size:17})}),t.jsx("button",{onClick:()=>R(u=>!u),className:"w-9 h-9 rounded-xl flex items-center justify-center transition-colors active:scale-90",style:{backgroundColor:M?`${e.accent}15`:"transparent",color:M?e.accent:e.secondaryText},"aria-label":"Text size",children:t.jsx(pe,{size:17})})]}),M&&t.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-t",style:{borderColor:e.borderColor},children:[t.jsx("span",{className:"text-xs lowercase",style:{color:e.secondaryText},children:"text size"}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>$(-2),className:"w-9 h-9 rounded-xl flex items-center justify-center active:scale-90 transition-transform",style:{backgroundColor:`${e.primaryText}06`,color:e.primaryText},children:t.jsx("span",{className:"text-sm",children:"A"})}),t.jsx("span",{className:"text-sm font-semibold w-8 text-center tabular-nums",style:{color:e.primaryText},children:a.fontSize}),t.jsx("button",{onClick:()=>$(2),className:"w-9 h-9 rounded-xl flex items-center justify-center active:scale-90 transition-transform",style:{backgroundColor:`${e.primaryText}06`,color:e.primaryText},children:t.jsx("span",{className:"text-lg",children:"A"})})]})]})]})}),t.jsx("div",{className:`fixed top-0 left-0 right-0 z-[60] transition-all duration-300 ease-out ${i?"translate-y-0 opacity-100":"-translate-y-full opacity-0 pointer-events-none"}`,children:t.jsx("div",{className:"backdrop-blur-2xl border-b",style:{backgroundColor:`${e.surface}e8`,borderColor:e.borderColor,paddingTop:"max(12px, env(safe-area-inset-top))"},children:t.jsxs("div",{className:"flex items-center px-4 pb-3",children:[t.jsx("button",{onClick:z,className:"w-10 h-10 rounded-full flex items-center justify-center transition-all active:scale-90",style:{backgroundColor:`${e.primaryText}08`,color:e.primaryText},"aria-label":"Back",children:t.jsx(ue,{size:22})}),t.jsxs("div",{className:"flex-1 mx-3 text-center",children:[t.jsx("h1",{className:"text-sm font-semibold truncate",style:{color:e.primaryText},children:l.title}),t.jsx("p",{className:"text-[10px] opacity-50 truncate",style:{color:e.secondaryText},children:l.author})]}),t.jsx("div",{className:"w-10"})]})})}),t.jsx("style",{children:`
        input[type="range"] {
          -webkit-appearance: none;
          appearance: none;
        }
        input[type="range"]::-webkit-slider-thumb {
          -webkit-appearance: none;
          width: 14px;
          height: 14px;
          border-radius: 50%;
          background: ${e.accent};
          cursor: pointer;
          box-shadow: 0 1px 4px rgba(0,0,0,0.2);
        }
        input[type="range"]::-moz-range-thumb {
          width: 14px;
          height: 14px;
          border-radius: 50%;
          background: ${e.accent};
          cursor: pointer;
          box-shadow: 0 1px 4px rgba(0,0,0,0.2);
          border: none;
        }
      `})]})};export{Te as ReaderContainer};
