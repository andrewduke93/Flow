import{r as p,j as e}from"./animations-D9Wo9mUM.js";import{u as h}from"./index-CDHQtW_H.js";import{R as n}from"./rsvp-eqVIbU96.js";import{B as u,H as g,r as j,T as b,G as y,C as v,I as N}from"./icons-B3aCiBot.js";import"./vendor-react-uIRdnfX0.js";import"./cloud-Be3Yh6fZ.js";const H=({book:s,onClose:i,onOpen:o,onToggleFavorite:d,onToggleRead:x,onDelete:m})=>{const t=h(),a=p.useRef(0),c=r=>{const l=Date.now();l-a.current<300||(a.current=l,n.impactLight(),r())},f=s.tintColorHex||"#333";return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6 perspective-[2000px]",children:[e.jsx("div",{onClick:i,className:"absolute inset-0 bg-black/60 backdrop-blur-md",style:{animation:"fadeIn 400ms cubic-bezier(0.16, 1, 0.3, 1)"}}),e.jsxs("div",{className:"relative w-full max-w-sm bg-white rounded-3xl shadow-2xl overflow-hidden flex flex-col origin-left z-50 max-h-[90vh]",style:{backgroundColor:t.surface,animation:"slideUp 500ms cubic-bezier(0.16, 1, 0.3, 1)"},children:[e.jsxs("div",{className:"relative overflow-hidden flex items-center justify-center p-8 min-h-[280px]",style:{backgroundColor:s.tintColorHex?`${s.tintColorHex}08`:"#f5f5f7"},children:[e.jsx("div",{className:"relative w-36 h-52 shadow-[0_16px_40px_rgba(0,0,0,0.25)] rounded-sm",style:{animation:"fadeIn 400ms cubic-bezier(0.16, 1, 0.3, 1) 100ms both"},children:s.coverUrl?e.jsx("img",{src:s.coverUrl,className:"w-full h-full object-cover rounded-sm",alt:s.title}):e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-6 text-center border-[6px] border-double",style:{backgroundColor:f,borderColor:"rgba(255,255,255,0.2)",color:"#FFF"},children:[e.jsx(u,{size:28,className:"mb-4 opacity-40"}),e.jsx("h2",{className:"font-serif font-black text-base leading-tight line-clamp-3",children:s.title})]})}),e.jsx("div",{className:"absolute inset-y-0 left-0 w-16 bg-gradient-to-r from-black/10 to-transparent pointer-events-none mix-blend-multiply"}),e.jsx("button",{onClick:r=>{r.stopPropagation(),d(s.id,!s.isFavorite)},className:"absolute top-6 right-6 p-3.5 rounded-full bg-black/10 backdrop-blur-md hover:bg-black/20 transition-all text-white z-50 shadow-lg active:scale-90",children:e.jsx(g,{size:22,fill:s.isFavorite?"#E25822":"none",stroke:s.isFavorite?"#E25822":"currentColor",className:"drop-shadow-sm"})})]}),e.jsxs("div",{className:"p-6 flex flex-col gap-5 border-t relative z-10",style:{backgroundColor:t.surface,borderColor:t.borderColor},children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"font-serif font-bold text-2xl leading-tight lowercase tracking-tight",style:{color:t.primaryText},children:s.title}),e.jsx("p",{className:"font-sans text-xs font-medium opacity-40 mt-1.5",style:{color:t.secondaryText},children:s.author}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mt-6",children:[s.genre&&e.jsx("span",{className:"px-3 py-1 rounded-full text-[9px] font-bold uppercase tracking-widest",style:{backgroundColor:`${t.accent}15`,color:t.accent,border:`1px solid ${t.accent}20`},children:s.genre}),s.tags?.slice(0,3).map((r,l)=>e.jsx("span",{className:"px-3 py-1 rounded-full text-[9px] font-bold opacity-30 border border-current uppercase tracking-tighter",style:{color:t.primaryText},children:r.toLowerCase()},l))]}),s.description&&e.jsx("div",{className:"mt-5 text-left max-h-24 overflow-y-auto px-1 custom-scrollbar",children:e.jsxs("p",{className:"text-xs leading-relaxed opacity-60 italic",style:{color:t.secondaryText},children:['"',s.description,'"']})})]}),e.jsxs("button",{onClick:()=>c(()=>o(s)),className:"h-12 w-full rounded-xl flex items-center justify-center gap-2 font-semibold text-white shadow-lg active:scale-[0.98] transition-transform",style:{backgroundColor:t.accent},children:[e.jsx(j,{size:16,fill:"currentColor"}),e.jsx("span",{className:"lowercase text-base",children:"start reading"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 divide-x border-t",style:{borderColor:t.borderColor,color:t.secondaryText},children:[e.jsxs("button",{onClick:()=>{n.impactMedium(),confirm("Delete this book?")&&(m(s.id),i())},className:"h-14 flex items-center justify-center gap-1.5 hover:bg-red-500/10 transition-colors text-red-400 hover:text-red-500",children:[e.jsx(b,{size:16}),e.jsx("span",{className:"text-xs font-medium",children:"delete"})]}),e.jsxs("button",{onClick:()=>c(()=>x(s.id,!s.isFinished)),className:"h-14 flex items-center justify-center gap-1.5 hover:bg-black/5 transition-colors",style:{color:s.isFinished?"#10b981":t.secondaryText},children:[s.isFinished?e.jsx(y,{size:16}):e.jsx(v,{size:16}),e.jsx("span",{className:"text-xs font-medium",children:s.isFinished?"read":"mark read"})]}),e.jsxs("button",{onClick:i,className:"h-12 flex items-center justify-center gap-1.5 hover:bg-black/5 transition-colors",children:[e.jsx(N,{size:16}),e.jsx("span",{className:"text-xs font-medium",children:"back"})]})]})]})]})};export{H as BookDetailModal};
